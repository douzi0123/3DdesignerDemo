var aR=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var jde=aR((Ui,Vi)=>{(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&i(u)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function i(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();/**
* @vue/shared v3.4.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**//*! #__NO_SIDE_EFFECTS__ */function cv(t,e){const n=new Set(t.split(","));return e?i=>n.has(i.toLowerCase()):i=>n.has(i)}const _n={},ul=[],Gt=()=>{},lR=()=>!1,mh=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),uv=t=>t.startsWith("onUpdate:"),On=Object.assign,dv=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},cR=Object.prototype.hasOwnProperty,kt=(t,e)=>cR.call(t,e),qe=Array.isArray,dl=t=>Vu(t)==="[object Map]",gh=t=>Vu(t)==="[object Set]",oa=t=>Vu(t)==="[object Date]",at=t=>typeof t=="function",ct=t=>typeof t=="string",hs=t=>typeof t=="symbol",bt=t=>t!==null&&typeof t=="object",ou=t=>(bt(t)||at(t))&&at(t.then)&&at(t.catch),e1=Object.prototype.toString,Vu=t=>e1.call(t),af=t=>Vu(t).slice(8,-1),Uf=t=>Vu(t)==="[object Object]",fv=t=>ct(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,$c=cv(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),vh=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},uR=/-(\w)/g,nr=vh(t=>t.replace(uR,(e,n)=>n?n.toUpperCase():"")),dR=/\B([A-Z])/g,mo=vh(t=>t.replace(dR,"-$1").toLowerCase()),$u=vh(t=>t.charAt(0).toUpperCase()+t.slice(1)),lf=vh(t=>t?`on${$u(t)}`:""),oo=(t,e)=>!Object.is(t,e),cf=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},t1=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},Mm=t=>{const e=parseFloat(t);return isNaN(e)?t:e},fR=t=>{const e=ct(t)?Number(t):NaN;return isNaN(e)?t:e};let ky;const n1=()=>ky||(ky=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qe(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++){const i=t[n],r=ct(i)?gR(i):Qe(i);if(r)for(const a in r)e[a]=r[a]}return e}else if(ct(t)||bt(t))return t}const hR=/;(?![^(]*\))/g,pR=/:([^]+)/,mR=/\/\*[^]*?\*\//g;function gR(t){const e={};return t.replace(mR,"").split(hR).forEach(n=>{if(n){const i=n.split(pR);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function F(t){let e="";if(ct(t))e=t;else if(qe(t))for(let n=0;n<t.length;n++){const i=F(t[n]);i&&(e+=i+" ")}else if(bt(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}function ss(t){if(!t)return null;let{class:e,style:n}=t;return e&&!ct(e)&&(t.class=F(e)),n&&(t.style=Qe(n)),t}const vR="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",yR=cv(vR);function i1(t){return!!t||t===""}function bR(t,e){if(t.length!==e.length)return!1;let n=!0;for(let i=0;n&&i<t.length;i++)n=xl(t[i],e[i]);return n}function xl(t,e){if(t===e)return!0;let n=oa(t),i=oa(e);if(n||i)return n&&i?t.getTime()===e.getTime():!1;if(n=hs(t),i=hs(e),n||i)return t===e;if(n=qe(t),i=qe(e),n||i)return n&&i?bR(t,e):!1;if(n=bt(t),i=bt(e),n||i){if(!n||!i)return!1;const r=Object.keys(t).length,a=Object.keys(e).length;if(r!==a)return!1;for(const u in t){const s=t.hasOwnProperty(u),o=e.hasOwnProperty(u);if(s&&!o||!s&&o||!xl(t[u],e[u]))return!1}}return String(t)===String(e)}function r1(t,e){return t.findIndex(n=>xl(n,e))}const je=t=>ct(t)?t:t==null?"":qe(t)||bt(t)&&(t.toString===e1||!at(t.toString))?JSON.stringify(t,s1,2):String(t),s1=(t,e)=>e&&e.__v_isRef?s1(t,e.value):dl(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[i,r],a)=>(n[cp(i,a)+" =>"]=r,n),{})}:gh(e)?{[`Set(${e.size})`]:[...e.values()].map(n=>cp(n))}:hs(e)?cp(e):bt(e)&&!qe(e)&&!Uf(e)?String(e):e,cp=(t,e="")=>{var n;return hs(t)?`Symbol(${(n=t.description)!=null?n:e})`:t};/**
* @vue/reactivity v3.4.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ni;class o1{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Ni,!e&&Ni&&(this.index=(Ni.scopes||(Ni.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Ni;try{return Ni=this,e()}finally{Ni=n}}}on(){Ni=this}off(){Ni=this.parent}stop(e){if(this._active){let n,i;for(n=0,i=this.effects.length;n<i;n++)this.effects[n].stop();for(n=0,i=this.cleanups.length;n<i;n++)this.cleanups[n]();if(this.scopes)for(n=0,i=this.scopes.length;n<i;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function _R(t){return new o1(t)}function SR(t,e=Ni){e&&e.active&&e.effects.push(t)}function a1(){return Ni}function l1(t){Ni&&Ni.cleanups.push(t)}let Zo;class hv{constructor(e,n,i,r){this.fn=e,this.trigger=n,this.scheduler=i,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,SR(this,r)}get dirty(){if(this._dirtyLevel===2||this._dirtyLevel===3){this._dirtyLevel=1,go();for(let e=0;e<this._depsLength;e++){const n=this.deps[e];if(n.computed&&(wR(n.computed),this._dirtyLevel>=4))break}this._dirtyLevel===1&&(this._dirtyLevel=0),vo()}return this._dirtyLevel>=4}set dirty(e){this._dirtyLevel=e?4:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=to,n=Zo;try{return to=!0,Zo=this,this._runnings++,Ly(this),this.fn()}finally{Iy(this),this._runnings--,Zo=n,to=e}}stop(){var e;this.active&&(Ly(this),Iy(this),(e=this.onStop)==null||e.call(this),this.active=!1)}}function wR(t){return t.value}function Ly(t){t._trackId++,t._depsLength=0}function Iy(t){if(t.deps.length>t._depsLength){for(let e=t._depsLength;e<t.deps.length;e++)c1(t.deps[e],t);t.deps.length=t._depsLength}}function c1(t,e){const n=t.get(e);n!==void 0&&e._trackId!==n&&(t.delete(e),t.size===0&&t.cleanup())}let to=!0,Am=0;const u1=[];function go(){u1.push(to),to=!1}function vo(){const t=u1.pop();to=t===void 0?!0:t}function pv(){Am++}function mv(){for(Am--;!Am&&Rm.length;)Rm.shift()()}function d1(t,e,n){if(e.get(t)!==t._trackId){e.set(t,t._trackId);const i=t.deps[t._depsLength];i!==e?(i&&c1(i,t),t.deps[t._depsLength++]=e):t._depsLength++}}const Rm=[];function f1(t,e,n){pv();for(const i of t.keys()){let r;i._dirtyLevel<e&&(r??(r=t.get(i)===i._trackId))&&(i._shouldSchedule||(i._shouldSchedule=i._dirtyLevel===0),i._dirtyLevel=e),i._shouldSchedule&&(r??(r=t.get(i)===i._trackId))&&(i.trigger(),(!i._runnings||i.allowRecurse)&&i._dirtyLevel!==2&&(i._shouldSchedule=!1,i.scheduler&&Rm.push(i.scheduler)))}mv()}const h1=(t,e)=>{const n=new Map;return n.cleanup=t,n.computed=e,n},Vf=new WeakMap,Jo=Symbol(""),Pm=Symbol("");function Pi(t,e,n){if(to&&Zo){let i=Vf.get(t);i||Vf.set(t,i=new Map);let r=i.get(n);r||i.set(n,r=h1(()=>i.delete(n))),d1(Zo,r)}}function ls(t,e,n,i,r,a){const u=Vf.get(t);if(!u)return;let s=[];if(e==="clear")s=[...u.values()];else if(n==="length"&&qe(t)){const o=Number(i);u.forEach((c,f)=>{(f==="length"||!hs(f)&&f>=o)&&s.push(c)})}else switch(n!==void 0&&s.push(u.get(n)),e){case"add":qe(t)?fv(n)&&s.push(u.get("length")):(s.push(u.get(Jo)),dl(t)&&s.push(u.get(Pm)));break;case"delete":qe(t)||(s.push(u.get(Jo)),dl(t)&&s.push(u.get(Pm)));break;case"set":dl(t)&&s.push(u.get(Jo));break}pv();for(const o of s)o&&f1(o,4);mv()}function CR(t,e){var n;return(n=Vf.get(t))==null?void 0:n.get(e)}const xR=cv("__proto__,__v_isRef,__isVue"),p1=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(hs)),Dy=TR();function TR(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const i=jt(this);for(let a=0,u=this.length;a<u;a++)Pi(i,"get",a+"");const r=i[e](...n);return r===-1||r===!1?i[e](...n.map(jt)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){go(),pv();const i=jt(this)[e].apply(this,n);return mv(),vo(),i}}),t}function ER(t){hs(t)||(t=String(t));const e=jt(this);return Pi(e,"has",t),e.hasOwnProperty(t)}class m1{constructor(e=!1,n=!1){this._isReadonly=e,this._isShallow=n}get(e,n,i){const r=this._isReadonly,a=this._isShallow;if(n==="__v_isReactive")return!r;if(n==="__v_isReadonly")return r;if(n==="__v_isShallow")return a;if(n==="__v_raw")return i===(r?a?UR:b1:a?y1:v1).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const u=qe(e);if(!r){if(u&&kt(Dy,n))return Reflect.get(Dy,n,i);if(n==="hasOwnProperty")return ER}const s=Reflect.get(e,n,i);return(hs(n)?p1.has(n):xR(n))||(r||Pi(e,"get",n),a)?s:ln(s)?u&&fv(n)?s:s.value:bt(s)?r?Ql(s):$t(s):s}}class g1 extends m1{constructor(e=!1){super(!1,e)}set(e,n,i,r){let a=e[n];if(!this._isShallow){const o=au(a);if(!$f(i)&&!au(i)&&(a=jt(a),i=jt(i)),!qe(e)&&ln(a)&&!ln(i))return o?!1:(a.value=i,!0)}const u=qe(e)&&fv(n)?Number(n)<e.length:kt(e,n),s=Reflect.set(e,n,i,r);return e===jt(r)&&(u?oo(i,a)&&ls(e,"set",n,i):ls(e,"add",n,i)),s}deleteProperty(e,n){const i=kt(e,n);e[n];const r=Reflect.deleteProperty(e,n);return r&&i&&ls(e,"delete",n,void 0),r}has(e,n){const i=Reflect.has(e,n);return(!hs(n)||!p1.has(n))&&Pi(e,"has",n),i}ownKeys(e){return Pi(e,"iterate",qe(e)?"length":Jo),Reflect.ownKeys(e)}}class MR extends m1{constructor(e=!1){super(!0,e)}set(e,n){return!0}deleteProperty(e,n){return!0}}const AR=new g1,RR=new MR,PR=new g1(!0),gv=t=>t,yh=t=>Reflect.getPrototypeOf(t);function cd(t,e,n=!1,i=!1){t=t.__v_raw;const r=jt(t),a=jt(e);n||(oo(e,a)&&Pi(r,"get",e),Pi(r,"get",a));const{has:u}=yh(r),s=i?gv:n?bv:lu;if(u.call(r,e))return s(t.get(e));if(u.call(r,a))return s(t.get(a));t!==r&&t.get(e)}function ud(t,e=!1){const n=this.__v_raw,i=jt(n),r=jt(t);return e||(oo(t,r)&&Pi(i,"has",t),Pi(i,"has",r)),t===r?n.has(t):n.has(t)||n.has(r)}function dd(t,e=!1){return t=t.__v_raw,!e&&Pi(jt(t),"iterate",Jo),Reflect.get(t,"size",t)}function Ny(t){t=jt(t);const e=jt(this);return yh(e).has.call(e,t)||(e.add(t),ls(e,"add",t,t)),this}function Fy(t,e){e=jt(e);const n=jt(this),{has:i,get:r}=yh(n);let a=i.call(n,t);a||(t=jt(t),a=i.call(n,t));const u=r.call(n,t);return n.set(t,e),a?oo(e,u)&&ls(n,"set",t,e):ls(n,"add",t,e),this}function By(t){const e=jt(this),{has:n,get:i}=yh(e);let r=n.call(e,t);r||(t=jt(t),r=n.call(e,t)),i&&i.call(e,t);const a=e.delete(t);return r&&ls(e,"delete",t,void 0),a}function Uy(){const t=jt(this),e=t.size!==0,n=t.clear();return e&&ls(t,"clear",void 0,void 0),n}function fd(t,e){return function(i,r){const a=this,u=a.__v_raw,s=jt(u),o=e?gv:t?bv:lu;return!t&&Pi(s,"iterate",Jo),u.forEach((c,f)=>i.call(r,o(c),o(f),a))}}function hd(t,e,n){return function(...i){const r=this.__v_raw,a=jt(r),u=dl(a),s=t==="entries"||t===Symbol.iterator&&u,o=t==="keys"&&u,c=r[t](...i),f=n?gv:e?bv:lu;return!e&&Pi(a,"iterate",o?Pm:Jo),{next(){const{value:l,done:d}=c.next();return d?{value:l,done:d}:{value:s?[f(l[0]),f(l[1])]:f(l),done:d}},[Symbol.iterator](){return this}}}}function ks(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function OR(){const t={get(a){return cd(this,a)},get size(){return dd(this)},has:ud,add:Ny,set:Fy,delete:By,clear:Uy,forEach:fd(!1,!1)},e={get(a){return cd(this,a,!1,!0)},get size(){return dd(this)},has:ud,add:Ny,set:Fy,delete:By,clear:Uy,forEach:fd(!1,!0)},n={get(a){return cd(this,a,!0)},get size(){return dd(this,!0)},has(a){return ud.call(this,a,!0)},add:ks("add"),set:ks("set"),delete:ks("delete"),clear:ks("clear"),forEach:fd(!0,!1)},i={get(a){return cd(this,a,!0,!0)},get size(){return dd(this,!0)},has(a){return ud.call(this,a,!0)},add:ks("add"),set:ks("set"),delete:ks("delete"),clear:ks("clear"),forEach:fd(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(a=>{t[a]=hd(a,!1,!1),n[a]=hd(a,!0,!1),e[a]=hd(a,!1,!0),i[a]=hd(a,!0,!0)}),[t,n,e,i]}const[kR,LR,IR,DR]=OR();function vv(t,e){const n=e?t?DR:IR:t?LR:kR;return(i,r,a)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?i:Reflect.get(kt(n,r)&&r in i?n:i,r,a)}const NR={get:vv(!1,!1)},FR={get:vv(!1,!0)},BR={get:vv(!0,!1)},v1=new WeakMap,y1=new WeakMap,b1=new WeakMap,UR=new WeakMap;function VR(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function $R(t){return t.__v_skip||!Object.isExtensible(t)?0:VR(af(t))}function $t(t){return au(t)?t:yv(t,!1,AR,NR,v1)}function _1(t){return yv(t,!1,PR,FR,y1)}function Ql(t){return yv(t,!0,RR,BR,b1)}function yv(t,e,n,i,r){if(!bt(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const a=r.get(t);if(a)return a;const u=$R(t);if(u===0)return t;const s=new Proxy(t,u===2?i:n);return r.set(t,s),s}function Hc(t){return au(t)?Hc(t.__v_raw):!!(t&&t.__v_isReactive)}function au(t){return!!(t&&t.__v_isReadonly)}function $f(t){return!!(t&&t.__v_isShallow)}function S1(t){return t?!!t.__v_raw:!1}function jt(t){const e=t&&t.__v_raw;return e?jt(e):t}function fl(t){return Object.isExtensible(t)&&t1(t,"__v_skip",!0),t}const lu=t=>bt(t)?$t(t):t,bv=t=>bt(t)?Ql(t):t;class w1{constructor(e,n,i,r){this.getter=e,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new hv(()=>e(this._value),()=>zc(this,this.effect._dirtyLevel===2?2:3)),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=i}get value(){const e=jt(this);return(!e._cacheable||e.effect.dirty)&&oo(e._value,e._value=e.effect.run())&&zc(e,4),_v(e),e.effect._dirtyLevel>=2&&zc(e,2),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}}function C1(t,e,n=!1){let i,r;const a=at(t);return a?(i=t,r=Gt):(i=t.get,r=t.set),new w1(i,r,a||!r,n)}function _v(t){var e;to&&Zo&&(t=jt(t),d1(Zo,(e=t.dep)!=null?e:t.dep=h1(()=>t.dep=void 0,t instanceof w1?t:void 0)))}function zc(t,e=4,n){t=jt(t);const i=t.dep;i&&f1(i,e)}function ln(t){return!!(t&&t.__v_isRef===!0)}function Y(t){return x1(t,!1)}function an(t){return x1(t,!0)}function x1(t,e){return ln(t)?t:new HR(t,e)}class HR{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:jt(e),this._value=n?e:lu(e)}get value(){return _v(this),this._value}set value(e){const n=this.__v_isShallow||$f(e)||au(e);e=n?e:jt(e),oo(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:lu(e),zc(this,4))}}function y(t){return ln(t)?t.value:t}const zR={get:(t,e,n)=>y(Reflect.get(t,e,n)),set:(t,e,n,i)=>{const r=t[e];return ln(r)&&!ln(n)?(r.value=n,!0):Reflect.set(t,e,n,i)}};function T1(t){return Hc(t)?t:new Proxy(t,zR)}class WR{constructor(e){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:i}=e(()=>_v(this),()=>zc(this));this._get=n,this._set=i}get value(){return this._get()}set value(e){this._set(e)}}function GR(t){return new WR(t)}function Wn(t){const e=qe(t)?new Array(t.length):{};for(const n in t)e[n]=E1(t,n);return e}class jR{constructor(e,n,i){this._object=e,this._key=n,this._defaultValue=i,this.__v_isRef=!0}get value(){const e=this._object[this._key];return e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return CR(jt(this._object),this._key)}}class XR{constructor(e){this._getter=e,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Zt(t,e,n){return ln(t)?t:at(t)?new XR(t):bt(t)&&arguments.length>1?E1(t,e,n):Y(t)}function E1(t,e,n){const i=t[e];return ln(i)?i:new jR(t,e,n)}/**
* @vue/runtime-core v3.4.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function no(t,e,n,i){try{return i?t(...i):t()}catch(r){bh(r,e,n)}}function Qi(t,e,n,i){if(at(t)){const r=no(t,e,n,i);return r&&ou(r)&&r.catch(a=>{bh(a,e,n)}),r}if(qe(t)){const r=[];for(let a=0;a<t.length;a++)r.push(Qi(t[a],e,n,i));return r}}function bh(t,e,n,i=!0){const r=e?e.vnode:null;if(e){let a=e.parent;const u=e.proxy,s=`https://vuejs.org/error-reference/#runtime-${n}`;for(;a;){const c=a.ec;if(c){for(let f=0;f<c.length;f++)if(c[f](t,u,s)===!1)return}a=a.parent}const o=e.appContext.config.errorHandler;if(o){go(),no(o,null,10,[t,u,s]),vo();return}}KR(t,n,r,i)}function KR(t,e,n,i=!0){console.error(t)}let cu=!1,Om=!1;const ii=[];let Lr=0;const hl=[];let Gs=null,No=0;const M1=Promise.resolve();let Sv=null;function it(t){const e=Sv||M1;return t?e.then(this?t.bind(this):t):e}function YR(t){let e=Lr+1,n=ii.length;for(;e<n;){const i=e+n>>>1,r=ii[i],a=uu(r);a<t||a===t&&r.pre?e=i+1:n=i}return e}function wv(t){(!ii.length||!ii.includes(t,cu&&t.allowRecurse?Lr+1:Lr))&&(t.id==null?ii.push(t):ii.splice(YR(t.id),0,t),A1())}function A1(){!cu&&!Om&&(Om=!0,Sv=M1.then(P1))}function qR(t){const e=ii.indexOf(t);e>Lr&&ii.splice(e,1)}function ZR(t){qe(t)?hl.push(...t):(!Gs||!Gs.includes(t,t.allowRecurse?No+1:No))&&hl.push(t),A1()}function Vy(t,e,n=cu?Lr+1:0){for(;n<ii.length;n++){const i=ii[n];if(i&&i.pre){if(t&&i.id!==t.uid)continue;ii.splice(n,1),n--,i()}}}function R1(t){if(hl.length){const e=[...new Set(hl)].sort((n,i)=>uu(n)-uu(i));if(hl.length=0,Gs){Gs.push(...e);return}for(Gs=e,No=0;No<Gs.length;No++)Gs[No]();Gs=null,No=0}}const uu=t=>t.id==null?1/0:t.id,JR=(t,e)=>{const n=uu(t)-uu(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function P1(t){Om=!1,cu=!0,ii.sort(JR);try{for(Lr=0;Lr<ii.length;Lr++){const e=ii[Lr];e&&e.active!==!1&&no(e,null,14)}}finally{Lr=0,ii.length=0,R1(),cu=!1,Sv=null,(ii.length||hl.length)&&P1()}}function QR(t,e,...n){if(t.isUnmounted)return;const i=t.vnode.props||_n;let r=n;const a=e.startsWith("update:"),u=a&&e.slice(7);if(u&&u in i){const f=`${u==="modelValue"?"model":u}Modifiers`,{number:l,trim:d}=i[f]||_n;d&&(r=n.map(h=>ct(h)?h.trim():h)),l&&(r=n.map(Mm))}let s,o=i[s=lf(e)]||i[s=lf(nr(e))];!o&&a&&(o=i[s=lf(mo(e))]),o&&Qi(o,t,6,r);const c=i[s+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[s])return;t.emitted[s]=!0,Qi(c,t,6,r)}}function O1(t,e,n=!1){const i=e.emitsCache,r=i.get(t);if(r!==void 0)return r;const a=t.emits;let u={},s=!1;if(!at(t)){const o=c=>{const f=O1(c,e,!0);f&&(s=!0,On(u,f))};!n&&e.mixins.length&&e.mixins.forEach(o),t.extends&&o(t.extends),t.mixins&&t.mixins.forEach(o)}return!a&&!s?(bt(t)&&i.set(t,null),null):(qe(a)?a.forEach(o=>u[o]=null):On(u,a),bt(t)&&i.set(t,u),u)}function _h(t,e){return!t||!mh(e)?!1:(e=e.slice(2).replace(/Once$/,""),kt(t,e[0].toLowerCase()+e.slice(1))||kt(t,mo(e))||kt(t,e))}let Ln=null,Sh=null;function Hf(t){const e=Ln;return Ln=t,Sh=t&&t.type.__scopeId||null,e}function eP(t){Sh=t}function tP(){Sh=null}function ve(t,e=Ln,n){if(!e||t._n)return t;const i=(...r)=>{i._d&&eb(-1);const a=Hf(e);let u;try{u=t(...r)}finally{Hf(a),i._d&&eb(1)}return u};return i._n=!0,i._c=!0,i._d=!0,i}function up(t){const{type:e,vnode:n,proxy:i,withProxy:r,props:a,propsOptions:[u],slots:s,attrs:o,emit:c,render:f,renderCache:l,data:d,setupState:h,ctx:p,inheritAttrs:g}=t;let m,v;const b=Hf(t);try{if(n.shapeFlag&4){const S=r||i,w=S;m=Or(f.call(w,S,l,a,h,d,p)),v=o}else{const S=e;m=Or(S.length>1?S(a,{attrs:o,slots:s,emit:c}):S(a,null)),v=e.props?o:nP(o)}}catch(S){Kc.length=0,bh(S,t,1),m=oe(gi)}let _=m;if(v&&g!==!1){const S=Object.keys(v),{shapeFlag:w}=_;S.length&&w&7&&(u&&S.some(uv)&&(v=iP(v,u)),_=ms(_,v))}return n.dirs&&(_=ms(_),_.dirs=_.dirs?_.dirs.concat(n.dirs):n.dirs),n.transition&&(_.transition=n.transition),m=_,Hf(b),m}const nP=t=>{let e;for(const n in t)(n==="class"||n==="style"||mh(n))&&((e||(e={}))[n]=t[n]);return e},iP=(t,e)=>{const n={};for(const i in t)(!uv(i)||!(i.slice(9)in e))&&(n[i]=t[i]);return n};function rP(t,e,n){const{props:i,children:r,component:a}=t,{props:u,children:s,patchFlag:o}=e,c=a.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&o>=0){if(o&1024)return!0;if(o&16)return i?$y(i,u,c):!!u;if(o&8){const f=e.dynamicProps;for(let l=0;l<f.length;l++){const d=f[l];if(u[d]!==i[d]&&!_h(c,d))return!0}}}else return(r||s)&&(!s||!s.$stable)?!0:i===u?!1:i?u?$y(i,u,c):!0:!!u;return!1}function $y(t,e,n){const i=Object.keys(e);if(i.length!==Object.keys(t).length)return!0;for(let r=0;r<i.length;r++){const a=i[r];if(e[a]!==t[a]&&!_h(n,a))return!0}return!1}function sP({vnode:t,parent:e},n){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===t&&(i.el=t.el),i===t)(t=e.vnode).el=n,e=e.parent;else break}}const Cv="components",oP="directives";function pt(t,e){return xv(Cv,t,!0,e)||t}const k1=Symbol.for("v-ndc");function wt(t){return ct(t)?xv(Cv,t,!1)||t:t||k1}function wh(t){return xv(oP,t)}function xv(t,e,n=!0,i=!1){const r=Ln||Xn;if(r){const a=r.type;if(t===Cv){const s=YP(a,!1);if(s&&(s===e||s===nr(e)||s===$u(nr(e))))return a}const u=Hy(r[t]||a[t],e)||Hy(r.appContext[t],e);return!u&&i?a:u}}function Hy(t,e){return t&&(t[e]||t[nr(e)]||t[$u(nr(e))])}const aP=t=>t.__isSuspense;function lP(t,e){e&&e.pendingBranch?qe(t)?e.effects.push(...t):e.effects.push(t):ZR(t)}const cP=Symbol.for("v-scx"),uP=()=>Je(cP);function Yn(t,e){return Tv(t,null,e)}const pd={};function Be(t,e,n){return Tv(t,e,n)}function Tv(t,e,{immediate:n,deep:i,flush:r,once:a,onTrack:u,onTrigger:s}=_n){if(e&&a){const C=e;e=(...x)=>{C(...x),w()}}const o=Xn,c=C=>i===!0?C:$o(C,i===!1?1:void 0);let f,l=!1,d=!1;if(ln(t)?(f=()=>t.value,l=$f(t)):Hc(t)?(f=()=>c(t),l=!0):qe(t)?(d=!0,l=t.some(C=>Hc(C)||$f(C)),f=()=>t.map(C=>{if(ln(C))return C.value;if(Hc(C))return c(C);if(at(C))return no(C,o,2)})):at(t)?e?f=()=>no(t,o,2):f=()=>(h&&h(),Qi(t,o,3,[p])):f=Gt,e&&i){const C=f;f=()=>$o(C())}let h,p=C=>{h=_.onStop=()=>{no(C,o,4),h=_.onStop=void 0}},g;if(Eh)if(p=Gt,e?n&&Qi(e,o,3,[f(),d?[]:void 0,p]):f(),r==="sync"){const C=uP();g=C.__watcherHandles||(C.__watcherHandles=[])}else return Gt;let m=d?new Array(t.length).fill(pd):pd;const v=()=>{if(!(!_.active||!_.dirty))if(e){const C=_.run();(i||l||(d?C.some((x,M)=>oo(x,m[M])):oo(C,m)))&&(h&&h(),Qi(e,o,3,[C,m===pd?void 0:d&&m[0]===pd?[]:m,p]),m=C)}else _.run()};v.allowRecurse=!!e;let b;r==="sync"?b=v:r==="post"?b=()=>xi(v,o&&o.suspense):(v.pre=!0,o&&(v.id=o.uid),b=()=>wv(v));const _=new hv(f,Gt,b),S=a1(),w=()=>{_.stop(),S&&dv(S.effects,_)};return e?n?v():m=_.run():r==="post"?xi(_.run.bind(_),o&&o.suspense):_.run(),g&&g.push(w),w}function dP(t,e,n){const i=this.proxy,r=ct(t)?t.includes(".")?L1(i,t):()=>i[t]:t.bind(i,i);let a;at(e)?a=e:(a=e.handler,n=e);const u=Hu(this),s=Tv(r,a.bind(i),n);return u(),s}function L1(t,e){const n=e.split(".");return()=>{let i=t;for(let r=0;r<n.length&&i;r++)i=i[n[r]];return i}}function $o(t,e,n=0,i){if(!bt(t)||t.__v_skip)return t;if(e&&e>0){if(n>=e)return t;n++}if(i=i||new Set,i.has(t))return t;if(i.add(t),ln(t))$o(t.value,e,n,i);else if(qe(t))for(let r=0;r<t.length;r++)$o(t[r],e,n,i);else if(gh(t)||dl(t))t.forEach(r=>{$o(r,e,n,i)});else if(Uf(t))for(const r in t)$o(t[r],e,n,i);return t}function ft(t,e){if(Ln===null)return t;const n=Mh(Ln)||Ln.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[a,u,s,o=_n]=e[r];a&&(at(a)&&(a={mounted:a,updated:a}),a.deep&&$o(u),i.push({dir:a,instance:n,value:u,oldValue:void 0,arg:s,modifiers:o}))}return t}function To(t,e,n,i){const r=t.dirs,a=e&&e.dirs;for(let u=0;u<r.length;u++){const s=r[u];a&&(s.oldValue=a[u].value);let o=s.dir[i];o&&(go(),Qi(o,n,8,[t.el,s,t,e]),vo())}}const js=Symbol("_leaveCb"),md=Symbol("_enterCb");function I1(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return ht(()=>{t.isMounted=!0}),en(()=>{t.isUnmounting=!0}),t}const zi=[Function,Array],D1={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:zi,onEnter:zi,onAfterEnter:zi,onEnterCancelled:zi,onBeforeLeave:zi,onLeave:zi,onAfterLeave:zi,onLeaveCancelled:zi,onBeforeAppear:zi,onAppear:zi,onAfterAppear:zi,onAppearCancelled:zi},fP={name:"BaseTransition",props:D1,setup(t,{slots:e}){const n=mt(),i=I1();return()=>{const r=e.default&&Ev(e.default(),!0);if(!r||!r.length)return;let a=r[0];if(r.length>1){for(const d of r)if(d.type!==gi){a=d;break}}const u=jt(t),{mode:s}=u;if(i.isLeaving)return dp(a);const o=zy(a);if(!o)return dp(a);const c=du(o,u,i,n);fu(o,c);const f=n.subTree,l=f&&zy(f);if(l&&l.type!==gi&&!Fo(o,l)){const d=du(l,u,i,n);if(fu(l,d),s==="out-in")return i.isLeaving=!0,d.afterLeave=()=>{i.isLeaving=!1,n.update.active!==!1&&(n.effect.dirty=!0,n.update())},dp(a);s==="in-out"&&o.type!==gi&&(d.delayLeave=(h,p,g)=>{const m=N1(i,l);m[String(l.key)]=l,h[js]=()=>{p(),h[js]=void 0,delete c.delayedLeave},c.delayedLeave=g})}return a}}},hP=fP;function N1(t,e){const{leavingVNodes:n}=t;let i=n.get(e.type);return i||(i=Object.create(null),n.set(e.type,i)),i}function du(t,e,n,i){const{appear:r,mode:a,persisted:u=!1,onBeforeEnter:s,onEnter:o,onAfterEnter:c,onEnterCancelled:f,onBeforeLeave:l,onLeave:d,onAfterLeave:h,onLeaveCancelled:p,onBeforeAppear:g,onAppear:m,onAfterAppear:v,onAppearCancelled:b}=e,_=String(t.key),S=N1(n,t),w=(M,E)=>{M&&Qi(M,i,9,E)},C=(M,E)=>{const A=E[1];w(M,E),qe(M)?M.every(O=>O.length<=1)&&A():M.length<=1&&A()},x={mode:a,persisted:u,beforeEnter(M){let E=s;if(!n.isMounted)if(r)E=g||s;else return;M[js]&&M[js](!0);const A=S[_];A&&Fo(t,A)&&A.el[js]&&A.el[js](),w(E,[M])},enter(M){let E=o,A=c,O=f;if(!n.isMounted)if(r)E=m||o,A=v||c,O=b||f;else return;let I=!1;const $=M[md]=H=>{I||(I=!0,H?w(O,[M]):w(A,[M]),x.delayedLeave&&x.delayedLeave(),M[md]=void 0)};E?C(E,[M,$]):$()},leave(M,E){const A=String(t.key);if(M[md]&&M[md](!0),n.isUnmounting)return E();w(l,[M]);let O=!1;const I=M[js]=$=>{O||(O=!0,E(),$?w(p,[M]):w(h,[M]),M[js]=void 0,S[A]===t&&delete S[A])};S[A]=t,d?C(d,[M,I]):I()},clone(M){return du(M,e,n,i)}};return x}function dp(t){if(Ch(t))return t=ms(t),t.children=null,t}function zy(t){return Ch(t)?t.children?t.children[0]:void 0:t}function fu(t,e){t.shapeFlag&6&&t.component?fu(t.component.subTree,e):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function Ev(t,e=!1,n){let i=[],r=0;for(let a=0;a<t.length;a++){let u=t[a];const s=n==null?u.key:String(n)+String(u.key!=null?u.key:a);u.type===tt?(u.patchFlag&128&&r++,i=i.concat(Ev(u.children,e,s))):(e||u.type!==gi)&&i.push(s!=null?ms(u,{key:s}):u)}if(r>1)for(let a=0;a<i.length;a++)i[a].patchFlag=-2;return i}/*! #__NO_SIDE_EFFECTS__ */function se(t,e){return at(t)?On({name:t.name},e,{setup:t}):t}const Wc=t=>!!t.type.__asyncLoader,Ch=t=>t.type.__isKeepAlive;function pP(t,e){B1(t,"a",e)}function F1(t,e){B1(t,"da",e)}function B1(t,e,n=Xn){const i=t.__wdc||(t.__wdc=()=>{let r=n;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(xh(e,i,n),n){let r=n.parent;for(;r&&r.parent;)Ch(r.parent.vnode)&&mP(i,e,n,r),r=r.parent}}function mP(t,e,n,i){const r=xh(e,t,i,!0);yo(()=>{dv(i[e],r)},n)}function xh(t,e,n=Xn,i=!1){if(n){const r=n[t]||(n[t]=[]),a=e.__weh||(e.__weh=(...u)=>{if(n.isUnmounted)return;go();const s=Hu(n),o=Qi(e,n,t,u);return s(),vo(),o});return i?r.unshift(a):r.push(a),a}}const _s=t=>(e,n=Xn)=>(!Eh||t==="sp")&&xh(t,(...i)=>e(...i),n),Th=_s("bm"),ht=_s("m"),U1=_s("bu"),Ss=_s("u"),en=_s("bum"),yo=_s("um"),gP=_s("sp"),vP=_s("rtg"),yP=_s("rtc");function bP(t,e=Xn){xh("ec",t,e)}function Tt(t,e,n,i){let r;const a=n&&n[i];if(qe(t)||ct(t)){r=new Array(t.length);for(let u=0,s=t.length;u<s;u++)r[u]=e(t[u],u,void 0,a&&a[u])}else if(typeof t=="number"){r=new Array(t);for(let u=0;u<t;u++)r[u]=e(u+1,u,void 0,a&&a[u])}else if(bt(t))if(t[Symbol.iterator])r=Array.from(t,(u,s)=>e(u,s,void 0,a&&a[s]));else{const u=Object.keys(t);r=new Array(u.length);for(let s=0,o=u.length;s<o;s++){const c=u[s];r[s]=e(t[c],c,s,a&&a[s])}}else r=[];return n&&(n[i]=r),r}function ps(t,e){for(let n=0;n<e.length;n++){const i=e[n];if(qe(i))for(let r=0;r<i.length;r++)t[i[r].name]=i[r].fn;else i&&(t[i.name]=i.key?(...r)=>{const a=i.fn(...r);return a&&(a.key=i.key),a}:i.fn)}return t}function Le(t,e,n={},i,r){if(Ln.isCE||Ln.parent&&Wc(Ln.parent)&&Ln.parent.isCE)return e!=="default"&&(n.name=e),oe("slot",n,i&&i());let a=t[e];a&&a._c&&(a._d=!1),L();const u=a&&V1(a(n)),s=Pe(tt,{key:n.key||u&&u.key||`_${e}`},u||(i?i():[]),u&&t._===1?64:-2);return!r&&s.scopeId&&(s.slotScopeIds=[s.scopeId+"-s"]),a&&a._c&&(a._d=!0),s}function V1(t){return t.some(e=>un(e)?!(e.type===gi||e.type===tt&&!V1(e.children)):!0)?t:null}function _P(t,e){const n={};for(const i in t)n[e&&/[A-Z]/.test(i)?`on:${i}`:lf(i)]=t[i];return n}const km=t=>t?ex(t)?Mh(t)||t.proxy:km(t.parent):null,Gc=On(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>km(t.parent),$root:t=>km(t.root),$emit:t=>t.emit,$options:t=>Mv(t),$forceUpdate:t=>t.f||(t.f=()=>{t.effect.dirty=!0,wv(t.update)}),$nextTick:t=>t.n||(t.n=it.bind(t.proxy)),$watch:t=>dP.bind(t)}),fp=(t,e)=>t!==_n&&!t.__isScriptSetup&&kt(t,e),SP={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:n,setupState:i,data:r,props:a,accessCache:u,type:s,appContext:o}=t;let c;if(e[0]!=="$"){const h=u[e];if(h!==void 0)switch(h){case 1:return i[e];case 2:return r[e];case 4:return n[e];case 3:return a[e]}else{if(fp(i,e))return u[e]=1,i[e];if(r!==_n&&kt(r,e))return u[e]=2,r[e];if((c=t.propsOptions[0])&&kt(c,e))return u[e]=3,a[e];if(n!==_n&&kt(n,e))return u[e]=4,n[e];Lm&&(u[e]=0)}}const f=Gc[e];let l,d;if(f)return e==="$attrs"&&Pi(t,"get",e),f(t);if((l=s.__cssModules)&&(l=l[e]))return l;if(n!==_n&&kt(n,e))return u[e]=4,n[e];if(d=o.config.globalProperties,kt(d,e))return d[e]},set({_:t},e,n){const{data:i,setupState:r,ctx:a}=t;return fp(r,e)?(r[e]=n,!0):i!==_n&&kt(i,e)?(i[e]=n,!0):kt(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(a[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:i,appContext:r,propsOptions:a}},u){let s;return!!n[u]||t!==_n&&kt(t,u)||fp(e,u)||(s=a[0])&&kt(s,u)||kt(i,u)||kt(Gc,u)||kt(r.config.globalProperties,u)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:kt(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Un(){return $1().slots}function Sa(){return $1().attrs}function $1(){const t=mt();return t.setupContext||(t.setupContext=nx(t))}function Wy(t){return qe(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let Lm=!0;function wP(t){const e=Mv(t),n=t.proxy,i=t.ctx;Lm=!1,e.beforeCreate&&Gy(e.beforeCreate,t,"bc");const{data:r,computed:a,methods:u,watch:s,provide:o,inject:c,created:f,beforeMount:l,mounted:d,beforeUpdate:h,updated:p,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:b,destroyed:_,unmounted:S,render:w,renderTracked:C,renderTriggered:x,errorCaptured:M,serverPrefetch:E,expose:A,inheritAttrs:O,components:I,directives:$,filters:H}=e;if(c&&CP(c,i,null),u)for(const k in u){const D=u[k];at(D)&&(i[k]=D.bind(n))}if(r){const k=r.call(n,n);bt(k)&&(t.data=$t(k))}if(Lm=!0,a)for(const k in a){const D=a[k],T=at(D)?D.bind(n,n):at(D.get)?D.get.bind(n,n):Gt,R=!at(D)&&at(D.set)?D.set.bind(n):Gt,V=P({get:T,set:R});Object.defineProperty(i,k,{enumerable:!0,configurable:!0,get:()=>V.value,set:U=>V.value=U})}if(s)for(const k in s)H1(s[k],i,n,k);if(o){const k=at(o)?o.call(n):o;Reflect.ownKeys(k).forEach(D=>{Mt(D,k[D])})}f&&Gy(f,t,"c");function N(k,D){qe(D)?D.forEach(T=>k(T.bind(n))):D&&k(D.bind(n))}if(N(Th,l),N(ht,d),N(U1,h),N(Ss,p),N(pP,g),N(F1,m),N(bP,M),N(yP,C),N(vP,x),N(en,b),N(yo,S),N(gP,E),qe(A))if(A.length){const k=t.exposed||(t.exposed={});A.forEach(D=>{Object.defineProperty(k,D,{get:()=>n[D],set:T=>n[D]=T})})}else t.exposed||(t.exposed={});w&&t.render===Gt&&(t.render=w),O!=null&&(t.inheritAttrs=O),I&&(t.components=I),$&&(t.directives=$)}function CP(t,e,n=Gt){qe(t)&&(t=Im(t));for(const i in t){const r=t[i];let a;bt(r)?"default"in r?a=Je(r.from||i,r.default,!0):a=Je(r.from||i):a=Je(r),ln(a)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>a.value,set:u=>a.value=u}):e[i]=a}}function Gy(t,e,n){Qi(qe(t)?t.map(i=>i.bind(e.proxy)):t.bind(e.proxy),e,n)}function H1(t,e,n,i){const r=i.includes(".")?L1(n,i):()=>n[i];if(ct(t)){const a=e[t];at(a)&&Be(r,a)}else if(at(t))Be(r,t.bind(n));else if(bt(t))if(qe(t))t.forEach(a=>H1(a,e,n,i));else{const a=at(t.handler)?t.handler.bind(n):e[t.handler];at(a)&&Be(r,a,t)}}function Mv(t){const e=t.type,{mixins:n,extends:i}=e,{mixins:r,optionsCache:a,config:{optionMergeStrategies:u}}=t.appContext,s=a.get(e);let o;return s?o=s:!r.length&&!n&&!i?o=e:(o={},r.length&&r.forEach(c=>zf(o,c,u,!0)),zf(o,e,u)),bt(e)&&a.set(e,o),o}function zf(t,e,n,i=!1){const{mixins:r,extends:a}=e;a&&zf(t,a,n,!0),r&&r.forEach(u=>zf(t,u,n,!0));for(const u in e)if(!(i&&u==="expose")){const s=xP[u]||n&&n[u];t[u]=s?s(t[u],e[u]):e[u]}return t}const xP={data:jy,props:Xy,emits:Xy,methods:Nc,computed:Nc,beforeCreate:hi,created:hi,beforeMount:hi,mounted:hi,beforeUpdate:hi,updated:hi,beforeDestroy:hi,beforeUnmount:hi,destroyed:hi,unmounted:hi,activated:hi,deactivated:hi,errorCaptured:hi,serverPrefetch:hi,components:Nc,directives:Nc,watch:EP,provide:jy,inject:TP};function jy(t,e){return e?t?function(){return On(at(t)?t.call(this,this):t,at(e)?e.call(this,this):e)}:e:t}function TP(t,e){return Nc(Im(t),Im(e))}function Im(t){if(qe(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function hi(t,e){return t?[...new Set([].concat(t,e))]:e}function Nc(t,e){return t?On(Object.create(null),t,e):e}function Xy(t,e){return t?qe(t)&&qe(e)?[...new Set([...t,...e])]:On(Object.create(null),Wy(t),Wy(e??{})):e}function EP(t,e){if(!t)return e;if(!e)return t;const n=On(Object.create(null),t);for(const i in e)n[i]=hi(t[i],e[i]);return n}function z1(){return{app:null,config:{isNativeTag:lR,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let MP=0;function AP(t,e){return function(i,r=null){at(i)||(i=On({},i)),r!=null&&!bt(r)&&(r=null);const a=z1(),u=new WeakSet;let s=!1;const o=a.app={_uid:MP++,_component:i,_props:r,_container:null,_context:a,_instance:null,version:ZP,get config(){return a.config},set config(c){},use(c,...f){return u.has(c)||(c&&at(c.install)?(u.add(c),c.install(o,...f)):at(c)&&(u.add(c),c(o,...f))),o},mixin(c){return a.mixins.includes(c)||a.mixins.push(c),o},component(c,f){return f?(a.components[c]=f,o):a.components[c]},directive(c,f){return f?(a.directives[c]=f,o):a.directives[c]},mount(c,f,l){if(!s){const d=oe(i,r);return d.appContext=a,l===!0?l="svg":l===!1&&(l=void 0),f&&e?e(d,c):t(d,c,l),s=!0,o._container=c,c.__vue_app__=o,Mh(d.component)||d.component.proxy}},unmount(){s&&(t(null,o._container),delete o._container.__vue_app__)},provide(c,f){return a.provides[c]=f,o},runWithContext(c){const f=jc;jc=o;try{return c()}finally{jc=f}}};return o}}let jc=null;function Mt(t,e){if(Xn){let n=Xn.provides;const i=Xn.parent&&Xn.parent.provides;i===n&&(n=Xn.provides=Object.create(i)),n[t]=e}}function Je(t,e,n=!1){const i=Xn||Ln;if(i||jc){const r=i?i.parent==null?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:jc._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return n&&at(e)?e.call(i&&i.proxy):e}}const W1={};function RP(t,e,n,i=!1){const r={},a=Object.create(W1);t.propsDefaults=Object.create(null),G1(t,e,r,a);for(const u in t.propsOptions[0])u in r||(r[u]=void 0);n?t.props=i?r:_1(r):t.type.props?t.props=r:t.props=a,t.attrs=a}function PP(t,e,n,i){const{props:r,attrs:a,vnode:{patchFlag:u}}=t,s=jt(r),[o]=t.propsOptions;let c=!1;if((i||u>0)&&!(u&16)){if(u&8){const f=t.vnode.dynamicProps;for(let l=0;l<f.length;l++){let d=f[l];if(_h(t.emitsOptions,d))continue;const h=e[d];if(o)if(kt(a,d))h!==a[d]&&(a[d]=h,c=!0);else{const p=nr(d);r[p]=Dm(o,s,p,h,t,!1)}else h!==a[d]&&(a[d]=h,c=!0)}}}else{G1(t,e,r,a)&&(c=!0);let f;for(const l in s)(!e||!kt(e,l)&&((f=mo(l))===l||!kt(e,f)))&&(o?n&&(n[l]!==void 0||n[f]!==void 0)&&(r[l]=Dm(o,s,l,void 0,t,!0)):delete r[l]);if(a!==s)for(const l in a)(!e||!kt(e,l))&&(delete a[l],c=!0)}c&&ls(t.attrs,"set","")}function G1(t,e,n,i){const[r,a]=t.propsOptions;let u=!1,s;if(e)for(let o in e){if($c(o))continue;const c=e[o];let f;r&&kt(r,f=nr(o))?!a||!a.includes(f)?n[f]=c:(s||(s={}))[f]=c:_h(t.emitsOptions,o)||(!(o in i)||c!==i[o])&&(i[o]=c,u=!0)}if(a){const o=jt(n),c=s||_n;for(let f=0;f<a.length;f++){const l=a[f];n[l]=Dm(r,o,l,c[l],t,!kt(c,l))}}return u}function Dm(t,e,n,i,r,a){const u=t[n];if(u!=null){const s=kt(u,"default");if(s&&i===void 0){const o=u.default;if(u.type!==Function&&!u.skipFactory&&at(o)){const{propsDefaults:c}=r;if(n in c)i=c[n];else{const f=Hu(r);i=c[n]=o.call(null,e),f()}}else i=o}u[0]&&(a&&!s?i=!1:u[1]&&(i===""||i===mo(n))&&(i=!0))}return i}function j1(t,e,n=!1){const i=e.propsCache,r=i.get(t);if(r)return r;const a=t.props,u={},s=[];let o=!1;if(!at(t)){const f=l=>{o=!0;const[d,h]=j1(l,e,!0);On(u,d),h&&s.push(...h)};!n&&e.mixins.length&&e.mixins.forEach(f),t.extends&&f(t.extends),t.mixins&&t.mixins.forEach(f)}if(!a&&!o)return bt(t)&&i.set(t,ul),ul;if(qe(a))for(let f=0;f<a.length;f++){const l=nr(a[f]);Ky(l)&&(u[l]=_n)}else if(a)for(const f in a){const l=nr(f);if(Ky(l)){const d=a[f],h=u[l]=qe(d)||at(d)?{type:d}:On({},d);if(h){const p=Zy(Boolean,h.type),g=Zy(String,h.type);h[0]=p>-1,h[1]=g<0||p<g,(p>-1||kt(h,"default"))&&s.push(l)}}}const c=[u,s];return bt(t)&&i.set(t,c),c}function Ky(t){return t[0]!=="$"&&!$c(t)}function Yy(t){return t===null?"null":typeof t=="function"?t.name||"":typeof t=="object"&&t.constructor&&t.constructor.name||""}function qy(t,e){return Yy(t)===Yy(e)}function Zy(t,e){return qe(e)?e.findIndex(n=>qy(n,t)):at(e)&&qy(e,t)?0:-1}const X1=t=>t[0]==="_"||t==="$stable",Av=t=>qe(t)?t.map(Or):[Or(t)],OP=(t,e,n)=>{if(e._n)return e;const i=ve((...r)=>Av(e(...r)),n);return i._c=!1,i},K1=(t,e,n)=>{const i=t._ctx;for(const r in t){if(X1(r))continue;const a=t[r];if(at(a))e[r]=OP(r,a,i);else if(a!=null){const u=Av(a);e[r]=()=>u}}},Y1=(t,e)=>{const n=Av(e);t.slots.default=()=>n},kP=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=jt(e),t1(t.slots,"_",n)):K1(e,t.slots={})}else t.slots={},e&&Y1(t,e)},LP=(t,e,n)=>{const{vnode:i,slots:r}=t;let a=!0,u=_n;if(i.shapeFlag&32){const s=e._;s?n&&s===1?a=!1:(On(r,e),!n&&s===1&&delete r._):(a=!e.$stable,K1(e,r)),u=e}else e&&(Y1(t,e),u={default:1});if(a)for(const s in r)!X1(s)&&u[s]==null&&delete r[s]};function Nm(t,e,n,i,r=!1){if(qe(t)){t.forEach((d,h)=>Nm(d,e&&(qe(e)?e[h]:e),n,i,r));return}if(Wc(i)&&!r)return;const a=i.shapeFlag&4?Mh(i.component)||i.component.proxy:i.el,u=r?null:a,{i:s,r:o}=t,c=e&&e.r,f=s.refs===_n?s.refs={}:s.refs,l=s.setupState;if(c!=null&&c!==o&&(ct(c)?(f[c]=null,kt(l,c)&&(l[c]=null)):ln(c)&&(c.value=null)),at(o))no(o,s,12,[u,f]);else{const d=ct(o),h=ln(o);if(d||h){const p=()=>{if(t.f){const g=d?kt(l,o)?l[o]:f[o]:o.value;r?qe(g)&&dv(g,a):qe(g)?g.includes(a)||g.push(a):d?(f[o]=[a],kt(l,o)&&(l[o]=f[o])):(o.value=[a],t.k&&(f[t.k]=o.value))}else d?(f[o]=u,kt(l,o)&&(l[o]=u)):h&&(o.value=u,t.k&&(f[t.k]=u))};u?(p.id=-1,xi(p,n)):p()}}}const xi=lP;function IP(t){return DP(t)}function DP(t,e){const n=n1();n.__VUE__=!0;const{insert:i,remove:r,patchProp:a,createElement:u,createText:s,createComment:o,setText:c,setElementText:f,parentNode:l,nextSibling:d,setScopeId:h=Gt,insertStaticContent:p}=t,g=(q,J,ce,pe=null,re=null,he=null,Ce=void 0,Oe=null,ke=!!J.dynamicChildren)=>{if(q===J)return;q&&!Fo(q,J)&&(pe=z(q),U(q,re,he,!0),q=null),J.patchFlag===-2&&(ke=!1,J.dynamicChildren=null);const{type:G,ref:Z,shapeFlag:_e}=J;switch(G){case tc:m(q,J,ce,pe);break;case gi:v(q,J,ce,pe);break;case pp:q==null&&b(J,ce,pe,Ce);break;case tt:I(q,J,ce,pe,re,he,Ce,Oe,ke);break;default:_e&1?w(q,J,ce,pe,re,he,Ce,Oe,ke):_e&6?$(q,J,ce,pe,re,he,Ce,Oe,ke):(_e&64||_e&128)&&G.process(q,J,ce,pe,re,he,Ce,Oe,ke,ne)}Z!=null&&re&&Nm(Z,q&&q.ref,he,J||q,!J)},m=(q,J,ce,pe)=>{if(q==null)i(J.el=s(J.children),ce,pe);else{const re=J.el=q.el;J.children!==q.children&&c(re,J.children)}},v=(q,J,ce,pe)=>{q==null?i(J.el=o(J.children||""),ce,pe):J.el=q.el},b=(q,J,ce,pe)=>{[q.el,q.anchor]=p(q.children,J,ce,pe,q.el,q.anchor)},_=({el:q,anchor:J},ce,pe)=>{let re;for(;q&&q!==J;)re=d(q),i(q,ce,pe),q=re;i(J,ce,pe)},S=({el:q,anchor:J})=>{let ce;for(;q&&q!==J;)ce=d(q),r(q),q=ce;r(J)},w=(q,J,ce,pe,re,he,Ce,Oe,ke)=>{J.type==="svg"?Ce="svg":J.type==="math"&&(Ce="mathml"),q==null?C(J,ce,pe,re,he,Ce,Oe,ke):E(q,J,re,he,Ce,Oe,ke)},C=(q,J,ce,pe,re,he,Ce,Oe)=>{let ke,G;const{props:Z,shapeFlag:_e,transition:de,dirs:Re}=q;if(ke=q.el=u(q.type,he,Z&&Z.is,Z),_e&8?f(ke,q.children):_e&16&&M(q.children,ke,null,pe,re,hp(q,he),Ce,Oe),Re&&To(q,null,pe,"created"),x(ke,q,q.scopeId,Ce,pe),Z){for(const ye in Z)ye!=="value"&&!$c(ye)&&a(ke,ye,null,Z[ye],he,q.children,pe,re,K);"value"in Z&&a(ke,"value",null,Z.value,he),(G=Z.onVnodeBeforeMount)&&Rr(G,pe,q)}Re&&To(q,null,pe,"beforeMount");const Fe=NP(re,de);Fe&&de.beforeEnter(ke),i(ke,J,ce),((G=Z&&Z.onVnodeMounted)||Fe||Re)&&xi(()=>{G&&Rr(G,pe,q),Fe&&de.enter(ke),Re&&To(q,null,pe,"mounted")},re)},x=(q,J,ce,pe,re)=>{if(ce&&h(q,ce),pe)for(let he=0;he<pe.length;he++)h(q,pe[he]);if(re){let he=re.subTree;if(J===he){const Ce=re.vnode;x(q,Ce,Ce.scopeId,Ce.slotScopeIds,re.parent)}}},M=(q,J,ce,pe,re,he,Ce,Oe,ke=0)=>{for(let G=ke;G<q.length;G++){const Z=q[G]=Oe?Xs(q[G]):Or(q[G]);g(null,Z,J,ce,pe,re,he,Ce,Oe)}},E=(q,J,ce,pe,re,he,Ce)=>{const Oe=J.el=q.el;let{patchFlag:ke,dynamicChildren:G,dirs:Z}=J;ke|=q.patchFlag&16;const _e=q.props||_n,de=J.props||_n;let Re;if(ce&&Eo(ce,!1),(Re=de.onVnodeBeforeUpdate)&&Rr(Re,ce,J,q),Z&&To(J,q,ce,"beforeUpdate"),ce&&Eo(ce,!0),G?A(q.dynamicChildren,G,Oe,ce,pe,hp(J,re),he):Ce||D(q,J,Oe,null,ce,pe,hp(J,re),he,!1),ke>0){if(ke&16)O(Oe,J,_e,de,ce,pe,re);else if(ke&2&&_e.class!==de.class&&a(Oe,"class",null,de.class,re),ke&4&&a(Oe,"style",_e.style,de.style,re),ke&8){const Fe=J.dynamicProps;for(let ye=0;ye<Fe.length;ye++){const Ne=Fe[ye],Ae=_e[Ne],Te=de[Ne];(Te!==Ae||Ne==="value")&&a(Oe,Ne,Ae,Te,re,q.children,ce,pe,K)}}ke&1&&q.children!==J.children&&f(Oe,J.children)}else!Ce&&G==null&&O(Oe,J,_e,de,ce,pe,re);((Re=de.onVnodeUpdated)||Z)&&xi(()=>{Re&&Rr(Re,ce,J,q),Z&&To(J,q,ce,"updated")},pe)},A=(q,J,ce,pe,re,he,Ce)=>{for(let Oe=0;Oe<J.length;Oe++){const ke=q[Oe],G=J[Oe],Z=ke.el&&(ke.type===tt||!Fo(ke,G)||ke.shapeFlag&70)?l(ke.el):ce;g(ke,G,Z,null,pe,re,he,Ce,!0)}},O=(q,J,ce,pe,re,he,Ce)=>{if(ce!==pe){if(ce!==_n)for(const Oe in ce)!$c(Oe)&&!(Oe in pe)&&a(q,Oe,ce[Oe],null,Ce,J.children,re,he,K);for(const Oe in pe){if($c(Oe))continue;const ke=pe[Oe],G=ce[Oe];ke!==G&&Oe!=="value"&&a(q,Oe,G,ke,Ce,J.children,re,he,K)}"value"in pe&&a(q,"value",ce.value,pe.value,Ce)}},I=(q,J,ce,pe,re,he,Ce,Oe,ke)=>{const G=J.el=q?q.el:s(""),Z=J.anchor=q?q.anchor:s("");let{patchFlag:_e,dynamicChildren:de,slotScopeIds:Re}=J;Re&&(Oe=Oe?Oe.concat(Re):Re),q==null?(i(G,ce,pe),i(Z,ce,pe),M(J.children||[],ce,Z,re,he,Ce,Oe,ke)):_e>0&&_e&64&&de&&q.dynamicChildren?(A(q.dynamicChildren,de,ce,re,he,Ce,Oe),(J.key!=null||re&&J===re.subTree)&&Rv(q,J,!0)):D(q,J,ce,Z,re,he,Ce,Oe,ke)},$=(q,J,ce,pe,re,he,Ce,Oe,ke)=>{J.slotScopeIds=Oe,q==null?J.shapeFlag&512?re.ctx.activate(J,ce,pe,Ce,ke):H(J,ce,pe,re,he,Ce,ke):B(q,J,ke)},H=(q,J,ce,pe,re,he,Ce)=>{const Oe=q.component=GP(q,pe,re);if(Ch(q)&&(Oe.ctx.renderer=ne),jP(Oe),Oe.asyncDep){if(re&&re.registerDep(Oe,N),!q.el){const ke=Oe.subTree=oe(gi);v(null,ke,J,ce)}}else N(Oe,q,J,ce,re,he,Ce)},B=(q,J,ce)=>{const pe=J.component=q.component;if(rP(q,J,ce))if(pe.asyncDep&&!pe.asyncResolved){k(pe,J,ce);return}else pe.next=J,qR(pe.update),pe.effect.dirty=!0,pe.update();else J.el=q.el,pe.vnode=J},N=(q,J,ce,pe,re,he,Ce)=>{const Oe=()=>{if(q.isMounted){let{next:Z,bu:_e,u:de,parent:Re,vnode:Fe}=q;{const ae=q1(q);if(ae){Z&&(Z.el=Fe.el,k(q,Z,Ce)),ae.asyncDep.then(()=>{q.isUnmounted||Oe()});return}}let ye=Z,Ne;Eo(q,!1),Z?(Z.el=Fe.el,k(q,Z,Ce)):Z=Fe,_e&&cf(_e),(Ne=Z.props&&Z.props.onVnodeBeforeUpdate)&&Rr(Ne,Re,Z,Fe),Eo(q,!0);const Ae=up(q),Te=q.subTree;q.subTree=Ae,g(Te,Ae,l(Te.el),z(Te),q,re,he),Z.el=Ae.el,ye===null&&sP(q,Ae.el),de&&xi(de,re),(Ne=Z.props&&Z.props.onVnodeUpdated)&&xi(()=>Rr(Ne,Re,Z,Fe),re)}else{let Z;const{el:_e,props:de}=J,{bm:Re,m:Fe,parent:ye}=q,Ne=Wc(J);if(Eo(q,!1),Re&&cf(Re),!Ne&&(Z=de&&de.onVnodeBeforeMount)&&Rr(Z,ye,J),Eo(q,!0),_e&&Me){const Ae=()=>{q.subTree=up(q),Me(_e,q.subTree,q,re,null)};Ne?J.type.__asyncLoader().then(()=>!q.isUnmounted&&Ae()):Ae()}else{const Ae=q.subTree=up(q);g(null,Ae,ce,pe,q,re,he),J.el=Ae.el}if(Fe&&xi(Fe,re),!Ne&&(Z=de&&de.onVnodeMounted)){const Ae=J;xi(()=>Rr(Z,ye,Ae),re)}(J.shapeFlag&256||ye&&Wc(ye.vnode)&&ye.vnode.shapeFlag&256)&&q.a&&xi(q.a,re),q.isMounted=!0,J=ce=pe=null}},ke=q.effect=new hv(Oe,Gt,()=>wv(G),q.scope),G=q.update=()=>{ke.dirty&&ke.run()};G.id=q.uid,Eo(q,!0),G()},k=(q,J,ce)=>{J.component=q;const pe=q.vnode.props;q.vnode=J,q.next=null,PP(q,J.props,pe,ce),LP(q,J.children,ce),go(),Vy(q),vo()},D=(q,J,ce,pe,re,he,Ce,Oe,ke=!1)=>{const G=q&&q.children,Z=q?q.shapeFlag:0,_e=J.children,{patchFlag:de,shapeFlag:Re}=J;if(de>0){if(de&128){R(G,_e,ce,pe,re,he,Ce,Oe,ke);return}else if(de&256){T(G,_e,ce,pe,re,he,Ce,Oe,ke);return}}Re&8?(Z&16&&K(G,re,he),_e!==G&&f(ce,_e)):Z&16?Re&16?R(G,_e,ce,pe,re,he,Ce,Oe,ke):K(G,re,he,!0):(Z&8&&f(ce,""),Re&16&&M(_e,ce,pe,re,he,Ce,Oe,ke))},T=(q,J,ce,pe,re,he,Ce,Oe,ke)=>{q=q||ul,J=J||ul;const G=q.length,Z=J.length,_e=Math.min(G,Z);let de;for(de=0;de<_e;de++){const Re=J[de]=ke?Xs(J[de]):Or(J[de]);g(q[de],Re,ce,null,re,he,Ce,Oe,ke)}G>Z?K(q,re,he,!0,!1,_e):M(J,ce,pe,re,he,Ce,Oe,ke,_e)},R=(q,J,ce,pe,re,he,Ce,Oe,ke)=>{let G=0;const Z=J.length;let _e=q.length-1,de=Z-1;for(;G<=_e&&G<=de;){const Re=q[G],Fe=J[G]=ke?Xs(J[G]):Or(J[G]);if(Fo(Re,Fe))g(Re,Fe,ce,null,re,he,Ce,Oe,ke);else break;G++}for(;G<=_e&&G<=de;){const Re=q[_e],Fe=J[de]=ke?Xs(J[de]):Or(J[de]);if(Fo(Re,Fe))g(Re,Fe,ce,null,re,he,Ce,Oe,ke);else break;_e--,de--}if(G>_e){if(G<=de){const Re=de+1,Fe=Re<Z?J[Re].el:pe;for(;G<=de;)g(null,J[G]=ke?Xs(J[G]):Or(J[G]),ce,Fe,re,he,Ce,Oe,ke),G++}}else if(G>de)for(;G<=_e;)U(q[G],re,he,!0),G++;else{const Re=G,Fe=G,ye=new Map;for(G=Fe;G<=de;G++){const De=J[G]=ke?Xs(J[G]):Or(J[G]);De.key!=null&&ye.set(De.key,G)}let Ne,Ae=0;const Te=de-Fe+1;let ae=!1,fe=0;const ie=new Array(Te);for(G=0;G<Te;G++)ie[G]=0;for(G=Re;G<=_e;G++){const De=q[G];if(Ae>=Te){U(De,re,he,!0);continue}let me;if(De.key!=null)me=ye.get(De.key);else for(Ne=Fe;Ne<=de;Ne++)if(ie[Ne-Fe]===0&&Fo(De,J[Ne])){me=Ne;break}me===void 0?U(De,re,he,!0):(ie[me-Fe]=G+1,me>=fe?fe=me:ae=!0,g(De,J[me],ce,null,re,he,Ce,Oe,ke),Ae++)}const ge=ae?FP(ie):ul;for(Ne=ge.length-1,G=Te-1;G>=0;G--){const De=Fe+G,me=J[De],Xe=De+1<Z?J[De+1].el:pe;ie[G]===0?g(null,me,ce,Xe,re,he,Ce,Oe,ke):ae&&(Ne<0||G!==ge[Ne]?V(me,ce,Xe,2):Ne--)}}},V=(q,J,ce,pe,re=null)=>{const{el:he,type:Ce,transition:Oe,children:ke,shapeFlag:G}=q;if(G&6){V(q.component.subTree,J,ce,pe);return}if(G&128){q.suspense.move(J,ce,pe);return}if(G&64){Ce.move(q,J,ce,ne);return}if(Ce===tt){i(he,J,ce);for(let _e=0;_e<ke.length;_e++)V(ke[_e],J,ce,pe);i(q.anchor,J,ce);return}if(Ce===pp){_(q,J,ce);return}if(pe!==2&&G&1&&Oe)if(pe===0)Oe.beforeEnter(he),i(he,J,ce),xi(()=>Oe.enter(he),re);else{const{leave:_e,delayLeave:de,afterLeave:Re}=Oe,Fe=()=>i(he,J,ce),ye=()=>{_e(he,()=>{Fe(),Re&&Re()})};de?de(he,Fe,ye):ye()}else i(he,J,ce)},U=(q,J,ce,pe=!1,re=!1)=>{const{type:he,props:Ce,ref:Oe,children:ke,dynamicChildren:G,shapeFlag:Z,patchFlag:_e,dirs:de}=q;if(Oe!=null&&Nm(Oe,null,ce,q,!0),Z&256){J.ctx.deactivate(q);return}const Re=Z&1&&de,Fe=!Wc(q);let ye;if(Fe&&(ye=Ce&&Ce.onVnodeBeforeUnmount)&&Rr(ye,J,q),Z&6)j(q.component,ce,pe);else{if(Z&128){q.suspense.unmount(ce,pe);return}Re&&To(q,null,J,"beforeUnmount"),Z&64?q.type.remove(q,J,ce,re,ne,pe):G&&(he!==tt||_e>0&&_e&64)?K(G,J,ce,!1,!0):(he===tt&&_e&384||!re&&Z&16)&&K(ke,J,ce),pe&&X(q)}(Fe&&(ye=Ce&&Ce.onVnodeUnmounted)||Re)&&xi(()=>{ye&&Rr(ye,J,q),Re&&To(q,null,J,"unmounted")},ce)},X=q=>{const{type:J,el:ce,anchor:pe,transition:re}=q;if(J===tt){W(ce,pe);return}if(J===pp){S(q);return}const he=()=>{r(ce),re&&!re.persisted&&re.afterLeave&&re.afterLeave()};if(q.shapeFlag&1&&re&&!re.persisted){const{leave:Ce,delayLeave:Oe}=re,ke=()=>Ce(ce,he);Oe?Oe(q.el,he,ke):ke()}else he()},W=(q,J)=>{let ce;for(;q!==J;)ce=d(q),r(q),q=ce;r(J)},j=(q,J,ce)=>{const{bum:pe,scope:re,update:he,subTree:Ce,um:Oe}=q;pe&&cf(pe),re.stop(),he&&(he.active=!1,U(Ce,q,J,ce)),Oe&&xi(Oe,J),xi(()=>{q.isUnmounted=!0},J),J&&J.pendingBranch&&!J.isUnmounted&&q.asyncDep&&!q.asyncResolved&&q.suspenseId===J.pendingId&&(J.deps--,J.deps===0&&J.resolve())},K=(q,J,ce,pe=!1,re=!1,he=0)=>{for(let Ce=he;Ce<q.length;Ce++)U(q[Ce],J,ce,pe,re)},z=q=>q.shapeFlag&6?z(q.component.subTree):q.shapeFlag&128?q.suspense.next():d(q.anchor||q.el);let ee=!1;const ue=(q,J,ce)=>{q==null?J._vnode&&U(J._vnode,null,null,!0):g(J._vnode||null,q,J,null,null,null,ce),ee||(ee=!0,Vy(),R1(),ee=!1),J._vnode=q},ne={p:g,um:U,m:V,r:X,mt:H,mc:M,pc:D,pbc:A,n:z,o:t};let le,Me;return e&&([le,Me]=e(ne)),{render:ue,hydrate:le,createApp:AP(ue,le)}}function hp({type:t,props:e},n){return n==="svg"&&t==="foreignObject"||n==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:n}function Eo({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function NP(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function Rv(t,e,n=!1){const i=t.children,r=e.children;if(qe(i)&&qe(r))for(let a=0;a<i.length;a++){const u=i[a];let s=r[a];s.shapeFlag&1&&!s.dynamicChildren&&((s.patchFlag<=0||s.patchFlag===32)&&(s=r[a]=Xs(r[a]),s.el=u.el),n||Rv(u,s)),s.type===tc&&(s.el=u.el)}}function FP(t){const e=t.slice(),n=[0];let i,r,a,u,s;const o=t.length;for(i=0;i<o;i++){const c=t[i];if(c!==0){if(r=n[n.length-1],t[r]<c){e[i]=r,n.push(i);continue}for(a=0,u=n.length-1;a<u;)s=a+u>>1,t[n[s]]<c?a=s+1:u=s;c<t[n[a]]&&(a>0&&(e[i]=n[a-1]),n[a]=i)}}for(a=n.length,u=n[a-1];a-- >0;)n[a]=u,u=e[u];return n}function q1(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:q1(e)}const BP=t=>t.__isTeleport,Xc=t=>t&&(t.disabled||t.disabled===""),Jy=t=>typeof SVGElement<"u"&&t instanceof SVGElement,Qy=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,Fm=(t,e)=>{const n=t&&t.to;return ct(n)?e?e(n):null:n},UP={name:"Teleport",__isTeleport:!0,process(t,e,n,i,r,a,u,s,o,c){const{mc:f,pc:l,pbc:d,o:{insert:h,querySelector:p,createText:g,createComment:m}}=c,v=Xc(e.props);let{shapeFlag:b,children:_,dynamicChildren:S}=e;if(t==null){const w=e.el=g(""),C=e.anchor=g("");h(w,n,i),h(C,n,i);const x=e.target=Fm(e.props,p),M=e.targetAnchor=g("");x&&(h(M,x),u==="svg"||Jy(x)?u="svg":(u==="mathml"||Qy(x))&&(u="mathml"));const E=(A,O)=>{b&16&&f(_,A,O,r,a,u,s,o)};v?E(n,C):x&&E(x,M)}else{e.el=t.el;const w=e.anchor=t.anchor,C=e.target=t.target,x=e.targetAnchor=t.targetAnchor,M=Xc(t.props),E=M?n:C,A=M?w:x;if(u==="svg"||Jy(C)?u="svg":(u==="mathml"||Qy(C))&&(u="mathml"),S?(d(t.dynamicChildren,S,E,r,a,u,s),Rv(t,e,!0)):o||l(t,e,E,A,r,a,u,s,!1),v)M?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):gd(e,n,w,c,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const O=e.target=Fm(e.props,p);O&&gd(e,O,null,c,0)}else M&&gd(e,C,x,c,1)}Z1(e)},remove(t,e,n,i,{um:r,o:{remove:a}},u){const{shapeFlag:s,children:o,anchor:c,targetAnchor:f,target:l,props:d}=t;if(l&&a(f),u&&a(c),s&16){const h=u||!Xc(d);for(let p=0;p<o.length;p++){const g=o[p];r(g,e,n,h,!!g.dynamicChildren)}}},move:gd,hydrate:VP};function gd(t,e,n,{o:{insert:i},m:r},a=2){a===0&&i(t.targetAnchor,e,n);const{el:u,anchor:s,shapeFlag:o,children:c,props:f}=t,l=a===2;if(l&&i(u,e,n),(!l||Xc(f))&&o&16)for(let d=0;d<c.length;d++)r(c[d],e,n,2);l&&i(s,e,n)}function VP(t,e,n,i,r,a,{o:{nextSibling:u,parentNode:s,querySelector:o}},c){const f=e.target=Fm(e.props,o);if(f){const l=f._lpa||f.firstChild;if(e.shapeFlag&16)if(Xc(e.props))e.anchor=c(u(t),e,s(t),n,i,r,a),e.targetAnchor=l;else{e.anchor=u(t);let d=l;for(;d;)if(d=u(d),d&&d.nodeType===8&&d.data==="teleport anchor"){e.targetAnchor=d,f._lpa=e.targetAnchor&&u(e.targetAnchor);break}c(l,e,f,n,i,r,a)}Z1(e)}return e.anchor&&u(e.anchor)}const ec=UP;function Z1(t){const e=t.ctx;if(e&&e.ut){let n=t.children[0].el;for(;n&&n!==t.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",e.uid),n=n.nextSibling;e.ut()}}const tt=Symbol.for("v-fgt"),tc=Symbol.for("v-txt"),gi=Symbol.for("v-cmt"),pp=Symbol.for("v-stc"),Kc=[];let yr=null;function L(t=!1){Kc.push(yr=t?null:[])}function $P(){Kc.pop(),yr=Kc[Kc.length-1]||null}let hu=1;function eb(t){hu+=t}function J1(t){return t.dynamicChildren=hu>0?yr||ul:null,$P(),hu>0&&yr&&yr.push(t),t}function Q(t,e,n,i,r,a){return J1(te(t,e,n,i,r,a,!0))}function Pe(t,e,n,i,r){return J1(oe(t,e,n,i,r,!0))}function un(t){return t?t.__v_isVNode===!0:!1}function Fo(t,e){return t.type===e.type&&t.key===e.key}const Q1=({key:t})=>t??null,uf=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?ct(t)||ln(t)||at(t)?{i:Ln,r:t,k:e,f:!!n}:t:null);function te(t,e=null,n=null,i=0,r=null,a=t===tt?0:1,u=!1,s=!1){const o={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&Q1(e),ref:e&&uf(e),scopeId:Sh,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:i,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:Ln};return s?(Pv(o,n),a&128&&t.normalize(o)):n&&(o.shapeFlag|=ct(n)?8:16),hu>0&&!u&&yr&&(o.patchFlag>0||a&6)&&o.patchFlag!==32&&yr.push(o),o}const oe=HP;function HP(t,e=null,n=null,i=0,r=null,a=!1){if((!t||t===k1)&&(t=gi),un(t)){const s=ms(t,e,!0);return n&&Pv(s,n),hu>0&&!a&&yr&&(s.shapeFlag&6?yr[yr.indexOf(t)]=s:yr.push(s)),s.patchFlag|=-2,s}if(qP(t)&&(t=t.__vccOpts),e){e=Tl(e);let{class:s,style:o}=e;s&&!ct(s)&&(e.class=F(s)),bt(o)&&(S1(o)&&!qe(o)&&(o=On({},o)),e.style=Qe(o))}const u=ct(t)?1:aP(t)?128:BP(t)?64:bt(t)?4:at(t)?2:0;return te(t,e,n,i,r,u,a,!0)}function Tl(t){return t?S1(t)||Object.getPrototypeOf(t)===W1?On({},t):t:null}function ms(t,e,n=!1){const{props:i,ref:r,patchFlag:a,children:u}=t,s=e?xt(i||{},e):i;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:s,key:s&&Q1(s),ref:e&&e.ref?n&&r?qe(r)?r.concat(uf(e)):[r,uf(e)]:uf(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:u,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==tt?a===-1?16:a|16:a,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ms(t.ssContent),ssFallback:t.ssFallback&&ms(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Et(t=" ",e=0){return oe(tc,null,t,e)}function Ee(t="",e=!1){return e?(L(),Pe(gi,null,t)):oe(gi,null,t)}function Or(t){return t==null||typeof t=="boolean"?oe(gi):qe(t)?oe(tt,null,t.slice()):typeof t=="object"?Xs(t):oe(tc,null,String(t))}function Xs(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ms(t)}function Pv(t,e){let n=0;const{shapeFlag:i}=t;if(e==null)e=null;else if(qe(e))n=16;else if(typeof e=="object")if(i&65){const r=e.default;r&&(r._c&&(r._d=!1),Pv(t,r()),r._c&&(r._d=!0));return}else{n=32;const r=e._;r?r===3&&Ln&&(Ln.slots._===1?e._=1:(e._=2,t.patchFlag|=1024)):e._ctx=Ln}else at(e)?(e={default:e,_ctx:Ln},n=32):(e=String(e),i&64?(n=16,e=[Et(e)]):n=8);t.children=e,t.shapeFlag|=n}function xt(...t){const e={};for(let n=0;n<t.length;n++){const i=t[n];for(const r in i)if(r==="class")e.class!==i.class&&(e.class=F([e.class,i.class]));else if(r==="style")e.style=Qe([e.style,i.style]);else if(mh(r)){const a=e[r],u=i[r];u&&a!==u&&!(qe(a)&&a.includes(u))&&(e[r]=a?[].concat(a,u):u)}else r!==""&&(e[r]=i[r])}return e}function Rr(t,e,n,i=null){Qi(t,e,7,[n,i])}const zP=z1();let WP=0;function GP(t,e,n){const i=t.type,r=(e?e.appContext:t.appContext)||zP,a={uid:WP++,vnode:t,type:i,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new o1(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:j1(i,r),emitsOptions:O1(i,r),emit:null,emitted:null,propsDefaults:_n,inheritAttrs:i.inheritAttrs,ctx:_n,data:_n,props:_n,attrs:_n,slots:_n,refs:_n,setupState:_n,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return a.ctx={_:a},a.root=e?e.root:a,a.emit=QR.bind(null,a),t.ce&&t.ce(a),a}let Xn=null;const mt=()=>Xn||Ln;let Wf,Bm;{const t=n1(),e=(n,i)=>{let r;return(r=t[n])||(r=t[n]=[]),r.push(i),a=>{r.length>1?r.forEach(u=>u(a)):r[0](a)}};Wf=e("__VUE_INSTANCE_SETTERS__",n=>Xn=n),Bm=e("__VUE_SSR_SETTERS__",n=>Eh=n)}const Hu=t=>{const e=Xn;return Wf(t),t.scope.on(),()=>{t.scope.off(),Wf(e)}},tb=()=>{Xn&&Xn.scope.off(),Wf(null)};function ex(t){return t.vnode.shapeFlag&4}let Eh=!1;function jP(t,e=!1){e&&Bm(e);const{props:n,children:i}=t.vnode,r=ex(t);RP(t,n,r,e),kP(t,i);const a=r?XP(t,e):void 0;return e&&Bm(!1),a}function XP(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,SP);const{setup:i}=n;if(i){const r=t.setupContext=i.length>1?nx(t):null,a=Hu(t);go();const u=no(i,t,0,[t.props,r]);if(vo(),a(),ou(u)){if(u.then(tb,tb),e)return u.then(s=>{nb(t,s,e)}).catch(s=>{bh(s,t,0)});t.asyncDep=u}else nb(t,u,e)}else tx(t,e)}function nb(t,e,n){at(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:bt(e)&&(t.setupState=T1(e)),tx(t,n)}let ib;function tx(t,e,n){const i=t.type;if(!t.render){if(!e&&ib&&!i.render){const r=i.template||Mv(t).template;if(r){const{isCustomElement:a,compilerOptions:u}=t.appContext.config,{delimiters:s,compilerOptions:o}=i,c=On(On({isCustomElement:a,delimiters:s},u),o);i.render=ib(r,c)}}t.render=i.render||Gt}{const r=Hu(t);go();try{wP(t)}finally{vo(),r()}}}const KP={get(t,e){return Pi(t,"get",""),t[e]}};function nx(t){const e=n=>{t.exposed=n||{}};return{attrs:new Proxy(t.attrs,KP),slots:t.slots,emit:t.emit,expose:e}}function Mh(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(T1(fl(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Gc)return Gc[n](t)},has(e,n){return n in e||n in Gc}}))}function YP(t,e=!0){return at(t)?t.displayName||t.name:t.name||e&&t.__name}function qP(t){return at(t)&&"__vccOpts"in t}const P=(t,e)=>C1(t,e,Eh);function rt(t,e,n){const i=arguments.length;return i===2?bt(e)&&!qe(e)?un(e)?oe(t,null,[e]):oe(t,e):oe(t,null,e):(i>3?n=Array.prototype.slice.call(arguments,2):i===3&&un(n)&&(n=[n]),oe(t,e,n))}const ZP="3.4.22",JP=Gt;/**
* @vue/runtime-dom v3.4.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const QP="http://www.w3.org/2000/svg",eO="http://www.w3.org/1998/Math/MathML",Ks=typeof document<"u"?document:null,rb=Ks&&Ks.createElement("template"),tO={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,i)=>{const r=e==="svg"?Ks.createElementNS(QP,t):e==="mathml"?Ks.createElementNS(eO,t):Ks.createElement(t,n?{is:n}:void 0);return t==="select"&&i&&i.multiple!=null&&r.setAttribute("multiple",i.multiple),r},createText:t=>Ks.createTextNode(t),createComment:t=>Ks.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>Ks.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,i,r,a){const u=n?n.previousSibling:e.lastChild;if(r&&(r===a||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),n),!(r===a||!(r=r.nextSibling)););else{rb.innerHTML=i==="svg"?`<svg>${t}</svg>`:i==="mathml"?`<math>${t}</math>`:t;const s=rb.content;if(i==="svg"||i==="mathml"){const o=s.firstChild;for(;o.firstChild;)s.appendChild(o.firstChild);s.removeChild(o)}e.insertBefore(s,n)}return[u?u.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}},Ls="transition",vc="animation",El=Symbol("_vtc"),An=(t,{slots:e})=>rt(hP,rx(t),e);An.displayName="Transition";const ix={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},nO=An.props=On({},D1,ix),Mo=(t,e=[])=>{qe(t)?t.forEach(n=>n(...e)):t&&t(...e)},sb=t=>t?qe(t)?t.some(e=>e.length>1):t.length>1:!1;function rx(t){const e={};for(const I in t)I in ix||(e[I]=t[I]);if(t.css===!1)return e;const{name:n="v",type:i,duration:r,enterFromClass:a=`${n}-enter-from`,enterActiveClass:u=`${n}-enter-active`,enterToClass:s=`${n}-enter-to`,appearFromClass:o=a,appearActiveClass:c=u,appearToClass:f=s,leaveFromClass:l=`${n}-leave-from`,leaveActiveClass:d=`${n}-leave-active`,leaveToClass:h=`${n}-leave-to`}=t,p=iO(r),g=p&&p[0],m=p&&p[1],{onBeforeEnter:v,onEnter:b,onEnterCancelled:_,onLeave:S,onLeaveCancelled:w,onBeforeAppear:C=v,onAppear:x=b,onAppearCancelled:M=_}=e,E=(I,$,H)=>{$s(I,$?f:s),$s(I,$?c:u),H&&H()},A=(I,$)=>{I._isLeaving=!1,$s(I,l),$s(I,h),$s(I,d),$&&$()},O=I=>($,H)=>{const B=I?x:b,N=()=>E($,I,H);Mo(B,[$,N]),ob(()=>{$s($,I?o:a),ts($,I?f:s),sb(B)||ab($,i,g,N)})};return On(e,{onBeforeEnter(I){Mo(v,[I]),ts(I,a),ts(I,u)},onBeforeAppear(I){Mo(C,[I]),ts(I,o),ts(I,c)},onEnter:O(!1),onAppear:O(!0),onLeave(I,$){I._isLeaving=!0;const H=()=>A(I,$);ts(I,l),ox(),ts(I,d),ob(()=>{I._isLeaving&&($s(I,l),ts(I,h),sb(S)||ab(I,i,m,H))}),Mo(S,[I,H])},onEnterCancelled(I){E(I,!1),Mo(_,[I])},onAppearCancelled(I){E(I,!0),Mo(M,[I])},onLeaveCancelled(I){A(I),Mo(w,[I])}})}function iO(t){if(t==null)return null;if(bt(t))return[mp(t.enter),mp(t.leave)];{const e=mp(t);return[e,e]}}function mp(t){return fR(t)}function ts(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.add(n)),(t[El]||(t[El]=new Set)).add(e)}function $s(t,e){e.split(/\s+/).forEach(i=>i&&t.classList.remove(i));const n=t[El];n&&(n.delete(e),n.size||(t[El]=void 0))}function ob(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let rO=0;function ab(t,e,n,i){const r=t._endId=++rO,a=()=>{r===t._endId&&i()};if(n)return setTimeout(a,n);const{type:u,timeout:s,propCount:o}=sx(t,e);if(!u)return i();const c=u+"end";let f=0;const l=()=>{t.removeEventListener(c,d),a()},d=h=>{h.target===t&&++f>=o&&l()};setTimeout(()=>{f<o&&l()},s+1),t.addEventListener(c,d)}function sx(t,e){const n=window.getComputedStyle(t),i=p=>(n[p]||"").split(", "),r=i(`${Ls}Delay`),a=i(`${Ls}Duration`),u=lb(r,a),s=i(`${vc}Delay`),o=i(`${vc}Duration`),c=lb(s,o);let f=null,l=0,d=0;e===Ls?u>0&&(f=Ls,l=u,d=a.length):e===vc?c>0&&(f=vc,l=c,d=o.length):(l=Math.max(u,c),f=l>0?u>c?Ls:vc:null,d=f?f===Ls?a.length:o.length:0);const h=f===Ls&&/\b(transform|all)(,|$)/.test(i(`${Ls}Property`).toString());return{type:f,timeout:l,propCount:d,hasTransform:h}}function lb(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((n,i)=>cb(n)+cb(t[i])))}function cb(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function ox(){return document.body.offsetHeight}function sO(t,e,n){const i=t[El];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}const Gf=Symbol("_vod"),ax=Symbol("_vsh"),Nt={beforeMount(t,{value:e},{transition:n}){t[Gf]=t.style.display==="none"?"":t.style.display,n&&e?n.beforeEnter(t):yc(t,e)},mounted(t,{value:e},{transition:n}){n&&e&&n.enter(t)},updated(t,{value:e,oldValue:n},{transition:i}){!e!=!n&&(i?e?(i.beforeEnter(t),yc(t,!0),i.enter(t)):i.leave(t,()=>{yc(t,!1)}):yc(t,e))},beforeUnmount(t,{value:e}){yc(t,e)}};function yc(t,e){t.style.display=e?t[Gf]:"none",t[ax]=!e}const oO=Symbol(""),aO=/(^|;)\s*display\s*:/;function lO(t,e,n){const i=t.style,r=ct(n);let a=!1;if(n&&!r){if(e)if(ct(e))for(const u of e.split(";")){const s=u.slice(0,u.indexOf(":")).trim();n[s]==null&&df(i,s,"")}else for(const u in e)n[u]==null&&df(i,u,"");for(const u in n)u==="display"&&(a=!0),df(i,u,n[u])}else if(r){if(e!==n){const u=i[oO];u&&(n+=";"+u),i.cssText=n,a=aO.test(n)}}else e&&t.removeAttribute("style");Gf in t&&(t[Gf]=a?i.display:"",t[ax]&&(i.display="none"))}const ub=/\s*!important$/;function df(t,e,n){if(qe(n))n.forEach(i=>df(t,e,i));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const i=cO(t,e);ub.test(n)?t.setProperty(mo(i),n.replace(ub,""),"important"):t[i]=n}}const db=["Webkit","Moz","ms"],gp={};function cO(t,e){const n=gp[e];if(n)return n;let i=nr(e);if(i!=="filter"&&i in t)return gp[e]=i;i=$u(i);for(let r=0;r<db.length;r++){const a=db[r]+i;if(a in t)return gp[e]=a}return e}const fb="http://www.w3.org/1999/xlink";function uO(t,e,n,i,r){if(i&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(fb,e.slice(6,e.length)):t.setAttributeNS(fb,e,n);else{const a=yR(e);n==null||a&&!i1(n)?t.removeAttribute(e):t.setAttribute(e,a?"":n)}}function dO(t,e,n,i,r,a,u){if(e==="innerHTML"||e==="textContent"){i&&u(i,r,a),t[e]=n??"";return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const c=s==="OPTION"?t.getAttribute("value")||"":t.value,f=n??"";(c!==f||!("_value"in t))&&(t.value=f),n==null&&t.removeAttribute(e),t._value=n;return}let o=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=i1(n):n==null&&c==="string"?(n="",o=!0):c==="number"&&(n=0,o=!0)}try{t[e]=n}catch{}o&&t.removeAttribute(e)}function qs(t,e,n,i){t.addEventListener(e,n,i)}function fO(t,e,n,i){t.removeEventListener(e,n,i)}const hb=Symbol("_vei");function hO(t,e,n,i,r=null){const a=t[hb]||(t[hb]={}),u=a[e];if(i&&u)u.value=i;else{const[s,o]=pO(e);if(i){const c=a[e]=vO(i,r);qs(t,s,c,o)}else u&&(fO(t,s,u,o),a[e]=void 0)}}const pb=/(?:Once|Passive|Capture)$/;function pO(t){let e;if(pb.test(t)){e={};let i;for(;i=t.match(pb);)t=t.slice(0,t.length-i[0].length),e[i[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):mo(t.slice(2)),e]}let vp=0;const mO=Promise.resolve(),gO=()=>vp||(mO.then(()=>vp=0),vp=Date.now());function vO(t,e){const n=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=n.attached)return;Qi(yO(i,n.value),e,5,[i])};return n.value=t,n.attached=gO(),n}function yO(t,e){if(qe(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(i=>r=>!r._stopped&&i&&i(r))}else return e}const mb=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,bO=(t,e,n,i,r,a,u,s,o)=>{const c=r==="svg";e==="class"?sO(t,i,c):e==="style"?lO(t,n,i):mh(e)?uv(e)||hO(t,e,n,i,u):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):_O(t,e,i,c))?dO(t,e,i,a,u,s,o):(e==="true-value"?t._trueValue=i:e==="false-value"&&(t._falseValue=i),uO(t,e,i,c))};function _O(t,e,n,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in t&&mb(e)&&at(n));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const r=t.tagName;if(r==="IMG"||r==="VIDEO"||r==="CANVAS"||r==="SOURCE")return!1}return mb(e)&&ct(n)?!1:e in t}const lx=new WeakMap,cx=new WeakMap,jf=Symbol("_moveCb"),gb=Symbol("_enterCb"),ux={name:"TransitionGroup",props:On({},nO,{tag:String,moveClass:String}),setup(t,{slots:e}){const n=mt(),i=I1();let r,a;return Ss(()=>{if(!r.length)return;const u=t.moveClass||`${t.name||"v"}-move`;if(!TO(r[0].el,n.vnode.el,u))return;r.forEach(wO),r.forEach(CO);const s=r.filter(xO);ox(),s.forEach(o=>{const c=o.el,f=c.style;ts(c,u),f.transform=f.webkitTransform=f.transitionDuration="";const l=c[jf]=d=>{d&&d.target!==c||(!d||/transform$/.test(d.propertyName))&&(c.removeEventListener("transitionend",l),c[jf]=null,$s(c,u))};c.addEventListener("transitionend",l)})}),()=>{const u=jt(t),s=rx(u);let o=u.tag||tt;if(r=[],a)for(let c=0;c<a.length;c++){const f=a[c];f.el&&f.el instanceof Element&&(r.push(f),fu(f,du(f,s,i,n)),lx.set(f,f.el.getBoundingClientRect()))}a=e.default?Ev(e.default()):[];for(let c=0;c<a.length;c++){const f=a[c];f.key!=null&&fu(f,du(f,s,i,n))}return oe(o,null,a)}}},SO=t=>delete t.mode;ux.props;const dx=ux;function wO(t){const e=t.el;e[jf]&&e[jf](),e[gb]&&e[gb]()}function CO(t){cx.set(t,t.el.getBoundingClientRect())}function xO(t){const e=lx.get(t),n=cx.get(t),i=e.left-n.left,r=e.top-n.top;if(i||r){const a=t.el.style;return a.transform=a.webkitTransform=`translate(${i}px,${r}px)`,a.transitionDuration="0s",t}}function TO(t,e,n){const i=t.cloneNode(),r=t[El];r&&r.forEach(s=>{s.split(/\s+/).forEach(o=>o&&i.classList.remove(o))}),n.split(/\s+/).forEach(s=>s&&i.classList.add(s)),i.style.display="none";const a=e.nodeType===1?e:e.parentNode;a.appendChild(i);const{hasTransform:u}=sx(i);return a.removeChild(i),u}const Ml=t=>{const e=t.props["onUpdate:modelValue"]||!1;return qe(e)?n=>cf(e,n):e};function EO(t){t.target.composing=!0}function vb(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const cs=Symbol("_assign"),Ov={created(t,{modifiers:{lazy:e,trim:n,number:i}},r){t[cs]=Ml(r);const a=i||r.props&&r.props.type==="number";qs(t,e?"change":"input",u=>{if(u.target.composing)return;let s=t.value;n&&(s=s.trim()),a&&(s=Mm(s)),t[cs](s)}),n&&qs(t,"change",()=>{t.value=t.value.trim()}),e||(qs(t,"compositionstart",EO),qs(t,"compositionend",vb),qs(t,"change",vb))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:i,number:r}},a){if(t[cs]=Ml(a),t.composing)return;const u=(r||t.type==="number")&&!/^0\d/.test(t.value)?Mm(t.value):t.value,s=e??"";u!==s&&(document.activeElement===t&&t.type!=="range"&&(n||i&&t.value.trim()===s)||(t.value=s))}},Xf={deep:!0,created(t,e,n){t[cs]=Ml(n),qs(t,"change",()=>{const i=t._modelValue,r=hx(t),a=t.checked,u=t[cs];if(qe(i)){const s=r1(i,r),o=s!==-1;if(a&&!o)u(i.concat(r));else if(!a&&o){const c=[...i];c.splice(s,1),u(c)}}else if(gh(i)){const s=new Set(i);a?s.add(r):s.delete(r),u(s)}else u(px(t,a))})},mounted:yb,beforeUpdate(t,e,n){t[cs]=Ml(n),yb(t,e,n)}};function yb(t,{value:e,oldValue:n},i){t._modelValue=e,qe(e)?t.checked=r1(e,i.props.value)>-1:gh(e)?t.checked=e.has(i.props.value):e!==n&&(t.checked=xl(e,px(t,!0)))}const fx={created(t,{value:e},n){t.checked=xl(e,n.props.value),t[cs]=Ml(n),qs(t,"change",()=>{t[cs](hx(t))})},beforeUpdate(t,{value:e,oldValue:n},i){t[cs]=Ml(i),e!==n&&(t.checked=xl(e,i.props.value))}};function hx(t){return"_value"in t?t._value:t.value}function px(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const MO=["ctrl","shift","alt","meta"],AO={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>MO.some(n=>t[`${n}Key`]&&!e.includes(n))},lt=(t,e)=>{const n=t._withMods||(t._withMods={}),i=e.join(".");return n[i]||(n[i]=(r,...a)=>{for(let u=0;u<e.length;u++){const s=AO[e[u]];if(s&&s(r,e))return}return t(r,...a)})},RO={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Xt=(t,e)=>{const n=t._withKeys||(t._withKeys={}),i=e.join(".");return n[i]||(n[i]=r=>{if(!("key"in r))return;const a=mo(r.key);if(e.some(u=>u===a||RO[u]===a))return t(r)})},PO=On({patchProp:bO},tO);let bb;function mx(){return bb||(bb=IP(PO))}const ao=(...t)=>{mx().render(...t)},gx=(...t)=>{const e=mx().createApp(...t),{mount:n}=e;return e.mount=i=>{const r=kO(i);if(!r)return;const a=e._component;!at(a)&&!a.render&&!a.template&&(a.template=r.innerHTML),r.innerHTML="";const u=n(r,!1,OO(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),u},e};function OO(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function kO(t){return ct(t)?document.querySelector(t):t}const LO='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',IO=t=>getComputedStyle(t).position==="fixed"?!1:t.offsetParent!==null,_b=t=>Array.from(t.querySelectorAll(LO)).filter(e=>DO(e)&&IO(e)),DO=t=>{if(t.tabIndex>0||t.tabIndex===0&&t.getAttribute("tabIndex")!==null)return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&t.rel!=="ignore";case"INPUT":return!(t.type==="hidden"||t.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},ff=function(t,e,...n){let i;e.includes("mouse")||e.includes("click")?i="MouseEvents":e.includes("key")?i="KeyboardEvent":i="HTMLEvents";const r=document.createEvent(i);return r.initEvent(e,...n),t.dispatchEvent(r),t},vx=t=>!t.getAttribute("aria-owns"),yx=(t,e,n)=>{const{parentNode:i}=t;if(!i)return null;const r=i.querySelectorAll(n),a=Array.prototype.indexOf.call(r,t);return r[a+e]||null},hf=t=>{t&&(t.focus(),!vx(t)&&t.click())},vn=(t,e,{checkForDefaultPrevented:n=!0}={})=>r=>{const a=t==null?void 0:t(r);if(n===!1||!a)return e==null?void 0:e(r)},Sb=t=>e=>e.pointerType==="mouse"?t(e):void 0;var NO=Object.defineProperty,FO=Object.defineProperties,BO=Object.getOwnPropertyDescriptors,wb=Object.getOwnPropertySymbols,UO=Object.prototype.hasOwnProperty,VO=Object.prototype.propertyIsEnumerable,Cb=(t,e,n)=>e in t?NO(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,$O=(t,e)=>{for(var n in e||(e={}))UO.call(e,n)&&Cb(t,n,e[n]);if(wb)for(var n of wb(e))VO.call(e,n)&&Cb(t,n,e[n]);return t},HO=(t,e)=>FO(t,BO(e));function xb(t,e){var n;const i=an();return Yn(()=>{i.value=t()},HO($O({},e),{flush:(n=e==null?void 0:e.flush)!=null?n:"sync"})),Ql(i)}var Tb;const Ot=typeof window<"u",zO=t=>typeof t<"u",Um=t=>typeof t=="function",WO=t=>typeof t=="string",Al=()=>{},GO=Ot&&((Tb=window==null?void 0:window.navigator)==null?void 0:Tb.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function lo(t){return typeof t=="function"?t():y(t)}function bx(t,e){function n(...i){return new Promise((r,a)=>{Promise.resolve(t(()=>e.apply(this,i),{fn:e,thisArg:this,args:i})).then(r).catch(a)})}return n}function jO(t,e={}){let n,i,r=Al;const a=s=>{clearTimeout(s),r(),r=Al};return s=>{const o=lo(t),c=lo(e.maxWait);return n&&a(n),o<=0||c!==void 0&&c<=0?(i&&(a(i),i=null),Promise.resolve(s())):new Promise((f,l)=>{r=e.rejectOnCancel?l:f,c&&!i&&(i=setTimeout(()=>{n&&a(n),i=null,f(s())},c)),n=setTimeout(()=>{i&&a(i),i=null,f(s())},o)})}}function XO(t,e=!0,n=!0,i=!1){let r=0,a,u=!0,s=Al,o;const c=()=>{a&&(clearTimeout(a),a=void 0,s(),s=Al)};return l=>{const d=lo(t),h=Date.now()-r,p=()=>o=l();return c(),d<=0?(r=Date.now(),p()):(h>d&&(n||!u)?(r=Date.now(),p()):e&&(o=new Promise((g,m)=>{s=i?m:g,a=setTimeout(()=>{r=Date.now(),u=!0,g(p()),c()},Math.max(0,d-h))})),!n&&!a&&(a=setTimeout(()=>u=!0,d)),u=!1,o)}}function KO(t){return t}function YO(t,e){let n,i,r;const a=Y(!0),u=()=>{a.value=!0,r()};Be(t,u,{flush:"sync"});const s=Um(e)?e:e.get,o=Um(e)?void 0:e.set,c=GR((f,l)=>(i=f,r=l,{get(){return a.value&&(n=s(),a.value=!1),i(),n},set(d){o==null||o(d)}}));return Object.isExtensible(c)&&(c.trigger=u),c}function zu(t){return a1()?(l1(t),!0):!1}function qO(t,e=200,n={}){return bx(jO(e,n),t)}function ZO(t,e=200,n={}){const i=Y(t.value),r=qO(()=>{i.value=t.value},e,n);return Be(t,()=>r()),i}function _x(t,e=200,n=!1,i=!0,r=!1){return bx(XO(e,n,i,r),t)}function kv(t,e=!0){mt()?ht(t):e?t():it(t)}function aa(t,e,n={}){const{immediate:i=!0}=n,r=Y(!1);let a=null;function u(){a&&(clearTimeout(a),a=null)}function s(){r.value=!1,u()}function o(...c){u(),r.value=!0,a=setTimeout(()=>{r.value=!1,a=null,t(...c)},lo(e))}return i&&(r.value=!0,Ot&&o()),zu(s),{isPending:Ql(r),start:o,stop:s}}function Ti(t){var e;const n=lo(t);return(e=n==null?void 0:n.$el)!=null?e:n}const bo=Ot?window:void 0,JO=Ot?window.document:void 0;function nn(...t){let e,n,i,r;if(WO(t[0])||Array.isArray(t[0])?([n,i,r]=t,e=bo):[e,n,i,r]=t,!e)return Al;Array.isArray(n)||(n=[n]),Array.isArray(i)||(i=[i]);const a=[],u=()=>{a.forEach(f=>f()),a.length=0},s=(f,l,d,h)=>(f.addEventListener(l,d,h),()=>f.removeEventListener(l,d,h)),o=Be(()=>[Ti(e),lo(r)],([f,l])=>{u(),f&&a.push(...n.flatMap(d=>i.map(h=>s(f,d,h,l))))},{immediate:!0,flush:"post"}),c=()=>{o(),u()};return zu(c),c}let Eb=!1;function Lv(t,e,n={}){const{window:i=bo,ignore:r=[],capture:a=!0,detectIframe:u=!1}=n;if(!i)return;GO&&!Eb&&(Eb=!0,Array.from(i.document.body.children).forEach(d=>d.addEventListener("click",Al)));let s=!0;const o=d=>r.some(h=>{if(typeof h=="string")return Array.from(i.document.querySelectorAll(h)).some(p=>p===d.target||d.composedPath().includes(p));{const p=Ti(h);return p&&(d.target===p||d.composedPath().includes(p))}}),f=[nn(i,"click",d=>{const h=Ti(t);if(!(!h||h===d.target||d.composedPath().includes(h))){if(d.detail===0&&(s=!o(d)),!s){s=!0;return}e(d)}},{passive:!0,capture:a}),nn(i,"pointerdown",d=>{const h=Ti(t);h&&(s=!d.composedPath().includes(h)&&!o(d))},{passive:!0}),u&&nn(i,"blur",d=>{var h;const p=Ti(t);((h=i.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(i.document.activeElement))&&e(d)})].filter(Boolean);return()=>f.forEach(d=>d())}function QO(t={}){var e;const{window:n=bo}=t,i=(e=t.document)!=null?e:n==null?void 0:n.document,r=YO(()=>null,()=>i==null?void 0:i.activeElement);return n&&(nn(n,"blur",a=>{a.relatedTarget===null&&r.trigger()},!0),nn(n,"focus",r.trigger,!0)),r}function Sx(t,e=!1){const n=Y(),i=()=>n.value=!!t();return i(),kv(i,e),n}function ek(t){return JSON.parse(JSON.stringify(t))}const Mb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Ab="__vueuse_ssr_handlers__";Mb[Ab]=Mb[Ab]||{};function tk(t,e,{window:n=bo,initialValue:i=""}={}){const r=Y(i),a=P(()=>{var u;return Ti(e)||((u=n==null?void 0:n.document)==null?void 0:u.documentElement)});return Be([a,()=>lo(t)],([u,s])=>{var o;if(u&&n){const c=(o=n.getComputedStyle(u).getPropertyValue(s))==null?void 0:o.trim();r.value=c||i}},{immediate:!0}),Be(r,u=>{var s;(s=a.value)!=null&&s.style&&a.value.style.setProperty(lo(t),u)}),r}function nk({document:t=JO}={}){if(!t)return Y("visible");const e=Y(t.visibilityState);return nn(t,"visibilitychange",()=>{e.value=t.visibilityState}),e}var Rb=Object.getOwnPropertySymbols,ik=Object.prototype.hasOwnProperty,rk=Object.prototype.propertyIsEnumerable,sk=(t,e)=>{var n={};for(var i in t)ik.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Rb)for(var i of Rb(t))e.indexOf(i)<0&&rk.call(t,i)&&(n[i]=t[i]);return n};function dn(t,e,n={}){const i=n,{window:r=bo}=i,a=sk(i,["window"]);let u;const s=Sx(()=>r&&"ResizeObserver"in r),o=()=>{u&&(u.disconnect(),u=void 0)},c=Be(()=>Ti(t),l=>{o(),s.value&&r&&l&&(u=new ResizeObserver(e),u.observe(l,a))},{immediate:!0,flush:"post"}),f=()=>{o(),c()};return zu(f),{isSupported:s,stop:f}}function Pb(t,e={}){const{reset:n=!0,windowResize:i=!0,windowScroll:r=!0,immediate:a=!0}=e,u=Y(0),s=Y(0),o=Y(0),c=Y(0),f=Y(0),l=Y(0),d=Y(0),h=Y(0);function p(){const g=Ti(t);if(!g){n&&(u.value=0,s.value=0,o.value=0,c.value=0,f.value=0,l.value=0,d.value=0,h.value=0);return}const m=g.getBoundingClientRect();u.value=m.height,s.value=m.bottom,o.value=m.left,c.value=m.right,f.value=m.top,l.value=m.width,d.value=m.x,h.value=m.y}return dn(t,p),Be(()=>Ti(t),g=>!g&&p()),r&&nn("scroll",p,{capture:!0,passive:!0}),i&&nn("resize",p,{passive:!0}),kv(()=>{a&&p()}),{height:u,bottom:s,left:o,right:c,top:f,width:l,x:d,y:h,update:p}}var Ob=Object.getOwnPropertySymbols,ok=Object.prototype.hasOwnProperty,ak=Object.prototype.propertyIsEnumerable,lk=(t,e)=>{var n={};for(var i in t)ok.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(t!=null&&Ob)for(var i of Ob(t))e.indexOf(i)<0&&ak.call(t,i)&&(n[i]=t[i]);return n};function wx(t,e,n={}){const i=n,{window:r=bo}=i,a=lk(i,["window"]);let u;const s=Sx(()=>r&&"MutationObserver"in r),o=()=>{u&&(u.disconnect(),u=void 0)},c=Be(()=>Ti(t),l=>{o(),s.value&&r&&l&&(u=new MutationObserver(e),u.observe(l,a))},{immediate:!0}),f=()=>{o(),c()};return zu(f),{isSupported:s,stop:f}}var kb;(function(t){t.UP="UP",t.RIGHT="RIGHT",t.DOWN="DOWN",t.LEFT="LEFT",t.NONE="NONE"})(kb||(kb={}));var ck=Object.defineProperty,Lb=Object.getOwnPropertySymbols,uk=Object.prototype.hasOwnProperty,dk=Object.prototype.propertyIsEnumerable,Ib=(t,e,n)=>e in t?ck(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,fk=(t,e)=>{for(var n in e||(e={}))uk.call(e,n)&&Ib(t,n,e[n]);if(Lb)for(var n of Lb(e))dk.call(e,n)&&Ib(t,n,e[n]);return t};const hk={easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]};fk({linear:KO},hk);function Cx(t,e,n,i={}){var r,a,u;const{clone:s=!1,passive:o=!1,eventName:c,deep:f=!1,defaultValue:l}=i,d=mt(),h=n||(d==null?void 0:d.emit)||((r=d==null?void 0:d.$emit)==null?void 0:r.bind(d))||((u=(a=d==null?void 0:d.proxy)==null?void 0:a.$emit)==null?void 0:u.bind(d==null?void 0:d.proxy));let p=c;e||(e="modelValue"),p=c||p||`update:${e.toString()}`;const g=v=>s?Um(s)?s(v):ek(v):v,m=()=>zO(t[e])?g(t[e]):l;if(o){const v=m(),b=Y(v);return Be(()=>t[e],_=>b.value=g(_)),Be(b,_=>{(_!==t[e]||f)&&h(p,_)},{deep:f}),b}else return P({get(){return m()},set(v){h(p,v)}})}function pk({window:t=bo}={}){if(!t)return Y(!1);const e=Y(t.document.hasFocus());return nn(t,"blur",()=>{e.value=!1}),nn(t,"focus",()=>{e.value=!0}),e}function mk(t={}){const{window:e=bo,initialWidth:n=1/0,initialHeight:i=1/0,listenOrientation:r=!0,includeScrollbar:a=!0}=t,u=Y(n),s=Y(i),o=()=>{e&&(a?(u.value=e.innerWidth,s.value=e.innerHeight):(u.value=e.document.documentElement.clientWidth,s.value=e.document.documentElement.clientHeight))};return o(),kv(o),nn("resize",o,{passive:!0}),r&&nn("orientationchange",o,{passive:!0}),{width:u,height:s}}const xx=()=>Ot&&/firefox/i.test(window.navigator.userAgent),gk=(t,e)=>{if(!Ot||!t||!e)return!1;const n=t.getBoundingClientRect();let i;return e instanceof Element?i=e.getBoundingClientRect():i={top:0,right:window.innerWidth,bottom:window.innerHeight,left:0},n.top<i.bottom&&n.bottom>i.top&&n.right>i.left&&n.left<i.right},Db=t=>{let e=0,n=t;for(;n;)e+=n.offsetTop,n=n.offsetParent;return e},Vm=(t,e)=>Math.abs(Db(t)-Db(e)),Iv=t=>{let e,n;return t.type==="touchend"?(n=t.changedTouches[0].clientY,e=t.changedTouches[0].clientX):t.type.startsWith("touch")?(n=t.touches[0].clientY,e=t.touches[0].clientX):(n=t.clientY,e=t.clientX),{clientX:e,clientY:n}};function vk(t,e,n,i){const r=n-e;return t/=i/2,t<1?r/2*t*t*t+e:r/2*((t-=2)*t*t+2)+e}var Tx=typeof global=="object"&&global&&global.Object===Object&&global,yk=typeof self=="object"&&self&&self.Object===Object&&self,xr=Tx||yk||Function("return this")(),ir=xr.Symbol,Ex=Object.prototype,bk=Ex.hasOwnProperty,_k=Ex.toString,bc=ir?ir.toStringTag:void 0;function Sk(t){var e=bk.call(t,bc),n=t[bc];try{t[bc]=void 0;var i=!0}catch{}var r=_k.call(t);return i&&(e?t[bc]=n:delete t[bc]),r}var wk=Object.prototype,Ck=wk.toString;function xk(t){return Ck.call(t)}var Tk="[object Null]",Ek="[object Undefined]",Nb=ir?ir.toStringTag:void 0;function wa(t){return t==null?t===void 0?Ek:Tk:Nb&&Nb in Object(t)?Sk(t):xk(t)}function Fr(t){return t!=null&&typeof t=="object"}var Mk="[object Symbol]";function Ah(t){return typeof t=="symbol"||Fr(t)&&wa(t)==Mk}function Dv(t,e){for(var n=-1,i=t==null?0:t.length,r=Array(i);++n<i;)r[n]=e(t[n],n,t);return r}var _i=Array.isArray,Ak=1/0,Fb=ir?ir.prototype:void 0,Bb=Fb?Fb.toString:void 0;function Mx(t){if(typeof t=="string")return t;if(_i(t))return Dv(t,Mx)+"";if(Ah(t))return Bb?Bb.call(t):"";var e=t+"";return e=="0"&&1/t==-Ak?"-0":e}var Rk=/\s/;function Pk(t){for(var e=t.length;e--&&Rk.test(t.charAt(e)););return e}var Ok=/^\s+/;function kk(t){return t&&t.slice(0,Pk(t)+1).replace(Ok,"")}function Si(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Ub=NaN,Lk=/^[-+]0x[0-9a-f]+$/i,Ik=/^0b[01]+$/i,Dk=/^0o[0-7]+$/i,Nk=parseInt;function $m(t){if(typeof t=="number")return t;if(Ah(t))return Ub;if(Si(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=Si(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=kk(t);var n=Ik.test(t);return n||Dk.test(t)?Nk(t.slice(2),n?2:8):Lk.test(t)?Ub:+t}var Vb=1/0,Fk=17976931348623157e292;function Bk(t){if(!t)return t===0?t:0;if(t=$m(t),t===Vb||t===-Vb){var e=t<0?-1:1;return e*Fk}return t===t?t:0}function Uk(t){var e=Bk(t),n=e%1;return e===e?n?e-n:e:0}function Nv(t){return t}var Vk="[object AsyncFunction]",$k="[object Function]",Hk="[object GeneratorFunction]",zk="[object Proxy]";function Fv(t){if(!Si(t))return!1;var e=wa(t);return e==$k||e==Hk||e==Vk||e==zk}var yp=xr["__core-js_shared__"],$b=function(){var t=/[^.]+$/.exec(yp&&yp.keys&&yp.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Wk(t){return!!$b&&$b in t}var Gk=Function.prototype,jk=Gk.toString;function Ca(t){if(t!=null){try{return jk.call(t)}catch{}try{return t+""}catch{}}return""}var Xk=/[\\^$.*+?()[\]{}|]/g,Kk=/^\[object .+?Constructor\]$/,Yk=Function.prototype,qk=Object.prototype,Zk=Yk.toString,Jk=qk.hasOwnProperty,Qk=RegExp("^"+Zk.call(Jk).replace(Xk,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function eL(t){if(!Si(t)||Wk(t))return!1;var e=Fv(t)?Qk:Kk;return e.test(Ca(t))}function tL(t,e){return t==null?void 0:t[e]}function xa(t,e){var n=tL(t,e);return eL(n)?n:void 0}var Hm=xa(xr,"WeakMap"),Hb=Object.create,nL=function(){function t(){}return function(e){if(!Si(e))return{};if(Hb)return Hb(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();function iL(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function rL(){}function Ax(t,e){var n=-1,i=t.length;for(e||(e=Array(i));++n<i;)e[n]=t[n];return e}var sL=800,oL=16,aL=Date.now;function lL(t){var e=0,n=0;return function(){var i=aL(),r=oL-(i-n);if(n=i,r>0){if(++e>=sL)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}function cL(t){return function(){return t}}var Kf=function(){try{var t=xa(Object,"defineProperty");return t({},"",{}),t}catch{}}(),uL=Kf?function(t,e){return Kf(t,"toString",{configurable:!0,enumerable:!1,value:cL(e),writable:!0})}:Nv;const dL=uL;var Rx=lL(dL);function fL(t,e){for(var n=-1,i=t==null?0:t.length;++n<i&&e(t[n],n,t)!==!1;);return t}function Px(t,e,n,i){for(var r=t.length,a=n+(i?1:-1);i?a--:++a<r;)if(e(t[a],a,t))return a;return-1}function hL(t){return t!==t}function pL(t,e,n){for(var i=n-1,r=t.length;++i<r;)if(t[i]===e)return i;return-1}function mL(t,e,n){return e===e?pL(t,e,n):Px(t,hL,n)}function gL(t,e){var n=t==null?0:t.length;return!!n&&mL(t,e,0)>-1}var vL=9007199254740991,yL=/^(?:0|[1-9]\d*)$/;function Rh(t,e){var n=typeof t;return e=e??vL,!!e&&(n=="number"||n!="symbol"&&yL.test(t))&&t>-1&&t%1==0&&t<e}function Bv(t,e,n){e=="__proto__"&&Kf?Kf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Wu(t,e){return t===e||t!==t&&e!==e}var bL=Object.prototype,_L=bL.hasOwnProperty;function Uv(t,e,n){var i=t[e];(!(_L.call(t,e)&&Wu(i,n))||n===void 0&&!(e in t))&&Bv(t,e,n)}function nc(t,e,n,i){var r=!n;n||(n={});for(var a=-1,u=e.length;++a<u;){var s=e[a],o=i?i(n[s],t[s],s,n,t):void 0;o===void 0&&(o=t[s]),r?Bv(n,s,o):Uv(n,s,o)}return n}var zb=Math.max;function Ox(t,e,n){return e=zb(e===void 0?t.length-1:e,0),function(){for(var i=arguments,r=-1,a=zb(i.length-e,0),u=Array(a);++r<a;)u[r]=i[e+r];r=-1;for(var s=Array(e+1);++r<e;)s[r]=i[r];return s[e]=n(u),iL(t,this,s)}}function kx(t,e){return Rx(Ox(t,e,Nv),t+"")}var SL=9007199254740991;function Vv(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=SL}function ic(t){return t!=null&&Vv(t.length)&&!Fv(t)}function wL(t,e,n){if(!Si(n))return!1;var i=typeof e;return(i=="number"?ic(n)&&Rh(e,n.length):i=="string"&&e in n)?Wu(n[e],t):!1}function CL(t){return kx(function(e,n){var i=-1,r=n.length,a=r>1?n[r-1]:void 0,u=r>2?n[2]:void 0;for(a=t.length>3&&typeof a=="function"?(r--,a):void 0,u&&wL(n[0],n[1],u)&&(a=r<3?void 0:a,r=1),e=Object(e);++i<r;){var s=n[i];s&&t(e,s,i,a)}return e})}var xL=Object.prototype;function $v(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||xL;return t===n}function TL(t,e){for(var n=-1,i=Array(t);++n<t;)i[n]=e(n);return i}var EL="[object Arguments]";function Wb(t){return Fr(t)&&wa(t)==EL}var Lx=Object.prototype,ML=Lx.hasOwnProperty,AL=Lx.propertyIsEnumerable,pu=Wb(function(){return arguments}())?Wb:function(t){return Fr(t)&&ML.call(t,"callee")&&!AL.call(t,"callee")};function RL(){return!1}var Ix=typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,Gb=Ix&&typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,PL=Gb&&Gb.exports===Ix,jb=PL?xr.Buffer:void 0,OL=jb?jb.isBuffer:void 0,mu=OL||RL,kL="[object Arguments]",LL="[object Array]",IL="[object Boolean]",DL="[object Date]",NL="[object Error]",FL="[object Function]",BL="[object Map]",UL="[object Number]",VL="[object Object]",$L="[object RegExp]",HL="[object Set]",zL="[object String]",WL="[object WeakMap]",GL="[object ArrayBuffer]",jL="[object DataView]",XL="[object Float32Array]",KL="[object Float64Array]",YL="[object Int8Array]",qL="[object Int16Array]",ZL="[object Int32Array]",JL="[object Uint8Array]",QL="[object Uint8ClampedArray]",eI="[object Uint16Array]",tI="[object Uint32Array]",bn={};bn[XL]=bn[KL]=bn[YL]=bn[qL]=bn[ZL]=bn[JL]=bn[QL]=bn[eI]=bn[tI]=!0;bn[kL]=bn[LL]=bn[GL]=bn[IL]=bn[jL]=bn[DL]=bn[NL]=bn[FL]=bn[BL]=bn[UL]=bn[VL]=bn[$L]=bn[HL]=bn[zL]=bn[WL]=!1;function nI(t){return Fr(t)&&Vv(t.length)&&!!bn[wa(t)]}function Hv(t){return function(e){return t(e)}}var Dx=typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,Yc=Dx&&typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,iI=Yc&&Yc.exports===Dx,bp=iI&&Tx.process,Rl=function(){try{var t=Yc&&Yc.require&&Yc.require("util").types;return t||bp&&bp.binding&&bp.binding("util")}catch{}}(),Xb=Rl&&Rl.isTypedArray,zv=Xb?Hv(Xb):nI,rI=Object.prototype,sI=rI.hasOwnProperty;function Nx(t,e){var n=_i(t),i=!n&&pu(t),r=!n&&!i&&mu(t),a=!n&&!i&&!r&&zv(t),u=n||i||r||a,s=u?TL(t.length,String):[],o=s.length;for(var c in t)(e||sI.call(t,c))&&!(u&&(c=="length"||r&&(c=="offset"||c=="parent")||a&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||Rh(c,o)))&&s.push(c);return s}function Fx(t,e){return function(n){return t(e(n))}}var oI=Fx(Object.keys,Object),aI=Object.prototype,lI=aI.hasOwnProperty;function cI(t){if(!$v(t))return oI(t);var e=[];for(var n in Object(t))lI.call(t,n)&&n!="constructor"&&e.push(n);return e}function Gu(t){return ic(t)?Nx(t):cI(t)}function uI(t){var e=[];if(t!=null)for(var n in Object(t))e.push(n);return e}var dI=Object.prototype,fI=dI.hasOwnProperty;function hI(t){if(!Si(t))return uI(t);var e=$v(t),n=[];for(var i in t)i=="constructor"&&(e||!fI.call(t,i))||n.push(i);return n}function ju(t){return ic(t)?Nx(t,!0):hI(t)}var pI=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,mI=/^\w*$/;function Wv(t,e){if(_i(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||Ah(t)?!0:mI.test(t)||!pI.test(t)||e!=null&&t in Object(e)}var gu=xa(Object,"create");function gI(){this.__data__=gu?gu(null):{},this.size=0}function vI(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var yI="__lodash_hash_undefined__",bI=Object.prototype,_I=bI.hasOwnProperty;function SI(t){var e=this.__data__;if(gu){var n=e[t];return n===yI?void 0:n}return _I.call(e,t)?e[t]:void 0}var wI=Object.prototype,CI=wI.hasOwnProperty;function xI(t){var e=this.__data__;return gu?e[t]!==void 0:CI.call(e,t)}var TI="__lodash_hash_undefined__";function EI(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=gu&&e===void 0?TI:e,this}function la(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}la.prototype.clear=gI;la.prototype.delete=vI;la.prototype.get=SI;la.prototype.has=xI;la.prototype.set=EI;function MI(){this.__data__=[],this.size=0}function Ph(t,e){for(var n=t.length;n--;)if(Wu(t[n][0],e))return n;return-1}var AI=Array.prototype,RI=AI.splice;function PI(t){var e=this.__data__,n=Ph(e,t);if(n<0)return!1;var i=e.length-1;return n==i?e.pop():RI.call(e,n,1),--this.size,!0}function OI(t){var e=this.__data__,n=Ph(e,t);return n<0?void 0:e[n][1]}function kI(t){return Ph(this.__data__,t)>-1}function LI(t,e){var n=this.__data__,i=Ph(n,t);return i<0?(++this.size,n.push([t,e])):n[i][1]=e,this}function ws(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}ws.prototype.clear=MI;ws.prototype.delete=PI;ws.prototype.get=OI;ws.prototype.has=kI;ws.prototype.set=LI;var vu=xa(xr,"Map");function II(){this.size=0,this.__data__={hash:new la,map:new(vu||ws),string:new la}}function DI(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}function Oh(t,e){var n=t.__data__;return DI(e)?n[typeof e=="string"?"string":"hash"]:n.map}function NI(t){var e=Oh(this,t).delete(t);return this.size-=e?1:0,e}function FI(t){return Oh(this,t).get(t)}function BI(t){return Oh(this,t).has(t)}function UI(t,e){var n=Oh(this,t),i=n.size;return n.set(t,e),this.size+=n.size==i?0:1,this}function Cs(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var i=t[e];this.set(i[0],i[1])}}Cs.prototype.clear=II;Cs.prototype.delete=NI;Cs.prototype.get=FI;Cs.prototype.has=BI;Cs.prototype.set=UI;var VI="Expected a function";function kh(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(VI);var n=function(){var i=arguments,r=e?e.apply(this,i):i[0],a=n.cache;if(a.has(r))return a.get(r);var u=t.apply(this,i);return n.cache=a.set(r,u)||a,u};return n.cache=new(kh.Cache||Cs),n}kh.Cache=Cs;var $I=500;function HI(t){var e=kh(t,function(i){return n.size===$I&&n.clear(),i}),n=e.cache;return e}var zI=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,WI=/\\(\\)?/g,GI=HI(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(zI,function(n,i,r,a){e.push(r?a.replace(WI,"$1"):i||n)}),e});function jI(t){return t==null?"":Mx(t)}function rc(t,e){return _i(t)?t:Wv(t,e)?[t]:GI(jI(t))}var XI=1/0;function sc(t){if(typeof t=="string"||Ah(t))return t;var e=t+"";return e=="0"&&1/t==-XI?"-0":e}function Lh(t,e){e=rc(e,t);for(var n=0,i=e.length;t!=null&&n<i;)t=t[sc(e[n++])];return n&&n==i?t:void 0}function Sn(t,e,n){var i=t==null?void 0:Lh(t,e);return i===void 0?n:i}function Gv(t,e){for(var n=-1,i=e.length,r=t.length;++n<i;)t[r+n]=e[n];return t}var Kb=ir?ir.isConcatSpreadable:void 0;function KI(t){return _i(t)||pu(t)||!!(Kb&&t&&t[Kb])}function Xu(t,e,n,i,r){var a=-1,u=t.length;for(n||(n=KI),r||(r=[]);++a<u;){var s=t[a];e>0&&n(s)?e>1?Xu(s,e-1,n,i,r):Gv(r,s):i||(r[r.length]=s)}return r}function Bx(t){var e=t==null?0:t.length;return e?Xu(t,1):[]}function Ux(t){return Rx(Ox(t,void 0,Bx),t+"")}var YI=Fx(Object.getPrototypeOf,Object);const jv=YI;var qI="[object Object]",ZI=Function.prototype,JI=Object.prototype,Vx=ZI.toString,QI=JI.hasOwnProperty,eD=Vx.call(Object);function $x(t){if(!Fr(t)||wa(t)!=qI)return!1;var e=jv(t);if(e===null)return!0;var n=QI.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&Vx.call(n)==eD}function tD(t,e,n){var i=-1,r=t.length;e<0&&(e=-e>r?0:r+e),n=n>r?r:n,n<0&&(n+=r),r=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(r);++i<r;)a[i]=t[i+e];return a}function ca(){if(!arguments.length)return[];var t=arguments[0];return _i(t)?t:[t]}function nD(){this.__data__=new ws,this.size=0}function iD(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function rD(t){return this.__data__.get(t)}function sD(t){return this.__data__.has(t)}var oD=200;function aD(t,e){var n=this.__data__;if(n instanceof ws){var i=n.__data__;if(!vu||i.length<oD-1)return i.push([t,e]),this.size=++n.size,this;n=this.__data__=new Cs(i)}return n.set(t,e),this.size=n.size,this}function _r(t){var e=this.__data__=new ws(t);this.size=e.size}_r.prototype.clear=nD;_r.prototype.delete=iD;_r.prototype.get=rD;_r.prototype.has=sD;_r.prototype.set=aD;function lD(t,e){return t&&nc(e,Gu(e),t)}function cD(t,e){return t&&nc(e,ju(e),t)}var Hx=typeof Ui=="object"&&Ui&&!Ui.nodeType&&Ui,Yb=Hx&&typeof Vi=="object"&&Vi&&!Vi.nodeType&&Vi,uD=Yb&&Yb.exports===Hx,qb=uD?xr.Buffer:void 0,Zb=qb?qb.allocUnsafe:void 0;function zx(t,e){if(e)return t.slice();var n=t.length,i=Zb?Zb(n):new t.constructor(n);return t.copy(i),i}function dD(t,e){for(var n=-1,i=t==null?0:t.length,r=0,a=[];++n<i;){var u=t[n];e(u,n,t)&&(a[r++]=u)}return a}function Wx(){return[]}var fD=Object.prototype,hD=fD.propertyIsEnumerable,Jb=Object.getOwnPropertySymbols,Xv=Jb?function(t){return t==null?[]:(t=Object(t),dD(Jb(t),function(e){return hD.call(t,e)}))}:Wx;function pD(t,e){return nc(t,Xv(t),e)}var mD=Object.getOwnPropertySymbols,Gx=mD?function(t){for(var e=[];t;)Gv(e,Xv(t)),t=jv(t);return e}:Wx;function gD(t,e){return nc(t,Gx(t),e)}function jx(t,e,n){var i=e(t);return _i(t)?i:Gv(i,n(t))}function zm(t){return jx(t,Gu,Xv)}function Xx(t){return jx(t,ju,Gx)}var Wm=xa(xr,"DataView"),Gm=xa(xr,"Promise"),pl=xa(xr,"Set"),Qb="[object Map]",vD="[object Object]",e_="[object Promise]",t_="[object Set]",n_="[object WeakMap]",i_="[object DataView]",yD=Ca(Wm),bD=Ca(vu),_D=Ca(Gm),SD=Ca(pl),wD=Ca(Hm),Lo=wa;(Wm&&Lo(new Wm(new ArrayBuffer(1)))!=i_||vu&&Lo(new vu)!=Qb||Gm&&Lo(Gm.resolve())!=e_||pl&&Lo(new pl)!=t_||Hm&&Lo(new Hm)!=n_)&&(Lo=function(t){var e=wa(t),n=e==vD?t.constructor:void 0,i=n?Ca(n):"";if(i)switch(i){case yD:return i_;case bD:return Qb;case _D:return e_;case SD:return t_;case wD:return n_}return e});const yu=Lo;var CD=Object.prototype,xD=CD.hasOwnProperty;function TD(t){var e=t.length,n=new t.constructor(e);return e&&typeof t[0]=="string"&&xD.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var Yf=xr.Uint8Array;function Kv(t){var e=new t.constructor(t.byteLength);return new Yf(e).set(new Yf(t)),e}function ED(t,e){var n=e?Kv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var MD=/\w*$/;function AD(t){var e=new t.constructor(t.source,MD.exec(t));return e.lastIndex=t.lastIndex,e}var r_=ir?ir.prototype:void 0,s_=r_?r_.valueOf:void 0;function RD(t){return s_?Object(s_.call(t)):{}}function Kx(t,e){var n=e?Kv(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var PD="[object Boolean]",OD="[object Date]",kD="[object Map]",LD="[object Number]",ID="[object RegExp]",DD="[object Set]",ND="[object String]",FD="[object Symbol]",BD="[object ArrayBuffer]",UD="[object DataView]",VD="[object Float32Array]",$D="[object Float64Array]",HD="[object Int8Array]",zD="[object Int16Array]",WD="[object Int32Array]",GD="[object Uint8Array]",jD="[object Uint8ClampedArray]",XD="[object Uint16Array]",KD="[object Uint32Array]";function YD(t,e,n){var i=t.constructor;switch(e){case BD:return Kv(t);case PD:case OD:return new i(+t);case UD:return ED(t,n);case VD:case $D:case HD:case zD:case WD:case GD:case jD:case XD:case KD:return Kx(t,n);case kD:return new i;case LD:case ND:return new i(t);case ID:return AD(t);case DD:return new i;case FD:return RD(t)}}function Yx(t){return typeof t.constructor=="function"&&!$v(t)?nL(jv(t)):{}}var qD="[object Map]";function ZD(t){return Fr(t)&&yu(t)==qD}var o_=Rl&&Rl.isMap,JD=o_?Hv(o_):ZD,QD="[object Set]";function eN(t){return Fr(t)&&yu(t)==QD}var a_=Rl&&Rl.isSet,tN=a_?Hv(a_):eN,nN=1,iN=2,rN=4,qx="[object Arguments]",sN="[object Array]",oN="[object Boolean]",aN="[object Date]",lN="[object Error]",Zx="[object Function]",cN="[object GeneratorFunction]",uN="[object Map]",dN="[object Number]",Jx="[object Object]",fN="[object RegExp]",hN="[object Set]",pN="[object String]",mN="[object Symbol]",gN="[object WeakMap]",vN="[object ArrayBuffer]",yN="[object DataView]",bN="[object Float32Array]",_N="[object Float64Array]",SN="[object Int8Array]",wN="[object Int16Array]",CN="[object Int32Array]",xN="[object Uint8Array]",TN="[object Uint8ClampedArray]",EN="[object Uint16Array]",MN="[object Uint32Array]",gn={};gn[qx]=gn[sN]=gn[vN]=gn[yN]=gn[oN]=gn[aN]=gn[bN]=gn[_N]=gn[SN]=gn[wN]=gn[CN]=gn[uN]=gn[dN]=gn[Jx]=gn[fN]=gn[hN]=gn[pN]=gn[mN]=gn[xN]=gn[TN]=gn[EN]=gn[MN]=!0;gn[lN]=gn[Zx]=gn[gN]=!1;function ml(t,e,n,i,r,a){var u,s=e&nN,o=e&iN,c=e&rN;if(n&&(u=r?n(t,i,r,a):n(t)),u!==void 0)return u;if(!Si(t))return t;var f=_i(t);if(f){if(u=TD(t),!s)return Ax(t,u)}else{var l=yu(t),d=l==Zx||l==cN;if(mu(t))return zx(t,s);if(l==Jx||l==qx||d&&!r){if(u=o||d?{}:Yx(t),!s)return o?gD(t,cD(u,t)):pD(t,lD(u,t))}else{if(!gn[l])return r?t:{};u=YD(t,l,s)}}a||(a=new _r);var h=a.get(t);if(h)return h;a.set(t,u),tN(t)?t.forEach(function(m){u.add(ml(m,e,n,m,t,a))}):JD(t)&&t.forEach(function(m,v){u.set(v,ml(m,e,n,v,t,a))});var p=c?o?Xx:zm:o?ju:Gu,g=f?void 0:p(t);return fL(g||t,function(m,v){g&&(v=m,m=t[v]),Uv(u,v,ml(m,e,n,v,t,a))}),u}var AN=4;function l_(t){return ml(t,AN)}var RN=1,PN=4;function qf(t){return ml(t,RN|PN)}var ON="__lodash_hash_undefined__";function kN(t){return this.__data__.set(t,ON),this}function LN(t){return this.__data__.has(t)}function bu(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new Cs;++e<n;)this.add(t[e])}bu.prototype.add=bu.prototype.push=kN;bu.prototype.has=LN;function IN(t,e){for(var n=-1,i=t==null?0:t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function Qx(t,e){return t.has(e)}var DN=1,NN=2;function eT(t,e,n,i,r,a){var u=n&DN,s=t.length,o=e.length;if(s!=o&&!(u&&o>s))return!1;var c=a.get(t),f=a.get(e);if(c&&f)return c==e&&f==t;var l=-1,d=!0,h=n&NN?new bu:void 0;for(a.set(t,e),a.set(e,t);++l<s;){var p=t[l],g=e[l];if(i)var m=u?i(g,p,l,e,t,a):i(p,g,l,t,e,a);if(m!==void 0){if(m)continue;d=!1;break}if(h){if(!IN(e,function(v,b){if(!Qx(h,b)&&(p===v||r(p,v,n,i,a)))return h.push(b)})){d=!1;break}}else if(!(p===g||r(p,g,n,i,a))){d=!1;break}}return a.delete(t),a.delete(e),d}function FN(t){var e=-1,n=Array(t.size);return t.forEach(function(i,r){n[++e]=[r,i]}),n}function Yv(t){var e=-1,n=Array(t.size);return t.forEach(function(i){n[++e]=i}),n}var BN=1,UN=2,VN="[object Boolean]",$N="[object Date]",HN="[object Error]",zN="[object Map]",WN="[object Number]",GN="[object RegExp]",jN="[object Set]",XN="[object String]",KN="[object Symbol]",YN="[object ArrayBuffer]",qN="[object DataView]",c_=ir?ir.prototype:void 0,_p=c_?c_.valueOf:void 0;function ZN(t,e,n,i,r,a,u){switch(n){case qN:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case YN:return!(t.byteLength!=e.byteLength||!a(new Yf(t),new Yf(e)));case VN:case $N:case WN:return Wu(+t,+e);case HN:return t.name==e.name&&t.message==e.message;case GN:case XN:return t==e+"";case zN:var s=FN;case jN:var o=i&BN;if(s||(s=Yv),t.size!=e.size&&!o)return!1;var c=u.get(t);if(c)return c==e;i|=UN,u.set(t,e);var f=eT(s(t),s(e),i,r,a,u);return u.delete(t),f;case KN:if(_p)return _p.call(t)==_p.call(e)}return!1}var JN=1,QN=Object.prototype,eF=QN.hasOwnProperty;function tF(t,e,n,i,r,a){var u=n&JN,s=zm(t),o=s.length,c=zm(e),f=c.length;if(o!=f&&!u)return!1;for(var l=o;l--;){var d=s[l];if(!(u?d in e:eF.call(e,d)))return!1}var h=a.get(t),p=a.get(e);if(h&&p)return h==e&&p==t;var g=!0;a.set(t,e),a.set(e,t);for(var m=u;++l<o;){d=s[l];var v=t[d],b=e[d];if(i)var _=u?i(b,v,d,e,t,a):i(v,b,d,t,e,a);if(!(_===void 0?v===b||r(v,b,n,i,a):_)){g=!1;break}m||(m=d=="constructor")}if(g&&!m){var S=t.constructor,w=e.constructor;S!=w&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof w=="function"&&w instanceof w)&&(g=!1)}return a.delete(t),a.delete(e),g}var nF=1,u_="[object Arguments]",d_="[object Array]",vd="[object Object]",iF=Object.prototype,f_=iF.hasOwnProperty;function rF(t,e,n,i,r,a){var u=_i(t),s=_i(e),o=u?d_:yu(t),c=s?d_:yu(e);o=o==u_?vd:o,c=c==u_?vd:c;var f=o==vd,l=c==vd,d=o==c;if(d&&mu(t)){if(!mu(e))return!1;u=!0,f=!1}if(d&&!f)return a||(a=new _r),u||zv(t)?eT(t,e,n,i,r,a):ZN(t,e,o,n,i,r,a);if(!(n&nF)){var h=f&&f_.call(t,"__wrapped__"),p=l&&f_.call(e,"__wrapped__");if(h||p){var g=h?t.value():t,m=p?e.value():e;return a||(a=new _r),r(g,m,n,i,a)}}return d?(a||(a=new _r),tF(t,e,n,i,r,a)):!1}function Ih(t,e,n,i,r){return t===e?!0:t==null||e==null||!Fr(t)&&!Fr(e)?t!==t&&e!==e:rF(t,e,n,i,Ih,r)}var sF=1,oF=2;function aF(t,e,n,i){var r=n.length,a=r,u=!i;if(t==null)return!a;for(t=Object(t);r--;){var s=n[r];if(u&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++r<a;){s=n[r];var o=s[0],c=t[o],f=s[1];if(u&&s[2]){if(c===void 0&&!(o in t))return!1}else{var l=new _r;if(i)var d=i(c,f,o,t,e,l);if(!(d===void 0?Ih(f,c,sF|oF,i,l):d))return!1}}return!0}function tT(t){return t===t&&!Si(t)}function lF(t){for(var e=Gu(t),n=e.length;n--;){var i=e[n],r=t[i];e[n]=[i,r,tT(r)]}return e}function nT(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}function cF(t){var e=lF(t);return e.length==1&&e[0][2]?nT(e[0][0],e[0][1]):function(n){return n===t||aF(n,t,e)}}function uF(t,e){return t!=null&&e in Object(t)}function dF(t,e,n){e=rc(e,t);for(var i=-1,r=e.length,a=!1;++i<r;){var u=sc(e[i]);if(!(a=t!=null&&n(t,u)))break;t=t[u]}return a||++i!=r?a:(r=t==null?0:t.length,!!r&&Vv(r)&&Rh(u,r)&&(_i(t)||pu(t)))}function iT(t,e){return t!=null&&dF(t,e,uF)}var fF=1,hF=2;function pF(t,e){return Wv(t)&&tT(e)?nT(sc(t),e):function(n){var i=Sn(n,t);return i===void 0&&i===e?iT(n,t):Ih(e,i,fF|hF)}}function mF(t){return function(e){return e==null?void 0:e[t]}}function gF(t){return function(e){return Lh(e,t)}}function vF(t){return Wv(t)?mF(sc(t)):gF(t)}function rT(t){return typeof t=="function"?t:t==null?Nv:typeof t=="object"?_i(t)?pF(t[0],t[1]):cF(t):vF(t)}function yF(t){return function(e,n,i){for(var r=-1,a=Object(e),u=i(e),s=u.length;s--;){var o=u[t?s:++r];if(n(a[o],o,a)===!1)break}return e}}var sT=yF();function bF(t,e){return t&&sT(t,e,Gu)}function _F(t,e){return function(n,i){if(n==null)return n;if(!ic(n))return t(n,i);for(var r=n.length,a=e?r:-1,u=Object(n);(e?a--:++a<r)&&i(u[a],a,u)!==!1;);return n}}var SF=_F(bF),Sp=function(){return xr.Date.now()},wF="Expected a function",CF=Math.max,xF=Math.min;function Oi(t,e,n){var i,r,a,u,s,o,c=0,f=!1,l=!1,d=!0;if(typeof t!="function")throw new TypeError(wF);e=$m(e)||0,Si(n)&&(f=!!n.leading,l="maxWait"in n,a=l?CF($m(n.maxWait)||0,e):a,d="trailing"in n?!!n.trailing:d);function h(C){var x=i,M=r;return i=r=void 0,c=C,u=t.apply(M,x),u}function p(C){return c=C,s=setTimeout(v,e),f?h(C):u}function g(C){var x=C-o,M=C-c,E=e-x;return l?xF(E,a-M):E}function m(C){var x=C-o,M=C-c;return o===void 0||x>=e||x<0||l&&M>=a}function v(){var C=Sp();if(m(C))return b(C);s=setTimeout(v,g(C))}function b(C){return s=void 0,d&&i?h(C):(i=r=void 0,u)}function _(){s!==void 0&&clearTimeout(s),c=0,i=o=r=s=void 0}function S(){return s===void 0?u:b(Sp())}function w(){var C=Sp(),x=m(C);if(i=arguments,r=this,o=C,x){if(s===void 0)return p(o);if(l)return clearTimeout(s),s=setTimeout(v,e),h(o)}return s===void 0&&(s=setTimeout(v,e)),u}return w.cancel=_,w.flush=S,w}function jm(t,e,n){(n!==void 0&&!Wu(t[e],n)||n===void 0&&!(e in t))&&Bv(t,e,n)}function oT(t){return Fr(t)&&ic(t)}function Xm(t,e){if(!(e==="constructor"&&typeof t[e]=="function")&&e!="__proto__")return t[e]}function TF(t){return nc(t,ju(t))}function EF(t,e,n,i,r,a,u){var s=Xm(t,n),o=Xm(e,n),c=u.get(o);if(c){jm(t,n,c);return}var f=a?a(s,o,n+"",t,e,u):void 0,l=f===void 0;if(l){var d=_i(o),h=!d&&mu(o),p=!d&&!h&&zv(o);f=o,d||h||p?_i(s)?f=s:oT(s)?f=Ax(s):h?(l=!1,f=zx(o,!0)):p?(l=!1,f=Kx(o,!0)):f=[]:$x(o)||pu(o)?(f=s,pu(s)?f=TF(s):(!Si(s)||Fv(s))&&(f=Yx(o))):l=!1}l&&(u.set(o,f),r(f,o,i,a,u),u.delete(o)),jm(t,n,f)}function aT(t,e,n,i,r){t!==e&&sT(e,function(a,u){if(r||(r=new _r),Si(a))EF(t,e,u,n,aT,i,r);else{var s=i?i(Xm(t,u),a,u+"",t,e,r):void 0;s===void 0&&(s=a),jm(t,u,s)}},ju)}function MF(t,e,n){for(var i=-1,r=t==null?0:t.length;++i<r;)if(n(e,t[i]))return!0;return!1}function AF(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var RF=Math.max,PF=Math.min;function lT(t,e,n){var i=t==null?0:t.length;if(!i)return-1;var r=i-1;return n!==void 0&&(r=Uk(n),r=n<0?RF(i+r,0):PF(r,i-1)),Px(t,rT(e),r,!0)}function OF(t,e){var n=-1,i=ic(t)?Array(t.length):[];return SF(t,function(r,a,u){i[++n]=e(r,a,u)}),i}function kF(t,e){var n=_i(t)?Dv:OF;return n(t,rT(e))}function LF(t,e){return Xu(kF(t,e),1)}var IF=1/0;function DF(t){var e=t==null?0:t.length;return e?Xu(t,IF):[]}function Zf(t){for(var e=-1,n=t==null?0:t.length,i={};++e<n;){var r=t[e];i[r[0]]=r[1]}return i}function NF(t,e){return e.length<2?t:Lh(t,tD(e,0,-1))}function si(t,e){return Ih(t,e)}function In(t){return t==null}function cT(t){return t===void 0}var FF=CL(function(t,e,n){aT(t,e,n)});const BF=FF;function UF(t,e){return e=rc(e,t),t=NF(t,e),t==null||delete t[sc(AF(e))]}function VF(t){return $x(t)?void 0:t}var $F=1,HF=2,zF=4,WF=Ux(function(t,e){var n={};if(t==null)return n;var i=!1;e=Dv(e,function(a){return a=rc(a,t),i||(i=a.length>1),a}),nc(t,Xx(t),n),i&&(n=ml(n,$F|HF|zF,VF));for(var r=e.length;r--;)UF(n,e[r]);return n});function uT(t,e,n,i){if(!Si(t))return t;e=rc(e,t);for(var r=-1,a=e.length,u=a-1,s=t;s!=null&&++r<a;){var o=sc(e[r]),c=n;if(o==="__proto__"||o==="constructor"||o==="prototype")return t;if(r!=u){var f=s[o];c=i?i(f,o,s):void 0,c===void 0&&(c=Si(f)?f:Rh(e[r+1])?[]:{})}Uv(s,o,c),s=s[o]}return t}function GF(t,e,n){for(var i=-1,r=e.length,a={};++i<r;){var u=e[i],s=Lh(t,u);n(s,u)&&uT(a,rc(u,t),s)}return a}function jF(t,e){return GF(t,e,function(n,i){return iT(t,i)})}var os=Ux(function(t,e){return t==null?{}:jF(t,e)});function XF(t,e,n){return t==null?t:uT(t,e,n)}var KF="Expected a function";function Qo(t,e,n){var i=!0,r=!0;if(typeof t!="function")throw new TypeError(KF);return Si(n)&&(i="leading"in n?!!n.leading:i,r="trailing"in n?!!n.trailing:r),Oi(t,e,{leading:i,maxWait:e,trailing:r})}var YF=1/0,qF=pl&&1/Yv(new pl([,-0]))[1]==YF?function(t){return new pl(t)}:rL,ZF=200;function JF(t,e,n){var i=-1,r=gL,a=t.length,u=!0,s=[],o=s;if(n)u=!1,r=MF;else if(a>=ZF){var c=e?null:qF(t);if(c)return Yv(c);u=!1,r=Qx,o=new bu}else o=e?[]:s;e:for(;++i<a;){var f=t[i],l=e?e(f):f;if(f=n||f!==0?f:0,u&&l===l){for(var d=o.length;d--;)if(o[d]===l)continue e;e&&o.push(l),s.push(f)}else r(o,l,n)||(o!==s&&o.push(l),s.push(f))}return s}var wp=kx(function(t){return JF(Xu(t,1,oT,!0))});const xn=t=>t===void 0,Tn=t=>typeof t=="boolean",ot=t=>typeof t=="number",Ki=t=>!t&&t!==0||qe(t)&&t.length===0||bt(t)&&!Object.keys(t).length,rr=t=>typeof Element>"u"?!1:t instanceof Element,ua=t=>In(t),QF=t=>ct(t)?!Number.isNaN(Number(t)):!1,Dh=t=>t===window,co=t=>Ot?window.requestAnimationFrame(t):setTimeout(t,16),da=t=>Ot?window.cancelAnimationFrame(t):clearTimeout(t),qv=(t="")=>t.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d"),Ir=t=>$u(t),Pl=t=>Object.keys(t),e3=t=>Object.entries(t),pf=(t,e,n)=>({get value(){return Sn(t,e,n)},set value(i){XF(t,e,i)}});class t3 extends Error{constructor(e){super(e),this.name="ElementPlusError"}}function Rn(t,e){throw new t3(`[${t}] ${e}`)}const dT=(t="")=>t.split(" ").filter(e=>!!e.trim()),er=(t,e)=>{if(!t||!e)return!1;if(e.includes(" "))throw new Error("className should not contain space.");return t.classList.contains(e)},Zi=(t,e)=>{!t||!e.trim()||t.classList.add(...dT(e))},oi=(t,e)=>{!t||!e.trim()||t.classList.remove(...dT(e))},Zs=(t,e)=>{var n;if(!Ot||!t||!e)return"";let i=nr(e);i==="float"&&(i="cssFloat");try{const r=t.style[i];if(r)return r;const a=(n=document.defaultView)==null?void 0:n.getComputedStyle(t,"");return a?a[i]:""}catch{return t.style[i]}};function yn(t,e="px"){if(!t)return"";if(ot(t)||QF(t))return`${t}${e}`;if(ct(t))return t}const n3=(t,e)=>{if(!Ot)return!1;const n={undefined:"overflow",true:"overflow-y",false:"overflow-x"}[String(e)],i=Zs(t,n);return["scroll","auto","overlay"].some(r=>i.includes(r))},Zv=(t,e)=>{if(!Ot)return;let n=t;for(;n;){if([window,document,document.documentElement].includes(n))return window;if(n3(n,e))return n;n=n.parentNode}return n};let yd;const fT=t=>{var e;if(!Ot)return 0;if(yd!==void 0)return yd;const n=document.createElement("div");n.className=`${t}-scrollbar__wrap`,n.style.visibility="hidden",n.style.width="100px",n.style.position="absolute",n.style.top="-9999px",document.body.appendChild(n);const i=n.offsetWidth;n.style.overflow="scroll";const r=document.createElement("div");r.style.width="100%",n.appendChild(r);const a=r.offsetWidth;return(e=n.parentNode)==null||e.removeChild(n),yd=i-a,yd};function hT(t,e){if(!Ot)return;if(!e){t.scrollTop=0;return}const n=[];let i=e.offsetParent;for(;i!==null&&t!==i&&t.contains(i);)n.push(i),i=i.offsetParent;const r=e.offsetTop+n.reduce((o,c)=>o+c.offsetTop,0),a=r+e.offsetHeight,u=t.scrollTop,s=u+t.clientHeight;r<u?t.scrollTop=r:a>s&&(t.scrollTop=a-t.clientHeight)}function i3(t,e,n,i,r){const a=Date.now();let u;const s=()=>{const c=Date.now()-a,f=vk(c>i?i:c,e,n,i);Dh(t)?t.scrollTo(window.pageXOffset,f):t.scrollTop=f,c<i?u=co(s):typeof r=="function"&&r()};return s(),()=>{u&&da(u)}}const h_=(t,e)=>Dh(e)?t.ownerDocument.documentElement:e,p_=t=>Dh(t)?window.scrollY:t.scrollTop,bd=t=>{if(!Ot||t==="")return null;if(ct(t))try{return document.querySelector(t)}catch{return null}return t};/*! Element Plus Icons Vue v2.3.1 */var r3=se({name:"ArrowDown",__name:"arrow-down",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M831.872 340.864 512 652.672 192.128 340.864a30.592 30.592 0 0 0-42.752 0 29.12 29.12 0 0 0 0 41.6L489.664 714.24a32 32 0 0 0 44.672 0l340.288-331.712a29.12 29.12 0 0 0 0-41.728 30.592 30.592 0 0 0-42.752 0z"})]))}}),xs=r3,s3=se({name:"ArrowLeft",__name:"arrow-left",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M609.408 149.376 277.76 489.6a32 32 0 0 0 0 44.672l331.648 340.352a29.12 29.12 0 0 0 41.728 0 30.592 30.592 0 0 0 0-42.752L339.264 511.936l311.872-319.872a30.592 30.592 0 0 0 0-42.688 29.12 29.12 0 0 0-41.728 0z"})]))}}),uo=s3,o3=se({name:"ArrowRight",__name:"arrow-right",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M340.864 149.312a30.592 30.592 0 0 0 0 42.752L652.736 512 340.864 831.872a30.592 30.592 0 0 0 0 42.752 29.12 29.12 0 0 0 41.728 0L714.24 534.336a32 32 0 0 0 0-44.672L382.592 149.376a29.12 29.12 0 0 0-41.728 0z"})]))}}),vi=o3,a3=se({name:"ArrowUp",__name:"arrow-up",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m488.832 344.32-339.84 356.672a32 32 0 0 0 0 44.16l.384.384a29.44 29.44 0 0 0 42.688 0l320-335.872 319.872 335.872a29.44 29.44 0 0 0 42.688 0l.384-.384a32 32 0 0 0 0-44.16L535.168 344.32a32 32 0 0 0-46.336 0"})]))}}),Jv=a3,l3=se({name:"Back",__name:"back",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M224 480h640a32 32 0 1 1 0 64H224a32 32 0 0 1 0-64"}),te("path",{fill:"currentColor",d:"m237.248 512 265.408 265.344a32 32 0 0 1-45.312 45.312l-288-288a32 32 0 0 1 0-45.312l288-288a32 32 0 1 1 45.312 45.312z"})]))}}),c3=l3,u3=se({name:"Calendar",__name:"calendar",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M128 384v512h768V192H768v32a32 32 0 1 1-64 0v-32H320v32a32 32 0 0 1-64 0v-32H128v128h768v64zm192-256h384V96a32 32 0 1 1 64 0v32h160a32 32 0 0 1 32 32v768a32 32 0 0 1-32 32H96a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h160V96a32 32 0 0 1 64 0zm-32 384h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 0 1 0 64h-64a32 32 0 0 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m192-192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64m0 192h64a32 32 0 1 1 0 64h-64a32 32 0 1 1 0-64"})]))}}),d3=u3,f3=se({name:"CaretRight",__name:"caret-right",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M384 192v640l384-320.064z"})]))}}),pT=f3,h3=se({name:"CaretTop",__name:"caret-top",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 320 192 704h639.936z"})]))}}),p3=h3,m3=se({name:"Check",__name:"check",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M406.656 706.944 195.84 496.256a32 32 0 1 0-45.248 45.248l256 256 512-512a32 32 0 0 0-45.248-45.248L406.592 706.944z"})]))}}),Ku=m3,g3=se({name:"CircleCheckFilled",__name:"circle-check-filled",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),v3=g3,y3=se({name:"CircleCheck",__name:"circle-check",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),te("path",{fill:"currentColor",d:"M745.344 361.344a32 32 0 0 1 45.312 45.312l-288 288a32 32 0 0 1-45.312 0l-160-160a32 32 0 1 1 45.312-45.312L480 626.752l265.344-265.408z"})]))}}),Qv=y3,b3=se({name:"CircleCloseFilled",__name:"circle-close-filled",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 393.664L407.936 353.6a38.4 38.4 0 1 0-54.336 54.336L457.664 512 353.6 616.064a38.4 38.4 0 1 0 54.336 54.336L512 566.336 616.064 670.4a38.4 38.4 0 1 0 54.336-54.336L566.336 512 670.4 407.936a38.4 38.4 0 1 0-54.336-54.336z"})]))}}),e0=b3,_3=se({name:"CircleClose",__name:"circle-close",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m466.752 512-90.496-90.496a32 32 0 0 1 45.248-45.248L512 466.752l90.496-90.496a32 32 0 1 1 45.248 45.248L557.248 512l90.496 90.496a32 32 0 1 1-45.248 45.248L512 557.248l-90.496 90.496a32 32 0 0 1-45.248-45.248z"}),te("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"})]))}}),_o=_3,S3=se({name:"Clock",__name:"clock",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 896a384 384 0 1 0 0-768 384 384 0 0 0 0 768m0 64a448 448 0 1 1 0-896 448 448 0 0 1 0 896"}),te("path",{fill:"currentColor",d:"M480 256a32 32 0 0 1 32 32v256a32 32 0 0 1-64 0V288a32 32 0 0 1 32-32"}),te("path",{fill:"currentColor",d:"M480 512h256q32 0 32 32t-32 32H480q-32 0-32-32t32-32"})]))}}),mT=S3,w3=se({name:"Close",__name:"close",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M764.288 214.592 512 466.88 259.712 214.592a31.936 31.936 0 0 0-45.12 45.12L466.752 512 214.528 764.224a31.936 31.936 0 1 0 45.12 45.184L512 557.184l252.288 252.288a31.936 31.936 0 0 0 45.12-45.12L557.12 512.064l252.288-252.352a31.936 31.936 0 1 0-45.12-45.184z"})]))}}),Cr=w3,C3=se({name:"DArrowLeft",__name:"d-arrow-left",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M529.408 149.376a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L259.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L197.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224zm256 0a29.12 29.12 0 0 1 41.728 0 30.592 30.592 0 0 1 0 42.688L515.264 511.936l311.872 319.936a30.592 30.592 0 0 1-.512 43.264 29.12 29.12 0 0 1-41.216-.512L453.76 534.272a32 32 0 0 1 0-44.672l331.648-340.224z"})]))}}),Ol=C3,x3=se({name:"DArrowRight",__name:"d-arrow-right",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M452.864 149.312a29.12 29.12 0 0 1 41.728.064L826.24 489.664a32 32 0 0 1 0 44.672L494.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L764.736 512 452.864 192a30.592 30.592 0 0 1 0-42.688m-256 0a29.12 29.12 0 0 1 41.728.064L570.24 489.664a32 32 0 0 1 0 44.672L238.592 874.624a29.12 29.12 0 0 1-41.728 0 30.592 30.592 0 0 1 0-42.752L508.736 512 196.864 192a30.592 30.592 0 0 1 0-42.688z"})]))}}),kl=x3,T3=se({name:"Delete",__name:"delete",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M160 256H96a32 32 0 0 1 0-64h256V95.936a32 32 0 0 1 32-32h256a32 32 0 0 1 32 32V192h256a32 32 0 1 1 0 64h-64v672a32 32 0 0 1-32 32H192a32 32 0 0 1-32-32zm448-64v-64H416v64zM224 896h576V256H224zm192-128a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32m192 0a32 32 0 0 1-32-32V416a32 32 0 0 1 64 0v320a32 32 0 0 1-32 32"})]))}}),E3=T3,M3=se({name:"Document",__name:"document",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M832 384H576V128H192v768h640zm-26.496-64L640 154.496V320zM160 64h480l256 256v608a32 32 0 0 1-32 32H160a32 32 0 0 1-32-32V96a32 32 0 0 1 32-32m160 448h384v64H320zm0-192h160v64H320zm0 384h384v64H320z"})]))}}),A3=M3,R3=se({name:"FullScreen",__name:"full-screen",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m160 96.064 192 .192a32 32 0 0 1 0 64l-192-.192V352a32 32 0 0 1-64 0V96h64zm0 831.872V928H96V672a32 32 0 1 1 64 0v191.936l192-.192a32 32 0 1 1 0 64zM864 96.064V96h64v256a32 32 0 1 1-64 0V160.064l-192 .192a32 32 0 1 1 0-64l192-.192zm0 831.872-192-.192a32 32 0 0 1 0-64l192 .192V672a32 32 0 1 1 64 0v256h-64z"})]))}}),P3=R3,O3=se({name:"Hide",__name:"hide",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M876.8 156.8c0-9.6-3.2-16-9.6-22.4-6.4-6.4-12.8-9.6-22.4-9.6-9.6 0-16 3.2-22.4 9.6L736 220.8c-64-32-137.6-51.2-224-60.8-160 16-288 73.6-377.6 176C44.8 438.4 0 496 0 512s48 73.6 134.4 176c22.4 25.6 44.8 48 73.6 67.2l-86.4 89.6c-6.4 6.4-9.6 12.8-9.6 22.4 0 9.6 3.2 16 9.6 22.4 6.4 6.4 12.8 9.6 22.4 9.6 9.6 0 16-3.2 22.4-9.6l704-710.4c3.2-6.4 6.4-12.8 6.4-22.4Zm-646.4 528c-76.8-70.4-128-128-153.6-172.8 28.8-48 80-105.6 153.6-172.8C304 272 400 230.4 512 224c64 3.2 124.8 19.2 176 44.8l-54.4 54.4C598.4 300.8 560 288 512 288c-64 0-115.2 22.4-160 64s-64 96-64 160c0 48 12.8 89.6 35.2 124.8L256 707.2c-9.6-6.4-19.2-16-25.6-22.4Zm140.8-96c-12.8-22.4-19.2-48-19.2-76.8 0-44.8 16-83.2 48-112 32-28.8 67.2-48 112-48 28.8 0 54.4 6.4 73.6 19.2zM889.599 336c-12.8-16-28.8-28.8-41.6-41.6l-48 48c73.6 67.2 124.8 124.8 150.4 169.6-28.8 48-80 105.6-153.6 172.8-73.6 67.2-172.8 108.8-284.8 115.2-51.2-3.2-99.2-12.8-140.8-28.8l-48 48c57.6 22.4 118.4 38.4 188.8 44.8 160-16 288-73.6 377.6-176C979.199 585.6 1024 528 1024 512s-48.001-73.6-134.401-176Z"}),te("path",{fill:"currentColor",d:"M511.998 672c-12.8 0-25.6-3.2-38.4-6.4l-51.2 51.2c28.8 12.8 57.6 19.2 89.6 19.2 64 0 115.2-22.4 160-64 41.6-41.6 64-96 64-160 0-32-6.4-64-19.2-89.6l-51.2 51.2c3.2 12.8 6.4 25.6 6.4 38.4 0 44.8-16 83.2-48 112-32 28.8-67.2 48-112 48Z"})]))}}),k3=O3,L3=se({name:"InfoFilled",__name:"info-filled",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896.064A448 448 0 0 1 512 64m67.2 275.072c33.28 0 60.288-23.104 60.288-57.344s-27.072-57.344-60.288-57.344c-33.28 0-60.16 23.104-60.16 57.344s26.88 57.344 60.16 57.344M590.912 699.2c0-6.848 2.368-24.64 1.024-34.752l-52.608 60.544c-10.88 11.456-24.512 19.392-30.912 17.28a12.992 12.992 0 0 1-8.256-14.72l87.68-276.992c7.168-35.136-12.544-67.2-54.336-71.296-44.096 0-108.992 44.736-148.48 101.504 0 6.784-1.28 23.68.064 33.792l52.544-60.608c10.88-11.328 23.552-19.328 29.952-17.152a12.8 12.8 0 0 1 7.808 16.128L388.48 728.576c-10.048 32.256 8.96 63.872 55.04 71.04 67.84 0 107.904-43.648 147.456-100.416z"})]))}}),t0=L3,I3=se({name:"Loading",__name:"loading",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a32 32 0 0 1 32 32v192a32 32 0 0 1-64 0V96a32 32 0 0 1 32-32m0 640a32 32 0 0 1 32 32v192a32 32 0 1 1-64 0V736a32 32 0 0 1 32-32m448-192a32 32 0 0 1-32 32H736a32 32 0 1 1 0-64h192a32 32 0 0 1 32 32m-640 0a32 32 0 0 1-32 32H96a32 32 0 0 1 0-64h192a32 32 0 0 1 32 32M195.2 195.2a32 32 0 0 1 45.248 0L376.32 331.008a32 32 0 0 1-45.248 45.248L195.2 240.448a32 32 0 0 1 0-45.248zm452.544 452.544a32 32 0 0 1 45.248 0L828.8 783.552a32 32 0 0 1-45.248 45.248L647.744 692.992a32 32 0 0 1 0-45.248zM828.8 195.264a32 32 0 0 1 0 45.184L692.992 376.32a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0m-452.544 452.48a32 32 0 0 1 0 45.248L240.448 828.8a32 32 0 0 1-45.248-45.248l135.808-135.808a32 32 0 0 1 45.248 0z"})]))}}),So=I3,D3=se({name:"Minus",__name:"minus",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M128 544h768a32 32 0 1 0 0-64H128a32 32 0 0 0 0 64"})]))}}),N3=D3,F3=se({name:"MoreFilled",__name:"more-filled",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M176 416a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224m336 0a112 112 0 1 1 0 224 112 112 0 0 1 0-224"})]))}}),m_=F3,B3=se({name:"More",__name:"more",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M176 416a112 112 0 1 0 0 224 112 112 0 0 0 0-224m0 64a48 48 0 1 1 0 96 48 48 0 0 1 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96m336-64a112 112 0 1 1 0 224 112 112 0 0 1 0-224m0 64a48 48 0 1 0 0 96 48 48 0 0 0 0-96"})]))}}),U3=B3,V3=se({name:"PictureFilled",__name:"picture-filled",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M96 896a32 32 0 0 1-32-32V160a32 32 0 0 1 32-32h832a32 32 0 0 1 32 32v704a32 32 0 0 1-32 32zm315.52-228.48-68.928-68.928a32 32 0 0 0-45.248 0L128 768.064h778.688l-242.112-290.56a32 32 0 0 0-49.216 0L458.752 665.408a32 32 0 0 1-47.232 2.112M256 384a96 96 0 1 0 192.064-.064A96 96 0 0 0 256 384"})]))}}),$3=V3,H3=se({name:"Plus",__name:"plus",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M480 480V128a32 32 0 0 1 64 0v352h352a32 32 0 1 1 0 64H544v352a32 32 0 1 1-64 0V544H128a32 32 0 0 1 0-64z"})]))}}),gT=H3,z3=se({name:"QuestionFilled",__name:"question-filled",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m23.744 191.488c-52.096 0-92.928 14.784-123.2 44.352-30.976 29.568-45.76 70.4-45.76 122.496h80.256c0-29.568 5.632-52.8 17.6-68.992 13.376-19.712 35.2-28.864 66.176-28.864 23.936 0 42.944 6.336 56.32 19.712 12.672 13.376 19.712 31.68 19.712 54.912 0 17.6-6.336 34.496-19.008 49.984l-8.448 9.856c-45.76 40.832-73.216 70.4-82.368 89.408-9.856 19.008-14.08 42.24-14.08 68.992v9.856h80.96v-9.856c0-16.896 3.52-31.68 10.56-45.76 6.336-12.672 15.488-24.64 28.16-35.2 33.792-29.568 54.208-48.576 60.544-55.616 16.896-22.528 26.048-51.392 26.048-86.592 0-42.944-14.08-76.736-42.24-101.376-28.16-25.344-65.472-37.312-111.232-37.312zm-12.672 406.208a54.272 54.272 0 0 0-38.72 14.784 49.408 49.408 0 0 0-15.488 38.016c0 15.488 4.928 28.16 15.488 38.016A54.848 54.848 0 0 0 523.072 768c15.488 0 28.16-4.928 38.72-14.784a51.52 51.52 0 0 0 16.192-38.72 51.968 51.968 0 0 0-15.488-38.016 55.936 55.936 0 0 0-39.424-14.784z"})]))}}),W3=z3,G3=se({name:"RefreshLeft",__name:"refresh-left",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M289.088 296.704h92.992a32 32 0 0 1 0 64H232.96a32 32 0 0 1-32-32V179.712a32 32 0 0 1 64 0v50.56a384 384 0 0 1 643.84 282.88 384 384 0 0 1-383.936 384 384 384 0 0 1-384-384h64a320 320 0 1 0 640 0 320 320 0 0 0-555.712-216.448z"})]))}}),j3=G3,X3=se({name:"RefreshRight",__name:"refresh-right",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M784.512 230.272v-50.56a32 32 0 1 1 64 0v149.056a32 32 0 0 1-32 32H667.52a32 32 0 1 1 0-64h92.992A320 320 0 1 0 524.8 833.152a320 320 0 0 0 320-320h64a384 384 0 0 1-384 384 384 384 0 0 1-384-384 384 384 0 0 1 643.712-282.88z"})]))}}),K3=X3,Y3=se({name:"ScaleToOriginal",__name:"scale-to-original",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M813.176 180.706a60.235 60.235 0 0 1 60.236 60.235v481.883a60.235 60.235 0 0 1-60.236 60.235H210.824a60.235 60.235 0 0 1-60.236-60.235V240.94a60.235 60.235 0 0 1 60.236-60.235h602.352zm0-60.235H210.824A120.47 120.47 0 0 0 90.353 240.94v481.883a120.47 120.47 0 0 0 120.47 120.47h602.353a120.47 120.47 0 0 0 120.471-120.47V240.94a120.47 120.47 0 0 0-120.47-120.47zm-120.47 180.705a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 0 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118zm-361.412 0a30.118 30.118 0 0 0-30.118 30.118v301.177a30.118 30.118 0 1 0 60.236 0V331.294a30.118 30.118 0 0 0-30.118-30.118M512 361.412a30.118 30.118 0 0 0-30.118 30.117v30.118a30.118 30.118 0 0 0 60.236 0V391.53A30.118 30.118 0 0 0 512 361.412M512 512a30.118 30.118 0 0 0-30.118 30.118v30.117a30.118 30.118 0 0 0 60.236 0v-30.117A30.118 30.118 0 0 0 512 512"})]))}}),q3=Y3,Z3=se({name:"Search",__name:"search",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704"})]))}}),J3=Z3,Q3=se({name:"SortDown",__name:"sort-down",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M576 96v709.568L333.312 562.816A32 32 0 1 0 288 608l297.408 297.344A32 32 0 0 0 640 882.688V96a32 32 0 0 0-64 0"})]))}}),eB=Q3,tB=se({name:"SortUp",__name:"sort-up",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M384 141.248V928a32 32 0 1 0 64 0V218.56l242.688 242.688A32 32 0 1 0 736 416L438.592 118.656A32 32 0 0 0 384 141.248"})]))}}),nB=tB,iB=se({name:"StarFilled",__name:"star-filled",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M283.84 867.84 512 747.776l228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72z"})]))}}),_d=iB,rB=se({name:"Star",__name:"star",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m512 747.84 228.16 119.936a6.4 6.4 0 0 0 9.28-6.72l-43.52-254.08 184.512-179.904a6.4 6.4 0 0 0-3.52-10.88l-255.104-37.12L517.76 147.904a6.4 6.4 0 0 0-11.52 0L392.192 379.072l-255.104 37.12a6.4 6.4 0 0 0-3.52 10.88L318.08 606.976l-43.584 254.08a6.4 6.4 0 0 0 9.28 6.72zM313.6 924.48a70.4 70.4 0 0 1-102.144-74.24l37.888-220.928L88.96 472.96A70.4 70.4 0 0 1 128 352.896l221.76-32.256 99.2-200.96a70.4 70.4 0 0 1 126.208 0l99.2 200.96 221.824 32.256a70.4 70.4 0 0 1 39.04 120.064L774.72 629.376l37.888 220.928a70.4 70.4 0 0 1-102.144 74.24L512 820.096l-198.4 104.32z"})]))}}),sB=rB,oB=se({name:"SuccessFilled",__name:"success-filled",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m-55.808 536.384-99.52-99.584a38.4 38.4 0 1 0-54.336 54.336l126.72 126.72a38.272 38.272 0 0 0 54.336 0l262.4-262.464a38.4 38.4 0 1 0-54.272-54.336z"})]))}}),vT=oB,aB=se({name:"View",__name:"view",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 160c320 0 512 352 512 352S832 864 512 864 0 512 0 512s192-352 512-352m0 64c-225.28 0-384.128 208.064-436.8 288 52.608 79.872 211.456 288 436.8 288 225.28 0 384.128-208.064 436.8-288-52.608-79.872-211.456-288-436.8-288zm0 64a224 224 0 1 1 0 448 224 224 0 0 1 0-448m0 64a160.192 160.192 0 0 0-160 160c0 88.192 71.744 160 160 160s160-71.808 160-160-71.744-160-160-160"})]))}}),lB=aB,cB=se({name:"WarningFilled",__name:"warning-filled",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"M512 64a448 448 0 1 1 0 896 448 448 0 0 1 0-896m0 192a58.432 58.432 0 0 0-58.24 63.744l23.36 256.384a35.072 35.072 0 0 0 69.76 0l23.296-256.384A58.432 58.432 0 0 0 512 256m0 512a51.2 51.2 0 1 0 0-102.4 51.2 51.2 0 0 0 0 102.4"})]))}}),Nh=cB,uB=se({name:"ZoomIn",__name:"zoom-in",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704m-32-384v-96a32 32 0 0 1 64 0v96h96a32 32 0 0 1 0 64h-96v96a32 32 0 0 1-64 0v-96h-96a32 32 0 0 1 0-64z"})]))}}),yT=uB,dB=se({name:"ZoomOut",__name:"zoom-out",setup(t){return(e,n)=>(L(),Q("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 1024 1024"},[te("path",{fill:"currentColor",d:"m795.904 750.72 124.992 124.928a32 32 0 0 1-45.248 45.248L750.656 795.904a416 416 0 1 1 45.248-45.248zM480 832a352 352 0 1 0 0-704 352 352 0 0 0 0 704M352 448h256a32 32 0 0 1 0 64H352a32 32 0 0 1 0-64"})]))}}),fB=dB;const bT="__epPropKey",we=t=>t,hB=t=>bt(t)&&!!t[bT],Tr=(t,e)=>{if(!bt(t)||hB(t))return t;const{values:n,required:i,default:r,type:a,validator:u}=t,o={type:a,required:!!i,validator:n||u?c=>{let f=!1,l=[];if(n&&(l=Array.from(n),kt(t,"default")&&l.push(r),f||(f=l.includes(c))),u&&(f||(f=u(c))),!f&&l.length>0){const d=[...new Set(l)].map(h=>JSON.stringify(h)).join(", ");JP(`Invalid prop: validation failed${e?` for prop "${e}"`:""}. Expected one of [${d}], got value ${JSON.stringify(c)}.`)}return f}:void 0,[bT]:!0};return kt(t,"default")&&(o.default=r),o},We=t=>Zf(Object.entries(t).map(([e,n])=>[e,Tr(n,e)])),Kt=we([String,Object,Function]),n0={Close:Cr},i0={Close:Cr,SuccessFilled:vT,InfoFilled:t0,WarningFilled:Nh,CircleCloseFilled:e0},fo={success:vT,warning:Nh,error:e0,info:t0},r0={validating:So,success:Qv,error:_o},gt=(t,e)=>{if(t.install=n=>{for(const i of[t,...Object.values(e??{})])n.component(i.name,i)},e)for(const[n,i]of Object.entries(e))t[n]=i;return t},_T=(t,e)=>(t.install=n=>{t._context=n._context,n.config.globalProperties[e]=t},t),pB=(t,e)=>(t.install=n=>{n.directive(e,t)},t),hn=t=>(t.install=Gt,t),Fh=(...t)=>e=>{t.forEach(n=>{at(n)?n(e):n.value=e})},nt={tab:"Tab",enter:"Enter",space:"Space",left:"ArrowLeft",up:"ArrowUp",right:"ArrowRight",down:"ArrowDown",esc:"Escape",delete:"Delete",backspace:"Backspace",numpadEnter:"NumpadEnter",pageUp:"PageUp",pageDown:"PageDown",home:"Home",end:"End"},mB=["year","years","month","date","dates","week","datetime","datetimerange","daterange","monthrange"],Cp=["sun","mon","tue","wed","thu","fri","sat"],_t="update:modelValue",rn="change",yi="input",g_=Symbol("INSTALLED_KEY"),zr=["","default","small","large"],ST=t=>["",...zr].includes(t);var Xi=(t=>(t[t.TEXT=1]="TEXT",t[t.CLASS=2]="CLASS",t[t.STYLE=4]="STYLE",t[t.PROPS=8]="PROPS",t[t.FULL_PROPS=16]="FULL_PROPS",t[t.HYDRATE_EVENTS=32]="HYDRATE_EVENTS",t[t.STABLE_FRAGMENT=64]="STABLE_FRAGMENT",t[t.KEYED_FRAGMENT=128]="KEYED_FRAGMENT",t[t.UNKEYED_FRAGMENT=256]="UNKEYED_FRAGMENT",t[t.NEED_PATCH=512]="NEED_PATCH",t[t.DYNAMIC_SLOTS=1024]="DYNAMIC_SLOTS",t[t.HOISTED=-1]="HOISTED",t[t.BAIL=-2]="BAIL",t))(Xi||{});function Km(t){return un(t)&&t.type===tt}function gB(t){return un(t)&&t.type===gi}function vB(t){return un(t)&&!Km(t)&&!gB(t)}const yB=t=>{if(!un(t))return{};const e=t.props||{},n=(un(t.type)?t.type.props:void 0)||{},i={};return Object.keys(n).forEach(r=>{kt(n[r],"default")&&(i[r]=n[r].default)}),Object.keys(e).forEach(r=>{i[nr(r)]=e[r]}),i},bB=t=>{if(!qe(t)||t.length>1)throw new Error("expect to receive a single Vue element child");return t[0]},io=t=>{const e=qe(t)?t:[t],n=[];return e.forEach(i=>{var r;qe(i)?n.push(...io(i)):un(i)&&qe(i.children)?n.push(...io(i.children)):(n.push(i),un(i)&&((r=i.component)!=null&&r.subTree)&&n.push(...io(i.component.subTree)))}),n},v_=t=>[...new Set(t)],Fi=t=>!t&&t!==0?[]:Array.isArray(t)?t:[t],s0=t=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(t),fn=t=>t;function _B(t){let e=0;const n=(...i)=>{e&&da(e),e=co(()=>{t(...i),e=0})};return n.cancel=()=>{da(e),e=0},n}const SB=["class","style"],wB=/^on[A-Z]/,o0=(t={})=>{const{excludeListeners:e=!1,excludeKeys:n}=t,i=P(()=>((n==null?void 0:n.value)||[]).concat(SB)),r=mt();return P(r?()=>{var a;return Zf(Object.entries((a=r.proxy)==null?void 0:a.$attrs).filter(([u])=>!i.value.includes(u)&&!(e&&wB.test(u))))}:()=>({}))},ea=({from:t,replacement:e,scope:n,version:i,ref:r,type:a="API"},u)=>{Be(()=>y(u),s=>{},{immediate:!0})},wT=(t,e,n,i)=>{let r={offsetX:0,offsetY:0};const a=o=>{const c=o.clientX,f=o.clientY,{offsetX:l,offsetY:d}=r,h=t.value.getBoundingClientRect(),p=h.left,g=h.top,m=h.width,v=h.height,b=document.documentElement.clientWidth,_=document.documentElement.clientHeight,S=-p+l,w=-g+d,C=b-p-m+l,x=_-g-v+d,M=A=>{let O=l+A.clientX-c,I=d+A.clientY-f;i!=null&&i.value||(O=Math.min(Math.max(O,S),C),I=Math.min(Math.max(I,w),x)),r={offsetX:O,offsetY:I},t.value&&(t.value.style.transform=`translate(${yn(O)}, ${yn(I)})`)},E=()=>{document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",E)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",E)},u=()=>{e.value&&t.value&&e.value.addEventListener("mousedown",a)},s=()=>{e.value&&t.value&&e.value.removeEventListener("mousedown",a)};ht(()=>{Yn(()=>{n.value?u():s()})}),en(()=>{s()})};var CB={name:"en",el:{breadcrumb:{label:"Breadcrumb"},colorpicker:{confirm:"OK",clear:"Clear",defaultLabel:"color picker",description:"current color is {color}. press enter to select a new color."},datepicker:{now:"Now",today:"Today",cancel:"Cancel",clear:"Clear",confirm:"OK",dateTablePrompt:"Use the arrow keys and enter to select the day of the month",monthTablePrompt:"Use the arrow keys and enter to select the month",yearTablePrompt:"Use the arrow keys and enter to select the year",selectedDate:"Selected date",selectDate:"Select date",selectTime:"Select time",startDate:"Start Date",startTime:"Start Time",endDate:"End Date",endTime:"End Time",prevYear:"Previous Year",nextYear:"Next Year",prevMonth:"Previous Month",nextMonth:"Next Month",year:"",month1:"January",month2:"February",month3:"March",month4:"April",month5:"May",month6:"June",month7:"July",month8:"August",month9:"September",month10:"October",month11:"November",month12:"December",week:"week",weeks:{sun:"Sun",mon:"Mon",tue:"Tue",wed:"Wed",thu:"Thu",fri:"Fri",sat:"Sat"},weeksFull:{sun:"Sunday",mon:"Monday",tue:"Tuesday",wed:"Wednesday",thu:"Thursday",fri:"Friday",sat:"Saturday"},months:{jan:"Jan",feb:"Feb",mar:"Mar",apr:"Apr",may:"May",jun:"Jun",jul:"Jul",aug:"Aug",sep:"Sep",oct:"Oct",nov:"Nov",dec:"Dec"}},inputNumber:{decrease:"decrease number",increase:"increase number"},select:{loading:"Loading",noMatch:"No matching data",noData:"No data",placeholder:"Select"},dropdown:{toggleDropdown:"Toggle Dropdown"},cascader:{noMatch:"No matching data",loading:"Loading",placeholder:"Select",noData:"No data"},pagination:{goto:"Go to",pagesize:"/page",total:"Total {total}",pageClassifier:"",page:"Page",prev:"Go to previous page",next:"Go to next page",currentPage:"page {pager}",prevPages:"Previous {pager} pages",nextPages:"Next {pager} pages",deprecationWarning:"Deprecated usages detected, please refer to the el-pagination documentation for more details"},dialog:{close:"Close this dialog"},drawer:{close:"Close this dialog"},messagebox:{title:"Message",confirm:"OK",cancel:"Cancel",error:"Illegal input",close:"Close this dialog"},upload:{deleteTip:"press delete to remove",delete:"Delete",preview:"Preview",continue:"Continue"},slider:{defaultLabel:"slider between {min} and {max}",defaultRangeStartLabel:"pick start value",defaultRangeEndLabel:"pick end value"},table:{emptyText:"No Data",confirmFilter:"Confirm",resetFilter:"Reset",clearFilter:"All",sumText:"Sum"},tour:{next:"Next",previous:"Previous",finish:"Finish"},tree:{emptyText:"No Data"},transfer:{noMatch:"No matching data",noData:"No data",titles:["List 1","List 2"],filterPlaceholder:"Enter keyword",noCheckedFormat:"{total} items",hasCheckedFormat:"{checked}/{total} checked"},image:{error:"FAILED"},pageHeader:{title:"Back"},popconfirm:{confirmButtonText:"Yes",cancelButtonText:"No"},carousel:{leftArrow:"Carousel arrow left",rightArrow:"Carousel arrow right",indicator:"Carousel switch to index {index}"}}};const xB=t=>(e,n)=>TB(e,n,y(t)),TB=(t,e,n)=>Sn(n,t,t).replace(/\{(\w+)\}/g,(i,r)=>{var a;return`${(a=e==null?void 0:e[r])!=null?a:`{${r}}`}`}),EB=t=>{const e=P(()=>y(t).name),n=ln(t)?t:Y(t);return{lang:e,locale:n,t:xB(t)}},CT=Symbol("localeContextKey"),Dt=t=>{const e=t||Je(CT,Y());return EB(P(()=>e.value||CB))},qc="el",MB="is-",Ao=(t,e,n,i,r)=>{let a=`${t}-${e}`;return n&&(a+=`-${n}`),i&&(a+=`__${i}`),r&&(a+=`--${r}`),a},xT=Symbol("namespaceContextKey"),a0=t=>{const e=t||(mt()?Je(xT,Y(qc)):Y(qc));return P(()=>y(e)||qc)},Ve=(t,e)=>{const n=a0(e);return{namespace:n,b:(g="")=>Ao(n.value,t,g,"",""),e:g=>g?Ao(n.value,t,"",g,""):"",m:g=>g?Ao(n.value,t,"","",g):"",be:(g,m)=>g&&m?Ao(n.value,t,g,m,""):"",em:(g,m)=>g&&m?Ao(n.value,t,"",g,m):"",bm:(g,m)=>g&&m?Ao(n.value,t,g,"",m):"",bem:(g,m,v)=>g&&m&&v?Ao(n.value,t,g,m,v):"",is:(g,...m)=>{const v=m.length>=1?m[0]:!0;return g&&v?`${MB}${g}`:""},cssVar:g=>{const m={};for(const v in g)g[v]&&(m[`--${n.value}-${v}`]=g[v]);return m},cssVarName:g=>`--${n.value}-${g}`,cssVarBlock:g=>{const m={};for(const v in g)g[v]&&(m[`--${n.value}-${t}-${v}`]=g[v]);return m},cssVarBlockName:g=>`--${n.value}-${t}-${g}`}},l0=(t,e={})=>{ln(t)||Rn("[useLockscreen]","You need to pass a ref param to this function");const n=e.ns||Ve("popup"),i=C1(()=>n.bm("parent","hidden"));if(!Ot||er(document.body,i.value))return;let r=0,a=!1,u="0";const s=()=>{setTimeout(()=>{oi(document==null?void 0:document.body,i.value),a&&document&&(document.body.style.width=u)},200)};Be(t,o=>{if(!o){s();return}a=!er(document.body,i.value),a&&(u=document.body.style.width),r=fT(n.namespace.value);const c=document.documentElement.clientHeight<document.body.scrollHeight,f=Zs(document.body,"overflowY");r>0&&(c||f==="scroll")&&a&&(document.body.style.width=`calc(100% - ${r}px)`),Zi(document.body,i.value)}),l1(()=>s())},AB=Tr({type:we(Boolean),default:null}),RB=Tr({type:we(Function)}),TT=t=>{const e=`update:${t}`,n=`onUpdate:${t}`,i=[e],r={[t]:AB,[n]:RB};return{useModelToggle:({indicator:u,toggleReason:s,shouldHideWhenRouteChanges:o,shouldProceed:c,onShow:f,onHide:l})=>{const d=mt(),{emit:h}=d,p=d.props,g=P(()=>at(p[n])),m=P(()=>p[t]===null),v=x=>{u.value!==!0&&(u.value=!0,s&&(s.value=x),at(f)&&f(x))},b=x=>{u.value!==!1&&(u.value=!1,s&&(s.value=x),at(l)&&l(x))},_=x=>{if(p.disabled===!0||at(c)&&!c())return;const M=g.value&&Ot;M&&h(e,!0),(m.value||!M)&&v(x)},S=x=>{if(p.disabled===!0||!Ot)return;const M=g.value&&Ot;M&&h(e,!1),(m.value||!M)&&b(x)},w=x=>{Tn(x)&&(p.disabled&&x?g.value&&h(e,!1):u.value!==x&&(x?v():b()))},C=()=>{u.value?S():_()};return Be(()=>p[t],w),o&&d.appContext.config.globalProperties.$route!==void 0&&Be(()=>({...d.proxy.$route}),()=>{o.value&&u.value&&S()}),ht(()=>{w(p[t])}),{hide:S,show:_,toggle:C,hasUpdateHandler:g}},useModelToggleProps:r,useModelToggleEmits:i}};TT("modelValue");const ET=t=>{const e=mt();return P(()=>{var n,i;return(i=(n=e==null?void 0:e.proxy)==null?void 0:n.$props)==null?void 0:i[t]})};var Mi="top",sr="bottom",or="right",Ai="left",c0="auto",Yu=[Mi,sr,or,Ai],Ll="start",_u="end",PB="clippingParents",MT="viewport",_c="popper",OB="reference",y_=Yu.reduce(function(t,e){return t.concat([e+"-"+Ll,e+"-"+_u])},[]),Ta=[].concat(Yu,[c0]).reduce(function(t,e){return t.concat([e,e+"-"+Ll,e+"-"+_u])},[]),kB="beforeRead",LB="read",IB="afterRead",DB="beforeMain",NB="main",FB="afterMain",BB="beforeWrite",UB="write",VB="afterWrite",$B=[kB,LB,IB,DB,NB,FB,BB,UB,VB];function Br(t){return t?(t.nodeName||"").toLowerCase():null}function Er(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function Il(t){var e=Er(t).Element;return t instanceof e||t instanceof Element}function tr(t){var e=Er(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function u0(t){if(typeof ShadowRoot>"u")return!1;var e=Er(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function HB(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var i=e.styles[n]||{},r=e.attributes[n]||{},a=e.elements[n];!tr(a)||!Br(a)||(Object.assign(a.style,i),Object.keys(r).forEach(function(u){var s=r[u];s===!1?a.removeAttribute(u):a.setAttribute(u,s===!0?"":s)}))})}function zB(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(i){var r=e.elements[i],a=e.attributes[i]||{},u=Object.keys(e.styles.hasOwnProperty(i)?e.styles[i]:n[i]),s=u.reduce(function(o,c){return o[c]="",o},{});!tr(r)||!Br(r)||(Object.assign(r.style,s),Object.keys(a).forEach(function(o){r.removeAttribute(o)}))})}}var AT={name:"applyStyles",enabled:!0,phase:"write",fn:HB,effect:zB,requires:["computeStyles"]};function Nr(t){return t.split("-")[0]}var ta=Math.max,Jf=Math.min,Dl=Math.round;function Nl(t,e){e===void 0&&(e=!1);var n=t.getBoundingClientRect(),i=1,r=1;if(tr(t)&&e){var a=t.offsetHeight,u=t.offsetWidth;u>0&&(i=Dl(n.width)/u||1),a>0&&(r=Dl(n.height)/a||1)}return{width:n.width/i,height:n.height/r,top:n.top/r,right:n.right/i,bottom:n.bottom/r,left:n.left/i,x:n.left/i,y:n.top/r}}function d0(t){var e=Nl(t),n=t.offsetWidth,i=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-i)<=1&&(i=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:i}}function RT(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&u0(n)){var i=e;do{if(i&&t.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function gs(t){return Er(t).getComputedStyle(t)}function WB(t){return["table","td","th"].indexOf(Br(t))>=0}function wo(t){return((Il(t)?t.ownerDocument:t.document)||window.document).documentElement}function Bh(t){return Br(t)==="html"?t:t.assignedSlot||t.parentNode||(u0(t)?t.host:null)||wo(t)}function b_(t){return!tr(t)||gs(t).position==="fixed"?null:t.offsetParent}function GB(t){var e=navigator.userAgent.toLowerCase().indexOf("firefox")!==-1,n=navigator.userAgent.indexOf("Trident")!==-1;if(n&&tr(t)){var i=gs(t);if(i.position==="fixed")return null}var r=Bh(t);for(u0(r)&&(r=r.host);tr(r)&&["html","body"].indexOf(Br(r))<0;){var a=gs(r);if(a.transform!=="none"||a.perspective!=="none"||a.contain==="paint"||["transform","perspective"].indexOf(a.willChange)!==-1||e&&a.willChange==="filter"||e&&a.filter&&a.filter!=="none")return r;r=r.parentNode}return null}function qu(t){for(var e=Er(t),n=b_(t);n&&WB(n)&&gs(n).position==="static";)n=b_(n);return n&&(Br(n)==="html"||Br(n)==="body"&&gs(n).position==="static")?e:n||GB(t)||e}function f0(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function Zc(t,e,n){return ta(t,Jf(e,n))}function jB(t,e,n){var i=Zc(t,e,n);return i>n?n:i}function PT(){return{top:0,right:0,bottom:0,left:0}}function OT(t){return Object.assign({},PT(),t)}function kT(t,e){return e.reduce(function(n,i){return n[i]=t,n},{})}var XB=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,OT(typeof t!="number"?t:kT(t,Yu))};function KB(t){var e,n=t.state,i=t.name,r=t.options,a=n.elements.arrow,u=n.modifiersData.popperOffsets,s=Nr(n.placement),o=f0(s),c=[Ai,or].indexOf(s)>=0,f=c?"height":"width";if(!(!a||!u)){var l=XB(r.padding,n),d=d0(a),h=o==="y"?Mi:Ai,p=o==="y"?sr:or,g=n.rects.reference[f]+n.rects.reference[o]-u[o]-n.rects.popper[f],m=u[o]-n.rects.reference[o],v=qu(a),b=v?o==="y"?v.clientHeight||0:v.clientWidth||0:0,_=g/2-m/2,S=l[h],w=b-d[f]-l[p],C=b/2-d[f]/2+_,x=Zc(S,C,w),M=o;n.modifiersData[i]=(e={},e[M]=x,e.centerOffset=x-C,e)}}function YB(t){var e=t.state,n=t.options,i=n.element,r=i===void 0?"[data-popper-arrow]":i;r!=null&&(typeof r=="string"&&(r=e.elements.popper.querySelector(r),!r)||!RT(e.elements.popper,r)||(e.elements.arrow=r))}var qB={name:"arrow",enabled:!0,phase:"main",fn:KB,effect:YB,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Fl(t){return t.split("-")[1]}var ZB={top:"auto",right:"auto",bottom:"auto",left:"auto"};function JB(t){var e=t.x,n=t.y,i=window,r=i.devicePixelRatio||1;return{x:Dl(e*r)/r||0,y:Dl(n*r)/r||0}}function __(t){var e,n=t.popper,i=t.popperRect,r=t.placement,a=t.variation,u=t.offsets,s=t.position,o=t.gpuAcceleration,c=t.adaptive,f=t.roundOffsets,l=t.isFixed,d=u.x,h=d===void 0?0:d,p=u.y,g=p===void 0?0:p,m=typeof f=="function"?f({x:h,y:g}):{x:h,y:g};h=m.x,g=m.y;var v=u.hasOwnProperty("x"),b=u.hasOwnProperty("y"),_=Ai,S=Mi,w=window;if(c){var C=qu(n),x="clientHeight",M="clientWidth";if(C===Er(n)&&(C=wo(n),gs(C).position!=="static"&&s==="absolute"&&(x="scrollHeight",M="scrollWidth")),C=C,r===Mi||(r===Ai||r===or)&&a===_u){S=sr;var E=l&&C===w&&w.visualViewport?w.visualViewport.height:C[x];g-=E-i.height,g*=o?1:-1}if(r===Ai||(r===Mi||r===sr)&&a===_u){_=or;var A=l&&C===w&&w.visualViewport?w.visualViewport.width:C[M];h-=A-i.width,h*=o?1:-1}}var O=Object.assign({position:s},c&&ZB),I=f===!0?JB({x:h,y:g}):{x:h,y:g};if(h=I.x,g=I.y,o){var $;return Object.assign({},O,($={},$[S]=b?"0":"",$[_]=v?"0":"",$.transform=(w.devicePixelRatio||1)<=1?"translate("+h+"px, "+g+"px)":"translate3d("+h+"px, "+g+"px, 0)",$))}return Object.assign({},O,(e={},e[S]=b?g+"px":"",e[_]=v?h+"px":"",e.transform="",e))}function QB(t){var e=t.state,n=t.options,i=n.gpuAcceleration,r=i===void 0?!0:i,a=n.adaptive,u=a===void 0?!0:a,s=n.roundOffsets,o=s===void 0?!0:s,c={placement:Nr(e.placement),variation:Fl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:r,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,__(Object.assign({},c,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:u,roundOffsets:o})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,__(Object.assign({},c,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:o})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var LT={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:QB,data:{}},Sd={passive:!0};function e4(t){var e=t.state,n=t.instance,i=t.options,r=i.scroll,a=r===void 0?!0:r,u=i.resize,s=u===void 0?!0:u,o=Er(e.elements.popper),c=[].concat(e.scrollParents.reference,e.scrollParents.popper);return a&&c.forEach(function(f){f.addEventListener("scroll",n.update,Sd)}),s&&o.addEventListener("resize",n.update,Sd),function(){a&&c.forEach(function(f){f.removeEventListener("scroll",n.update,Sd)}),s&&o.removeEventListener("resize",n.update,Sd)}}var IT={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:e4,data:{}},t4={left:"right",right:"left",bottom:"top",top:"bottom"};function mf(t){return t.replace(/left|right|bottom|top/g,function(e){return t4[e]})}var n4={start:"end",end:"start"};function S_(t){return t.replace(/start|end/g,function(e){return n4[e]})}function h0(t){var e=Er(t),n=e.pageXOffset,i=e.pageYOffset;return{scrollLeft:n,scrollTop:i}}function p0(t){return Nl(wo(t)).left+h0(t).scrollLeft}function i4(t){var e=Er(t),n=wo(t),i=e.visualViewport,r=n.clientWidth,a=n.clientHeight,u=0,s=0;return i&&(r=i.width,a=i.height,/^((?!chrome|android).)*safari/i.test(navigator.userAgent)||(u=i.offsetLeft,s=i.offsetTop)),{width:r,height:a,x:u+p0(t),y:s}}function r4(t){var e,n=wo(t),i=h0(t),r=(e=t.ownerDocument)==null?void 0:e.body,a=ta(n.scrollWidth,n.clientWidth,r?r.scrollWidth:0,r?r.clientWidth:0),u=ta(n.scrollHeight,n.clientHeight,r?r.scrollHeight:0,r?r.clientHeight:0),s=-i.scrollLeft+p0(t),o=-i.scrollTop;return gs(r||n).direction==="rtl"&&(s+=ta(n.clientWidth,r?r.clientWidth:0)-a),{width:a,height:u,x:s,y:o}}function m0(t){var e=gs(t),n=e.overflow,i=e.overflowX,r=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+r+i)}function DT(t){return["html","body","#document"].indexOf(Br(t))>=0?t.ownerDocument.body:tr(t)&&m0(t)?t:DT(Bh(t))}function Jc(t,e){var n;e===void 0&&(e=[]);var i=DT(t),r=i===((n=t.ownerDocument)==null?void 0:n.body),a=Er(i),u=r?[a].concat(a.visualViewport||[],m0(i)?i:[]):i,s=e.concat(u);return r?s:s.concat(Jc(Bh(u)))}function Ym(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function s4(t){var e=Nl(t);return e.top=e.top+t.clientTop,e.left=e.left+t.clientLeft,e.bottom=e.top+t.clientHeight,e.right=e.left+t.clientWidth,e.width=t.clientWidth,e.height=t.clientHeight,e.x=e.left,e.y=e.top,e}function w_(t,e){return e===MT?Ym(i4(t)):Il(e)?s4(e):Ym(r4(wo(t)))}function o4(t){var e=Jc(Bh(t)),n=["absolute","fixed"].indexOf(gs(t).position)>=0,i=n&&tr(t)?qu(t):t;return Il(i)?e.filter(function(r){return Il(r)&&RT(r,i)&&Br(r)!=="body"}):[]}function a4(t,e,n){var i=e==="clippingParents"?o4(t):[].concat(e),r=[].concat(i,[n]),a=r[0],u=r.reduce(function(s,o){var c=w_(t,o);return s.top=ta(c.top,s.top),s.right=Jf(c.right,s.right),s.bottom=Jf(c.bottom,s.bottom),s.left=ta(c.left,s.left),s},w_(t,a));return u.width=u.right-u.left,u.height=u.bottom-u.top,u.x=u.left,u.y=u.top,u}function NT(t){var e=t.reference,n=t.element,i=t.placement,r=i?Nr(i):null,a=i?Fl(i):null,u=e.x+e.width/2-n.width/2,s=e.y+e.height/2-n.height/2,o;switch(r){case Mi:o={x:u,y:e.y-n.height};break;case sr:o={x:u,y:e.y+e.height};break;case or:o={x:e.x+e.width,y:s};break;case Ai:o={x:e.x-n.width,y:s};break;default:o={x:e.x,y:e.y}}var c=r?f0(r):null;if(c!=null){var f=c==="y"?"height":"width";switch(a){case Ll:o[c]=o[c]-(e[f]/2-n[f]/2);break;case _u:o[c]=o[c]+(e[f]/2-n[f]/2);break}}return o}function Su(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=i===void 0?t.placement:i,a=n.boundary,u=a===void 0?PB:a,s=n.rootBoundary,o=s===void 0?MT:s,c=n.elementContext,f=c===void 0?_c:c,l=n.altBoundary,d=l===void 0?!1:l,h=n.padding,p=h===void 0?0:h,g=OT(typeof p!="number"?p:kT(p,Yu)),m=f===_c?OB:_c,v=t.rects.popper,b=t.elements[d?m:f],_=a4(Il(b)?b:b.contextElement||wo(t.elements.popper),u,o),S=Nl(t.elements.reference),w=NT({reference:S,element:v,strategy:"absolute",placement:r}),C=Ym(Object.assign({},v,w)),x=f===_c?C:S,M={top:_.top-x.top+g.top,bottom:x.bottom-_.bottom+g.bottom,left:_.left-x.left+g.left,right:x.right-_.right+g.right},E=t.modifiersData.offset;if(f===_c&&E){var A=E[r];Object.keys(M).forEach(function(O){var I=[or,sr].indexOf(O)>=0?1:-1,$=[Mi,sr].indexOf(O)>=0?"y":"x";M[O]+=A[$]*I})}return M}function l4(t,e){e===void 0&&(e={});var n=e,i=n.placement,r=n.boundary,a=n.rootBoundary,u=n.padding,s=n.flipVariations,o=n.allowedAutoPlacements,c=o===void 0?Ta:o,f=Fl(i),l=f?s?y_:y_.filter(function(p){return Fl(p)===f}):Yu,d=l.filter(function(p){return c.indexOf(p)>=0});d.length===0&&(d=l);var h=d.reduce(function(p,g){return p[g]=Su(t,{placement:g,boundary:r,rootBoundary:a,padding:u})[Nr(g)],p},{});return Object.keys(h).sort(function(p,g){return h[p]-h[g]})}function c4(t){if(Nr(t)===c0)return[];var e=mf(t);return[S_(t),e,S_(e)]}function u4(t){var e=t.state,n=t.options,i=t.name;if(!e.modifiersData[i]._skip){for(var r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,s=u===void 0?!0:u,o=n.fallbackPlacements,c=n.padding,f=n.boundary,l=n.rootBoundary,d=n.altBoundary,h=n.flipVariations,p=h===void 0?!0:h,g=n.allowedAutoPlacements,m=e.options.placement,v=Nr(m),b=v===m,_=o||(b||!p?[mf(m)]:c4(m)),S=[m].concat(_).reduce(function(W,j){return W.concat(Nr(j)===c0?l4(e,{placement:j,boundary:f,rootBoundary:l,padding:c,flipVariations:p,allowedAutoPlacements:g}):j)},[]),w=e.rects.reference,C=e.rects.popper,x=new Map,M=!0,E=S[0],A=0;A<S.length;A++){var O=S[A],I=Nr(O),$=Fl(O)===Ll,H=[Mi,sr].indexOf(I)>=0,B=H?"width":"height",N=Su(e,{placement:O,boundary:f,rootBoundary:l,altBoundary:d,padding:c}),k=H?$?or:Ai:$?sr:Mi;w[B]>C[B]&&(k=mf(k));var D=mf(k),T=[];if(a&&T.push(N[I]<=0),s&&T.push(N[k]<=0,N[D]<=0),T.every(function(W){return W})){E=O,M=!1;break}x.set(O,T)}if(M)for(var R=p?3:1,V=function(W){var j=S.find(function(K){var z=x.get(K);if(z)return z.slice(0,W).every(function(ee){return ee})});if(j)return E=j,"break"},U=R;U>0;U--){var X=V(U);if(X==="break")break}e.placement!==E&&(e.modifiersData[i]._skip=!0,e.placement=E,e.reset=!0)}}var d4={name:"flip",enabled:!0,phase:"main",fn:u4,requiresIfExists:["offset"],data:{_skip:!1}};function C_(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function x_(t){return[Mi,or,sr,Ai].some(function(e){return t[e]>=0})}function f4(t){var e=t.state,n=t.name,i=e.rects.reference,r=e.rects.popper,a=e.modifiersData.preventOverflow,u=Su(e,{elementContext:"reference"}),s=Su(e,{altBoundary:!0}),o=C_(u,i),c=C_(s,r,a),f=x_(o),l=x_(c);e.modifiersData[n]={referenceClippingOffsets:o,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:l},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":l})}var h4={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:f4};function p4(t,e,n){var i=Nr(t),r=[Ai,Mi].indexOf(i)>=0?-1:1,a=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,u=a[0],s=a[1];return u=u||0,s=(s||0)*r,[Ai,or].indexOf(i)>=0?{x:s,y:u}:{x:u,y:s}}function m4(t){var e=t.state,n=t.options,i=t.name,r=n.offset,a=r===void 0?[0,0]:r,u=Ta.reduce(function(f,l){return f[l]=p4(l,e.rects,a),f},{}),s=u[e.placement],o=s.x,c=s.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=o,e.modifiersData.popperOffsets.y+=c),e.modifiersData[i]=u}var g4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:m4};function v4(t){var e=t.state,n=t.name;e.modifiersData[n]=NT({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}var FT={name:"popperOffsets",enabled:!0,phase:"read",fn:v4,data:{}};function y4(t){return t==="x"?"y":"x"}function b4(t){var e=t.state,n=t.options,i=t.name,r=n.mainAxis,a=r===void 0?!0:r,u=n.altAxis,s=u===void 0?!1:u,o=n.boundary,c=n.rootBoundary,f=n.altBoundary,l=n.padding,d=n.tether,h=d===void 0?!0:d,p=n.tetherOffset,g=p===void 0?0:p,m=Su(e,{boundary:o,rootBoundary:c,padding:l,altBoundary:f}),v=Nr(e.placement),b=Fl(e.placement),_=!b,S=f0(v),w=y4(S),C=e.modifiersData.popperOffsets,x=e.rects.reference,M=e.rects.popper,E=typeof g=="function"?g(Object.assign({},e.rects,{placement:e.placement})):g,A=typeof E=="number"?{mainAxis:E,altAxis:E}:Object.assign({mainAxis:0,altAxis:0},E),O=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,I={x:0,y:0};if(C){if(a){var $,H=S==="y"?Mi:Ai,B=S==="y"?sr:or,N=S==="y"?"height":"width",k=C[S],D=k+m[H],T=k-m[B],R=h?-M[N]/2:0,V=b===Ll?x[N]:M[N],U=b===Ll?-M[N]:-x[N],X=e.elements.arrow,W=h&&X?d0(X):{width:0,height:0},j=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:PT(),K=j[H],z=j[B],ee=Zc(0,x[N],W[N]),ue=_?x[N]/2-R-ee-K-A.mainAxis:V-ee-K-A.mainAxis,ne=_?-x[N]/2+R+ee+z+A.mainAxis:U+ee+z+A.mainAxis,le=e.elements.arrow&&qu(e.elements.arrow),Me=le?S==="y"?le.clientTop||0:le.clientLeft||0:0,q=($=O==null?void 0:O[S])!=null?$:0,J=k+ue-q-Me,ce=k+ne-q,pe=Zc(h?Jf(D,J):D,k,h?ta(T,ce):T);C[S]=pe,I[S]=pe-k}if(s){var re,he=S==="x"?Mi:Ai,Ce=S==="x"?sr:or,Oe=C[w],ke=w==="y"?"height":"width",G=Oe+m[he],Z=Oe-m[Ce],_e=[Mi,Ai].indexOf(v)!==-1,de=(re=O==null?void 0:O[w])!=null?re:0,Re=_e?G:Oe-x[ke]-M[ke]-de+A.altAxis,Fe=_e?Oe+x[ke]+M[ke]-de-A.altAxis:Z,ye=h&&_e?jB(Re,Oe,Fe):Zc(h?Re:G,Oe,h?Fe:Z);C[w]=ye,I[w]=ye-Oe}e.modifiersData[i]=I}}var _4={name:"preventOverflow",enabled:!0,phase:"main",fn:b4,requiresIfExists:["offset"]};function S4(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function w4(t){return t===Er(t)||!tr(t)?h0(t):S4(t)}function C4(t){var e=t.getBoundingClientRect(),n=Dl(e.width)/t.offsetWidth||1,i=Dl(e.height)/t.offsetHeight||1;return n!==1||i!==1}function x4(t,e,n){n===void 0&&(n=!1);var i=tr(e),r=tr(e)&&C4(e),a=wo(e),u=Nl(t,r),s={scrollLeft:0,scrollTop:0},o={x:0,y:0};return(i||!i&&!n)&&((Br(e)!=="body"||m0(a))&&(s=w4(e)),tr(e)?(o=Nl(e,!0),o.x+=e.clientLeft,o.y+=e.clientTop):a&&(o.x=p0(a))),{x:u.left+s.scrollLeft-o.x,y:u.top+s.scrollTop-o.y,width:u.width,height:u.height}}function T4(t){var e=new Map,n=new Set,i=[];t.forEach(function(a){e.set(a.name,a)});function r(a){n.add(a.name);var u=[].concat(a.requires||[],a.requiresIfExists||[]);u.forEach(function(s){if(!n.has(s)){var o=e.get(s);o&&r(o)}}),i.push(a)}return t.forEach(function(a){n.has(a.name)||r(a)}),i}function E4(t){var e=T4(t);return $B.reduce(function(n,i){return n.concat(e.filter(function(r){return r.phase===i}))},[])}function M4(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function A4(t){var e=t.reduce(function(n,i){var r=n[i.name];return n[i.name]=r?Object.assign({},r,i,{options:Object.assign({},r.options,i.options),data:Object.assign({},r.data,i.data)}):i,n},{});return Object.keys(e).map(function(n){return e[n]})}var T_={placement:"bottom",modifiers:[],strategy:"absolute"};function E_(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function g0(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,i=n===void 0?[]:n,r=e.defaultOptions,a=r===void 0?T_:r;return function(u,s,o){o===void 0&&(o=a);var c={placement:"bottom",orderedModifiers:[],options:Object.assign({},T_,a),modifiersData:{},elements:{reference:u,popper:s},attributes:{},styles:{}},f=[],l=!1,d={state:c,setOptions:function(g){var m=typeof g=="function"?g(c.options):g;p(),c.options=Object.assign({},a,c.options,m),c.scrollParents={reference:Il(u)?Jc(u):u.contextElement?Jc(u.contextElement):[],popper:Jc(s)};var v=E4(A4([].concat(i,c.options.modifiers)));return c.orderedModifiers=v.filter(function(b){return b.enabled}),h(),d.update()},forceUpdate:function(){if(!l){var g=c.elements,m=g.reference,v=g.popper;if(E_(m,v)){c.rects={reference:x4(m,qu(v),c.options.strategy==="fixed"),popper:d0(v)},c.reset=!1,c.placement=c.options.placement,c.orderedModifiers.forEach(function(M){return c.modifiersData[M.name]=Object.assign({},M.data)});for(var b=0;b<c.orderedModifiers.length;b++){if(c.reset===!0){c.reset=!1,b=-1;continue}var _=c.orderedModifiers[b],S=_.fn,w=_.options,C=w===void 0?{}:w,x=_.name;typeof S=="function"&&(c=S({state:c,options:C,name:x,instance:d})||c)}}}},update:M4(function(){return new Promise(function(g){d.forceUpdate(),g(c)})}),destroy:function(){p(),l=!0}};if(!E_(u,s))return d;d.setOptions(o).then(function(g){!l&&o.onFirstUpdate&&o.onFirstUpdate(g)});function h(){c.orderedModifiers.forEach(function(g){var m=g.name,v=g.options,b=v===void 0?{}:v,_=g.effect;if(typeof _=="function"){var S=_({state:c,name:m,instance:d,options:b}),w=function(){};f.push(S||w)}})}function p(){f.forEach(function(g){return g()}),f=[]}return d}}g0();var R4=[IT,FT,LT,AT];g0({defaultModifiers:R4});var P4=[IT,FT,LT,AT,g4,d4,_4,qB,h4],O4=g0({defaultModifiers:P4});const k4=(t,e,n={})=>{const i={name:"updateState",enabled:!0,phase:"write",fn:({state:o})=>{const c=L4(o);Object.assign(u.value,c)},requires:["computeStyles"]},r=P(()=>{const{onFirstUpdate:o,placement:c,strategy:f,modifiers:l}=y(n);return{onFirstUpdate:o,placement:c||"bottom",strategy:f||"absolute",modifiers:[...l||[],i,{name:"applyStyles",enabled:!1}]}}),a=an(),u=Y({styles:{popper:{position:y(r).strategy,left:"0",top:"0"},arrow:{position:"absolute"}},attributes:{}}),s=()=>{a.value&&(a.value.destroy(),a.value=void 0)};return Be(r,o=>{const c=y(a);c&&c.setOptions(o)},{deep:!0}),Be([t,e],([o,c])=>{s(),!(!o||!c)&&(a.value=O4(o,c,y(r)))}),en(()=>{s()}),{state:P(()=>{var o;return{...((o=y(a))==null?void 0:o.state)||{}}}),styles:P(()=>y(u).styles),attributes:P(()=>y(u).attributes),update:()=>{var o;return(o=y(a))==null?void 0:o.update()},forceUpdate:()=>{var o;return(o=y(a))==null?void 0:o.forceUpdate()},instanceRef:P(()=>y(a))}};function L4(t){const e=Object.keys(t.elements),n=Zf(e.map(r=>[r,t.styles[r]||{}])),i=Zf(e.map(r=>[r,t.attributes[r]]));return{styles:n,attributes:i}}const v0=t=>{if(!t)return{onClick:Gt,onMousedown:Gt,onMouseup:Gt};let e=!1,n=!1;return{onClick:u=>{e&&n&&t(u),e=n=!1},onMousedown:u=>{e=u.target===u.currentTarget},onMouseup:u=>{n=u.target===u.currentTarget}}},I4=(t,e=0)=>{if(e===0)return t;const n=Y(!1);let i=0;const r=()=>{i&&clearTimeout(i),i=window.setTimeout(()=>{n.value=t.value},e)};return ht(r),Be(()=>t.value,a=>{a?r():n.value=a}),n};function M_(){let t;const e=(i,r)=>{n(),t=window.setTimeout(i,r)},n=()=>window.clearTimeout(t);return zu(()=>n()),{registerTimeout:e,cancelTimeout:n}}const A_={prefix:Math.floor(Math.random()*1e4),current:0},D4=Symbol("elIdInjection"),y0=()=>mt()?Je(D4,A_):A_,Jn=t=>{const e=y0(),n=a0();return P(()=>y(t)||`${n.value}-id-${e.prefix}-${e.current++}`)};let tl=[];const R_=t=>{const e=t;e.key===nt.esc&&tl.forEach(n=>n(e))},N4=t=>{ht(()=>{tl.length===0&&document.addEventListener("keydown",R_),Ot&&tl.push(t)}),en(()=>{tl=tl.filter(e=>e!==t),tl.length===0&&Ot&&document.removeEventListener("keydown",R_)})};let P_;const BT=()=>{const t=a0(),e=y0(),n=P(()=>`${t.value}-popper-container-${e.prefix}`),i=P(()=>`#${n.value}`);return{id:n,selector:i}},F4=t=>{const e=document.createElement("div");return e.id=t,document.body.appendChild(e),e},B4=()=>{const{id:t,selector:e}=BT();return Th(()=>{Ot&&!P_&&!document.body.querySelector(e.value)&&(P_=F4(t.value))}),{id:t,selector:e}},U4=We({showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0}}),V4=({showAfter:t,hideAfter:e,autoClose:n,open:i,close:r})=>{const{registerTimeout:a}=M_(),{registerTimeout:u,cancelTimeout:s}=M_();return{onOpen:f=>{a(()=>{i(f);const l=y(n);ot(l)&&l>0&&u(()=>{r(f)},l)},y(t))},onClose:f=>{s(),a(()=>{r(f)},y(e))}}},UT=Symbol("elForwardRef"),$4=t=>{Mt(UT,{setForwardRef:n=>{t.value=n}})},H4=t=>({mounted(e){t(e)},updated(e){t(e)},unmounted(){t(null)}}),O_={current:0},k_=Y(0),VT=2e3,L_=Symbol("elZIndexContextKey"),$T=Symbol("zIndexContextKey"),oc=t=>{const e=mt()?Je(L_,O_):O_,n=t||(mt()?Je($T,void 0):void 0),i=P(()=>{const u=y(n);return ot(u)?u:VT}),r=P(()=>i.value+k_.value),a=()=>(e.current++,k_.value=e.current,r.value);return!Ot&&Je(L_),{initialZIndex:i,currentZIndex:r,nextZIndex:a}},Bl=Math.min,na=Math.max,Qf=Math.round,wd=Math.floor,ho=t=>({x:t,y:t}),z4={left:"right",right:"left",bottom:"top",top:"bottom"},W4={start:"end",end:"start"};function qm(t,e,n){return na(t,Bl(e,n))}function Zu(t,e){return typeof t=="function"?t(e):t}function fa(t){return t.split("-")[0]}function Ju(t){return t.split("-")[1]}function HT(t){return t==="x"?"y":"x"}function b0(t){return t==="y"?"height":"width"}function Uh(t){return["top","bottom"].includes(fa(t))?"y":"x"}function _0(t){return HT(Uh(t))}function G4(t,e,n){n===void 0&&(n=!1);const i=Ju(t),r=_0(t),a=b0(r);let u=r==="x"?i===(n?"end":"start")?"right":"left":i==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(u=eh(u)),[u,eh(u)]}function j4(t){const e=eh(t);return[Zm(t),e,Zm(e)]}function Zm(t){return t.replace(/start|end/g,e=>W4[e])}function X4(t,e,n){const i=["left","right"],r=["right","left"],a=["top","bottom"],u=["bottom","top"];switch(t){case"top":case"bottom":return n?e?r:i:e?i:r;case"left":case"right":return e?a:u;default:return[]}}function K4(t,e,n,i){const r=Ju(t);let a=X4(fa(t),n==="start",i);return r&&(a=a.map(u=>u+"-"+r),e&&(a=a.concat(a.map(Zm)))),a}function eh(t){return t.replace(/left|right|bottom|top/g,e=>z4[e])}function Y4(t){return{top:0,right:0,bottom:0,left:0,...t}}function zT(t){return typeof t!="number"?Y4(t):{top:t,right:t,bottom:t,left:t}}function th(t){return{...t,top:t.y,left:t.x,right:t.x+t.width,bottom:t.y+t.height}}function I_(t,e,n){let{reference:i,floating:r}=t;const a=Uh(e),u=_0(e),s=b0(u),o=fa(e),c=a==="y",f=i.x+i.width/2-r.width/2,l=i.y+i.height/2-r.height/2,d=i[s]/2-r[s]/2;let h;switch(o){case"top":h={x:f,y:i.y-r.height};break;case"bottom":h={x:f,y:i.y+i.height};break;case"right":h={x:i.x+i.width,y:l};break;case"left":h={x:i.x-r.width,y:l};break;default:h={x:i.x,y:i.y}}switch(Ju(e)){case"start":h[u]-=d*(n&&c?-1:1);break;case"end":h[u]+=d*(n&&c?-1:1);break}return h}const q4=async(t,e,n)=>{const{placement:i="bottom",strategy:r="absolute",middleware:a=[],platform:u}=n,s=a.filter(Boolean),o=await(u.isRTL==null?void 0:u.isRTL(e));let c=await u.getElementRects({reference:t,floating:e,strategy:r}),{x:f,y:l}=I_(c,i,o),d=i,h={},p=0;for(let g=0;g<s.length;g++){const{name:m,fn:v}=s[g],{x:b,y:_,data:S,reset:w}=await v({x:f,y:l,initialPlacement:i,placement:d,strategy:r,middlewareData:h,rects:c,platform:u,elements:{reference:t,floating:e}});f=b??f,l=_??l,h={...h,[m]:{...h[m],...S}},w&&p<=50&&(p++,typeof w=="object"&&(w.placement&&(d=w.placement),w.rects&&(c=w.rects===!0?await u.getElementRects({reference:t,floating:e,strategy:r}):w.rects),{x:f,y:l}=I_(c,d,o)),g=-1)}return{x:f,y:l,placement:d,strategy:r,middlewareData:h}};async function S0(t,e){var n;e===void 0&&(e={});const{x:i,y:r,platform:a,rects:u,elements:s,strategy:o}=t,{boundary:c="clippingAncestors",rootBoundary:f="viewport",elementContext:l="floating",altBoundary:d=!1,padding:h=0}=Zu(e,t),p=zT(h),m=s[d?l==="floating"?"reference":"floating":l],v=th(await a.getClippingRect({element:(n=await(a.isElement==null?void 0:a.isElement(m)))==null||n?m:m.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(s.floating)),boundary:c,rootBoundary:f,strategy:o})),b=l==="floating"?{...u.floating,x:i,y:r}:u.reference,_=await(a.getOffsetParent==null?void 0:a.getOffsetParent(s.floating)),S=await(a.isElement==null?void 0:a.isElement(_))?await(a.getScale==null?void 0:a.getScale(_))||{x:1,y:1}:{x:1,y:1},w=th(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:s,rect:b,offsetParent:_,strategy:o}):b);return{top:(v.top-w.top+p.top)/S.y,bottom:(w.bottom-v.bottom+p.bottom)/S.y,left:(v.left-w.left+p.left)/S.x,right:(w.right-v.right+p.right)/S.x}}const Z4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:i,placement:r,rects:a,platform:u,elements:s,middlewareData:o}=e,{element:c,padding:f=0}=Zu(t,e)||{};if(c==null)return{};const l=zT(f),d={x:n,y:i},h=_0(r),p=b0(h),g=await u.getDimensions(c),m=h==="y",v=m?"top":"left",b=m?"bottom":"right",_=m?"clientHeight":"clientWidth",S=a.reference[p]+a.reference[h]-d[h]-a.floating[p],w=d[h]-a.reference[h],C=await(u.getOffsetParent==null?void 0:u.getOffsetParent(c));let x=C?C[_]:0;(!x||!await(u.isElement==null?void 0:u.isElement(C)))&&(x=s.floating[_]||a.floating[p]);const M=S/2-w/2,E=x/2-g[p]/2-1,A=Bl(l[v],E),O=Bl(l[b],E),I=A,$=x-g[p]-O,H=x/2-g[p]/2+M,B=qm(I,H,$),N=!o.arrow&&Ju(r)!=null&&H!==B&&a.reference[p]/2-(H<I?A:O)-g[p]/2<0,k=N?H<I?H-I:H-$:0;return{[h]:d[h]+k,data:{[h]:B,centerOffset:H-B-k,...N&&{alignmentOffset:k}},reset:N}}}),J4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,i;const{placement:r,middlewareData:a,rects:u,initialPlacement:s,platform:o,elements:c}=e,{mainAxis:f=!0,crossAxis:l=!0,fallbackPlacements:d,fallbackStrategy:h="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:g=!0,...m}=Zu(t,e);if((n=a.arrow)!=null&&n.alignmentOffset)return{};const v=fa(r),b=fa(s)===s,_=await(o.isRTL==null?void 0:o.isRTL(c.floating)),S=d||(b||!g?[eh(s)]:j4(s));!d&&p!=="none"&&S.push(...K4(s,g,p,_));const w=[s,...S],C=await S0(e,m),x=[];let M=((i=a.flip)==null?void 0:i.overflows)||[];if(f&&x.push(C[v]),l){const I=G4(r,u,_);x.push(C[I[0]],C[I[1]])}if(M=[...M,{placement:r,overflows:x}],!x.every(I=>I<=0)){var E,A;const I=(((E=a.flip)==null?void 0:E.index)||0)+1,$=w[I];if($)return{data:{index:I,overflows:M},reset:{placement:$}};let H=(A=M.filter(B=>B.overflows[0]<=0).sort((B,N)=>B.overflows[1]-N.overflows[1])[0])==null?void 0:A.placement;if(!H)switch(h){case"bestFit":{var O;const B=(O=M.map(N=>[N.placement,N.overflows.filter(k=>k>0).reduce((k,D)=>k+D,0)]).sort((N,k)=>N[1]-k[1])[0])==null?void 0:O[0];B&&(H=B);break}case"initialPlacement":H=s;break}if(r!==H)return{reset:{placement:H}}}return{}}}};async function Q4(t,e){const{placement:n,platform:i,elements:r}=t,a=await(i.isRTL==null?void 0:i.isRTL(r.floating)),u=fa(n),s=Ju(n),o=Uh(n)==="y",c=["left","top"].includes(u)?-1:1,f=a&&o?-1:1,l=Zu(e,t);let{mainAxis:d,crossAxis:h,alignmentAxis:p}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...l};return s&&typeof p=="number"&&(h=s==="end"?p*-1:p),o?{x:h*f,y:d*c}:{x:d*c,y:h*f}}const WT=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,i;const{x:r,y:a,placement:u,middlewareData:s}=e,o=await Q4(e,t);return u===((n=s.offset)==null?void 0:n.placement)&&(i=s.arrow)!=null&&i.alignmentOffset?{}:{x:r+o.x,y:a+o.y,data:{...o,placement:u}}}}},eU=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:i,placement:r}=e,{mainAxis:a=!0,crossAxis:u=!1,limiter:s={fn:m=>{let{x:v,y:b}=m;return{x:v,y:b}}},...o}=Zu(t,e),c={x:n,y:i},f=await S0(e,o),l=Uh(fa(r)),d=HT(l);let h=c[d],p=c[l];if(a){const m=d==="y"?"top":"left",v=d==="y"?"bottom":"right",b=h+f[m],_=h-f[v];h=qm(b,h,_)}if(u){const m=l==="y"?"top":"left",v=l==="y"?"bottom":"right",b=p+f[m],_=p-f[v];p=qm(b,p,_)}const g=s.fn({...e,[d]:h,[l]:p});return{...g,data:{x:g.x-n,y:g.y-i}}}}};function po(t){return GT(t)?(t.nodeName||"").toLowerCase():"#document"}function $i(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ts(t){var e;return(e=(GT(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function GT(t){return t instanceof Node||t instanceof $i(t).Node}function vs(t){return t instanceof Element||t instanceof $i(t).Element}function Ur(t){return t instanceof HTMLElement||t instanceof $i(t).HTMLElement}function D_(t){return typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof $i(t).ShadowRoot}function Qu(t){const{overflow:e,overflowX:n,overflowY:i,display:r}=ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+i+n)&&!["inline","contents"].includes(r)}function tU(t){return["table","td","th"].includes(po(t))}function w0(t){const e=C0(),n=ar(t);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(i=>(n.willChange||"").includes(i))||["paint","layout","strict","content"].some(i=>(n.contain||"").includes(i))}function nU(t){let e=Ul(t);for(;Ur(e)&&!Vh(e);){if(w0(e))return e;e=Ul(e)}return null}function C0(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Vh(t){return["html","body","#document"].includes(po(t))}function ar(t){return $i(t).getComputedStyle(t)}function $h(t){return vs(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.pageXOffset,scrollTop:t.pageYOffset}}function Ul(t){if(po(t)==="html")return t;const e=t.assignedSlot||t.parentNode||D_(t)&&t.host||Ts(t);return D_(e)?e.host:e}function jT(t){const e=Ul(t);return Vh(e)?t.ownerDocument?t.ownerDocument.body:t.body:Ur(e)&&Qu(e)?e:jT(e)}function wu(t,e,n){var i;e===void 0&&(e=[]),n===void 0&&(n=!0);const r=jT(t),a=r===((i=t.ownerDocument)==null?void 0:i.body),u=$i(r);return a?e.concat(u,u.visualViewport||[],Qu(r)?r:[],u.frameElement&&n?wu(u.frameElement):[]):e.concat(r,wu(r,[],n))}function XT(t){const e=ar(t);let n=parseFloat(e.width)||0,i=parseFloat(e.height)||0;const r=Ur(t),a=r?t.offsetWidth:n,u=r?t.offsetHeight:i,s=Qf(n)!==a||Qf(i)!==u;return s&&(n=a,i=u),{width:n,height:i,$:s}}function x0(t){return vs(t)?t:t.contextElement}function gl(t){const e=x0(t);if(!Ur(e))return ho(1);const n=e.getBoundingClientRect(),{width:i,height:r,$:a}=XT(e);let u=(a?Qf(n.width):n.width)/i,s=(a?Qf(n.height):n.height)/r;return(!u||!Number.isFinite(u))&&(u=1),(!s||!Number.isFinite(s))&&(s=1),{x:u,y:s}}const iU=ho(0);function KT(t){const e=$i(t);return!C0()||!e.visualViewport?iU:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function rU(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==$i(t)?!1:e}function ha(t,e,n,i){e===void 0&&(e=!1),n===void 0&&(n=!1);const r=t.getBoundingClientRect(),a=x0(t);let u=ho(1);e&&(i?vs(i)&&(u=gl(i)):u=gl(t));const s=rU(a,n,i)?KT(a):ho(0);let o=(r.left+s.x)/u.x,c=(r.top+s.y)/u.y,f=r.width/u.x,l=r.height/u.y;if(a){const d=$i(a),h=i&&vs(i)?$i(i):i;let p=d,g=p.frameElement;for(;g&&i&&h!==p;){const m=gl(g),v=g.getBoundingClientRect(),b=ar(g),_=v.left+(g.clientLeft+parseFloat(b.paddingLeft))*m.x,S=v.top+(g.clientTop+parseFloat(b.paddingTop))*m.y;o*=m.x,c*=m.y,f*=m.x,l*=m.y,o+=_,c+=S,p=$i(g),g=p.frameElement}}return th({width:f,height:l,x:o,y:c})}const sU=[":popover-open",":modal"];function YT(t){return sU.some(e=>{try{return t.matches(e)}catch{return!1}})}function oU(t){let{elements:e,rect:n,offsetParent:i,strategy:r}=t;const a=r==="fixed",u=Ts(i),s=e?YT(e.floating):!1;if(i===u||s&&a)return n;let o={scrollLeft:0,scrollTop:0},c=ho(1);const f=ho(0),l=Ur(i);if((l||!l&&!a)&&((po(i)!=="body"||Qu(u))&&(o=$h(i)),Ur(i))){const d=ha(i);c=gl(i),f.x=d.x+i.clientLeft,f.y=d.y+i.clientTop}return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-o.scrollLeft*c.x+f.x,y:n.y*c.y-o.scrollTop*c.y+f.y}}function aU(t){return Array.from(t.getClientRects())}function qT(t){return ha(Ts(t)).left+$h(t).scrollLeft}function lU(t){const e=Ts(t),n=$h(t),i=t.ownerDocument.body,r=na(e.scrollWidth,e.clientWidth,i.scrollWidth,i.clientWidth),a=na(e.scrollHeight,e.clientHeight,i.scrollHeight,i.clientHeight);let u=-n.scrollLeft+qT(t);const s=-n.scrollTop;return ar(i).direction==="rtl"&&(u+=na(e.clientWidth,i.clientWidth)-r),{width:r,height:a,x:u,y:s}}function cU(t,e){const n=$i(t),i=Ts(t),r=n.visualViewport;let a=i.clientWidth,u=i.clientHeight,s=0,o=0;if(r){a=r.width,u=r.height;const c=C0();(!c||c&&e==="fixed")&&(s=r.offsetLeft,o=r.offsetTop)}return{width:a,height:u,x:s,y:o}}function uU(t,e){const n=ha(t,!0,e==="fixed"),i=n.top+t.clientTop,r=n.left+t.clientLeft,a=Ur(t)?gl(t):ho(1),u=t.clientWidth*a.x,s=t.clientHeight*a.y,o=r*a.x,c=i*a.y;return{width:u,height:s,x:o,y:c}}function N_(t,e,n){let i;if(e==="viewport")i=cU(t,n);else if(e==="document")i=lU(Ts(t));else if(vs(e))i=uU(e,n);else{const r=KT(t);i={...e,x:e.x-r.x,y:e.y-r.y}}return th(i)}function ZT(t,e){const n=Ul(t);return n===e||!vs(n)||Vh(n)?!1:ar(n).position==="fixed"||ZT(n,e)}function dU(t,e){const n=e.get(t);if(n)return n;let i=wu(t,[],!1).filter(s=>vs(s)&&po(s)!=="body"),r=null;const a=ar(t).position==="fixed";let u=a?Ul(t):t;for(;vs(u)&&!Vh(u);){const s=ar(u),o=w0(u);!o&&s.position==="fixed"&&(r=null),(a?!o&&!r:!o&&s.position==="static"&&!!r&&["absolute","fixed"].includes(r.position)||Qu(u)&&!o&&ZT(t,u))?i=i.filter(f=>f!==u):r=s,u=Ul(u)}return e.set(t,i),i}function fU(t){let{element:e,boundary:n,rootBoundary:i,strategy:r}=t;const u=[...n==="clippingAncestors"?dU(e,this._c):[].concat(n),i],s=u[0],o=u.reduce((c,f)=>{const l=N_(e,f,r);return c.top=na(l.top,c.top),c.right=Bl(l.right,c.right),c.bottom=Bl(l.bottom,c.bottom),c.left=na(l.left,c.left),c},N_(e,s,r));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function hU(t){const{width:e,height:n}=XT(t);return{width:e,height:n}}function pU(t,e,n){const i=Ur(e),r=Ts(e),a=n==="fixed",u=ha(t,!0,a,e);let s={scrollLeft:0,scrollTop:0};const o=ho(0);if(i||!i&&!a)if((po(e)!=="body"||Qu(r))&&(s=$h(e)),i){const l=ha(e,!0,a,e);o.x=l.x+e.clientLeft,o.y=l.y+e.clientTop}else r&&(o.x=qT(r));const c=u.left+s.scrollLeft-o.x,f=u.top+s.scrollTop-o.y;return{x:c,y:f,width:u.width,height:u.height}}function F_(t,e){return!Ur(t)||ar(t).position==="fixed"?null:e?e(t):t.offsetParent}function JT(t,e){const n=$i(t);if(!Ur(t)||YT(t))return n;let i=F_(t,e);for(;i&&tU(i)&&ar(i).position==="static";)i=F_(i,e);return i&&(po(i)==="html"||po(i)==="body"&&ar(i).position==="static"&&!w0(i))?n:i||nU(t)||n}const mU=async function(t){const e=this.getOffsetParent||JT,n=this.getDimensions;return{reference:pU(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,...await n(t.floating)}}};function gU(t){return ar(t).direction==="rtl"}const vU={convertOffsetParentRelativeRectToViewportRelativeRect:oU,getDocumentElement:Ts,getClippingRect:fU,getOffsetParent:JT,getElementRects:mU,getClientRects:aU,getDimensions:hU,getScale:gl,isElement:vs,isRTL:gU};function yU(t,e){let n=null,i;const r=Ts(t);function a(){var s;clearTimeout(i),(s=n)==null||s.disconnect(),n=null}function u(s,o){s===void 0&&(s=!1),o===void 0&&(o=1),a();const{left:c,top:f,width:l,height:d}=t.getBoundingClientRect();if(s||e(),!l||!d)return;const h=wd(f),p=wd(r.clientWidth-(c+l)),g=wd(r.clientHeight-(f+d)),m=wd(c),b={rootMargin:-h+"px "+-p+"px "+-g+"px "+-m+"px",threshold:na(0,Bl(1,o))||1};let _=!0;function S(w){const C=w[0].intersectionRatio;if(C!==o){if(!_)return u();C?u(!1,C):i=setTimeout(()=>{u(!1,1e-7)},100)}_=!1}try{n=new IntersectionObserver(S,{...b,root:r.ownerDocument})}catch{n=new IntersectionObserver(S,b)}n.observe(t)}return u(!0),a}function bU(t,e,n,i){i===void 0&&(i={});const{ancestorScroll:r=!0,ancestorResize:a=!0,elementResize:u=typeof ResizeObserver=="function",layoutShift:s=typeof IntersectionObserver=="function",animationFrame:o=!1}=i,c=x0(t),f=r||a?[...c?wu(c):[],...wu(e)]:[];f.forEach(v=>{r&&v.addEventListener("scroll",n,{passive:!0}),a&&v.addEventListener("resize",n)});const l=c&&s?yU(c,n):null;let d=-1,h=null;u&&(h=new ResizeObserver(v=>{let[b]=v;b&&b.target===c&&h&&(h.unobserve(e),cancelAnimationFrame(d),d=requestAnimationFrame(()=>{var _;(_=h)==null||_.observe(e)})),n()}),c&&!o&&h.observe(c),h.observe(e));let p,g=o?ha(t):null;o&&m();function m(){const v=ha(t);g&&(v.x!==g.x||v.y!==g.y||v.width!==g.width||v.height!==g.height)&&n(),g=v,p=requestAnimationFrame(m)}return n(),()=>{var v;f.forEach(b=>{r&&b.removeEventListener("scroll",n),a&&b.removeEventListener("resize",n)}),l==null||l(),(v=h)==null||v.disconnect(),h=null,o&&cancelAnimationFrame(p)}}const _U=eU,SU=J4,QT=Z4,eE=(t,e,n)=>{const i=new Map,r={platform:vU,...n},a={...r.platform,_c:i};return q4(t,e,{...r,platform:a})};We({});const wU=t=>{if(!Ot)return;if(!t)return t;const e=Ti(t);return e||(ln(t)?e:t)},CU=({middleware:t,placement:e,strategy:n})=>{const i=Y(),r=Y(),a=Y(),u=Y(),s=Y({}),o={x:a,y:u,placement:e,strategy:n,middlewareData:s},c=async()=>{if(!Ot)return;const f=wU(i),l=Ti(r);if(!f||!l)return;const d=await eE(f,l,{placement:y(e),strategy:y(n),middleware:y(t)});Pl(o).forEach(h=>{o[h].value=d[h]})};return ht(()=>{Yn(()=>{c()})}),{...o,update:c,referenceRef:i,contentRef:r}},xU=({arrowRef:t,padding:e})=>({name:"arrow",options:{element:t,padding:e},fn(n){const i=y(t);return i?QT({element:i,padding:e}).fn(n):{}}});function TU(t){const e=Y();function n(){if(t.value==null)return;const{selectionStart:r,selectionEnd:a,value:u}=t.value;if(r==null||a==null)return;const s=u.slice(0,Math.max(0,r)),o=u.slice(Math.max(0,a));e.value={selectionStart:r,selectionEnd:a,value:u,beforeTxt:s,afterTxt:o}}function i(){if(t.value==null||e.value==null)return;const{value:r}=t.value,{beforeTxt:a,afterTxt:u,selectionStart:s}=e.value;if(a==null||u==null||s==null)return;let o=r.length;if(r.endsWith(u))o=r.length-u.length;else if(r.startsWith(a))o=a.length;else{const c=a[s-1],f=r.indexOf(c,s-1);f!==-1&&(o=f+1)}t.value.setSelectionRange(o,o)}return[n,i]}const EU=(t,e,n)=>io(t.subTree).filter(a=>{var u;return un(a)&&((u=a.type)==null?void 0:u.name)===e&&!!a.component}).map(a=>a.component.uid).map(a=>n[a]).filter(a=>!!a),T0=(t,e)=>{const n={},i=an([]);return{children:i,addChild:u=>{n[u.uid]=u,i.value=EU(t,e,n)},removeChild:u=>{delete n[u],i.value=i.value.filter(s=>s.uid!==u)}}},kn=Tr({type:String,values:zr,required:!1}),tE=Symbol("size"),MU=()=>{const t=Je(tE,{});return P(()=>y(t.size)||"")};function Hh(t,{afterFocus:e,beforeBlur:n,afterBlur:i}={}){const r=mt(),{emit:a}=r,u=an(),s=Y(!1),o=l=>{s.value||(s.value=!0,a("focus",l),e==null||e())},c=l=>{var d;at(n)&&n(l)||l.relatedTarget&&((d=u.value)!=null&&d.contains(l.relatedTarget))||(s.value=!1,a("blur",l),i==null||i())},f=()=>{var l;(l=t.value)==null||l.focus()};return Be(u,l=>{l&&l.setAttribute("tabindex","-1")}),nn(u,"click",f),{wrapperRef:u,isFocused:s,handleFocus:o,handleBlur:c}}const AU=["",void 0,null],RU=void 0,ac=We({emptyValues:Array,valueOnClear:{type:[String,Number,Boolean,Function],default:void 0,validator:t=>at(t)?!t():!t}}),zh=(t,e)=>{const n=ed();n.value=n.value||{};const i=P(()=>t.emptyValues||n.value.emptyValues||AU),r=P(()=>at(t.valueOnClear)?t.valueOnClear():t.valueOnClear!==void 0?t.valueOnClear:at(n.value.valueOnClear)?n.value.valueOnClear():n.value.valueOnClear!==void 0?n.value.valueOnClear:e!==void 0?e:RU),a=u=>i.value.includes(u);return i.value.includes(r.value),{emptyValues:i,valueOnClear:r,isEmptyValue:a}},nE=Symbol(),nh=Y();function ed(t,e=void 0){const n=mt()?Je(nE,nh):nh;return t?P(()=>{var i,r;return(r=(i=n.value)==null?void 0:i[t])!=null?r:e}):n}function Wh(t,e){const n=ed(),i=Ve(t,P(()=>{var s;return((s=n.value)==null?void 0:s.namespace)||qc})),r=Dt(P(()=>{var s;return(s=n.value)==null?void 0:s.locale})),a=oc(P(()=>{var s;return((s=n.value)==null?void 0:s.zIndex)||VT})),u=P(()=>{var s;return y(e)||((s=n.value)==null?void 0:s.size)||""});return E0(P(()=>y(n)||{})),{ns:i,locale:r,zIndex:a,size:u}}const E0=(t,e,n=!1)=>{var i;const r=!!mt(),a=r?ed():void 0,u=(i=e==null?void 0:e.provide)!=null?i:r?Mt:void 0;if(!u)return;const s=P(()=>{const o=y(t);return a!=null&&a.value?PU(a.value,o):o});return u(nE,s),u(CT,P(()=>s.value.locale)),u(xT,P(()=>s.value.namespace)),u($T,P(()=>s.value.zIndex)),u(tE,{size:P(()=>s.value.size||"")}),(n||!nh.value)&&(nh.value=s.value),s},PU=(t,e)=>{const n=[...new Set([...Pl(t),...Pl(e)])],i={};for(const r of n)i[r]=e[r]!==void 0?e[r]:t[r];return i},OU=We({a11y:{type:Boolean,default:!0},locale:{type:we(Object)},size:kn,button:{type:we(Object)},experimentalFeatures:{type:we(Object)},keyboardNavigation:{type:Boolean,default:!0},message:{type:we(Object)},zIndex:Number,namespace:{type:String,default:"el"},...ac}),Jm={},kU=se({name:"ElConfigProvider",props:OU,setup(t,{slots:e}){Be(()=>t.message,i=>{Object.assign(Jm,i??{})},{immediate:!0,deep:!0});const n=E0(t);return()=>Le(e,"default",{config:n==null?void 0:n.value})}}),LU=gt(kU),IU="2.7.0",DU=(t=[])=>({version:IU,install:(n,i)=>{n[g_]||(n[g_]=!0,t.forEach(r=>n.use(r)),i&&E0(i,n,!0))}}),NU=We({zIndex:{type:we([Number,String]),default:100},target:{type:String,default:""},offset:{type:Number,default:0},position:{type:String,values:["top","bottom"],default:"top"}}),FU={scroll:({scrollTop:t,fixed:e})=>ot(t)&&Tn(e),[rn]:t=>Tn(t)};var Ge=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n};const iE="ElAffix",BU=se({name:iE}),UU=se({...BU,props:NU,emits:FU,setup(t,{expose:e,emit:n}){const i=t,r=Ve("affix"),a=an(),u=an(),s=an(),{height:o}=mk(),{height:c,width:f,top:l,bottom:d,update:h}=Pb(u,{windowScroll:!1}),p=Pb(a),g=Y(!1),m=Y(0),v=Y(0),b=P(()=>({height:g.value?`${c.value}px`:"",width:g.value?`${f.value}px`:""})),_=P(()=>{if(!g.value)return{};const C=i.offset?yn(i.offset):0;return{height:`${c.value}px`,width:`${f.value}px`,top:i.position==="top"?C:"",bottom:i.position==="bottom"?C:"",transform:v.value?`translateY(${v.value}px)`:"",zIndex:i.zIndex}}),S=()=>{if(s.value)if(m.value=s.value instanceof Window?document.documentElement.scrollTop:s.value.scrollTop||0,i.position==="top")if(i.target){const C=p.bottom.value-i.offset-c.value;g.value=i.offset>l.value&&p.bottom.value>0,v.value=C<0?C:0}else g.value=i.offset>l.value;else if(i.target){const C=o.value-p.top.value-i.offset-c.value;g.value=o.value-i.offset<d.value&&o.value>p.top.value,v.value=C<0?-C:0}else g.value=o.value-i.offset<d.value},w=()=>{h(),n("scroll",{scrollTop:m.value,fixed:g.value})};return Be(g,C=>n("change",C)),ht(()=>{var C;i.target?(a.value=(C=document.querySelector(i.target))!=null?C:void 0,a.value||Rn(iE,`Target is not existed: ${i.target}`)):a.value=document.documentElement,s.value=Zv(u.value,!0),h()}),nn(s,"scroll",w),Yn(S),e({update:S,updateRoot:h}),(C,x)=>(L(),Q("div",{ref_key:"root",ref:u,class:F(y(r).b()),style:Qe(y(b))},[te("div",{class:F({[y(r).m("fixed")]:g.value}),style:Qe(y(_))},[Le(C.$slots,"default")],6)],6))}});var VU=Ge(UU,[["__file","affix.vue"]]);const $U=gt(VU),HU=We({size:{type:we([Number,String])},color:{type:String}}),zU=se({name:"ElIcon",inheritAttrs:!1}),WU=se({...zU,props:HU,setup(t){const e=t,n=Ve("icon"),i=P(()=>{const{size:r,color:a}=e;return!r&&!a?{}:{fontSize:xn(r)?void 0:yn(r),"--color":a}});return(r,a)=>(L(),Q("i",xt({class:y(n).b(),style:y(i)},r.$attrs),[Le(r.$slots,"default")],16))}});var GU=Ge(WU,[["__file","icon.vue"]]);const et=gt(GU),jU=["light","dark"],XU=We({title:{type:String,default:""},description:{type:String,default:""},type:{type:String,values:Pl(fo),default:"info"},closable:{type:Boolean,default:!0},closeText:{type:String,default:""},showIcon:Boolean,center:Boolean,effect:{type:String,values:jU,default:"light"}}),KU={close:t=>t instanceof MouseEvent},YU=se({name:"ElAlert"}),qU=se({...YU,props:XU,emits:KU,setup(t,{emit:e}){const n=t,{Close:i}=i0,r=Un(),a=Ve("alert"),u=Y(!0),s=P(()=>fo[n.type]),o=P(()=>[a.e("icon"),{[a.is("big")]:!!n.description||!!r.default}]),c=P(()=>({"with-description":n.description||r.default})),f=l=>{u.value=!1,e("close",l)};return(l,d)=>(L(),Pe(An,{name:y(a).b("fade"),persisted:""},{default:ve(()=>[ft(te("div",{class:F([y(a).b(),y(a).m(l.type),y(a).is("center",l.center),y(a).is(l.effect)]),role:"alert"},[l.showIcon&&y(s)?(L(),Pe(y(et),{key:0,class:F(y(o))},{default:ve(()=>[(L(),Pe(wt(y(s))))]),_:1},8,["class"])):Ee("v-if",!0),te("div",{class:F(y(a).e("content"))},[l.title||l.$slots.title?(L(),Q("span",{key:0,class:F([y(a).e("title"),y(c)])},[Le(l.$slots,"title",{},()=>[Et(je(l.title),1)])],2)):Ee("v-if",!0),l.$slots.default||l.description?(L(),Q("p",{key:1,class:F(y(a).e("description"))},[Le(l.$slots,"default",{},()=>[Et(je(l.description),1)])],2)):Ee("v-if",!0),l.closable?(L(),Q(tt,{key:2},[l.closeText?(L(),Q("div",{key:0,class:F([y(a).e("close-btn"),y(a).is("customed")]),onClick:f},je(l.closeText),3)):(L(),Pe(y(et),{key:1,class:F(y(a).e("close-btn")),onClick:f},{default:ve(()=>[oe(y(i))]),_:1},8,["class"]))],64)):Ee("v-if",!0)],2)],2),[[Nt,u.value]])]),_:3},8,["name"]))}});var ZU=Ge(qU,[["__file","alert.vue"]]);const JU=gt(ZU),Ea=Symbol("formContextKey"),Vr=Symbol("formItemContextKey"),Mn=(t,e={})=>{const n=Y(void 0),i=e.prop?n:ET("size"),r=e.global?n:MU(),a=e.form?{size:void 0}:Je(Ea,void 0),u=e.formItem?{size:void 0}:Je(Vr,void 0);return P(()=>i.value||y(t)||(u==null?void 0:u.size)||(a==null?void 0:a.size)||r.value||"")},wi=t=>{const e=ET("disabled"),n=Je(Ea,void 0);return P(()=>e.value||y(t)||(n==null?void 0:n.disabled)||!1)},li=()=>{const t=Je(Ea,void 0),e=Je(Vr,void 0);return{form:t,formItem:e}},Mr=(t,{formItemContext:e,disableIdGeneration:n,disableIdManagement:i})=>{n||(n=Y(!1)),i||(i=Y(!1));const r=Y();let a;const u=P(()=>{var s;return!!(!t.label&&e&&e.inputIds&&((s=e.inputIds)==null?void 0:s.length)<=1)});return ht(()=>{a=Be([Zt(t,"id"),n],([s,o])=>{const c=s??(o?void 0:Jn().value);c!==r.value&&(e!=null&&e.removeInputId&&(r.value&&e.removeInputId(r.value),!(i!=null&&i.value)&&!o&&c&&e.addInputId(c)),r.value=c)},{immediate:!0})}),yo(()=>{a&&a(),e!=null&&e.removeInputId&&r.value&&e.removeInputId(r.value)}),{isLabeledByFormItem:u,inputId:r}},QU=We({size:{type:String,values:zr},disabled:Boolean}),eV=We({...QU,model:Object,rules:{type:we(Object)},labelPosition:{type:String,values:["left","right","top"],default:"right"},requireAsteriskPosition:{type:String,values:["left","right"],default:"left"},labelWidth:{type:[String,Number],default:""},labelSuffix:{type:String,default:""},inline:Boolean,inlineMessage:Boolean,statusIcon:Boolean,showMessage:{type:Boolean,default:!0},validateOnRuleChange:{type:Boolean,default:!0},hideRequiredAsterisk:Boolean,scrollToError:Boolean,scrollIntoViewOptions:{type:[Object,Boolean]}}),tV={validate:(t,e,n)=>(qe(t)||ct(t))&&Tn(e)&&ct(n)};function nV(){const t=Y([]),e=P(()=>{if(!t.value.length)return"0";const a=Math.max(...t.value);return a?`${a}px`:""});function n(a){const u=t.value.indexOf(a);return u===-1&&e.value,u}function i(a,u){if(a&&u){const s=n(u);t.value.splice(s,1,a)}else a&&t.value.push(a)}function r(a){const u=n(a);u>-1&&t.value.splice(u,1)}return{autoLabelWidth:e,registerLabelWidth:i,deregisterLabelWidth:r}}const Cd=(t,e)=>{const n=ca(e);return n.length>0?t.filter(i=>i.prop&&n.includes(i.prop)):t},iV="ElForm",rV=se({name:iV}),sV=se({...rV,props:eV,emits:tV,setup(t,{expose:e,emit:n}){const i=t,r=[],a=Mn(),u=Ve("form"),s=P(()=>{const{labelPosition:_,inline:S}=i;return[u.b(),u.m(a.value||"default"),{[u.m(`label-${_}`)]:_,[u.m("inline")]:S}]}),o=_=>r.find(S=>S.prop===_),c=_=>{r.push(_)},f=_=>{_.prop&&r.splice(r.indexOf(_),1)},l=(_=[])=>{i.model&&Cd(r,_).forEach(S=>S.resetField())},d=(_=[])=>{Cd(r,_).forEach(S=>S.clearValidate())},h=P(()=>!!i.model),p=_=>{if(r.length===0)return[];const S=Cd(r,_);return S.length?S:[]},g=async _=>v(void 0,_),m=async(_=[])=>{if(!h.value)return!1;const S=p(_);if(S.length===0)return!0;let w={};for(const C of S)try{await C.validate("")}catch(x){w={...w,...x}}return Object.keys(w).length===0?!0:Promise.reject(w)},v=async(_=[],S)=>{const w=!at(S);try{const C=await m(_);return C===!0&&(S==null||S(C)),C}catch(C){if(C instanceof Error)throw C;const x=C;return i.scrollToError&&b(Object.keys(x)[0]),S==null||S(!1,x),w&&Promise.reject(x)}},b=_=>{var S;const w=Cd(r,_)[0];w&&((S=w.$el)==null||S.scrollIntoView(i.scrollIntoViewOptions))};return Be(()=>i.rules,()=>{i.validateOnRuleChange&&g().catch(_=>void 0)},{deep:!0}),Mt(Ea,$t({...Wn(i),emit:n,resetFields:l,clearValidate:d,validateField:v,getField:o,addField:c,removeField:f,...nV()})),e({validate:g,validateField:v,resetFields:l,clearValidate:d,scrollToField:b}),(_,S)=>(L(),Q("form",{class:F(y(s))},[Le(_.$slots,"default")],2))}});var oV=Ge(sV,[["__file","form.vue"]]);function Ho(){return Ho=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},Ho.apply(this,arguments)}function aV(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,Cu(t,e)}function Qm(t){return Qm=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Qm(t)}function Cu(t,e){return Cu=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(i,r){return i.__proto__=r,i},Cu(t,e)}function lV(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function gf(t,e,n){return lV()?gf=Reflect.construct.bind():gf=function(r,a,u){var s=[null];s.push.apply(s,a);var o=Function.bind.apply(r,s),c=new o;return u&&Cu(c,u.prototype),c},gf.apply(null,arguments)}function cV(t){return Function.toString.call(t).indexOf("[native code]")!==-1}function eg(t){var e=typeof Map=="function"?new Map:void 0;return eg=function(i){if(i===null||!cV(i))return i;if(typeof i!="function")throw new TypeError("Super expression must either be null or a function");if(typeof e<"u"){if(e.has(i))return e.get(i);e.set(i,r)}function r(){return gf(i,arguments,Qm(this).constructor)}return r.prototype=Object.create(i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),Cu(r,i)},eg(t)}var uV=/%[sdj%]/g,dV=function(){};function tg(t){if(!t||!t.length)return null;var e={};return t.forEach(function(n){var i=n.field;e[i]=e[i]||[],e[i].push(n)}),e}function Bi(t){for(var e=arguments.length,n=new Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];var r=0,a=n.length;if(typeof t=="function")return t.apply(null,n);if(typeof t=="string"){var u=t.replace(uV,function(s){if(s==="%%")return"%";if(r>=a)return s;switch(s){case"%s":return String(n[r++]);case"%d":return Number(n[r++]);case"%j":try{return JSON.stringify(n[r++])}catch{return"[Circular]"}break;default:return s}});return u}return t}function fV(t){return t==="string"||t==="url"||t==="hex"||t==="email"||t==="date"||t==="pattern"}function Nn(t,e){return!!(t==null||e==="array"&&Array.isArray(t)&&!t.length||fV(e)&&typeof t=="string"&&!t)}function hV(t,e,n){var i=[],r=0,a=t.length;function u(s){i.push.apply(i,s||[]),r++,r===a&&n(i)}t.forEach(function(s){e(s,u)})}function B_(t,e,n){var i=0,r=t.length;function a(u){if(u&&u.length){n(u);return}var s=i;i=i+1,s<r?e(t[s],a):n([])}a([])}function pV(t){var e=[];return Object.keys(t).forEach(function(n){e.push.apply(e,t[n]||[])}),e}var U_=function(t){aV(e,t);function e(n,i){var r;return r=t.call(this,"Async Validation Error")||this,r.errors=n,r.fields=i,r}return e}(eg(Error));function mV(t,e,n,i,r){if(e.first){var a=new Promise(function(d,h){var p=function(v){return i(v),v.length?h(new U_(v,tg(v))):d(r)},g=pV(t);B_(g,n,p)});return a.catch(function(d){return d}),a}var u=e.firstFields===!0?Object.keys(t):e.firstFields||[],s=Object.keys(t),o=s.length,c=0,f=[],l=new Promise(function(d,h){var p=function(m){if(f.push.apply(f,m),c++,c===o)return i(f),f.length?h(new U_(f,tg(f))):d(r)};s.length||(i(f),d(r)),s.forEach(function(g){var m=t[g];u.indexOf(g)!==-1?B_(m,n,p):hV(m,n,p)})});return l.catch(function(d){return d}),l}function gV(t){return!!(t&&t.message!==void 0)}function vV(t,e){for(var n=t,i=0;i<e.length;i++){if(n==null)return n;n=n[e[i]]}return n}function V_(t,e){return function(n){var i;return t.fullFields?i=vV(e,t.fullFields):i=e[n.field||t.fullField],gV(n)?(n.field=n.field||t.fullField,n.fieldValue=i,n):{message:typeof n=="function"?n():n,fieldValue:i,field:n.field||t.fullField}}}function $_(t,e){if(e){for(var n in e)if(e.hasOwnProperty(n)){var i=e[n];typeof i=="object"&&typeof t[n]=="object"?t[n]=Ho({},t[n],i):t[n]=i}}return t}var rE=function(e,n,i,r,a,u){e.required&&(!i.hasOwnProperty(e.field)||Nn(n,u||e.type))&&r.push(Bi(a.messages.required,e.fullField))},yV=function(e,n,i,r,a){(/^\s+$/.test(n)||n==="")&&r.push(Bi(a.messages.whitespace,e.fullField))},xd,bV=function(){if(xd)return xd;var t="[a-fA-F\\d:]",e=function(S){return S&&S.includeBoundaries?"(?:(?<=\\s|^)(?="+t+")|(?<="+t+")(?=\\s|$))":""},n="(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)(?:\\.(?:25[0-5]|2[0-4]\\d|1\\d\\d|[1-9]\\d|\\d)){3}",i="[a-fA-F\\d]{1,4}",r=(`
(?:
(?:`+i+":){7}(?:"+i+`|:)|                                    // 1:2:3:4:5:6:7::  1:2:3:4:5:6:7:8
(?:`+i+":){6}(?:"+n+"|:"+i+`|:)|                             // 1:2:3:4:5:6::    1:2:3:4:5:6::8   1:2:3:4:5:6::8  1:2:3:4:5:6::1.2.3.4
(?:`+i+":){5}(?::"+n+"|(?::"+i+`){1,2}|:)|                   // 1:2:3:4:5::      1:2:3:4:5::7:8   1:2:3:4:5::8    1:2:3:4:5::7:1.2.3.4
(?:`+i+":){4}(?:(?::"+i+"){0,1}:"+n+"|(?::"+i+`){1,3}|:)| // 1:2:3:4::        1:2:3:4::6:7:8   1:2:3:4::8      1:2:3:4::6:7:1.2.3.4
(?:`+i+":){3}(?:(?::"+i+"){0,2}:"+n+"|(?::"+i+`){1,4}|:)| // 1:2:3::          1:2:3::5:6:7:8   1:2:3::8        1:2:3::5:6:7:1.2.3.4
(?:`+i+":){2}(?:(?::"+i+"){0,3}:"+n+"|(?::"+i+`){1,5}|:)| // 1:2::            1:2::4:5:6:7:8   1:2::8          1:2::4:5:6:7:1.2.3.4
(?:`+i+":){1}(?:(?::"+i+"){0,4}:"+n+"|(?::"+i+`){1,6}|:)| // 1::              1::3:4:5:6:7:8   1::8            1::3:4:5:6:7:1.2.3.4
(?::(?:(?::`+i+"){0,5}:"+n+"|(?::"+i+`){1,7}|:))             // ::2:3:4:5:6:7:8  ::2:3:4:5:6:7:8  ::8             ::1.2.3.4
)(?:%[0-9a-zA-Z]{1,})?                                             // %eth0            %1
`).replace(/\s*\/\/.*$/gm,"").replace(/\n/g,"").trim(),a=new RegExp("(?:^"+n+"$)|(?:^"+r+"$)"),u=new RegExp("^"+n+"$"),s=new RegExp("^"+r+"$"),o=function(S){return S&&S.exact?a:new RegExp("(?:"+e(S)+n+e(S)+")|(?:"+e(S)+r+e(S)+")","g")};o.v4=function(_){return _&&_.exact?u:new RegExp(""+e(_)+n+e(_),"g")},o.v6=function(_){return _&&_.exact?s:new RegExp(""+e(_)+r+e(_),"g")};var c="(?:(?:[a-z]+:)?//)",f="(?:\\S+(?::\\S*)?@)?",l=o.v4().source,d=o.v6().source,h="(?:(?:[a-z\\u00a1-\\uffff0-9][-_]*)*[a-z\\u00a1-\\uffff0-9]+)",p="(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*",g="(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))",m="(?::\\d{2,5})?",v='(?:[/?#][^\\s"]*)?',b="(?:"+c+"|www\\.)"+f+"(?:localhost|"+l+"|"+d+"|"+h+p+g+")"+m+v;return xd=new RegExp("(?:^"+b+"$)","i"),xd},H_={email:/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+\.)+[a-zA-Z\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]{2,}))$/,hex:/^#?([a-f0-9]{6}|[a-f0-9]{3})$/i},Fc={integer:function(e){return Fc.number(e)&&parseInt(e,10)===e},float:function(e){return Fc.number(e)&&!Fc.integer(e)},array:function(e){return Array.isArray(e)},regexp:function(e){if(e instanceof RegExp)return!0;try{return!!new RegExp(e)}catch{return!1}},date:function(e){return typeof e.getTime=="function"&&typeof e.getMonth=="function"&&typeof e.getYear=="function"&&!isNaN(e.getTime())},number:function(e){return isNaN(e)?!1:typeof e=="number"},object:function(e){return typeof e=="object"&&!Fc.array(e)},method:function(e){return typeof e=="function"},email:function(e){return typeof e=="string"&&e.length<=320&&!!e.match(H_.email)},url:function(e){return typeof e=="string"&&e.length<=2048&&!!e.match(bV())},hex:function(e){return typeof e=="string"&&!!e.match(H_.hex)}},_V=function(e,n,i,r,a){if(e.required&&n===void 0){rE(e,n,i,r,a);return}var u=["integer","float","array","regexp","object","method","email","number","date","url","hex"],s=e.type;u.indexOf(s)>-1?Fc[s](n)||r.push(Bi(a.messages.types[s],e.fullField,e.type)):s&&typeof n!==e.type&&r.push(Bi(a.messages.types[s],e.fullField,e.type))},SV=function(e,n,i,r,a){var u=typeof e.len=="number",s=typeof e.min=="number",o=typeof e.max=="number",c=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,f=n,l=null,d=typeof n=="number",h=typeof n=="string",p=Array.isArray(n);if(d?l="number":h?l="string":p&&(l="array"),!l)return!1;p&&(f=n.length),h&&(f=n.replace(c,"_").length),u?f!==e.len&&r.push(Bi(a.messages[l].len,e.fullField,e.len)):s&&!o&&f<e.min?r.push(Bi(a.messages[l].min,e.fullField,e.min)):o&&!s&&f>e.max?r.push(Bi(a.messages[l].max,e.fullField,e.max)):s&&o&&(f<e.min||f>e.max)&&r.push(Bi(a.messages[l].range,e.fullField,e.min,e.max))},Ra="enum",wV=function(e,n,i,r,a){e[Ra]=Array.isArray(e[Ra])?e[Ra]:[],e[Ra].indexOf(n)===-1&&r.push(Bi(a.messages[Ra],e.fullField,e[Ra].join(", ")))},CV=function(e,n,i,r,a){if(e.pattern){if(e.pattern instanceof RegExp)e.pattern.lastIndex=0,e.pattern.test(n)||r.push(Bi(a.messages.pattern.mismatch,e.fullField,n,e.pattern));else if(typeof e.pattern=="string"){var u=new RegExp(e.pattern);u.test(n)||r.push(Bi(a.messages.pattern.mismatch,e.fullField,n,e.pattern))}}},qt={required:rE,whitespace:yV,type:_V,range:SV,enum:wV,pattern:CV},xV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(Nn(n,"string")&&!e.required)return i();qt.required(e,n,r,u,a,"string"),Nn(n,"string")||(qt.type(e,n,r,u,a),qt.range(e,n,r,u,a),qt.pattern(e,n,r,u,a),e.whitespace===!0&&qt.whitespace(e,n,r,u,a))}i(u)},TV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(Nn(n)&&!e.required)return i();qt.required(e,n,r,u,a),n!==void 0&&qt.type(e,n,r,u,a)}i(u)},EV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(n===""&&(n=void 0),Nn(n)&&!e.required)return i();qt.required(e,n,r,u,a),n!==void 0&&(qt.type(e,n,r,u,a),qt.range(e,n,r,u,a))}i(u)},MV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(Nn(n)&&!e.required)return i();qt.required(e,n,r,u,a),n!==void 0&&qt.type(e,n,r,u,a)}i(u)},AV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(Nn(n)&&!e.required)return i();qt.required(e,n,r,u,a),Nn(n)||qt.type(e,n,r,u,a)}i(u)},RV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(Nn(n)&&!e.required)return i();qt.required(e,n,r,u,a),n!==void 0&&(qt.type(e,n,r,u,a),qt.range(e,n,r,u,a))}i(u)},PV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(Nn(n)&&!e.required)return i();qt.required(e,n,r,u,a),n!==void 0&&(qt.type(e,n,r,u,a),qt.range(e,n,r,u,a))}i(u)},OV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(n==null&&!e.required)return i();qt.required(e,n,r,u,a,"array"),n!=null&&(qt.type(e,n,r,u,a),qt.range(e,n,r,u,a))}i(u)},kV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(Nn(n)&&!e.required)return i();qt.required(e,n,r,u,a),n!==void 0&&qt.type(e,n,r,u,a)}i(u)},LV="enum",IV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(Nn(n)&&!e.required)return i();qt.required(e,n,r,u,a),n!==void 0&&qt[LV](e,n,r,u,a)}i(u)},DV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(Nn(n,"string")&&!e.required)return i();qt.required(e,n,r,u,a),Nn(n,"string")||qt.pattern(e,n,r,u,a)}i(u)},NV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(Nn(n,"date")&&!e.required)return i();if(qt.required(e,n,r,u,a),!Nn(n,"date")){var o;n instanceof Date?o=n:o=new Date(n),qt.type(e,o,r,u,a),o&&qt.range(e,o.getTime(),r,u,a)}}i(u)},FV=function(e,n,i,r,a){var u=[],s=Array.isArray(n)?"array":typeof n;qt.required(e,n,r,u,a,s),i(u)},xp=function(e,n,i,r,a){var u=e.type,s=[],o=e.required||!e.required&&r.hasOwnProperty(e.field);if(o){if(Nn(n,u)&&!e.required)return i();qt.required(e,n,r,s,a,u),Nn(n,u)||qt.type(e,n,r,s,a)}i(s)},BV=function(e,n,i,r,a){var u=[],s=e.required||!e.required&&r.hasOwnProperty(e.field);if(s){if(Nn(n)&&!e.required)return i();qt.required(e,n,r,u,a)}i(u)},Qc={string:xV,method:TV,number:EV,boolean:MV,regexp:AV,integer:RV,float:PV,array:OV,object:kV,enum:IV,pattern:DV,date:NV,url:xp,hex:xp,email:xp,required:FV,any:BV};function ng(){return{default:"Validation error on field %s",required:"%s is required",enum:"%s must be one of %s",whitespace:"%s cannot be empty",date:{format:"%s date %s is invalid for format %s",parse:"%s date could not be parsed, %s is invalid ",invalid:"%s date %s is invalid"},types:{string:"%s is not a %s",method:"%s is not a %s (function)",array:"%s is not an %s",object:"%s is not an %s",number:"%s is not a %s",date:"%s is not a %s",boolean:"%s is not a %s",integer:"%s is not an %s",float:"%s is not a %s",regexp:"%s is not a valid %s",email:"%s is not a valid %s",url:"%s is not a valid %s",hex:"%s is not a valid %s"},string:{len:"%s must be exactly %s characters",min:"%s must be at least %s characters",max:"%s cannot be longer than %s characters",range:"%s must be between %s and %s characters"},number:{len:"%s must equal %s",min:"%s cannot be less than %s",max:"%s cannot be greater than %s",range:"%s must be between %s and %s"},array:{len:"%s must be exactly %s in length",min:"%s cannot be less than %s in length",max:"%s cannot be greater than %s in length",range:"%s must be between %s and %s in length"},pattern:{mismatch:"%s value %s does not match pattern %s"},clone:function(){var e=JSON.parse(JSON.stringify(this));return e.clone=this.clone,e}}}var ig=ng(),td=function(){function t(n){this.rules=null,this._messages=ig,this.define(n)}var e=t.prototype;return e.define=function(i){var r=this;if(!i)throw new Error("Cannot configure a schema with no rules");if(typeof i!="object"||Array.isArray(i))throw new Error("Rules must be an object");this.rules={},Object.keys(i).forEach(function(a){var u=i[a];r.rules[a]=Array.isArray(u)?u:[u]})},e.messages=function(i){return i&&(this._messages=$_(ng(),i)),this._messages},e.validate=function(i,r,a){var u=this;r===void 0&&(r={}),a===void 0&&(a=function(){});var s=i,o=r,c=a;if(typeof o=="function"&&(c=o,o={}),!this.rules||Object.keys(this.rules).length===0)return c&&c(null,s),Promise.resolve(s);function f(g){var m=[],v={};function b(S){if(Array.isArray(S)){var w;m=(w=m).concat.apply(w,S)}else m.push(S)}for(var _=0;_<g.length;_++)b(g[_]);m.length?(v=tg(m),c(m,v)):c(null,s)}if(o.messages){var l=this.messages();l===ig&&(l=ng()),$_(l,o.messages),o.messages=l}else o.messages=this.messages();var d={},h=o.keys||Object.keys(this.rules);h.forEach(function(g){var m=u.rules[g],v=s[g];m.forEach(function(b){var _=b;typeof _.transform=="function"&&(s===i&&(s=Ho({},s)),v=s[g]=_.transform(v)),typeof _=="function"?_={validator:_}:_=Ho({},_),_.validator=u.getValidationMethod(_),_.validator&&(_.field=g,_.fullField=_.fullField||g,_.type=u.getType(_),d[g]=d[g]||[],d[g].push({rule:_,value:v,source:s,field:g}))})});var p={};return mV(d,o,function(g,m){var v=g.rule,b=(v.type==="object"||v.type==="array")&&(typeof v.fields=="object"||typeof v.defaultField=="object");b=b&&(v.required||!v.required&&g.value),v.field=g.field;function _(C,x){return Ho({},x,{fullField:v.fullField+"."+C,fullFields:v.fullFields?[].concat(v.fullFields,[C]):[C]})}function S(C){C===void 0&&(C=[]);var x=Array.isArray(C)?C:[C];!o.suppressWarning&&x.length&&t.warning("async-validator:",x),x.length&&v.message!==void 0&&(x=[].concat(v.message));var M=x.map(V_(v,s));if(o.first&&M.length)return p[v.field]=1,m(M);if(!b)m(M);else{if(v.required&&!g.value)return v.message!==void 0?M=[].concat(v.message).map(V_(v,s)):o.error&&(M=[o.error(v,Bi(o.messages.required,v.field))]),m(M);var E={};v.defaultField&&Object.keys(g.value).map(function(I){E[I]=v.defaultField}),E=Ho({},E,g.rule.fields);var A={};Object.keys(E).forEach(function(I){var $=E[I],H=Array.isArray($)?$:[$];A[I]=H.map(_.bind(null,I))});var O=new t(A);O.messages(o.messages),g.rule.options&&(g.rule.options.messages=o.messages,g.rule.options.error=o.error),O.validate(g.value,g.rule.options||o,function(I){var $=[];M&&M.length&&$.push.apply($,M),I&&I.length&&$.push.apply($,I),m($.length?$:null)})}}var w;if(v.asyncValidator)w=v.asyncValidator(v,g.value,S,g.source,o);else if(v.validator){try{w=v.validator(v,g.value,S,g.source,o)}catch(C){console.error==null||console.error(C),o.suppressValidatorError||setTimeout(function(){throw C},0),S(C.message)}w===!0?S():w===!1?S(typeof v.message=="function"?v.message(v.fullField||v.field):v.message||(v.fullField||v.field)+" fails"):w instanceof Array?S(w):w instanceof Error&&S(w.message)}w&&w.then&&w.then(function(){return S()},function(C){return S(C)})},function(g){f(g)},s)},e.getType=function(i){if(i.type===void 0&&i.pattern instanceof RegExp&&(i.type="pattern"),typeof i.validator!="function"&&i.type&&!Qc.hasOwnProperty(i.type))throw new Error(Bi("Unknown rule type %s",i.type));return i.type||"string"},e.getValidationMethod=function(i){if(typeof i.validator=="function")return i.validator;var r=Object.keys(i),a=r.indexOf("message");return a!==-1&&r.splice(a,1),r.length===1&&r[0]==="required"?Qc.required:Qc[this.getType(i)]||void 0},t}();td.register=function(e,n){if(typeof n!="function")throw new Error("Cannot register a validator by type, validator is not a function");Qc[e]=n};td.warning=dV;td.messages=ig;td.validators=Qc;const UV=["","error","validating","success"],VV=We({label:String,labelWidth:{type:[String,Number],default:""},prop:{type:we([String,Array])},required:{type:Boolean,default:void 0},rules:{type:we([Object,Array])},error:String,validateStatus:{type:String,values:UV},for:String,inlineMessage:{type:[String,Boolean],default:""},showMessage:{type:Boolean,default:!0},size:{type:String,values:zr}}),z_="ElLabelWrap";var $V=se({name:z_,props:{isAutoWidth:Boolean,updateAll:Boolean},setup(t,{slots:e}){const n=Je(Ea,void 0),i=Je(Vr);i||Rn(z_,"usage: <el-form-item><label-wrap /></el-form-item>");const r=Ve("form"),a=Y(),u=Y(0),s=()=>{var f;if((f=a.value)!=null&&f.firstElementChild){const l=window.getComputedStyle(a.value.firstElementChild).width;return Math.ceil(Number.parseFloat(l))}else return 0},o=(f="update")=>{it(()=>{e.default&&t.isAutoWidth&&(f==="update"?u.value=s():f==="remove"&&(n==null||n.deregisterLabelWidth(u.value)))})},c=()=>o("update");return ht(()=>{c()}),en(()=>{o("remove")}),Ss(()=>c()),Be(u,(f,l)=>{t.updateAll&&(n==null||n.registerLabelWidth(f,l))}),dn(P(()=>{var f,l;return(l=(f=a.value)==null?void 0:f.firstElementChild)!=null?l:null}),c),()=>{var f,l;if(!e)return null;const{isAutoWidth:d}=t;if(d){const h=n==null?void 0:n.autoLabelWidth,p=i==null?void 0:i.hasLabel,g={};if(p&&h&&h!=="auto"){const m=Math.max(0,Number.parseInt(h,10)-u.value),v=n.labelPosition==="left"?"marginRight":"marginLeft";m&&(g[v]=`${m}px`)}return oe("div",{ref:a,class:[r.be("item","label-wrap")],style:g},[(f=e.default)==null?void 0:f.call(e)])}else return oe(tt,{ref:a},[(l=e.default)==null?void 0:l.call(e)])}}});const HV=["role","aria-labelledby"],zV=se({name:"ElFormItem"}),WV=se({...zV,props:VV,setup(t,{expose:e}){const n=t,i=Un(),r=Je(Ea,void 0),a=Je(Vr,void 0),u=Mn(void 0,{formItem:!1}),s=Ve("form-item"),o=Jn().value,c=Y([]),f=Y(""),l=ZO(f,100),d=Y(""),h=Y();let p,g=!1;const m=P(()=>{if((r==null?void 0:r.labelPosition)==="top")return{};const z=yn(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return z?{width:z}:{}}),v=P(()=>{if((r==null?void 0:r.labelPosition)==="top"||r!=null&&r.inline)return{};if(!n.label&&!n.labelWidth&&E)return{};const z=yn(n.labelWidth||(r==null?void 0:r.labelWidth)||"");return!n.label&&!i.label?{marginLeft:z}:{}}),b=P(()=>[s.b(),s.m(u.value),s.is("error",f.value==="error"),s.is("validating",f.value==="validating"),s.is("success",f.value==="success"),s.is("required",H.value||n.required),s.is("no-asterisk",r==null?void 0:r.hideRequiredAsterisk),(r==null?void 0:r.requireAsteriskPosition)==="right"?"asterisk-right":"asterisk-left",{[s.m("feedback")]:r==null?void 0:r.statusIcon}]),_=P(()=>Tn(n.inlineMessage)?n.inlineMessage:(r==null?void 0:r.inlineMessage)||!1),S=P(()=>[s.e("error"),{[s.em("error","inline")]:_.value}]),w=P(()=>n.prop?ct(n.prop)?n.prop:n.prop.join("."):""),C=P(()=>!!(n.label||i.label)),x=P(()=>n.for||(c.value.length===1?c.value[0]:void 0)),M=P(()=>!x.value&&C.value),E=!!a,A=P(()=>{const z=r==null?void 0:r.model;if(!(!z||!n.prop))return pf(z,n.prop).value}),O=P(()=>{const{required:z}=n,ee=[];n.rules&&ee.push(...ca(n.rules));const ue=r==null?void 0:r.rules;if(ue&&n.prop){const ne=pf(ue,n.prop).value;ne&&ee.push(...ca(ne))}if(z!==void 0){const ne=ee.map((le,Me)=>[le,Me]).filter(([le])=>Object.keys(le).includes("required"));if(ne.length>0)for(const[le,Me]of ne)le.required!==z&&(ee[Me]={...le,required:z});else ee.push({required:z})}return ee}),I=P(()=>O.value.length>0),$=z=>O.value.filter(ue=>!ue.trigger||!z?!0:Array.isArray(ue.trigger)?ue.trigger.includes(z):ue.trigger===z).map(({trigger:ue,...ne})=>ne),H=P(()=>O.value.some(z=>z.required)),B=P(()=>{var z;return l.value==="error"&&n.showMessage&&((z=r==null?void 0:r.showMessage)!=null?z:!0)}),N=P(()=>`${n.label||""}${(r==null?void 0:r.labelSuffix)||""}`),k=z=>{f.value=z},D=z=>{var ee,ue;const{errors:ne,fields:le}=z;(!ne||!le)&&console.error(z),k("error"),d.value=ne?(ue=(ee=ne==null?void 0:ne[0])==null?void 0:ee.message)!=null?ue:`${n.prop} is required`:"",r==null||r.emit("validate",n.prop,!1,d.value)},T=()=>{k("success"),r==null||r.emit("validate",n.prop,!0,"")},R=async z=>{const ee=w.value;return new td({[ee]:z}).validate({[ee]:A.value},{firstFields:!0}).then(()=>(T(),!0)).catch(ne=>(D(ne),Promise.reject(ne)))},V=async(z,ee)=>{if(g||!n.prop)return!1;const ue=at(ee);if(!I.value)return ee==null||ee(!1),!1;const ne=$(z);return ne.length===0?(ee==null||ee(!0),!0):(k("validating"),R(ne).then(()=>(ee==null||ee(!0),!0)).catch(le=>{const{fields:Me}=le;return ee==null||ee(!1,Me),ue?!1:Promise.reject(Me)}))},U=()=>{k(""),d.value="",g=!1},X=async()=>{const z=r==null?void 0:r.model;if(!z||!n.prop)return;const ee=pf(z,n.prop);g=!0,ee.value=l_(p),await it(),U(),g=!1},W=z=>{c.value.includes(z)||c.value.push(z)},j=z=>{c.value=c.value.filter(ee=>ee!==z)};Be(()=>n.error,z=>{d.value=z||"",k(z?"error":"")},{immediate:!0}),Be(()=>n.validateStatus,z=>k(z||""));const K=$t({...Wn(n),$el:h,size:u,validateState:f,labelId:o,inputIds:c,isGroup:M,hasLabel:C,fieldValue:A,addInputId:W,removeInputId:j,resetField:X,clearValidate:U,validate:V});return Mt(Vr,K),ht(()=>{n.prop&&(r==null||r.addField(K),p=l_(A.value))}),en(()=>{r==null||r.removeField(K)}),e({size:u,validateMessage:d,validateState:f,validate:V,clearValidate:U,resetField:X}),(z,ee)=>{var ue;return L(),Q("div",{ref_key:"formItemRef",ref:h,class:F(y(b)),role:y(M)?"group":void 0,"aria-labelledby":y(M)?y(o):void 0},[oe(y($V),{"is-auto-width":y(m).width==="auto","update-all":((ue=y(r))==null?void 0:ue.labelWidth)==="auto"},{default:ve(()=>[y(C)?(L(),Pe(wt(y(x)?"label":"div"),{key:0,id:y(o),for:y(x),class:F(y(s).e("label")),style:Qe(y(m))},{default:ve(()=>[Le(z.$slots,"label",{label:y(N)},()=>[Et(je(y(N)),1)])]),_:3},8,["id","for","class","style"])):Ee("v-if",!0)]),_:3},8,["is-auto-width","update-all"]),te("div",{class:F(y(s).e("content")),style:Qe(y(v))},[Le(z.$slots,"default"),oe(dx,{name:`${y(s).namespace.value}-zoom-in-top`},{default:ve(()=>[y(B)?Le(z.$slots,"error",{key:0,error:d.value},()=>[te("div",{class:F(y(S))},je(d.value),3)]):Ee("v-if",!0)]),_:3},8,["name"])],6)],10,HV)}}});var sE=Ge(WV,[["__file","form-item.vue"]]);const GV=gt(oV,{FormItem:sE}),jV=hn(sE);let cr;const XV=`
  height:0 !important;
  visibility:hidden !important;
  ${xx()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,KV=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function YV(t){const e=window.getComputedStyle(t),n=e.getPropertyValue("box-sizing"),i=Number.parseFloat(e.getPropertyValue("padding-bottom"))+Number.parseFloat(e.getPropertyValue("padding-top")),r=Number.parseFloat(e.getPropertyValue("border-bottom-width"))+Number.parseFloat(e.getPropertyValue("border-top-width"));return{contextStyle:KV.map(u=>`${u}:${e.getPropertyValue(u)}`).join(";"),paddingSize:i,borderSize:r,boxSizing:n}}function W_(t,e=1,n){var i;cr||(cr=document.createElement("textarea"),document.body.appendChild(cr));const{paddingSize:r,borderSize:a,boxSizing:u,contextStyle:s}=YV(t);cr.setAttribute("style",`${s};${XV}`),cr.value=t.value||t.placeholder||"";let o=cr.scrollHeight;const c={};u==="border-box"?o=o+a:u==="content-box"&&(o=o-r),cr.value="";const f=cr.scrollHeight-r;if(ot(e)){let l=f*e;u==="border-box"&&(l=l+r+a),o=Math.max(l,o),c.minHeight=`${l}px`}if(ot(n)){let l=f*n;u==="border-box"&&(l=l+r+a),o=Math.min(l,o)}return c.height=`${o}px`,(i=cr.parentNode)==null||i.removeChild(cr),cr=void 0,c}const qV=We({id:{type:String,default:void 0},size:kn,disabled:Boolean,modelValue:{type:we([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:we([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Kt},prefixIcon:{type:Kt},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:we([Object,Array,String]),default:()=>fn({})},autofocus:{type:Boolean,default:!1}}),ZV={[_t]:t=>ct(t),input:t=>ct(t),change:t=>ct(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,mouseleave:t=>t instanceof MouseEvent,mouseenter:t=>t instanceof MouseEvent,keydown:t=>t instanceof Event,compositionstart:t=>t instanceof CompositionEvent,compositionupdate:t=>t instanceof CompositionEvent,compositionend:t=>t instanceof CompositionEvent},JV=["role"],QV=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],e$=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],t$=se({name:"ElInput",inheritAttrs:!1}),n$=se({...t$,props:qV,emits:ZV,setup(t,{expose:e,emit:n}){const i=t,r=Sa(),a=Un(),u=P(()=>{const de={};return i.containerRole==="combobox"&&(de["aria-haspopup"]=r["aria-haspopup"],de["aria-owns"]=r["aria-owns"],de["aria-expanded"]=r["aria-expanded"]),de}),s=P(()=>[i.type==="textarea"?m.b():g.b(),g.m(h.value),g.is("disabled",p.value),g.is("exceed",W.value),{[g.b("group")]:a.prepend||a.append,[g.bm("group","append")]:a.append,[g.bm("group","prepend")]:a.prepend,[g.m("prefix")]:a.prefix||i.prefixIcon,[g.m("suffix")]:a.suffix||i.suffixIcon||i.clearable||i.showPassword,[g.bm("suffix","password-clear")]:R.value&&V.value,[g.b("hidden")]:i.type==="hidden"},r.class]),o=P(()=>[g.e("wrapper"),g.is("focus",A.value)]),c=o0({excludeKeys:P(()=>Object.keys(u.value))}),{form:f,formItem:l}=li(),{inputId:d}=Mr(i,{formItemContext:l}),h=Mn(),p=wi(),g=Ve("input"),m=Ve("textarea"),v=an(),b=an(),_=Y(!1),S=Y(!1),w=Y(!1),C=Y(),x=an(i.inputStyle),M=P(()=>v.value||b.value),{wrapperRef:E,isFocused:A,handleFocus:O,handleBlur:I}=Hh(M,{afterBlur(){var de;i.validateEvent&&((de=l==null?void 0:l.validate)==null||de.call(l,"blur").catch(Re=>void 0))}}),$=P(()=>{var de;return(de=f==null?void 0:f.statusIcon)!=null?de:!1}),H=P(()=>(l==null?void 0:l.validateState)||""),B=P(()=>H.value&&r0[H.value]),N=P(()=>w.value?lB:k3),k=P(()=>[r.style]),D=P(()=>[i.inputStyle,x.value,{resize:i.resize}]),T=P(()=>In(i.modelValue)?"":String(i.modelValue)),R=P(()=>i.clearable&&!p.value&&!i.readonly&&!!T.value&&(A.value||_.value)),V=P(()=>i.showPassword&&!p.value&&!i.readonly&&!!T.value&&(!!T.value||A.value)),U=P(()=>i.showWordLimit&&!!i.maxlength&&(i.type==="text"||i.type==="textarea")&&!p.value&&!i.readonly&&!i.showPassword),X=P(()=>T.value.length),W=P(()=>!!U.value&&X.value>Number(i.maxlength)),j=P(()=>!!a.suffix||!!i.suffixIcon||R.value||i.showPassword||U.value||!!H.value&&$.value),[K,z]=TU(v);dn(b,de=>{if(ne(),!U.value||i.resize!=="both")return;const Re=de[0],{width:Fe}=Re.contentRect;C.value={right:`calc(100% - ${Fe+15+6}px)`}});const ee=()=>{const{type:de,autosize:Re}=i;if(!(!Ot||de!=="textarea"||!b.value))if(Re){const Fe=bt(Re)?Re.minRows:void 0,ye=bt(Re)?Re.maxRows:void 0,Ne=W_(b.value,Fe,ye);x.value={overflowY:"hidden",...Ne},it(()=>{b.value.offsetHeight,x.value=Ne})}else x.value={minHeight:W_(b.value).minHeight}},ne=(de=>{let Re=!1;return()=>{var Fe;if(Re||!i.autosize)return;((Fe=b.value)==null?void 0:Fe.offsetParent)===null||(de(),Re=!0)}})(ee),le=()=>{const de=M.value,Re=i.formatter?i.formatter(T.value):T.value;!de||de.value===Re||(de.value=Re)},Me=async de=>{K();let{value:Re}=de.target;if(i.formatter&&(Re=i.parser?i.parser(Re):Re),!S.value){if(Re===T.value){le();return}n(_t,Re),n("input",Re),await it(),le(),z()}},q=de=>{n("change",de.target.value)},J=de=>{n("compositionstart",de),S.value=!0},ce=de=>{var Re;n("compositionupdate",de);const Fe=(Re=de.target)==null?void 0:Re.value,ye=Fe[Fe.length-1]||"";S.value=!s0(ye)},pe=de=>{n("compositionend",de),S.value&&(S.value=!1,Me(de))},re=()=>{w.value=!w.value,he()},he=async()=>{var de;await it(),(de=M.value)==null||de.focus()},Ce=()=>{var de;return(de=M.value)==null?void 0:de.blur()},Oe=de=>{_.value=!1,n("mouseleave",de)},ke=de=>{_.value=!0,n("mouseenter",de)},G=de=>{n("keydown",de)},Z=()=>{var de;(de=M.value)==null||de.select()},_e=()=>{n(_t,""),n("change",""),n("clear"),n("input","")};return Be(()=>i.modelValue,()=>{var de;it(()=>ee()),i.validateEvent&&((de=l==null?void 0:l.validate)==null||de.call(l,"change").catch(Re=>void 0))}),Be(T,()=>le()),Be(()=>i.type,async()=>{await it(),le(),ee()}),ht(()=>{!i.formatter&&i.parser,le(),it(ee)}),e({input:v,textarea:b,ref:M,textareaStyle:D,autosize:Zt(i,"autosize"),focus:he,blur:Ce,select:Z,clear:_e,resizeTextarea:ee}),(de,Re)=>(L(),Q("div",xt(y(u),{class:y(s),style:y(k),role:de.containerRole,onMouseenter:ke,onMouseleave:Oe}),[Ee(" input "),de.type!=="textarea"?(L(),Q(tt,{key:0},[Ee(" prepend slot "),de.$slots.prepend?(L(),Q("div",{key:0,class:F(y(g).be("group","prepend"))},[Le(de.$slots,"prepend")],2)):Ee("v-if",!0),te("div",{ref_key:"wrapperRef",ref:E,class:F(y(o))},[Ee(" prefix slot "),de.$slots.prefix||de.prefixIcon?(L(),Q("span",{key:0,class:F(y(g).e("prefix"))},[te("span",{class:F(y(g).e("prefix-inner"))},[Le(de.$slots,"prefix"),de.prefixIcon?(L(),Pe(y(et),{key:0,class:F(y(g).e("icon"))},{default:ve(()=>[(L(),Pe(wt(de.prefixIcon)))]),_:1},8,["class"])):Ee("v-if",!0)],2)],2)):Ee("v-if",!0),te("input",xt({id:y(d),ref_key:"input",ref:v,class:y(g).e("inner")},y(c),{minlength:de.minlength,maxlength:de.maxlength,type:de.showPassword?w.value?"text":"password":de.type,disabled:y(p),readonly:de.readonly,autocomplete:de.autocomplete,tabindex:de.tabindex,"aria-label":de.label,placeholder:de.placeholder,style:de.inputStyle,form:de.form,autofocus:de.autofocus,onCompositionstart:J,onCompositionupdate:ce,onCompositionend:pe,onInput:Me,onFocus:Re[0]||(Re[0]=(...Fe)=>y(O)&&y(O)(...Fe)),onBlur:Re[1]||(Re[1]=(...Fe)=>y(I)&&y(I)(...Fe)),onChange:q,onKeydown:G}),null,16,QV),Ee(" suffix slot "),y(j)?(L(),Q("span",{key:1,class:F(y(g).e("suffix"))},[te("span",{class:F(y(g).e("suffix-inner"))},[!y(R)||!y(V)||!y(U)?(L(),Q(tt,{key:0},[Le(de.$slots,"suffix"),de.suffixIcon?(L(),Pe(y(et),{key:0,class:F(y(g).e("icon"))},{default:ve(()=>[(L(),Pe(wt(de.suffixIcon)))]),_:1},8,["class"])):Ee("v-if",!0)],64)):Ee("v-if",!0),y(R)?(L(),Pe(y(et),{key:1,class:F([y(g).e("icon"),y(g).e("clear")]),onMousedown:lt(y(Gt),["prevent"]),onClick:_e},{default:ve(()=>[oe(y(_o))]),_:1},8,["class","onMousedown"])):Ee("v-if",!0),y(V)?(L(),Pe(y(et),{key:2,class:F([y(g).e("icon"),y(g).e("password")]),onClick:re},{default:ve(()=>[(L(),Pe(wt(y(N))))]),_:1},8,["class"])):Ee("v-if",!0),y(U)?(L(),Q("span",{key:3,class:F(y(g).e("count"))},[te("span",{class:F(y(g).e("count-inner"))},je(y(X))+" / "+je(de.maxlength),3)],2)):Ee("v-if",!0),y(H)&&y(B)&&y($)?(L(),Pe(y(et),{key:4,class:F([y(g).e("icon"),y(g).e("validateIcon"),y(g).is("loading",y(H)==="validating")])},{default:ve(()=>[(L(),Pe(wt(y(B))))]),_:1},8,["class"])):Ee("v-if",!0)],2)],2)):Ee("v-if",!0)],2),Ee(" append slot "),de.$slots.append?(L(),Q("div",{key:1,class:F(y(g).be("group","append"))},[Le(de.$slots,"append")],2)):Ee("v-if",!0)],64)):(L(),Q(tt,{key:1},[Ee(" textarea "),te("textarea",xt({id:y(d),ref_key:"textarea",ref:b,class:y(m).e("inner")},y(c),{minlength:de.minlength,maxlength:de.maxlength,tabindex:de.tabindex,disabled:y(p),readonly:de.readonly,autocomplete:de.autocomplete,style:y(D),"aria-label":de.label,placeholder:de.placeholder,form:de.form,autofocus:de.autofocus,onCompositionstart:J,onCompositionupdate:ce,onCompositionend:pe,onInput:Me,onFocus:Re[2]||(Re[2]=(...Fe)=>y(O)&&y(O)(...Fe)),onBlur:Re[3]||(Re[3]=(...Fe)=>y(I)&&y(I)(...Fe)),onChange:q,onKeydown:G}),null,16,e$),y(U)?(L(),Q("span",{key:0,style:Qe(C.value),class:F(y(g).e("count"))},je(y(X))+" / "+je(de.maxlength),7)):Ee("v-if",!0)],64))],16,JV))}});var i$=Ge(n$,[["__file","input.vue"]]);const ri=gt(i$),Pa=4,oE={vertical:{offset:"offsetHeight",scroll:"scrollTop",scrollSize:"scrollHeight",size:"height",key:"vertical",axis:"Y",client:"clientY",direction:"top"},horizontal:{offset:"offsetWidth",scroll:"scrollLeft",scrollSize:"scrollWidth",size:"width",key:"horizontal",axis:"X",client:"clientX",direction:"left"}},r$=({move:t,size:e,bar:n})=>({[n.size]:e,transform:`translate${n.axis}(${t}%)`}),M0=Symbol("scrollbarContextKey"),s$=We({vertical:Boolean,size:String,move:Number,ratio:{type:Number,required:!0},always:Boolean}),o$="Thumb",a$=se({__name:"thumb",props:s$,setup(t){const e=t,n=Je(M0),i=Ve("scrollbar");n||Rn(o$,"can not inject scrollbar context");const r=Y(),a=Y(),u=Y({}),s=Y(!1);let o=!1,c=!1,f=Ot?document.onselectstart:null;const l=P(()=>oE[e.vertical?"vertical":"horizontal"]),d=P(()=>r$({size:e.size,move:e.move,bar:l.value})),h=P(()=>r.value[l.value.offset]**2/n.wrapElement[l.value.scrollSize]/e.ratio/a.value[l.value.offset]),p=C=>{var x;if(C.stopPropagation(),C.ctrlKey||[1,2].includes(C.button))return;(x=window.getSelection())==null||x.removeAllRanges(),m(C);const M=C.currentTarget;M&&(u.value[l.value.axis]=M[l.value.offset]-(C[l.value.client]-M.getBoundingClientRect()[l.value.direction]))},g=C=>{if(!a.value||!r.value||!n.wrapElement)return;const x=Math.abs(C.target.getBoundingClientRect()[l.value.direction]-C[l.value.client]),M=a.value[l.value.offset]/2,E=(x-M)*100*h.value/r.value[l.value.offset];n.wrapElement[l.value.scroll]=E*n.wrapElement[l.value.scrollSize]/100},m=C=>{C.stopImmediatePropagation(),o=!0,document.addEventListener("mousemove",v),document.addEventListener("mouseup",b),f=document.onselectstart,document.onselectstart=()=>!1},v=C=>{if(!r.value||!a.value||o===!1)return;const x=u.value[l.value.axis];if(!x)return;const M=(r.value.getBoundingClientRect()[l.value.direction]-C[l.value.client])*-1,E=a.value[l.value.offset]-x,A=(M-E)*100*h.value/r.value[l.value.offset];n.wrapElement[l.value.scroll]=A*n.wrapElement[l.value.scrollSize]/100},b=()=>{o=!1,u.value[l.value.axis]=0,document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",b),w(),c&&(s.value=!1)},_=()=>{c=!1,s.value=!!e.size},S=()=>{c=!0,s.value=o};en(()=>{w(),document.removeEventListener("mouseup",b)});const w=()=>{document.onselectstart!==f&&(document.onselectstart=f)};return nn(Zt(n,"scrollbarElement"),"mousemove",_),nn(Zt(n,"scrollbarElement"),"mouseleave",S),(C,x)=>(L(),Pe(An,{name:y(i).b("fade"),persisted:""},{default:ve(()=>[ft(te("div",{ref_key:"instance",ref:r,class:F([y(i).e("bar"),y(i).is(y(l).key)]),onMousedown:g},[te("div",{ref_key:"thumb",ref:a,class:F(y(i).e("thumb")),style:Qe(y(d)),onMousedown:p},null,38)],34),[[Nt,C.always||s.value]])]),_:1},8,["name"]))}});var G_=Ge(a$,[["__file","thumb.vue"]]);const l$=We({always:{type:Boolean,default:!0},minSize:{type:Number,required:!0}}),c$=se({__name:"bar",props:l$,setup(t,{expose:e}){const n=t,i=Je(M0),r=Y(0),a=Y(0),u=Y(""),s=Y(""),o=Y(1),c=Y(1);return e({handleScroll:d=>{if(d){const h=d.offsetHeight-Pa,p=d.offsetWidth-Pa;a.value=d.scrollTop*100/h*o.value,r.value=d.scrollLeft*100/p*c.value}},update:()=>{const d=i==null?void 0:i.wrapElement;if(!d)return;const h=d.offsetHeight-Pa,p=d.offsetWidth-Pa,g=h**2/d.scrollHeight,m=p**2/d.scrollWidth,v=Math.max(g,n.minSize),b=Math.max(m,n.minSize);o.value=g/(h-g)/(v/(h-v)),c.value=m/(p-m)/(b/(p-b)),s.value=v+Pa<h?`${v}px`:"",u.value=b+Pa<p?`${b}px`:""}}),(d,h)=>(L(),Q(tt,null,[oe(G_,{move:r.value,ratio:c.value,size:u.value,always:d.always},null,8,["move","ratio","size","always"]),oe(G_,{move:a.value,ratio:o.value,size:s.value,vertical:"",always:d.always},null,8,["move","ratio","size","always"])],64))}});var u$=Ge(c$,[["__file","bar.vue"]]);const d$=We({height:{type:[String,Number],default:""},maxHeight:{type:[String,Number],default:""},native:{type:Boolean,default:!1},wrapStyle:{type:we([String,Object,Array]),default:""},wrapClass:{type:[String,Array],default:""},viewClass:{type:[String,Array],default:""},viewStyle:{type:[String,Array,Object],default:""},noresize:Boolean,tag:{type:String,default:"div"},always:Boolean,minSize:{type:Number,default:20},id:String,role:String,ariaLabel:String,ariaOrientation:{type:String,values:["horizontal","vertical"]}}),f$={scroll:({scrollTop:t,scrollLeft:e})=>[t,e].every(ot)},h$="ElScrollbar",p$=se({name:h$}),m$=se({...p$,props:d$,emits:f$,setup(t,{expose:e,emit:n}){const i=t,r=Ve("scrollbar");let a,u;const s=Y(),o=Y(),c=Y(),f=Y(),l=P(()=>{const _={};return i.height&&(_.height=yn(i.height)),i.maxHeight&&(_.maxHeight=yn(i.maxHeight)),[i.wrapStyle,_]}),d=P(()=>[i.wrapClass,r.e("wrap"),{[r.em("wrap","hidden-default")]:!i.native}]),h=P(()=>[r.e("view"),i.viewClass]),p=()=>{var _;o.value&&((_=f.value)==null||_.handleScroll(o.value),n("scroll",{scrollTop:o.value.scrollTop,scrollLeft:o.value.scrollLeft}))};function g(_,S){bt(_)?o.value.scrollTo(_):ot(_)&&ot(S)&&o.value.scrollTo(_,S)}const m=_=>{ot(_)&&(o.value.scrollTop=_)},v=_=>{ot(_)&&(o.value.scrollLeft=_)},b=()=>{var _;(_=f.value)==null||_.update()};return Be(()=>i.noresize,_=>{_?(a==null||a(),u==null||u()):({stop:a}=dn(c,b),u=nn("resize",b))},{immediate:!0}),Be(()=>[i.maxHeight,i.height],()=>{i.native||it(()=>{var _;b(),o.value&&((_=f.value)==null||_.handleScroll(o.value))})}),Mt(M0,$t({scrollbarElement:s,wrapElement:o})),ht(()=>{i.native||it(()=>{b()})}),Ss(()=>b()),e({wrapRef:o,update:b,scrollTo:g,setScrollTop:m,setScrollLeft:v,handleScroll:p}),(_,S)=>(L(),Q("div",{ref_key:"scrollbarRef",ref:s,class:F(y(r).b())},[te("div",{ref_key:"wrapRef",ref:o,class:F(y(d)),style:Qe(y(l)),onScroll:p},[(L(),Pe(wt(_.tag),{id:_.id,ref_key:"resizeRef",ref:c,class:F(y(h)),style:Qe(_.viewStyle),role:_.role,"aria-label":_.ariaLabel,"aria-orientation":_.ariaOrientation},{default:ve(()=>[Le(_.$slots,"default")]),_:3},8,["id","class","style","role","aria-label","aria-orientation"]))],38),_.native?Ee("v-if",!0):(L(),Pe(u$,{key:0,ref_key:"barRef",ref:f,always:_.always,"min-size":_.minSize},null,8,["always","min-size"]))],2))}});var g$=Ge(m$,[["__file","scrollbar.vue"]]);const Es=gt(g$),A0=Symbol("popper"),aE=Symbol("popperContent"),v$=["dialog","grid","group","listbox","menu","navigation","tooltip","tree"],lE=We({role:{type:String,values:v$,default:"tooltip"}}),y$=se({name:"ElPopper",inheritAttrs:!1}),b$=se({...y$,props:lE,setup(t,{expose:e}){const n=t,i=Y(),r=Y(),a=Y(),u=Y(),s=P(()=>n.role),o={triggerRef:i,popperInstanceRef:r,contentRef:a,referenceRef:u,role:s};return e(o),Mt(A0,o),(c,f)=>Le(c.$slots,"default")}});var _$=Ge(b$,[["__file","popper.vue"]]);const cE=We({arrowOffset:{type:Number,default:5}}),S$=se({name:"ElPopperArrow",inheritAttrs:!1}),w$=se({...S$,props:cE,setup(t,{expose:e}){const n=t,i=Ve("popper"),{arrowOffset:r,arrowRef:a,arrowStyle:u}=Je(aE,void 0);return Be(()=>n.arrowOffset,s=>{r.value=s}),en(()=>{a.value=void 0}),e({arrowRef:a}),(s,o)=>(L(),Q("span",{ref_key:"arrowRef",ref:a,class:F(y(i).e("arrow")),style:Qe(y(u)),"data-popper-arrow":""},null,6))}});var C$=Ge(w$,[["__file","arrow.vue"]]);const x$="ElOnlyChild",uE=se({name:x$,setup(t,{slots:e,attrs:n}){var i;const r=Je(UT),a=H4((i=r==null?void 0:r.setForwardRef)!=null?i:Gt);return()=>{var u;const s=(u=e.default)==null?void 0:u.call(e,n);if(!s||s.length>1)return null;const o=dE(s);return o?ft(ms(o,n),[[a]]):null}}});function dE(t){if(!t)return null;const e=t;for(const n of e){if(bt(n))switch(n.type){case gi:continue;case tc:case"svg":return j_(n);case tt:return dE(n.children);default:return n}return j_(n)}return null}function j_(t){const e=Ve("only-child");return oe("span",{class:e.e("content")},[t])}const fE=We({virtualRef:{type:we(Object)},virtualTriggering:Boolean,onMouseenter:{type:we(Function)},onMouseleave:{type:we(Function)},onClick:{type:we(Function)},onKeydown:{type:we(Function)},onFocus:{type:we(Function)},onBlur:{type:we(Function)},onContextmenu:{type:we(Function)},id:String,open:Boolean}),T$=se({name:"ElPopperTrigger",inheritAttrs:!1}),E$=se({...T$,props:fE,setup(t,{expose:e}){const n=t,{role:i,triggerRef:r}=Je(A0,void 0);$4(r);const a=P(()=>s.value?n.id:void 0),u=P(()=>{if(i&&i.value==="tooltip")return n.open&&n.id?n.id:void 0}),s=P(()=>{if(i&&i.value!=="tooltip")return i.value}),o=P(()=>s.value?`${n.open}`:void 0);let c;return ht(()=>{Be(()=>n.virtualRef,f=>{f&&(r.value=Ti(f))},{immediate:!0}),Be(r,(f,l)=>{c==null||c(),c=void 0,rr(f)&&(["onMouseenter","onMouseleave","onClick","onKeydown","onFocus","onBlur","onContextmenu"].forEach(d=>{var h;const p=n[d];p&&(f.addEventListener(d.slice(2).toLowerCase(),p),(h=l==null?void 0:l.removeEventListener)==null||h.call(l,d.slice(2).toLowerCase(),p))}),c=Be([a,u,s,o],d=>{["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach((h,p)=>{In(d[p])?f.removeAttribute(h):f.setAttribute(h,d[p])})},{immediate:!0})),rr(l)&&["aria-controls","aria-describedby","aria-haspopup","aria-expanded"].forEach(d=>l.removeAttribute(d))},{immediate:!0})}),en(()=>{c==null||c(),c=void 0}),e({triggerRef:r}),(f,l)=>f.virtualTriggering?Ee("v-if",!0):(L(),Pe(y(uE),xt({key:0},f.$attrs,{"aria-controls":y(a),"aria-describedby":y(u),"aria-expanded":y(o),"aria-haspopup":y(s)}),{default:ve(()=>[Le(f.$slots,"default")]),_:3},16,["aria-controls","aria-describedby","aria-expanded","aria-haspopup"]))}});var M$=Ge(E$,[["__file","trigger.vue"]]);const Tp="focus-trap.focus-after-trapped",Ep="focus-trap.focus-after-released",A$="focus-trap.focusout-prevented",X_={cancelable:!0,bubbles:!1},R$={cancelable:!0,bubbles:!1},K_="focusAfterTrapped",Y_="focusAfterReleased",R0=Symbol("elFocusTrap"),P0=Y(),Gh=Y(0),O0=Y(0);let Td=0;const hE=t=>{const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:i=>{const r=i.tagName==="INPUT"&&i.type==="hidden";return i.disabled||i.hidden||r?NodeFilter.FILTER_SKIP:i.tabIndex>=0||i===document.activeElement?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e},q_=(t,e)=>{for(const n of t)if(!P$(n,e))return n},P$=(t,e)=>{if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1},O$=t=>{const e=hE(t),n=q_(e,t),i=q_(e.reverse(),t);return[n,i]},k$=t=>t instanceof HTMLInputElement&&"select"in t,Hs=(t,e)=>{if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),O0.value=window.performance.now(),t!==n&&k$(t)&&e&&t.select()}};function Z_(t,e){const n=[...t],i=t.indexOf(e);return i!==-1&&n.splice(i,1),n}const L$=()=>{let t=[];return{push:i=>{const r=t[0];r&&i!==r&&r.pause(),t=Z_(t,i),t.unshift(i)},remove:i=>{var r,a;t=Z_(t,i),(a=(r=t[0])==null?void 0:r.resume)==null||a.call(r)}}},I$=(t,e=!1)=>{const n=document.activeElement;for(const i of t)if(Hs(i,e),document.activeElement!==n)return},J_=L$(),D$=()=>Gh.value>O0.value,Ed=()=>{P0.value="pointer",Gh.value=window.performance.now()},Q_=()=>{P0.value="keyboard",Gh.value=window.performance.now()},N$=()=>(ht(()=>{Td===0&&(document.addEventListener("mousedown",Ed),document.addEventListener("touchstart",Ed),document.addEventListener("keydown",Q_)),Td++}),en(()=>{Td--,Td<=0&&(document.removeEventListener("mousedown",Ed),document.removeEventListener("touchstart",Ed),document.removeEventListener("keydown",Q_))}),{focusReason:P0,lastUserFocusTimestamp:Gh,lastAutomatedFocusTimestamp:O0}),Md=t=>new CustomEvent(A$,{...R$,detail:t}),F$=se({name:"ElFocusTrap",inheritAttrs:!1,props:{loop:Boolean,trapped:Boolean,focusTrapEl:Object,focusStartEl:{type:[Object,String],default:"first"}},emits:[K_,Y_,"focusin","focusout","focusout-prevented","release-requested"],setup(t,{emit:e}){const n=Y();let i,r;const{focusReason:a}=N$();N4(p=>{t.trapped&&!u.paused&&e("release-requested",p)});const u={paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}},s=p=>{if(!t.loop&&!t.trapped||u.paused)return;const{key:g,altKey:m,ctrlKey:v,metaKey:b,currentTarget:_,shiftKey:S}=p,{loop:w}=t,C=g===nt.tab&&!m&&!v&&!b,x=document.activeElement;if(C&&x){const M=_,[E,A]=O$(M);if(E&&A){if(!S&&x===A){const I=Md({focusReason:a.value});e("focusout-prevented",I),I.defaultPrevented||(p.preventDefault(),w&&Hs(E,!0))}else if(S&&[E,M].includes(x)){const I=Md({focusReason:a.value});e("focusout-prevented",I),I.defaultPrevented||(p.preventDefault(),w&&Hs(A,!0))}}else if(x===M){const I=Md({focusReason:a.value});e("focusout-prevented",I),I.defaultPrevented||p.preventDefault()}}};Mt(R0,{focusTrapRef:n,onKeydown:s}),Be(()=>t.focusTrapEl,p=>{p&&(n.value=p)},{immediate:!0}),Be([n],([p],[g])=>{p&&(p.addEventListener("keydown",s),p.addEventListener("focusin",f),p.addEventListener("focusout",l)),g&&(g.removeEventListener("keydown",s),g.removeEventListener("focusin",f),g.removeEventListener("focusout",l))});const o=p=>{e(K_,p)},c=p=>e(Y_,p),f=p=>{const g=y(n);if(!g)return;const m=p.target,v=p.relatedTarget,b=m&&g.contains(m);t.trapped||v&&g.contains(v)||(i=v),b&&e("focusin",p),!u.paused&&t.trapped&&(b?r=m:Hs(r,!0))},l=p=>{const g=y(n);if(!(u.paused||!g))if(t.trapped){const m=p.relatedTarget;!In(m)&&!g.contains(m)&&setTimeout(()=>{if(!u.paused&&t.trapped){const v=Md({focusReason:a.value});e("focusout-prevented",v),v.defaultPrevented||Hs(r,!0)}},0)}else{const m=p.target;m&&g.contains(m)||e("focusout",p)}};async function d(){await it();const p=y(n);if(p){J_.push(u);const g=p.contains(document.activeElement)?i:document.activeElement;if(i=g,!p.contains(g)){const v=new Event(Tp,X_);p.addEventListener(Tp,o),p.dispatchEvent(v),v.defaultPrevented||it(()=>{let b=t.focusStartEl;ct(b)||(Hs(b),document.activeElement!==b&&(b="first")),b==="first"&&I$(hE(p),!0),(document.activeElement===g||b==="container")&&Hs(p)})}}}function h(){const p=y(n);if(p){p.removeEventListener(Tp,o);const g=new CustomEvent(Ep,{...X_,detail:{focusReason:a.value}});p.addEventListener(Ep,c),p.dispatchEvent(g),!g.defaultPrevented&&(a.value=="keyboard"||!D$()||p.contains(document.activeElement))&&Hs(i??document.body),p.removeEventListener(Ep,c),J_.remove(u)}}return ht(()=>{t.trapped&&d(),Be(()=>t.trapped,p=>{p?d():h()})}),en(()=>{t.trapped&&h()}),{onKeydown:s}}});function B$(t,e,n,i,r,a){return Le(t.$slots,"default",{handleKeydown:t.onKeydown})}var nd=Ge(F$,[["render",B$],["__file","focus-trap.vue"]]);const U$=["fixed","absolute"],V$=We({boundariesPadding:{type:Number,default:0},fallbackPlacements:{type:we(Array),default:void 0},gpuAcceleration:{type:Boolean,default:!0},offset:{type:Number,default:12},placement:{type:String,values:Ta,default:"bottom"},popperOptions:{type:we(Object),default:()=>({})},strategy:{type:String,values:U$,default:"absolute"}}),pE=We({...V$,id:String,style:{type:we([String,Array,Object])},className:{type:we([String,Array,Object])},effect:{type:String,default:"dark"},visible:Boolean,enterable:{type:Boolean,default:!0},pure:Boolean,focusOnShow:{type:Boolean,default:!1},trapping:{type:Boolean,default:!1},popperClass:{type:we([String,Array,Object])},popperStyle:{type:we([String,Array,Object])},referenceEl:{type:we(Object)},triggerTargetEl:{type:we(Object)},stopPopperMouseEvent:{type:Boolean,default:!0},ariaLabel:{type:String,default:void 0},virtualTriggering:Boolean,zIndex:Number}),$$={mouseenter:t=>t instanceof MouseEvent,mouseleave:t=>t instanceof MouseEvent,focus:()=>!0,blur:()=>!0,close:()=>!0},H$=(t,e=[])=>{const{placement:n,strategy:i,popperOptions:r}=t,a={placement:n,strategy:i,...r,modifiers:[...W$(t),...e]};return G$(a,r==null?void 0:r.modifiers),a},z$=t=>{if(Ot)return Ti(t)};function W$(t){const{offset:e,gpuAcceleration:n,fallbackPlacements:i}=t;return[{name:"offset",options:{offset:[0,e??12]}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5,fallbackPlacements:i}},{name:"computeStyles",options:{gpuAcceleration:n}}]}function G$(t,e){e&&(t.modifiers=[...t.modifiers,...e??[]])}const j$=0,X$=t=>{const{popperInstanceRef:e,contentRef:n,triggerRef:i,role:r}=Je(A0,void 0),a=Y(),u=Y(),s=P(()=>({name:"eventListeners",enabled:!!t.visible})),o=P(()=>{var v;const b=y(a),_=(v=y(u))!=null?v:j$;return{name:"arrow",enabled:!cT(b),options:{element:b,padding:_}}}),c=P(()=>({onFirstUpdate:()=>{p()},...H$(t,[y(o),y(s)])})),f=P(()=>z$(t.referenceEl)||y(i)),{attributes:l,state:d,styles:h,update:p,forceUpdate:g,instanceRef:m}=k4(f,n,c);return Be(m,v=>e.value=v),ht(()=>{Be(()=>{var v;return(v=y(f))==null?void 0:v.getBoundingClientRect()},()=>{p()})}),{attributes:l,arrowRef:a,contentRef:n,instanceRef:m,state:d,styles:h,role:r,forceUpdate:g,update:p}},K$=(t,{attributes:e,styles:n,role:i})=>{const{nextZIndex:r}=oc(),a=Ve("popper"),u=P(()=>y(e).popper),s=Y(ot(t.zIndex)?t.zIndex:r()),o=P(()=>[a.b(),a.is("pure",t.pure),a.is(t.effect),t.popperClass]),c=P(()=>[{zIndex:y(s)},y(n).popper,t.popperStyle||{}]),f=P(()=>i.value==="dialog"?"false":void 0),l=P(()=>y(n).arrow||{});return{ariaModal:f,arrowStyle:l,contentAttrs:u,contentClass:o,contentStyle:c,contentZIndex:s,updateZIndex:()=>{s.value=ot(t.zIndex)?t.zIndex:r()}}},Y$=(t,e)=>{const n=Y(!1),i=Y();return{focusStartRef:i,trapped:n,onFocusAfterReleased:c=>{var f;((f=c.detail)==null?void 0:f.focusReason)!=="pointer"&&(i.value="first",e("blur"))},onFocusAfterTrapped:()=>{e("focus")},onFocusInTrap:c=>{t.visible&&!n.value&&(c.target&&(i.value=c.target),n.value=!0)},onFocusoutPrevented:c=>{t.trapping||(c.detail.focusReason==="pointer"&&c.preventDefault(),n.value=!1)},onReleaseRequested:()=>{n.value=!1,e("close")}}},q$=se({name:"ElPopperContent"}),Z$=se({...q$,props:pE,emits:$$,setup(t,{expose:e,emit:n}){const i=t,{focusStartRef:r,trapped:a,onFocusAfterReleased:u,onFocusAfterTrapped:s,onFocusInTrap:o,onFocusoutPrevented:c,onReleaseRequested:f}=Y$(i,n),{attributes:l,arrowRef:d,contentRef:h,styles:p,instanceRef:g,role:m,update:v}=X$(i),{ariaModal:b,arrowStyle:_,contentAttrs:S,contentClass:w,contentStyle:C,updateZIndex:x}=K$(i,{styles:p,attributes:l,role:m}),M=Je(Vr,void 0),E=Y();Mt(aE,{arrowStyle:_,arrowRef:d,arrowOffset:E}),M&&(M.addInputId||M.removeInputId)&&Mt(Vr,{...M,addInputId:Gt,removeInputId:Gt});let A;const O=($=!0)=>{v(),$&&x()},I=()=>{O(!1),i.visible&&i.focusOnShow?a.value=!0:i.visible===!1&&(a.value=!1)};return ht(()=>{Be(()=>i.triggerTargetEl,($,H)=>{A==null||A(),A=void 0;const B=y($||h.value),N=y(H||h.value);rr(B)&&(A=Be([m,()=>i.ariaLabel,b,()=>i.id],k=>{["role","aria-label","aria-modal","id"].forEach((D,T)=>{In(k[T])?B.removeAttribute(D):B.setAttribute(D,k[T])})},{immediate:!0})),N!==B&&rr(N)&&["role","aria-label","aria-modal","id"].forEach(k=>{N.removeAttribute(k)})},{immediate:!0}),Be(()=>i.visible,I,{immediate:!0})}),en(()=>{A==null||A(),A=void 0}),e({popperContentRef:h,popperInstanceRef:g,updatePopper:O,contentStyle:C}),($,H)=>(L(),Q("div",xt({ref_key:"contentRef",ref:h},y(S),{style:y(C),class:y(w),tabindex:"-1",onMouseenter:H[0]||(H[0]=B=>$.$emit("mouseenter",B)),onMouseleave:H[1]||(H[1]=B=>$.$emit("mouseleave",B))}),[oe(y(nd),{trapped:y(a),"trap-on-focus-in":!0,"focus-trap-el":y(h),"focus-start-el":y(r),onFocusAfterTrapped:y(s),onFocusAfterReleased:y(u),onFocusin:y(o),onFocusoutPrevented:y(c),onReleaseRequested:y(f)},{default:ve(()=>[Le($.$slots,"default")]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusin","onFocusoutPrevented","onReleaseRequested"])],16))}});var J$=Ge(Z$,[["__file","content.vue"]]);const mE=gt(_$),jh=Symbol("elTooltip"),Hn=We({...U4,...pE,appendTo:{type:we([String,Object])},content:{type:String,default:""},rawContent:{type:Boolean,default:!1},persistent:Boolean,ariaLabel:String,visible:{type:we(Boolean),default:null},transition:String,teleported:{type:Boolean,default:!0},disabled:Boolean}),xu=We({...fE,disabled:Boolean,trigger:{type:we([String,Array]),default:"hover"},triggerKeys:{type:we(Array),default:()=>[nt.enter,nt.space]}}),{useModelToggleProps:Q$,useModelToggleEmits:eH,useModelToggle:tH}=TT("visible"),nH=We({...lE,...Q$,...Hn,...xu,...cE,showArrow:{type:Boolean,default:!0}}),iH=[...eH,"before-show","before-hide","show","hide","open","close"],rH=(t,e)=>qe(t)?t.includes(e):t===e,Oa=(t,e,n)=>i=>{rH(y(t),e)&&n(i)},sH=se({name:"ElTooltipTrigger"}),oH=se({...sH,props:xu,setup(t,{expose:e}){const n=t,i=Ve("tooltip"),{controlled:r,id:a,open:u,onOpen:s,onClose:o,onToggle:c}=Je(jh,void 0),f=Y(null),l=()=>{if(y(r)||n.disabled)return!0},d=Zt(n,"trigger"),h=vn(l,Oa(d,"hover",s)),p=vn(l,Oa(d,"hover",o)),g=vn(l,Oa(d,"click",S=>{S.button===0&&c(S)})),m=vn(l,Oa(d,"focus",s)),v=vn(l,Oa(d,"focus",o)),b=vn(l,Oa(d,"contextmenu",S=>{S.preventDefault(),c(S)})),_=vn(l,S=>{const{code:w}=S;n.triggerKeys.includes(w)&&(S.preventDefault(),c(S))});return e({triggerRef:f}),(S,w)=>(L(),Pe(y(M$),{id:y(a),"virtual-ref":S.virtualRef,open:y(u),"virtual-triggering":S.virtualTriggering,class:F(y(i).e("trigger")),onBlur:y(v),onClick:y(g),onContextmenu:y(b),onFocus:y(m),onMouseenter:y(h),onMouseleave:y(p),onKeydown:y(_)},{default:ve(()=>[Le(S.$slots,"default")]),_:3},8,["id","virtual-ref","open","virtual-triggering","class","onBlur","onClick","onContextmenu","onFocus","onMouseenter","onMouseleave","onKeydown"]))}});var aH=Ge(oH,[["__file","trigger.vue"]]);const lH=se({name:"ElTooltipContent",inheritAttrs:!1}),cH=se({...lH,props:Hn,setup(t,{expose:e}){const n=t,{selector:i}=BT(),r=Ve("tooltip"),a=Y(null),u=Y(!1),{controlled:s,id:o,open:c,trigger:f,onClose:l,onOpen:d,onShow:h,onHide:p,onBeforeShow:g,onBeforeHide:m}=Je(jh,void 0),v=P(()=>n.transition||`${r.namespace.value}-fade-in-linear`),b=P(()=>n.persistent);en(()=>{u.value=!0});const _=P(()=>y(b)?!0:y(c)),S=P(()=>n.disabled?!1:y(c)),w=P(()=>n.appendTo||i.value),C=P(()=>{var k;return(k=n.style)!=null?k:{}}),x=P(()=>!y(c)),M=()=>{p()},E=()=>{if(y(s))return!0},A=vn(E,()=>{n.enterable&&y(f)==="hover"&&d()}),O=vn(E,()=>{y(f)==="hover"&&l()}),I=()=>{var k,D;(D=(k=a.value)==null?void 0:k.updatePopper)==null||D.call(k),g==null||g()},$=()=>{m==null||m()},H=()=>{h(),N=Lv(P(()=>{var k;return(k=a.value)==null?void 0:k.popperContentRef}),()=>{if(y(s))return;y(f)!=="hover"&&l()})},B=()=>{n.virtualTriggering||l()};let N;return Be(()=>y(c),k=>{k||N==null||N()},{flush:"post"}),Be(()=>n.content,()=>{var k,D;(D=(k=a.value)==null?void 0:k.updatePopper)==null||D.call(k)}),e({contentRef:a}),(k,D)=>(L(),Pe(ec,{disabled:!k.teleported,to:y(w)},[oe(An,{name:y(v),onAfterLeave:M,onBeforeEnter:I,onAfterEnter:H,onBeforeLeave:$},{default:ve(()=>[y(_)?ft((L(),Pe(y(J$),xt({key:0,id:y(o),ref_key:"contentRef",ref:a},k.$attrs,{"aria-label":k.ariaLabel,"aria-hidden":y(x),"boundaries-padding":k.boundariesPadding,"fallback-placements":k.fallbackPlacements,"gpu-acceleration":k.gpuAcceleration,offset:k.offset,placement:k.placement,"popper-options":k.popperOptions,strategy:k.strategy,effect:k.effect,enterable:k.enterable,pure:k.pure,"popper-class":k.popperClass,"popper-style":[k.popperStyle,y(C)],"reference-el":k.referenceEl,"trigger-target-el":k.triggerTargetEl,visible:y(S),"z-index":k.zIndex,onMouseenter:y(A),onMouseleave:y(O),onBlur:B,onClose:y(l)}),{default:ve(()=>[u.value?Ee("v-if",!0):Le(k.$slots,"default",{key:0})]),_:3},16,["id","aria-label","aria-hidden","boundaries-padding","fallback-placements","gpu-acceleration","offset","placement","popper-options","strategy","effect","enterable","pure","popper-class","popper-style","reference-el","trigger-target-el","visible","z-index","onMouseenter","onMouseleave","onClose"])),[[Nt,y(S)]]):Ee("v-if",!0)]),_:3},8,["name"])],8,["disabled","to"]))}});var uH=Ge(cH,[["__file","content.vue"]]);const dH=["innerHTML"],fH={key:1},hH=se({name:"ElTooltip"}),pH=se({...hH,props:nH,emits:iH,setup(t,{expose:e,emit:n}){const i=t;B4();const r=Jn(),a=Y(),u=Y(),s=()=>{var v;const b=y(a);b&&((v=b.popperInstanceRef)==null||v.update())},o=Y(!1),c=Y(),{show:f,hide:l,hasUpdateHandler:d}=tH({indicator:o,toggleReason:c}),{onOpen:h,onClose:p}=V4({showAfter:Zt(i,"showAfter"),hideAfter:Zt(i,"hideAfter"),autoClose:Zt(i,"autoClose"),open:f,close:l}),g=P(()=>Tn(i.visible)&&!d.value);Mt(jh,{controlled:g,id:r,open:Ql(o),trigger:Zt(i,"trigger"),onOpen:v=>{h(v)},onClose:v=>{p(v)},onToggle:v=>{y(o)?p(v):h(v)},onShow:()=>{n("show",c.value)},onHide:()=>{n("hide",c.value)},onBeforeShow:()=>{n("before-show",c.value)},onBeforeHide:()=>{n("before-hide",c.value)},updatePopper:s}),Be(()=>i.disabled,v=>{v&&o.value&&(o.value=!1)});const m=v=>{var b,_;const S=(_=(b=u.value)==null?void 0:b.contentRef)==null?void 0:_.popperContentRef,w=(v==null?void 0:v.relatedTarget)||document.activeElement;return S&&S.contains(w)};return F1(()=>o.value&&l()),e({popperRef:a,contentRef:u,isFocusInsideContent:m,updatePopper:s,onOpen:h,onClose:p,hide:l}),(v,b)=>(L(),Pe(y(mE),{ref_key:"popperRef",ref:a,role:v.role},{default:ve(()=>[oe(aH,{disabled:v.disabled,trigger:v.trigger,"trigger-keys":v.triggerKeys,"virtual-ref":v.virtualRef,"virtual-triggering":v.virtualTriggering},{default:ve(()=>[v.$slots.default?Le(v.$slots,"default",{key:0}):Ee("v-if",!0)]),_:3},8,["disabled","trigger","trigger-keys","virtual-ref","virtual-triggering"]),oe(uH,{ref_key:"contentRef",ref:u,"aria-label":v.ariaLabel,"boundaries-padding":v.boundariesPadding,content:v.content,disabled:v.disabled,effect:v.effect,enterable:v.enterable,"fallback-placements":v.fallbackPlacements,"hide-after":v.hideAfter,"gpu-acceleration":v.gpuAcceleration,offset:v.offset,persistent:v.persistent,"popper-class":v.popperClass,"popper-style":v.popperStyle,placement:v.placement,"popper-options":v.popperOptions,pure:v.pure,"raw-content":v.rawContent,"reference-el":v.referenceEl,"trigger-target-el":v.triggerTargetEl,"show-after":v.showAfter,strategy:v.strategy,teleported:v.teleported,transition:v.transition,"virtual-triggering":v.virtualTriggering,"z-index":v.zIndex,"append-to":v.appendTo},{default:ve(()=>[Le(v.$slots,"content",{},()=>[v.rawContent?(L(),Q("span",{key:0,innerHTML:v.content},null,8,dH)):(L(),Q("span",fH,je(v.content),1))]),v.showArrow?(L(),Pe(y(C$),{key:0,"arrow-offset":v.arrowOffset},null,8,["arrow-offset"])):Ee("v-if",!0)]),_:3},8,["aria-label","boundaries-padding","content","disabled","effect","enterable","fallback-placements","hide-after","gpu-acceleration","offset","persistent","popper-class","popper-style","placement","popper-options","pure","raw-content","reference-el","trigger-target-el","show-after","strategy","teleported","transition","virtual-triggering","z-index","append-to"])]),_:3},8,["role"]))}});var mH=Ge(pH,[["__file","tooltip.vue"]]);const ai=gt(mH),gH=We({valueKey:{type:String,default:"value"},modelValue:{type:[String,Number],default:""},debounce:{type:Number,default:300},placement:{type:we(String),values:["top","top-start","top-end","bottom","bottom-start","bottom-end"],default:"bottom-start"},fetchSuggestions:{type:we([Function,Array]),default:Gt},popperClass:{type:String,default:""},triggerOnFocus:{type:Boolean,default:!0},selectWhenUnmatched:{type:Boolean,default:!1},hideLoading:{type:Boolean,default:!1},label:{type:String},teleported:Hn.teleported,highlightFirstItem:{type:Boolean,default:!1},fitInputWidth:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},name:String}),vH={[_t]:t=>ct(t),[yi]:t=>ct(t),[rn]:t=>ct(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,clear:()=>!0,select:t=>bt(t)},yH=["aria-expanded","aria-owns"],bH={key:0},_H=["id","aria-selected","onClick"],gE="ElAutocomplete",SH=se({name:gE,inheritAttrs:!1}),wH=se({...SH,props:gH,emits:vH,setup(t,{expose:e,emit:n}){const i=t,r=o0(),a=Sa(),u=wi(),s=Ve("autocomplete"),o=Y(),c=Y(),f=Y(),l=Y();let d=!1,h=!1;const p=Y([]),g=Y(-1),m=Y(""),v=Y(!1),b=Y(!1),_=Y(!1),S=Jn(),w=P(()=>a.style),C=P(()=>(p.value.length>0||_.value)&&v.value),x=P(()=>!i.hideLoading&&_.value),M=P(()=>o.value?Array.from(o.value.$el.querySelectorAll("input")):[]),E=()=>{C.value&&(m.value=`${o.value.$el.offsetWidth}px`)},A=()=>{g.value=-1},I=Oi(async K=>{if(b.value)return;const z=ee=>{_.value=!1,!b.value&&(qe(ee)?(p.value=ee,g.value=i.highlightFirstItem?0:-1):Rn(gE,"autocomplete suggestions must be an array"))};if(_.value=!0,qe(i.fetchSuggestions))z(i.fetchSuggestions);else{const ee=await i.fetchSuggestions(K,z);qe(ee)&&z(ee)}},i.debounce),$=K=>{const z=!!K;if(n(yi,K),n(_t,K),b.value=!1,v.value||(v.value=z),!i.triggerOnFocus&&!K){b.value=!0,p.value=[];return}I(K)},H=K=>{var z;u.value||(((z=K.target)==null?void 0:z.tagName)!=="INPUT"||M.value.includes(document.activeElement))&&(v.value=!0)},B=K=>{n(rn,K)},N=K=>{h?h=!1:(v.value=!0,n("focus",K),i.triggerOnFocus&&!d&&I(String(i.modelValue)))},k=K=>{setTimeout(()=>{var z;if((z=f.value)!=null&&z.isFocusInsideContent()){h=!0;return}v.value&&V(),n("blur",K)})},D=()=>{v.value=!1,n(_t,""),n("clear")},T=async()=>{C.value&&g.value>=0&&g.value<p.value.length?W(p.value[g.value]):i.selectWhenUnmatched&&(n("select",{value:i.modelValue}),p.value=[],g.value=-1)},R=K=>{C.value&&(K.preventDefault(),K.stopPropagation(),V())},V=()=>{v.value=!1},U=()=>{var K;(K=o.value)==null||K.focus()},X=()=>{var K;(K=o.value)==null||K.blur()},W=async K=>{n(yi,K[i.valueKey]),n(_t,K[i.valueKey]),n("select",K),p.value=[],g.value=-1},j=K=>{if(!C.value||_.value)return;if(K<0){g.value=-1;return}K>=p.value.length&&(K=p.value.length-1);const z=c.value.querySelector(`.${s.be("suggestion","wrap")}`),ue=z.querySelectorAll(`.${s.be("suggestion","list")} li`)[K],ne=z.scrollTop,{offsetTop:le,scrollHeight:Me}=ue;le+Me>ne+z.clientHeight&&(z.scrollTop+=Me),le<ne&&(z.scrollTop-=Me),g.value=K,o.value.ref.setAttribute("aria-activedescendant",`${S.value}-item-${g.value}`)};return Lv(l,()=>{C.value&&V()}),ht(()=>{o.value.ref.setAttribute("role","textbox"),o.value.ref.setAttribute("aria-autocomplete","list"),o.value.ref.setAttribute("aria-controls","id"),o.value.ref.setAttribute("aria-activedescendant",`${S.value}-item-${g.value}`),d=o.value.ref.hasAttribute("readonly")}),e({highlightedIndex:g,activated:v,loading:_,inputRef:o,popperRef:f,suggestions:p,handleSelect:W,handleKeyEnter:T,focus:U,blur:X,close:V,highlight:j}),(K,z)=>(L(),Pe(y(ai),{ref_key:"popperRef",ref:f,visible:y(C),placement:K.placement,"fallback-placements":["bottom-start","top-start"],"popper-class":[y(s).e("popper"),K.popperClass],teleported:K.teleported,"gpu-acceleration":!1,pure:"","manual-mode":"",effect:"light",trigger:"click",transition:`${y(s).namespace.value}-zoom-in-top`,persistent:"",role:"listbox",onBeforeShow:E,onHide:A},{content:ve(()=>[te("div",{ref_key:"regionRef",ref:c,class:F([y(s).b("suggestion"),y(s).is("loading",y(x))]),style:Qe({[K.fitInputWidth?"width":"minWidth"]:m.value,outline:"none"}),role:"region"},[oe(y(Es),{id:y(S),tag:"ul","wrap-class":y(s).be("suggestion","wrap"),"view-class":y(s).be("suggestion","list"),role:"listbox"},{default:ve(()=>[y(x)?(L(),Q("li",bH,[Le(K.$slots,"loading",{},()=>[oe(y(et),{class:F(y(s).is("loading"))},{default:ve(()=>[oe(y(So))]),_:1},8,["class"])])])):(L(!0),Q(tt,{key:1},Tt(p.value,(ee,ue)=>(L(),Q("li",{id:`${y(S)}-item-${ue}`,key:ue,class:F({highlighted:g.value===ue}),role:"option","aria-selected":g.value===ue,onClick:ne=>W(ee)},[Le(K.$slots,"default",{item:ee},()=>[Et(je(ee[K.valueKey]),1)])],10,_H))),128))]),_:3},8,["id","wrap-class","view-class"])],6)]),default:ve(()=>[te("div",{ref_key:"listboxRef",ref:l,class:F([y(s).b(),K.$attrs.class]),style:Qe(y(w)),role:"combobox","aria-haspopup":"listbox","aria-expanded":y(C),"aria-owns":y(S)},[oe(y(ri),xt({ref_key:"inputRef",ref:o},y(r),{clearable:K.clearable,disabled:y(u),name:K.name,"model-value":K.modelValue,onInput:$,onChange:B,onFocus:N,onBlur:k,onClear:D,onKeydown:[z[0]||(z[0]=Xt(lt(ee=>j(g.value-1),["prevent"]),["up"])),z[1]||(z[1]=Xt(lt(ee=>j(g.value+1),["prevent"]),["down"])),Xt(T,["enter"]),Xt(V,["tab"]),Xt(R,["esc"])],onMousedown:H}),ps({_:2},[K.$slots.prepend?{name:"prepend",fn:ve(()=>[Le(K.$slots,"prepend")])}:void 0,K.$slots.append?{name:"append",fn:ve(()=>[Le(K.$slots,"append")])}:void 0,K.$slots.prefix?{name:"prefix",fn:ve(()=>[Le(K.$slots,"prefix")])}:void 0,K.$slots.suffix?{name:"suffix",fn:ve(()=>[Le(K.$slots,"suffix")])}:void 0]),1040,["clearable","disabled","name","model-value","onKeydown"])],14,yH)]),_:3},8,["visible","placement","popper-class","teleported","transition"]))}});var CH=Ge(wH,[["__file","autocomplete.vue"]]);const xH=gt(CH),TH=We({size:{type:[Number,String],values:zr,default:"",validator:t=>ot(t)},shape:{type:String,values:["circle","square"],default:"circle"},icon:{type:Kt},src:{type:String,default:""},alt:String,srcSet:String,fit:{type:we(String),default:"cover"}}),EH={error:t=>t instanceof Event},MH=["src","alt","srcset"],AH=se({name:"ElAvatar"}),RH=se({...AH,props:TH,emits:EH,setup(t,{emit:e}){const n=t,i=Ve("avatar"),r=Y(!1),a=P(()=>{const{size:c,icon:f,shape:l}=n,d=[i.b()];return ct(c)&&d.push(i.m(c)),f&&d.push(i.m("icon")),l&&d.push(i.m(l)),d}),u=P(()=>{const{size:c}=n;return ot(c)?i.cssVarBlock({size:yn(c)||""}):void 0}),s=P(()=>({objectFit:n.fit}));Be(()=>n.src,()=>r.value=!1);function o(c){r.value=!0,e("error",c)}return(c,f)=>(L(),Q("span",{class:F(y(a)),style:Qe(y(u))},[(c.src||c.srcSet)&&!r.value?(L(),Q("img",{key:0,src:c.src,alt:c.alt,srcset:c.srcSet,style:Qe(y(s)),onError:o},null,44,MH)):c.icon?(L(),Pe(y(et),{key:1},{default:ve(()=>[(L(),Pe(wt(c.icon)))]),_:1})):Le(c.$slots,"default",{key:2})],6))}});var PH=Ge(RH,[["__file","avatar.vue"]]);const OH=gt(PH),kH={visibilityHeight:{type:Number,default:200},target:{type:String,default:""},right:{type:Number,default:40},bottom:{type:Number,default:40}},LH={click:t=>t instanceof MouseEvent},IH=(t,e,n)=>{const i=an(),r=an(),a=Y(!1),u=()=>{i.value&&(a.value=i.value.scrollTop>=t.visibilityHeight)},s=c=>{var f;(f=i.value)==null||f.scrollTo({top:0,behavior:"smooth"}),e("click",c)},o=_x(u,300,!0);return nn(r,"scroll",o),ht(()=>{var c;r.value=document,i.value=document.documentElement,t.target&&(i.value=(c=document.querySelector(t.target))!=null?c:void 0,i.value||Rn(n,`target does not exist: ${t.target}`),r.value=i.value),u()}),{visible:a,handleClick:s}},vE="ElBacktop",DH=se({name:vE}),NH=se({...DH,props:kH,emits:LH,setup(t,{emit:e}){const n=t,i=Ve("backtop"),{handleClick:r,visible:a}=IH(n,e,vE),u=P(()=>({right:`${n.right}px`,bottom:`${n.bottom}px`}));return(s,o)=>(L(),Pe(An,{name:`${y(i).namespace.value}-fade-in`},{default:ve(()=>[y(a)?(L(),Q("div",{key:0,style:Qe(y(u)),class:F(y(i).b()),onClick:o[0]||(o[0]=lt((...c)=>y(r)&&y(r)(...c),["stop"]))},[Le(s.$slots,"default",{},()=>[oe(y(et),{class:F(y(i).e("icon"))},{default:ve(()=>[oe(y(p3))]),_:1},8,["class"])])],6)):Ee("v-if",!0)]),_:3},8,["name"]))}});var FH=Ge(NH,[["__file","backtop.vue"]]);const BH=gt(FH),UH=We({value:{type:[String,Number],default:""},max:{type:Number,default:99},isDot:Boolean,hidden:Boolean,type:{type:String,values:["primary","success","warning","info","danger"],default:"danger"},showZero:{type:Boolean,default:!0},color:String,dotStyle:{type:we([String,Object,Array])},offset:{type:we(Array),default:[0,0]},dotClass:{type:String}}),VH=["textContent"],$H=se({name:"ElBadge"}),HH=se({...$H,props:UH,setup(t,{expose:e}){const n=t,i=Ve("badge"),r=P(()=>n.isDot?"":ot(n.value)&&ot(n.max)?n.max<n.value?`${n.max}+`:n.value===0&&!n.showZero?"":`${n.value}`:`${n.value}`),a=P(()=>{var u,s,o,c,f;return[{backgroundColor:n.color,marginRight:yn(-((s=(u=n.offset)==null?void 0:u[0])!=null?s:0)),marginTop:yn((c=(o=n.offset)==null?void 0:o[1])!=null?c:0)},(f=n.dotStyle)!=null?f:{}]});return e({content:r}),(u,s)=>(L(),Q("div",{class:F(y(i).b())},[Le(u.$slots,"default"),oe(An,{name:`${y(i).namespace.value}-zoom-in-center`,persisted:""},{default:ve(()=>[ft(te("sup",{class:F([y(i).e("content"),y(i).em("content",u.type),y(i).is("fixed",!!u.$slots.default),y(i).is("dot",u.isDot),u.dotClass]),style:Qe(y(a)),textContent:je(y(r))},null,14,VH),[[Nt,!u.hidden&&(y(r)||u.isDot)]])]),_:1},8,["name"])],2))}});var zH=Ge(HH,[["__file","badge.vue"]]);const yE=gt(zH),bE=Symbol("breadcrumbKey"),WH=We({separator:{type:String,default:"/"},separatorIcon:{type:Kt}}),GH=["aria-label"],jH=se({name:"ElBreadcrumb"}),XH=se({...jH,props:WH,setup(t){const e=t,{t:n}=Dt(),i=Ve("breadcrumb"),r=Y();return Mt(bE,e),ht(()=>{const a=r.value.querySelectorAll(`.${i.e("item")}`);a.length&&a[a.length-1].setAttribute("aria-current","page")}),(a,u)=>(L(),Q("div",{ref_key:"breadcrumb",ref:r,class:F(y(i).b()),"aria-label":y(n)("el.breadcrumb.label"),role:"navigation"},[Le(a.$slots,"default")],10,GH))}});var KH=Ge(XH,[["__file","breadcrumb.vue"]]);const YH=We({to:{type:we([String,Object]),default:""},replace:{type:Boolean,default:!1}}),qH=se({name:"ElBreadcrumbItem"}),ZH=se({...qH,props:YH,setup(t){const e=t,n=mt(),i=Je(bE,void 0),r=Ve("breadcrumb"),a=n.appContext.config.globalProperties.$router,u=Y(),s=()=>{!e.to||!a||(e.replace?a.replace(e.to):a.push(e.to))};return(o,c)=>{var f,l;return L(),Q("span",{class:F(y(r).e("item"))},[te("span",{ref_key:"link",ref:u,class:F([y(r).e("inner"),y(r).is("link",!!o.to)]),role:"link",onClick:s},[Le(o.$slots,"default")],2),(f=y(i))!=null&&f.separatorIcon?(L(),Pe(y(et),{key:0,class:F(y(r).e("separator"))},{default:ve(()=>[(L(),Pe(wt(y(i).separatorIcon)))]),_:1},8,["class"])):(L(),Q("span",{key:1,class:F(y(r).e("separator")),role:"presentation"},je((l=y(i))==null?void 0:l.separator),3))],2)}}});var _E=Ge(ZH,[["__file","breadcrumb-item.vue"]]);const JH=gt(KH,{BreadcrumbItem:_E}),QH=hn(_E),SE=Symbol("buttonGroupContextKey"),ez=(t,e)=>{ea({from:"type.text",replacement:"link",version:"3.0.0",scope:"props",ref:"https://element-plus.org/en-US/component/button.html#button-attributes"},P(()=>t.type==="text"));const n=Je(SE,void 0),i=ed("button"),{form:r}=li(),a=Mn(P(()=>n==null?void 0:n.size)),u=wi(),s=Y(),o=Un(),c=P(()=>t.type||(n==null?void 0:n.type)||""),f=P(()=>{var p,g,m;return(m=(g=t.autoInsertSpace)!=null?g:(p=i.value)==null?void 0:p.autoInsertSpace)!=null?m:!1}),l=P(()=>t.tag==="button"?{ariaDisabled:u.value||t.loading,disabled:u.value||t.loading,autofocus:t.autofocus,type:t.nativeType}:{}),d=P(()=>{var p;const g=(p=o.default)==null?void 0:p.call(o);if(f.value&&(g==null?void 0:g.length)===1){const m=g[0];if((m==null?void 0:m.type)===tc){const v=m.children;return new RegExp("^\\p{Unified_Ideograph}{2}$","u").test(v.trim())}}return!1});return{_disabled:u,_size:a,_type:c,_ref:s,_props:l,shouldAddSpace:d,handleClick:p=>{t.nativeType==="reset"&&(r==null||r.resetFields()),e("click",p)}}},rg=["default","primary","success","warning","info","danger","text",""],tz=["button","submit","reset"],sg=We({size:kn,disabled:Boolean,type:{type:String,values:rg,default:""},icon:{type:Kt},nativeType:{type:String,values:tz,default:"button"},loading:Boolean,loadingIcon:{type:Kt,default:()=>So},plain:Boolean,text:Boolean,link:Boolean,bg:Boolean,autofocus:Boolean,round:Boolean,circle:Boolean,color:String,dark:Boolean,autoInsertSpace:{type:Boolean,default:void 0},tag:{type:we([String,Object]),default:"button"}}),nz={click:t=>t instanceof MouseEvent};function qn(t,e){iz(t)&&(t="100%");var n=rz(t);return t=e===360?t:Math.min(e,Math.max(0,parseFloat(t))),n&&(t=parseInt(String(t*e),10)/100),Math.abs(t-e)<1e-6?1:(e===360?t=(t<0?t%e+e:t%e)/parseFloat(String(e)):t=t%e/parseFloat(String(e)),t)}function Ad(t){return Math.min(1,Math.max(0,t))}function iz(t){return typeof t=="string"&&t.indexOf(".")!==-1&&parseFloat(t)===1}function rz(t){return typeof t=="string"&&t.indexOf("%")!==-1}function wE(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function Rd(t){return t<=1?"".concat(Number(t)*100,"%"):t}function zo(t){return t.length===1?"0"+t:String(t)}function sz(t,e,n){return{r:qn(t,255)*255,g:qn(e,255)*255,b:qn(n,255)*255}}function eS(t,e,n){t=qn(t,255),e=qn(e,255),n=qn(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),a=0,u=0,s=(i+r)/2;if(i===r)u=0,a=0;else{var o=i-r;switch(u=s>.5?o/(2-i-r):o/(i+r),i){case t:a=(e-n)/o+(e<n?6:0);break;case e:a=(n-t)/o+2;break;case n:a=(t-e)/o+4;break}a/=6}return{h:a,s:u,l:s}}function Mp(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*(6*n):n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function oz(t,e,n){var i,r,a;if(t=qn(t,360),e=qn(e,100),n=qn(n,100),e===0)r=n,a=n,i=n;else{var u=n<.5?n*(1+e):n+e-n*e,s=2*n-u;i=Mp(s,u,t+1/3),r=Mp(s,u,t),a=Mp(s,u,t-1/3)}return{r:i*255,g:r*255,b:a*255}}function tS(t,e,n){t=qn(t,255),e=qn(e,255),n=qn(n,255);var i=Math.max(t,e,n),r=Math.min(t,e,n),a=0,u=i,s=i-r,o=i===0?0:s/i;if(i===r)a=0;else{switch(i){case t:a=(e-n)/s+(e<n?6:0);break;case e:a=(n-t)/s+2;break;case n:a=(t-e)/s+4;break}a/=6}return{h:a,s:o,v:u}}function az(t,e,n){t=qn(t,360)*6,e=qn(e,100),n=qn(n,100);var i=Math.floor(t),r=t-i,a=n*(1-e),u=n*(1-r*e),s=n*(1-(1-r)*e),o=i%6,c=[n,u,a,a,s,n][o],f=[s,n,n,u,a,a][o],l=[a,a,s,n,n,u][o];return{r:c*255,g:f*255,b:l*255}}function nS(t,e,n,i){var r=[zo(Math.round(t).toString(16)),zo(Math.round(e).toString(16)),zo(Math.round(n).toString(16))];return i&&r[0].startsWith(r[0].charAt(1))&&r[1].startsWith(r[1].charAt(1))&&r[2].startsWith(r[2].charAt(1))?r[0].charAt(0)+r[1].charAt(0)+r[2].charAt(0):r.join("")}function lz(t,e,n,i,r){var a=[zo(Math.round(t).toString(16)),zo(Math.round(e).toString(16)),zo(Math.round(n).toString(16)),zo(cz(i))];return r&&a[0].startsWith(a[0].charAt(1))&&a[1].startsWith(a[1].charAt(1))&&a[2].startsWith(a[2].charAt(1))&&a[3].startsWith(a[3].charAt(1))?a[0].charAt(0)+a[1].charAt(0)+a[2].charAt(0)+a[3].charAt(0):a.join("")}function cz(t){return Math.round(parseFloat(t)*255).toString(16)}function iS(t){return Di(t)/255}function Di(t){return parseInt(t,16)}function uz(t){return{r:t>>16,g:(t&65280)>>8,b:t&255}}var og={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",goldenrod:"#daa520",gold:"#ffd700",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavenderblush:"#fff0f5",lavender:"#e6e6fa",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function dz(t){var e={r:0,g:0,b:0},n=1,i=null,r=null,a=null,u=!1,s=!1;return typeof t=="string"&&(t=pz(t)),typeof t=="object"&&(Xr(t.r)&&Xr(t.g)&&Xr(t.b)?(e=sz(t.r,t.g,t.b),u=!0,s=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Xr(t.h)&&Xr(t.s)&&Xr(t.v)?(i=Rd(t.s),r=Rd(t.v),e=az(t.h,i,r),u=!0,s="hsv"):Xr(t.h)&&Xr(t.s)&&Xr(t.l)&&(i=Rd(t.s),a=Rd(t.l),e=oz(t.h,i,a),u=!0,s="hsl"),Object.prototype.hasOwnProperty.call(t,"a")&&(n=t.a)),n=wE(n),{ok:u,format:t.format||s,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:n}}var fz="[-\\+]?\\d+%?",hz="[-\\+]?\\d*\\.\\d+%?",Js="(?:".concat(hz,")|(?:").concat(fz,")"),Ap="[\\s|\\(]+(".concat(Js,")[,|\\s]+(").concat(Js,")[,|\\s]+(").concat(Js,")\\s*\\)?"),Rp="[\\s|\\(]+(".concat(Js,")[,|\\s]+(").concat(Js,")[,|\\s]+(").concat(Js,")[,|\\s]+(").concat(Js,")\\s*\\)?"),pr={CSS_UNIT:new RegExp(Js),rgb:new RegExp("rgb"+Ap),rgba:new RegExp("rgba"+Rp),hsl:new RegExp("hsl"+Ap),hsla:new RegExp("hsla"+Rp),hsv:new RegExp("hsv"+Ap),hsva:new RegExp("hsva"+Rp),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/};function pz(t){if(t=t.trim().toLowerCase(),t.length===0)return!1;var e=!1;if(og[t])t=og[t],e=!0;else if(t==="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var n=pr.rgb.exec(t);return n?{r:n[1],g:n[2],b:n[3]}:(n=pr.rgba.exec(t),n?{r:n[1],g:n[2],b:n[3],a:n[4]}:(n=pr.hsl.exec(t),n?{h:n[1],s:n[2],l:n[3]}:(n=pr.hsla.exec(t),n?{h:n[1],s:n[2],l:n[3],a:n[4]}:(n=pr.hsv.exec(t),n?{h:n[1],s:n[2],v:n[3]}:(n=pr.hsva.exec(t),n?{h:n[1],s:n[2],v:n[3],a:n[4]}:(n=pr.hex8.exec(t),n?{r:Di(n[1]),g:Di(n[2]),b:Di(n[3]),a:iS(n[4]),format:e?"name":"hex8"}:(n=pr.hex6.exec(t),n?{r:Di(n[1]),g:Di(n[2]),b:Di(n[3]),format:e?"name":"hex"}:(n=pr.hex4.exec(t),n?{r:Di(n[1]+n[1]),g:Di(n[2]+n[2]),b:Di(n[3]+n[3]),a:iS(n[4]+n[4]),format:e?"name":"hex8"}:(n=pr.hex3.exec(t),n?{r:Di(n[1]+n[1]),g:Di(n[2]+n[2]),b:Di(n[3]+n[3]),format:e?"name":"hex"}:!1)))))))))}function Xr(t){return!!pr.CSS_UNIT.exec(String(t))}var CE=function(){function t(e,n){e===void 0&&(e=""),n===void 0&&(n={});var i;if(e instanceof t)return e;typeof e=="number"&&(e=uz(e)),this.originalInput=e;var r=dz(e);this.originalInput=e,this.r=r.r,this.g=r.g,this.b=r.b,this.a=r.a,this.roundA=Math.round(100*this.a)/100,this.format=(i=n.format)!==null&&i!==void 0?i:r.format,this.gradientType=n.gradientType,this.r<1&&(this.r=Math.round(this.r)),this.g<1&&(this.g=Math.round(this.g)),this.b<1&&(this.b=Math.round(this.b)),this.isValid=r.ok}return t.prototype.isDark=function(){return this.getBrightness()<128},t.prototype.isLight=function(){return!this.isDark()},t.prototype.getBrightness=function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},t.prototype.getLuminance=function(){var e=this.toRgb(),n,i,r,a=e.r/255,u=e.g/255,s=e.b/255;return a<=.03928?n=a/12.92:n=Math.pow((a+.055)/1.055,2.4),u<=.03928?i=u/12.92:i=Math.pow((u+.055)/1.055,2.4),s<=.03928?r=s/12.92:r=Math.pow((s+.055)/1.055,2.4),.2126*n+.7152*i+.0722*r},t.prototype.getAlpha=function(){return this.a},t.prototype.setAlpha=function(e){return this.a=wE(e),this.roundA=Math.round(100*this.a)/100,this},t.prototype.isMonochrome=function(){var e=this.toHsl().s;return e===0},t.prototype.toHsv=function(){var e=tS(this.r,this.g,this.b);return{h:e.h*360,s:e.s,v:e.v,a:this.a}},t.prototype.toHsvString=function(){var e=tS(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.v*100);return this.a===1?"hsv(".concat(n,", ").concat(i,"%, ").concat(r,"%)"):"hsva(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHsl=function(){var e=eS(this.r,this.g,this.b);return{h:e.h*360,s:e.s,l:e.l,a:this.a}},t.prototype.toHslString=function(){var e=eS(this.r,this.g,this.b),n=Math.round(e.h*360),i=Math.round(e.s*100),r=Math.round(e.l*100);return this.a===1?"hsl(".concat(n,", ").concat(i,"%, ").concat(r,"%)"):"hsla(".concat(n,", ").concat(i,"%, ").concat(r,"%, ").concat(this.roundA,")")},t.prototype.toHex=function(e){return e===void 0&&(e=!1),nS(this.r,this.g,this.b,e)},t.prototype.toHexString=function(e){return e===void 0&&(e=!1),"#"+this.toHex(e)},t.prototype.toHex8=function(e){return e===void 0&&(e=!1),lz(this.r,this.g,this.b,this.a,e)},t.prototype.toHex8String=function(e){return e===void 0&&(e=!1),"#"+this.toHex8(e)},t.prototype.toHexShortString=function(e){return e===void 0&&(e=!1),this.a===1?this.toHexString(e):this.toHex8String(e)},t.prototype.toRgb=function(){return{r:Math.round(this.r),g:Math.round(this.g),b:Math.round(this.b),a:this.a}},t.prototype.toRgbString=function(){var e=Math.round(this.r),n=Math.round(this.g),i=Math.round(this.b);return this.a===1?"rgb(".concat(e,", ").concat(n,", ").concat(i,")"):"rgba(".concat(e,", ").concat(n,", ").concat(i,", ").concat(this.roundA,")")},t.prototype.toPercentageRgb=function(){var e=function(n){return"".concat(Math.round(qn(n,255)*100),"%")};return{r:e(this.r),g:e(this.g),b:e(this.b),a:this.a}},t.prototype.toPercentageRgbString=function(){var e=function(n){return Math.round(qn(n,255)*100)};return this.a===1?"rgb(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%)"):"rgba(".concat(e(this.r),"%, ").concat(e(this.g),"%, ").concat(e(this.b),"%, ").concat(this.roundA,")")},t.prototype.toName=function(){if(this.a===0)return"transparent";if(this.a<1)return!1;for(var e="#"+nS(this.r,this.g,this.b,!1),n=0,i=Object.entries(og);n<i.length;n++){var r=i[n],a=r[0],u=r[1];if(e===u)return a}return!1},t.prototype.toString=function(e){var n=!!e;e=e??this.format;var i=!1,r=this.a<1&&this.a>=0,a=!n&&r&&(e.startsWith("hex")||e==="name");return a?e==="name"&&this.a===0?this.toName():this.toRgbString():(e==="rgb"&&(i=this.toRgbString()),e==="prgb"&&(i=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(i=this.toHexString()),e==="hex3"&&(i=this.toHexString(!0)),e==="hex4"&&(i=this.toHex8String(!0)),e==="hex8"&&(i=this.toHex8String()),e==="name"&&(i=this.toName()),e==="hsl"&&(i=this.toHslString()),e==="hsv"&&(i=this.toHsvString()),i||this.toHexString())},t.prototype.toNumber=function(){return(Math.round(this.r)<<16)+(Math.round(this.g)<<8)+Math.round(this.b)},t.prototype.clone=function(){return new t(this.toString())},t.prototype.lighten=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l+=e/100,n.l=Ad(n.l),new t(n)},t.prototype.brighten=function(e){e===void 0&&(e=10);var n=this.toRgb();return n.r=Math.max(0,Math.min(255,n.r-Math.round(255*-(e/100)))),n.g=Math.max(0,Math.min(255,n.g-Math.round(255*-(e/100)))),n.b=Math.max(0,Math.min(255,n.b-Math.round(255*-(e/100)))),new t(n)},t.prototype.darken=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.l-=e/100,n.l=Ad(n.l),new t(n)},t.prototype.tint=function(e){return e===void 0&&(e=10),this.mix("white",e)},t.prototype.shade=function(e){return e===void 0&&(e=10),this.mix("black",e)},t.prototype.desaturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s-=e/100,n.s=Ad(n.s),new t(n)},t.prototype.saturate=function(e){e===void 0&&(e=10);var n=this.toHsl();return n.s+=e/100,n.s=Ad(n.s),new t(n)},t.prototype.greyscale=function(){return this.desaturate(100)},t.prototype.spin=function(e){var n=this.toHsl(),i=(n.h+e)%360;return n.h=i<0?360+i:i,new t(n)},t.prototype.mix=function(e,n){n===void 0&&(n=50);var i=this.toRgb(),r=new t(e).toRgb(),a=n/100,u={r:(r.r-i.r)*a+i.r,g:(r.g-i.g)*a+i.g,b:(r.b-i.b)*a+i.b,a:(r.a-i.a)*a+i.a};return new t(u)},t.prototype.analogous=function(e,n){e===void 0&&(e=6),n===void 0&&(n=30);var i=this.toHsl(),r=360/n,a=[this];for(i.h=(i.h-(r*e>>1)+720)%360;--e;)i.h=(i.h+r)%360,a.push(new t(i));return a},t.prototype.complement=function(){var e=this.toHsl();return e.h=(e.h+180)%360,new t(e)},t.prototype.monochromatic=function(e){e===void 0&&(e=6);for(var n=this.toHsv(),i=n.h,r=n.s,a=n.v,u=[],s=1/e;e--;)u.push(new t({h:i,s:r,v:a})),a=(a+s)%1;return u},t.prototype.splitcomplement=function(){var e=this.toHsl(),n=e.h;return[this,new t({h:(n+72)%360,s:e.s,l:e.l}),new t({h:(n+216)%360,s:e.s,l:e.l})]},t.prototype.onBackground=function(e){var n=this.toRgb(),i=new t(e).toRgb(),r=n.a+i.a*(1-n.a);return new t({r:(n.r*n.a+i.r*i.a*(1-n.a))/r,g:(n.g*n.a+i.g*i.a*(1-n.a))/r,b:(n.b*n.a+i.b*i.a*(1-n.a))/r,a:r})},t.prototype.triad=function(){return this.polyad(3)},t.prototype.tetrad=function(){return this.polyad(4)},t.prototype.polyad=function(e){for(var n=this.toHsl(),i=n.h,r=[this],a=360/e,u=1;u<e;u++)r.push(new t({h:(i+u*a)%360,s:n.s,l:n.l}));return r},t.prototype.equals=function(e){return this.toRgbString()===new t(e).toRgbString()},t}();function Is(t,e=20){return t.mix("#141414",e).toString()}function mz(t){const e=wi(),n=Ve("button");return P(()=>{let i={};const r=t.color;if(r){const a=new CE(r),u=t.dark?a.tint(20).toString():Is(a,20);if(t.plain)i=n.cssVarBlock({"bg-color":t.dark?Is(a,90):a.tint(90).toString(),"text-color":r,"border-color":t.dark?Is(a,50):a.tint(50).toString(),"hover-text-color":`var(${n.cssVarName("color-white")})`,"hover-bg-color":r,"hover-border-color":r,"active-bg-color":u,"active-text-color":`var(${n.cssVarName("color-white")})`,"active-border-color":u}),e.value&&(i[n.cssVarBlockName("disabled-bg-color")]=t.dark?Is(a,90):a.tint(90).toString(),i[n.cssVarBlockName("disabled-text-color")]=t.dark?Is(a,50):a.tint(50).toString(),i[n.cssVarBlockName("disabled-border-color")]=t.dark?Is(a,80):a.tint(80).toString());else{const s=t.dark?Is(a,30):a.tint(30).toString(),o=a.isDark()?`var(${n.cssVarName("color-white")})`:`var(${n.cssVarName("color-black")})`;if(i=n.cssVarBlock({"bg-color":r,"text-color":o,"border-color":r,"hover-bg-color":s,"hover-text-color":o,"hover-border-color":s,"active-bg-color":u,"active-border-color":u}),e.value){const c=t.dark?Is(a,50):a.tint(50).toString();i[n.cssVarBlockName("disabled-bg-color")]=c,i[n.cssVarBlockName("disabled-text-color")]=t.dark?"rgba(255, 255, 255, 0.5)":`var(${n.cssVarName("color-white")})`,i[n.cssVarBlockName("disabled-border-color")]=c}}}return i})}const gz=se({name:"ElButton"}),vz=se({...gz,props:sg,emits:nz,setup(t,{expose:e,emit:n}){const i=t,r=mz(i),a=Ve("button"),{_ref:u,_size:s,_type:o,_disabled:c,_props:f,shouldAddSpace:l,handleClick:d}=ez(i,n),h=P(()=>[a.b(),a.m(o.value),a.m(s.value),a.is("disabled",c.value),a.is("loading",i.loading),a.is("plain",i.plain),a.is("round",i.round),a.is("circle",i.circle),a.is("text",i.text),a.is("link",i.link),a.is("has-bg",i.bg)]);return e({ref:u,size:s,type:o,disabled:c,shouldAddSpace:l}),(p,g)=>(L(),Pe(wt(p.tag),xt({ref_key:"_ref",ref:u},y(f),{class:y(h),style:y(r),onClick:y(d)}),{default:ve(()=>[p.loading?(L(),Q(tt,{key:0},[p.$slots.loading?Le(p.$slots,"loading",{key:0}):(L(),Pe(y(et),{key:1,class:F(y(a).is("loading"))},{default:ve(()=>[(L(),Pe(wt(p.loadingIcon)))]),_:1},8,["class"]))],64)):p.icon||p.$slots.icon?(L(),Pe(y(et),{key:1},{default:ve(()=>[p.icon?(L(),Pe(wt(p.icon),{key:0})):Le(p.$slots,"icon",{key:1})]),_:3})):Ee("v-if",!0),p.$slots.default?(L(),Q("span",{key:2,class:F({[y(a).em("text","expand")]:y(l)})},[Le(p.$slots,"default")],2)):Ee("v-if",!0)]),_:3},16,["class","style","onClick"]))}});var yz=Ge(vz,[["__file","button.vue"]]);const bz={size:sg.size,type:sg.type},_z=se({name:"ElButtonGroup"}),Sz=se({..._z,props:bz,setup(t){const e=t;Mt(SE,$t({size:Zt(e,"size"),type:Zt(e,"type")}));const n=Ve("button");return(i,r)=>(L(),Q("div",{class:F(`${y(n).b("group")}`)},[Le(i.$slots,"default")],2))}});var xE=Ge(Sz,[["__file","button-group.vue"]]);const Dn=gt(yz,{ButtonGroup:xE}),TE=hn(xE);var Ms=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function As(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function wz(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function i(){return this instanceof i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(i){var r=Object.getOwnPropertyDescriptor(t,i);Object.defineProperty(n,i,r.get?r:{enumerable:!0,get:function(){return t[i]}})}),n}var EE={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ms,function(){var n=1e3,i=6e4,r=36e5,a="millisecond",u="second",s="minute",o="hour",c="day",f="week",l="month",d="quarter",h="year",p="date",g="Invalid Date",m=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,v=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,b={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(H){var B=["th","st","nd","rd"],N=H%100;return"["+H+(B[(N-20)%10]||B[N]||B[0])+"]"}},_=function(H,B,N){var k=String(H);return!k||k.length>=B?H:""+Array(B+1-k.length).join(N)+H},S={s:_,z:function(H){var B=-H.utcOffset(),N=Math.abs(B),k=Math.floor(N/60),D=N%60;return(B<=0?"+":"-")+_(k,2,"0")+":"+_(D,2,"0")},m:function H(B,N){if(B.date()<N.date())return-H(N,B);var k=12*(N.year()-B.year())+(N.month()-B.month()),D=B.clone().add(k,l),T=N-D<0,R=B.clone().add(k+(T?-1:1),l);return+(-(k+(N-D)/(T?D-R:R-D))||0)},a:function(H){return H<0?Math.ceil(H)||0:Math.floor(H)},p:function(H){return{M:l,y:h,w:f,d:c,D:p,h:o,m:s,s:u,ms:a,Q:d}[H]||String(H||"").toLowerCase().replace(/s$/,"")},u:function(H){return H===void 0}},w="en",C={};C[w]=b;var x="$isDayjsObject",M=function(H){return H instanceof I||!(!H||!H[x])},E=function H(B,N,k){var D;if(!B)return w;if(typeof B=="string"){var T=B.toLowerCase();C[T]&&(D=T),N&&(C[T]=N,D=T);var R=B.split("-");if(!D&&R.length>1)return H(R[0])}else{var V=B.name;C[V]=B,D=V}return!k&&D&&(w=D),D||!k&&w},A=function(H,B){if(M(H))return H.clone();var N=typeof B=="object"?B:{};return N.date=H,N.args=arguments,new I(N)},O=S;O.l=E,O.i=M,O.w=function(H,B){return A(H,{locale:B.$L,utc:B.$u,x:B.$x,$offset:B.$offset})};var I=function(){function H(N){this.$L=E(N.locale,null,!0),this.parse(N),this.$x=this.$x||N.x||{},this[x]=!0}var B=H.prototype;return B.parse=function(N){this.$d=function(k){var D=k.date,T=k.utc;if(D===null)return new Date(NaN);if(O.u(D))return new Date;if(D instanceof Date)return new Date(D);if(typeof D=="string"&&!/Z$/i.test(D)){var R=D.match(m);if(R){var V=R[2]-1||0,U=(R[7]||"0").substring(0,3);return T?new Date(Date.UTC(R[1],V,R[3]||1,R[4]||0,R[5]||0,R[6]||0,U)):new Date(R[1],V,R[3]||1,R[4]||0,R[5]||0,R[6]||0,U)}}return new Date(D)}(N),this.init()},B.init=function(){var N=this.$d;this.$y=N.getFullYear(),this.$M=N.getMonth(),this.$D=N.getDate(),this.$W=N.getDay(),this.$H=N.getHours(),this.$m=N.getMinutes(),this.$s=N.getSeconds(),this.$ms=N.getMilliseconds()},B.$utils=function(){return O},B.isValid=function(){return this.$d.toString()!==g},B.isSame=function(N,k){var D=A(N);return this.startOf(k)<=D&&D<=this.endOf(k)},B.isAfter=function(N,k){return A(N)<this.startOf(k)},B.isBefore=function(N,k){return this.endOf(k)<A(N)},B.$g=function(N,k,D){return O.u(N)?this[k]:this.set(D,N)},B.unix=function(){return Math.floor(this.valueOf()/1e3)},B.valueOf=function(){return this.$d.getTime()},B.startOf=function(N,k){var D=this,T=!!O.u(k)||k,R=O.p(N),V=function(ue,ne){var le=O.w(D.$u?Date.UTC(D.$y,ne,ue):new Date(D.$y,ne,ue),D);return T?le:le.endOf(c)},U=function(ue,ne){return O.w(D.toDate()[ue].apply(D.toDate("s"),(T?[0,0,0,0]:[23,59,59,999]).slice(ne)),D)},X=this.$W,W=this.$M,j=this.$D,K="set"+(this.$u?"UTC":"");switch(R){case h:return T?V(1,0):V(31,11);case l:return T?V(1,W):V(0,W+1);case f:var z=this.$locale().weekStart||0,ee=(X<z?X+7:X)-z;return V(T?j-ee:j+(6-ee),W);case c:case p:return U(K+"Hours",0);case o:return U(K+"Minutes",1);case s:return U(K+"Seconds",2);case u:return U(K+"Milliseconds",3);default:return this.clone()}},B.endOf=function(N){return this.startOf(N,!1)},B.$set=function(N,k){var D,T=O.p(N),R="set"+(this.$u?"UTC":""),V=(D={},D[c]=R+"Date",D[p]=R+"Date",D[l]=R+"Month",D[h]=R+"FullYear",D[o]=R+"Hours",D[s]=R+"Minutes",D[u]=R+"Seconds",D[a]=R+"Milliseconds",D)[T],U=T===c?this.$D+(k-this.$W):k;if(T===l||T===h){var X=this.clone().set(p,1);X.$d[V](U),X.init(),this.$d=X.set(p,Math.min(this.$D,X.daysInMonth())).$d}else V&&this.$d[V](U);return this.init(),this},B.set=function(N,k){return this.clone().$set(N,k)},B.get=function(N){return this[O.p(N)]()},B.add=function(N,k){var D,T=this;N=Number(N);var R=O.p(k),V=function(W){var j=A(T);return O.w(j.date(j.date()+Math.round(W*N)),T)};if(R===l)return this.set(l,this.$M+N);if(R===h)return this.set(h,this.$y+N);if(R===c)return V(1);if(R===f)return V(7);var U=(D={},D[s]=i,D[o]=r,D[u]=n,D)[R]||1,X=this.$d.getTime()+N*U;return O.w(X,this)},B.subtract=function(N,k){return this.add(-1*N,k)},B.format=function(N){var k=this,D=this.$locale();if(!this.isValid())return D.invalidDate||g;var T=N||"YYYY-MM-DDTHH:mm:ssZ",R=O.z(this),V=this.$H,U=this.$m,X=this.$M,W=D.weekdays,j=D.months,K=D.meridiem,z=function(ne,le,Me,q){return ne&&(ne[le]||ne(k,T))||Me[le].slice(0,q)},ee=function(ne){return O.s(V%12||12,ne,"0")},ue=K||function(ne,le,Me){var q=ne<12?"AM":"PM";return Me?q.toLowerCase():q};return T.replace(v,function(ne,le){return le||function(Me){switch(Me){case"YY":return String(k.$y).slice(-2);case"YYYY":return O.s(k.$y,4,"0");case"M":return X+1;case"MM":return O.s(X+1,2,"0");case"MMM":return z(D.monthsShort,X,j,3);case"MMMM":return z(j,X);case"D":return k.$D;case"DD":return O.s(k.$D,2,"0");case"d":return String(k.$W);case"dd":return z(D.weekdaysMin,k.$W,W,2);case"ddd":return z(D.weekdaysShort,k.$W,W,3);case"dddd":return W[k.$W];case"H":return String(V);case"HH":return O.s(V,2,"0");case"h":return ee(1);case"hh":return ee(2);case"a":return ue(V,U,!0);case"A":return ue(V,U,!1);case"m":return String(U);case"mm":return O.s(U,2,"0");case"s":return String(k.$s);case"ss":return O.s(k.$s,2,"0");case"SSS":return O.s(k.$ms,3,"0");case"Z":return R}return null}(ne)||R.replace(":","")})},B.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},B.diff=function(N,k,D){var T,R=this,V=O.p(k),U=A(N),X=(U.utcOffset()-this.utcOffset())*i,W=this-U,j=function(){return O.m(R,U)};switch(V){case h:T=j()/12;break;case l:T=j();break;case d:T=j()/3;break;case f:T=(W-X)/6048e5;break;case c:T=(W-X)/864e5;break;case o:T=W/r;break;case s:T=W/i;break;case u:T=W/n;break;default:T=W}return D?T:O.a(T)},B.daysInMonth=function(){return this.endOf(l).$D},B.$locale=function(){return C[this.$L]},B.locale=function(N,k){if(!N)return this.$L;var D=this.clone(),T=E(N,k,!0);return T&&(D.$L=T),D},B.clone=function(){return O.w(this.$d,this)},B.toDate=function(){return new Date(this.valueOf())},B.toJSON=function(){return this.isValid()?this.toISOString():null},B.toISOString=function(){return this.$d.toISOString()},B.toString=function(){return this.$d.toUTCString()},H}(),$=I.prototype;return A.prototype=$,[["$ms",a],["$s",u],["$m",s],["$H",o],["$W",c],["$M",l],["$y",h],["$D",p]].forEach(function(H){$[H[1]]=function(B){return this.$g(B,H[0],H[1])}}),A.extend=function(H,B){return H.$i||(H(B,I,A),H.$i=!0),A},A.locale=E,A.isDayjs=M,A.unix=function(H){return A(1e3*H)},A.en=C[w],A.Ls=C,A.p={},A})})(EE);var Cz=EE.exports;const yt=As(Cz);var ME={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ms,function(){var n={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},i=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,r=/\d\d/,a=/\d\d?/,u=/\d*[^-_:/,()\s\d]+/,s={},o=function(g){return(g=+g)+(g>68?1900:2e3)},c=function(g){return function(m){this[g]=+m}},f=[/[+-]\d\d:?(\d\d)?|Z/,function(g){(this.zone||(this.zone={})).offset=function(m){if(!m||m==="Z")return 0;var v=m.match(/([+-]|\d\d)/g),b=60*v[1]+(+v[2]||0);return b===0?0:v[0]==="+"?-b:b}(g)}],l=function(g){var m=s[g];return m&&(m.indexOf?m:m.s.concat(m.f))},d=function(g,m){var v,b=s.meridiem;if(b){for(var _=1;_<=24;_+=1)if(g.indexOf(b(_,0,m))>-1){v=_>12;break}}else v=g===(m?"pm":"PM");return v},h={A:[u,function(g){this.afternoon=d(g,!1)}],a:[u,function(g){this.afternoon=d(g,!0)}],S:[/\d/,function(g){this.milliseconds=100*+g}],SS:[r,function(g){this.milliseconds=10*+g}],SSS:[/\d{3}/,function(g){this.milliseconds=+g}],s:[a,c("seconds")],ss:[a,c("seconds")],m:[a,c("minutes")],mm:[a,c("minutes")],H:[a,c("hours")],h:[a,c("hours")],HH:[a,c("hours")],hh:[a,c("hours")],D:[a,c("day")],DD:[r,c("day")],Do:[u,function(g){var m=s.ordinal,v=g.match(/\d+/);if(this.day=v[0],m)for(var b=1;b<=31;b+=1)m(b).replace(/\[|\]/g,"")===g&&(this.day=b)}],M:[a,c("month")],MM:[r,c("month")],MMM:[u,function(g){var m=l("months"),v=(l("monthsShort")||m.map(function(b){return b.slice(0,3)})).indexOf(g)+1;if(v<1)throw new Error;this.month=v%12||v}],MMMM:[u,function(g){var m=l("months").indexOf(g)+1;if(m<1)throw new Error;this.month=m%12||m}],Y:[/[+-]?\d+/,c("year")],YY:[r,function(g){this.year=o(g)}],YYYY:[/\d{4}/,c("year")],Z:f,ZZ:f};function p(g){var m,v;m=g,v=s&&s.formats;for(var b=(g=m.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,function(E,A,O){var I=O&&O.toUpperCase();return A||v[O]||n[O]||v[I].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function($,H,B){return H||B.slice(1)})})).match(i),_=b.length,S=0;S<_;S+=1){var w=b[S],C=h[w],x=C&&C[0],M=C&&C[1];b[S]=M?{regex:x,parser:M}:w.replace(/^\[|\]$/g,"")}return function(E){for(var A={},O=0,I=0;O<_;O+=1){var $=b[O];if(typeof $=="string")I+=$.length;else{var H=$.regex,B=$.parser,N=E.slice(I),k=H.exec(N)[0];B.call(A,k),E=E.replace(k,"")}}return function(D){var T=D.afternoon;if(T!==void 0){var R=D.hours;T?R<12&&(D.hours+=12):R===12&&(D.hours=0),delete D.afternoon}}(A),A}}return function(g,m,v){v.p.customParseFormat=!0,g&&g.parseTwoDigitYear&&(o=g.parseTwoDigitYear);var b=m.prototype,_=b.parse;b.parse=function(S){var w=S.date,C=S.utc,x=S.args;this.$u=C;var M=x[1];if(typeof M=="string"){var E=x[2]===!0,A=x[3]===!0,O=E||A,I=x[2];A&&(I=x[2]),s=this.$locale(),!E&&I&&(s=v.Ls[I]),this.$d=function(N,k,D){try{if(["x","X"].indexOf(k)>-1)return new Date((k==="X"?1e3:1)*N);var T=p(k)(N),R=T.year,V=T.month,U=T.day,X=T.hours,W=T.minutes,j=T.seconds,K=T.milliseconds,z=T.zone,ee=new Date,ue=U||(R||V?1:ee.getDate()),ne=R||ee.getFullYear(),le=0;R&&!V||(le=V>0?V-1:ee.getMonth());var Me=X||0,q=W||0,J=j||0,ce=K||0;return z?new Date(Date.UTC(ne,le,ue,Me,q,J,ce+60*z.offset*1e3)):D?new Date(Date.UTC(ne,le,ue,Me,q,J,ce)):new Date(ne,le,ue,Me,q,J,ce)}catch{return new Date("")}}(w,M,C),this.init(),I&&I!==!0&&(this.$L=this.locale(I).$L),O&&w!=this.format(M)&&(this.$d=new Date("")),s={}}else if(M instanceof Array)for(var $=M.length,H=1;H<=$;H+=1){x[1]=M[H-1];var B=v.apply(this,x);if(B.isValid()){this.$d=B.$d,this.$L=B.$L,this.init();break}H===$&&(this.$d=new Date(""))}else _.call(this,S)}}})})(ME);var xz=ME.exports;const k0=As(xz),rS=["hours","minutes","seconds"],ag="HH:mm:ss",nl="YYYY-MM-DD",Tz={date:nl,dates:nl,week:"gggg[w]ww",year:"YYYY",years:"YYYY",month:"YYYY-MM",datetime:`${nl} ${ag}`,monthrange:"YYYY-MM",daterange:nl,datetimerange:`${nl} ${ag}`},Pp=(t,e)=>[t>0?t-1:void 0,t,t<e?t+1:void 0],ro=t=>Array.from(Array.from({length:t}).keys()),AE=t=>t.replace(/\W?m{1,2}|\W?ZZ/g,"").replace(/\W?h{1,2}|\W?s{1,3}|\W?a/gi,"").trim(),RE=t=>t.replace(/\W?D{1,2}|\W?Do|\W?d{1,4}|\W?M{1,4}|\W?Y{2,4}/g,"").trim(),sS=function(t,e){const n=oa(t),i=oa(e);return n&&i?t.getTime()===e.getTime():!n&&!i?t===e:!1},oS=function(t,e){const n=qe(t),i=qe(e);return n&&i?t.length!==e.length?!1:t.every((r,a)=>sS(r,e[a])):!n&&!i?sS(t,e):!1},aS=function(t,e,n){const i=Ki(e)||e==="x"?yt(t).locale(n):yt(t,e).locale(n);return i.isValid()?i:void 0},lS=function(t,e,n){return Ki(e)?t:e==="x"?+t:yt(t).locale(n).format(e)},Op=(t,e)=>{var n;const i=[],r=e==null?void 0:e();for(let a=0;a<t;a++)i.push((n=r==null?void 0:r.includes(a))!=null?n:!1);return i},PE=We({disabledHours:{type:we(Function)},disabledMinutes:{type:we(Function)},disabledSeconds:{type:we(Function)}}),OE=We({visible:Boolean,actualVisible:{type:Boolean,default:void 0},format:{type:String,default:""}}),L0=We({id:{type:we([Array,String])},name:{type:we([Array,String]),default:""},popperClass:{type:String,default:""},format:String,valueFormat:String,dateFormat:String,timeFormat:String,type:{type:String,default:""},clearable:{type:Boolean,default:!0},clearIcon:{type:we([String,Object]),default:_o},editable:{type:Boolean,default:!0},prefixIcon:{type:we([String,Object]),default:""},size:kn,readonly:Boolean,disabled:Boolean,placeholder:{type:String,default:""},popperOptions:{type:we(Object),default:()=>({})},modelValue:{type:we([Date,Array,String,Number]),default:""},rangeSeparator:{type:String,default:"-"},startPlaceholder:String,endPlaceholder:String,defaultValue:{type:we([Date,Array])},defaultTime:{type:we([Date,Array])},isRange:Boolean,...PE,disabledDate:{type:Function},cellClassName:{type:Function},shortcuts:{type:Array,default:()=>[]},arrowControl:Boolean,label:{type:String,default:void 0},tabindex:{type:we([String,Number]),default:0},validateEvent:{type:Boolean,default:!0},unlinkPanels:Boolean,...ac}),Ez=["id","name","placeholder","value","disabled","readonly"],Mz=["id","name","placeholder","value","disabled","readonly"],Az=se({name:"Picker"}),Rz=se({...Az,props:L0,emits:["update:modelValue","change","focus","blur","calendar-change","panel-change","visible-change","keydown"],setup(t,{expose:e,emit:n}){const i=t,r=Sa(),{lang:a}=Dt(),u=Ve("date"),s=Ve("input"),o=Ve("range"),{form:c,formItem:f}=li(),l=Je("ElPopperOptions",{}),{valueOnClear:d}=zh(i,null),h=Y(),p=Y(),g=Y(!1),m=Y(!1),v=Y(null);let b=!1,_=!1;const S=P(()=>[u.b("editor"),u.bm("editor",i.type),s.e("wrapper"),u.is("disabled",X.value),u.is("active",g.value),o.b("editor"),Ce?o.bm("editor",Ce.value):"",r.class]),w=P(()=>[s.e("icon"),o.e("close-icon"),le.value?"":o.e("close-icon--hidden")]);Be(g,me=>{me?it(()=>{me&&(v.value=i.modelValue)}):(G.value=null,it(()=>{C(i.modelValue)}))});const C=(me,Xe)=>{(Xe||!oS(me,v.value))&&(n("change",me),i.validateEvent&&(f==null||f.validate("change").catch(be=>void 0)))},x=me=>{if(!oS(i.modelValue,me)){let Xe;qe(me)?Xe=me.map(be=>lS(be,i.valueFormat,a.value)):me&&(Xe=lS(me,i.valueFormat,a.value)),n("update:modelValue",me&&Xe,a.value)}},M=me=>{n("keydown",me)},E=P(()=>{if(p.value){const me=he.value?p.value:p.value.$el;return Array.from(me.querySelectorAll("input"))}return[]}),A=(me,Xe,be)=>{const He=E.value;He.length&&(!be||be==="min"?(He[0].setSelectionRange(me,Xe),He[0].focus()):be==="max"&&(He[1].setSelectionRange(me,Xe),He[1].focus()))},O=()=>{T(!0,!0),it(()=>{_=!1})},I=(me="",Xe=!1)=>{Xe||(_=!0),g.value=Xe;let be;qe(me)?be=me.map(He=>He.toDate()):be=me&&me.toDate(),G.value=null,x(be)},$=()=>{m.value=!0},H=()=>{n("visible-change",!0)},B=me=>{(me==null?void 0:me.key)===nt.esc&&T(!0,!0)},N=()=>{m.value=!1,g.value=!1,_=!1,n("visible-change",!1)},k=()=>{g.value=!0},D=()=>{g.value=!1},T=(me=!0,Xe=!1)=>{_=Xe;const[be,He]=y(E);let Ye=be;!me&&he.value&&(Ye=He),Ye&&Ye.focus()},R=me=>{i.readonly||X.value||g.value||_||(g.value=!0,n("focus",me))};let V;const U=me=>{const Xe=async()=>{setTimeout(()=>{var be;V===Xe&&(!((be=h.value)!=null&&be.isFocusInsideContent()&&!b)&&E.value.filter(He=>He.contains(document.activeElement)).length===0&&(Z(),g.value=!1,n("blur",me),i.validateEvent&&(f==null||f.validate("blur").catch(He=>void 0))),b=!1)},0)};V=Xe,Xe()},X=P(()=>i.disabled||(c==null?void 0:c.disabled)),W=P(()=>{let me;if(q.value?fe.value.getDefaultValue&&(me=fe.value.getDefaultValue()):qe(i.modelValue)?me=i.modelValue.map(Xe=>aS(Xe,i.valueFormat,a.value)):me=aS(i.modelValue,i.valueFormat,a.value),fe.value.getRangeAvailableTime){const Xe=fe.value.getRangeAvailableTime(me);si(Xe,me)||(me=Xe,x(qe(me)?me.map(be=>be.toDate()):me.toDate()))}return qe(me)&&me.some(Xe=>!Xe)&&(me=[]),me}),j=P(()=>{if(!fe.value.panelReady)return"";const me=de(W.value);return qe(G.value)?[G.value[0]||me&&me[0]||"",G.value[1]||me&&me[1]||""]:G.value!==null?G.value:!z.value&&q.value||!g.value&&q.value?"":me?ee.value||ue.value?me.join(", "):me:""}),K=P(()=>i.type.includes("time")),z=P(()=>i.type.startsWith("time")),ee=P(()=>i.type==="dates"),ue=P(()=>i.type==="years"),ne=P(()=>i.prefixIcon||(K.value?mT:d3)),le=Y(!1),Me=me=>{i.readonly||X.value||le.value&&(me.stopPropagation(),O(),x(d.value),C(d.value,!0),le.value=!1,g.value=!1,fe.value.handleClear&&fe.value.handleClear())},q=P(()=>{const{modelValue:me}=i;return!me||qe(me)&&!me.filter(Boolean).length}),J=async me=>{var Xe;i.readonly||X.value||(((Xe=me.target)==null?void 0:Xe.tagName)!=="INPUT"||E.value.includes(document.activeElement))&&(g.value=!0)},ce=()=>{i.readonly||X.value||!q.value&&i.clearable&&(le.value=!0)},pe=()=>{le.value=!1},re=me=>{var Xe;i.readonly||X.value||(((Xe=me.touches[0].target)==null?void 0:Xe.tagName)!=="INPUT"||E.value.includes(document.activeElement))&&(g.value=!0)},he=P(()=>i.type.includes("range")),Ce=Mn(),Oe=P(()=>{var me,Xe;return(Xe=(me=y(h))==null?void 0:me.popperRef)==null?void 0:Xe.contentRef}),ke=P(()=>{var me;return y(he)?y(p):(me=y(p))==null?void 0:me.$el});Lv(ke,me=>{const Xe=y(Oe),be=y(ke);Xe&&(me.target===Xe||me.composedPath().includes(Xe))||me.target===be||me.composedPath().includes(be)||(g.value=!1)});const G=Y(null),Z=()=>{if(G.value){const me=_e(j.value);me&&Re(me)&&(x(qe(me)?me.map(Xe=>Xe.toDate()):me.toDate()),G.value=null)}G.value===""&&(x(d.value),C(d.value),G.value=null)},_e=me=>me?fe.value.parseUserInput(me):null,de=me=>me?fe.value.formatToString(me):null,Re=me=>fe.value.isValidValue(me),Fe=async me=>{if(i.readonly||X.value)return;const{code:Xe}=me;if(M(me),Xe===nt.esc){g.value===!0&&(g.value=!1,me.preventDefault(),me.stopPropagation());return}if(Xe===nt.down&&(fe.value.handleFocusPicker&&(me.preventDefault(),me.stopPropagation()),g.value===!1&&(g.value=!0,await it()),fe.value.handleFocusPicker)){fe.value.handleFocusPicker();return}if(Xe===nt.tab){b=!0;return}if(Xe===nt.enter||Xe===nt.numpadEnter){(G.value===null||G.value===""||Re(_e(j.value)))&&(Z(),g.value=!1),me.stopPropagation();return}if(G.value){me.stopPropagation();return}fe.value.handleKeydownInput&&fe.value.handleKeydownInput(me)},ye=me=>{G.value=me,g.value||(g.value=!0)},Ne=me=>{const Xe=me.target;G.value?G.value=[Xe.value,G.value[1]]:G.value=[Xe.value,null]},Ae=me=>{const Xe=me.target;G.value?G.value=[G.value[0],Xe.value]:G.value=[null,Xe.value]},Te=()=>{var me;const Xe=G.value,be=_e(Xe&&Xe[0]),He=y(W);if(be&&be.isValid()){G.value=[de(be),((me=j.value)==null?void 0:me[1])||null];const Ye=[be,He&&(He[1]||null)];Re(Ye)&&(x(Ye),G.value=null)}},ae=()=>{var me;const Xe=y(G),be=_e(Xe&&Xe[1]),He=y(W);if(be&&be.isValid()){G.value=[((me=y(j))==null?void 0:me[0])||null,de(be)];const Ye=[He&&He[0],be];Re(Ye)&&(x(Ye),G.value=null)}},fe=Y({}),ie=me=>{fe.value[me[0]]=me[1],fe.value.panelReady=!0},ge=me=>{n("calendar-change",me)},De=(me,Xe,be)=>{n("panel-change",me,Xe,be)};return Mt("EP_PICKER_BASE",{props:i}),e({focus:T,handleFocusInput:R,handleBlurInput:U,handleOpen:k,handleClose:D,onPick:I}),(me,Xe)=>(L(),Pe(y(ai),xt({ref_key:"refPopper",ref:h,visible:g.value,effect:"light",pure:"",trigger:"click"},me.$attrs,{role:"dialog",teleported:"",transition:`${y(u).namespace.value}-zoom-in-top`,"popper-class":[`${y(u).namespace.value}-picker__popper`,me.popperClass],"popper-options":y(l),"fallback-placements":["bottom","top","right","left"],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"hide-after":0,persistent:"",onBeforeShow:$,onShow:H,onHide:N}),{default:ve(()=>[y(he)?(L(),Q("div",{key:1,ref_key:"inputRef",ref:p,class:F(y(S)),style:Qe(me.$attrs.style),onClick:R,onMouseenter:ce,onMouseleave:pe,onTouchstart:re,onKeydown:Fe},[y(ne)?(L(),Pe(y(et),{key:0,class:F([y(s).e("icon"),y(o).e("icon")]),onMousedown:lt(J,["prevent"]),onTouchstart:re},{default:ve(()=>[(L(),Pe(wt(y(ne))))]),_:1},8,["class","onMousedown"])):Ee("v-if",!0),te("input",{id:me.id&&me.id[0],autocomplete:"off",name:me.name&&me.name[0],placeholder:me.startPlaceholder,value:y(j)&&y(j)[0],disabled:y(X),readonly:!me.editable||me.readonly,class:F(y(o).b("input")),onMousedown:J,onInput:Ne,onChange:Te,onFocus:R,onBlur:U},null,42,Ez),Le(me.$slots,"range-separator",{},()=>[te("span",{class:F(y(o).b("separator"))},je(me.rangeSeparator),3)]),te("input",{id:me.id&&me.id[1],autocomplete:"off",name:me.name&&me.name[1],placeholder:me.endPlaceholder,value:y(j)&&y(j)[1],disabled:y(X),readonly:!me.editable||me.readonly,class:F(y(o).b("input")),onMousedown:J,onFocus:R,onBlur:U,onInput:Ae,onChange:ae},null,42,Mz),me.clearIcon?(L(),Pe(y(et),{key:1,class:F(y(w)),onClick:Me},{default:ve(()=>[(L(),Pe(wt(me.clearIcon)))]),_:1},8,["class"])):Ee("v-if",!0)],38)):(L(),Pe(y(ri),{key:0,id:me.id,ref_key:"inputRef",ref:p,"container-role":"combobox","model-value":y(j),name:me.name,size:y(Ce),disabled:y(X),placeholder:me.placeholder,class:F([y(u).b("editor"),y(u).bm("editor",me.type),me.$attrs.class]),style:Qe(me.$attrs.style),readonly:!me.editable||me.readonly||y(ee)||y(ue)||me.type==="week",label:me.label,tabindex:me.tabindex,"validate-event":!1,onInput:ye,onFocus:R,onBlur:U,onKeydown:Fe,onChange:Z,onMousedown:J,onMouseenter:ce,onMouseleave:pe,onTouchstart:re,onClick:Xe[0]||(Xe[0]=lt(()=>{},["stop"]))},{prefix:ve(()=>[y(ne)?(L(),Pe(y(et),{key:0,class:F(y(s).e("icon")),onMousedown:lt(J,["prevent"]),onTouchstart:re},{default:ve(()=>[(L(),Pe(wt(y(ne))))]),_:1},8,["class","onMousedown"])):Ee("v-if",!0)]),suffix:ve(()=>[le.value&&me.clearIcon?(L(),Pe(y(et),{key:0,class:F(`${y(s).e("icon")} clear-icon`),onClick:lt(Me,["stop"])},{default:ve(()=>[(L(),Pe(wt(me.clearIcon)))]),_:1},8,["class","onClick"])):Ee("v-if",!0)]),_:1},8,["id","model-value","name","size","disabled","placeholder","class","style","readonly","label","tabindex","onKeydown"]))]),content:ve(()=>[Le(me.$slots,"default",{visible:g.value,actualVisible:m.value,parsedValue:y(W),format:me.format,dateFormat:me.dateFormat,timeFormat:me.timeFormat,unlinkPanels:me.unlinkPanels,type:me.type,defaultValue:me.defaultValue,onPick:I,onSelectRange:A,onSetPickerOption:ie,onCalendarChange:ge,onPanelChange:De,onKeydown:B,onMousedown:Xe[1]||(Xe[1]=lt(()=>{},["stop"]))})]),_:3},16,["visible","transition","popper-class","popper-options"]))}});var kE=Ge(Rz,[["__file","picker.vue"]]);const Pz=We({...OE,datetimeRole:String,parsedValue:{type:we(Object)}}),LE=({getAvailableHours:t,getAvailableMinutes:e,getAvailableSeconds:n})=>{const i=(u,s,o,c)=>{const f={hour:t,minute:e,second:n};let l=u;return["hour","minute","second"].forEach(d=>{if(f[d]){let h;const p=f[d];switch(d){case"minute":{h=p(l.hour(),s,c);break}case"second":{h=p(l.hour(),l.minute(),s,c);break}default:{h=p(s,c);break}}if(h!=null&&h.length&&!h.includes(l[d]())){const g=o?0:h.length-1;l=l[d](h[g])}}}),l},r={};return{timePickerOptions:r,getAvailableTime:i,onSetOption:([u,s])=>{r[u]=s}}},kp=t=>{const e=(i,r)=>i||r,n=i=>i!==!0;return t.map(e).filter(n)},IE=(t,e,n)=>({getHoursList:(u,s)=>Op(24,t&&(()=>t==null?void 0:t(u,s))),getMinutesList:(u,s,o)=>Op(60,e&&(()=>e==null?void 0:e(u,s,o))),getSecondsList:(u,s,o,c)=>Op(60,n&&(()=>n==null?void 0:n(u,s,o,c)))}),DE=(t,e,n)=>{const{getHoursList:i,getMinutesList:r,getSecondsList:a}=IE(t,e,n);return{getAvailableHours:(c,f)=>kp(i(c,f)),getAvailableMinutes:(c,f,l)=>kp(r(c,f,l)),getAvailableSeconds:(c,f,l,d)=>kp(a(c,f,l,d))}},NE=t=>{const e=Y(t.parsedValue);return Be(()=>t.visible,n=>{n||(e.value=t.parsedValue)}),e},zs=new Map;let cS;Ot&&(document.addEventListener("mousedown",t=>cS=t),document.addEventListener("mouseup",t=>{for(const e of zs.values())for(const{documentHandler:n}of e)n(t,cS)}));function uS(t,e){let n=[];return Array.isArray(e.arg)?n=e.arg:rr(e.arg)&&n.push(e.arg),function(i,r){const a=e.instance.popperRef,u=i.target,s=r==null?void 0:r.target,o=!e||!e.instance,c=!u||!s,f=t.contains(u)||t.contains(s),l=t===u,d=n.length&&n.some(p=>p==null?void 0:p.contains(u))||n.length&&n.includes(s),h=a&&(a.contains(u)||a.contains(s));o||c||f||l||d||h||e.value(i,r)}}const ys={beforeMount(t,e){zs.has(t)||zs.set(t,[]),zs.get(t).push({documentHandler:uS(t,e),bindingFn:e.value})},updated(t,e){zs.has(t)||zs.set(t,[]);const n=zs.get(t),i=n.findIndex(a=>a.bindingFn===e.oldValue),r={documentHandler:uS(t,e),bindingFn:e.value};i>=0?n.splice(i,1,r):n.push(r)},unmounted(t){zs.delete(t)}},Oz=100,kz=600,ih={beforeMount(t,e){const n=e.value,{interval:i=Oz,delay:r=kz}=at(n)?{}:n;let a,u;const s=()=>at(n)?n():n.handler(),o=()=>{u&&(clearTimeout(u),u=void 0),a&&(clearInterval(a),a=void 0)};t.addEventListener("mousedown",c=>{c.button===0&&(o(),s(),document.addEventListener("mouseup",()=>o(),{once:!0}),u=setTimeout(()=>{a=setInterval(()=>{s()},i)},r))})}},lg="_trap-focus-children",Wo=[],dS=t=>{if(Wo.length===0)return;const e=Wo[Wo.length-1][lg];if(e.length>0&&t.code===nt.tab){if(e.length===1){t.preventDefault(),document.activeElement!==e[0]&&e[0].focus();return}const n=t.shiftKey,i=t.target===e[0],r=t.target===e[e.length-1];i&&n&&(t.preventDefault(),e[e.length-1].focus()),r&&!n&&(t.preventDefault(),e[0].focus())}},Lz={beforeMount(t){t[lg]=_b(t),Wo.push(t),Wo.length<=1&&document.addEventListener("keydown",dS)},updated(t){it(()=>{t[lg]=_b(t)})},unmounted(){Wo.shift(),Wo.length===0&&document.removeEventListener("keydown",dS)}};var fS=!1,Bo,cg,ug,vf,yf,FE,bf,dg,fg,hg,BE,pg,mg,UE,VE;function Ci(){if(!fS){fS=!0;var t=navigator.userAgent,e=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(t),n=/(Mac OS X)|(Windows)|(Linux)/.exec(t);if(pg=/\b(iPhone|iP[ao]d)/.exec(t),mg=/\b(iP[ao]d)/.exec(t),hg=/Android/i.exec(t),UE=/FBAN\/\w+;/i.exec(t),VE=/Mobile/i.exec(t),BE=!!/Win64/.exec(t),e){Bo=e[1]?parseFloat(e[1]):e[5]?parseFloat(e[5]):NaN,Bo&&document&&document.documentMode&&(Bo=document.documentMode);var i=/(?:Trident\/(\d+.\d+))/.exec(t);FE=i?parseFloat(i[1])+4:Bo,cg=e[2]?parseFloat(e[2]):NaN,ug=e[3]?parseFloat(e[3]):NaN,vf=e[4]?parseFloat(e[4]):NaN,vf?(e=/(?:Chrome\/(\d+\.\d+))/.exec(t),yf=e&&e[1]?parseFloat(e[1]):NaN):yf=NaN}else Bo=cg=ug=yf=vf=NaN;if(n){if(n[1]){var r=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(t);bf=r?parseFloat(r[1].replace("_",".")):!0}else bf=!1;dg=!!n[2],fg=!!n[3]}else bf=dg=fg=!1}}var gg={ie:function(){return Ci()||Bo},ieCompatibilityMode:function(){return Ci()||FE>Bo},ie64:function(){return gg.ie()&&BE},firefox:function(){return Ci()||cg},opera:function(){return Ci()||ug},webkit:function(){return Ci()||vf},safari:function(){return gg.webkit()},chrome:function(){return Ci()||yf},windows:function(){return Ci()||dg},osx:function(){return Ci()||bf},linux:function(){return Ci()||fg},iphone:function(){return Ci()||pg},mobile:function(){return Ci()||pg||mg||hg||VE},nativeApp:function(){return Ci()||UE},android:function(){return Ci()||hg},ipad:function(){return Ci()||mg}},Iz=gg,Pd=!!(typeof window<"u"&&window.document&&window.document.createElement),Dz={canUseDOM:Pd,canUseWorkers:typeof Worker<"u",canUseEventListeners:Pd&&!!(window.addEventListener||window.attachEvent),canUseViewport:Pd&&!!window.screen,isInWorker:!Pd},$E=Dz,HE;$E.canUseDOM&&(HE=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0);function Nz(t,e){if(!$E.canUseDOM||e&&!("addEventListener"in document))return!1;var n="on"+t,i=n in document;if(!i){var r=document.createElement("div");r.setAttribute(n,"return;"),i=typeof r[n]=="function"}return!i&&HE&&t==="wheel"&&(i=document.implementation.hasFeature("Events.wheel","3.0")),i}var Fz=Nz,hS=10,pS=40,mS=800;function zE(t){var e=0,n=0,i=0,r=0;return"detail"in t&&(n=t.detail),"wheelDelta"in t&&(n=-t.wheelDelta/120),"wheelDeltaY"in t&&(n=-t.wheelDeltaY/120),"wheelDeltaX"in t&&(e=-t.wheelDeltaX/120),"axis"in t&&t.axis===t.HORIZONTAL_AXIS&&(e=n,n=0),i=e*hS,r=n*hS,"deltaY"in t&&(r=t.deltaY),"deltaX"in t&&(i=t.deltaX),(i||r)&&t.deltaMode&&(t.deltaMode==1?(i*=pS,r*=pS):(i*=mS,r*=mS)),i&&!e&&(e=i<1?-1:1),r&&!n&&(n=r<1?-1:1),{spinX:e,spinY:n,pixelX:i,pixelY:r}}zE.getEventType=function(){return Iz.firefox()?"DOMMouseScroll":Fz("wheel")?"wheel":"mousewheel"};var Bz=zE;/**
* Checks if an event is supported in the current execution environment.
*
* NOTE: This will not work correctly for non-generic events such as `change`,
* `reset`, `load`, `error`, and `select`.
*
* Borrows from Modernizr.
*
* @param {string} eventNameSuffix Event name, e.g. "click".
* @param {?boolean} capture Check if the capture phase is supported.
* @return {boolean} True if the event is supported.
* @internal
* @license Modernizr 3.0.0pre (Custom Build) | MIT
*/const Uz=function(t,e){if(t&&t.addEventListener){const n=function(i){const r=Bz(i);e&&Reflect.apply(e,this,[i,r])};t.addEventListener("wheel",n,{passive:!0})}},Vz={beforeMount(t,e){Uz(t,e.value)}},$z=We({role:{type:String,required:!0},spinnerDate:{type:we(Object),required:!0},showSeconds:{type:Boolean,default:!0},arrowControl:Boolean,amPmMode:{type:we(String),default:""},...PE}),Hz=["onClick"],zz=["onMouseenter"],Wz=se({__name:"basic-time-spinner",props:$z,emits:["change","select-range","set-option"],setup(t,{emit:e}){const n=t,i=Ve("time"),{getHoursList:r,getMinutesList:a,getSecondsList:u}=IE(n.disabledHours,n.disabledMinutes,n.disabledSeconds);let s=!1;const o=Y(),c=Y(),f=Y(),l=Y(),d={hours:c,minutes:f,seconds:l},h=P(()=>n.showSeconds?rS:rS.slice(0,2)),p=P(()=>{const{spinnerDate:T}=n,R=T.hour(),V=T.minute(),U=T.second();return{hours:R,minutes:V,seconds:U}}),g=P(()=>{const{hours:T,minutes:R}=y(p);return{hours:r(n.role),minutes:a(T,n.role),seconds:u(T,R,n.role)}}),m=P(()=>{const{hours:T,minutes:R,seconds:V}=y(p);return{hours:Pp(T,23),minutes:Pp(R,59),seconds:Pp(V,59)}}),v=Oi(T=>{s=!1,S(T)},200),b=T=>{if(!!!n.amPmMode)return"";const V=n.amPmMode==="A";let U=T<12?" am":" pm";return V&&(U=U.toUpperCase()),U},_=T=>{let R;switch(T){case"hours":R=[0,2];break;case"minutes":R=[3,5];break;case"seconds":R=[6,8];break}const[V,U]=R;e("select-range",V,U),o.value=T},S=T=>{x(T,y(p)[T])},w=()=>{S("hours"),S("minutes"),S("seconds")},C=T=>T.querySelector(`.${i.namespace.value}-scrollbar__wrap`),x=(T,R)=>{if(n.arrowControl)return;const V=y(d[T]);V&&V.$el&&(C(V.$el).scrollTop=Math.max(0,R*M(T)))},M=T=>{const R=y(d[T]),V=R==null?void 0:R.$el.querySelector("li");return V&&Number.parseFloat(Zs(V,"height"))||0},E=()=>{O(1)},A=()=>{O(-1)},O=T=>{o.value||_("hours");const R=o.value,V=y(p)[R],U=o.value==="hours"?24:60,X=I(R,V,T,U);$(R,X),x(R,X),it(()=>_(R))},I=(T,R,V,U)=>{let X=(R+V+U)%U;const W=y(g)[T];for(;W[X]&&X!==R;)X=(X+V+U)%U;return X},$=(T,R)=>{if(y(g)[T][R])return;const{hours:X,minutes:W,seconds:j}=y(p);let K;switch(T){case"hours":K=n.spinnerDate.hour(R).minute(W).second(j);break;case"minutes":K=n.spinnerDate.hour(X).minute(R).second(j);break;case"seconds":K=n.spinnerDate.hour(X).minute(W).second(R);break}e("change",K)},H=(T,{value:R,disabled:V})=>{V||($(T,R),_(T),x(T,R))},B=T=>{s=!0,v(T);const R=Math.min(Math.round((C(y(d[T]).$el).scrollTop-(N(T)*.5-10)/M(T)+3)/M(T)),T==="hours"?23:59);$(T,R)},N=T=>y(d[T]).$el.offsetHeight,k=()=>{const T=R=>{const V=y(d[R]);V&&V.$el&&(C(V.$el).onscroll=()=>{B(R)})};T("hours"),T("minutes"),T("seconds")};ht(()=>{it(()=>{!n.arrowControl&&k(),w(),n.role==="start"&&_("hours")})});const D=(T,R)=>{d[R].value=T};return e("set-option",[`${n.role}_scrollDown`,O]),e("set-option",[`${n.role}_emitSelectRange`,_]),Be(()=>n.spinnerDate,()=>{s||w()}),(T,R)=>(L(),Q("div",{class:F([y(i).b("spinner"),{"has-seconds":T.showSeconds}])},[T.arrowControl?Ee("v-if",!0):(L(!0),Q(tt,{key:0},Tt(y(h),V=>(L(),Pe(y(Es),{key:V,ref_for:!0,ref:U=>D(U,V),class:F(y(i).be("spinner","wrapper")),"wrap-style":"max-height: inherit;","view-class":y(i).be("spinner","list"),noresize:"",tag:"ul",onMouseenter:U=>_(V),onMousemove:U=>S(V)},{default:ve(()=>[(L(!0),Q(tt,null,Tt(y(g)[V],(U,X)=>(L(),Q("li",{key:X,class:F([y(i).be("spinner","item"),y(i).is("active",X===y(p)[V]),y(i).is("disabled",U)]),onClick:W=>H(V,{value:X,disabled:U})},[V==="hours"?(L(),Q(tt,{key:0},[Et(je(("0"+(T.amPmMode?X%12||12:X)).slice(-2))+je(b(X)),1)],64)):(L(),Q(tt,{key:1},[Et(je(("0"+X).slice(-2)),1)],64))],10,Hz))),128))]),_:2},1032,["class","view-class","onMouseenter","onMousemove"]))),128)),T.arrowControl?(L(!0),Q(tt,{key:1},Tt(y(h),V=>(L(),Q("div",{key:V,class:F([y(i).be("spinner","wrapper"),y(i).is("arrow")]),onMouseenter:U=>_(V)},[ft((L(),Pe(y(et),{class:F(["arrow-up",y(i).be("spinner","arrow")])},{default:ve(()=>[oe(y(Jv))]),_:1},8,["class"])),[[y(ih),A]]),ft((L(),Pe(y(et),{class:F(["arrow-down",y(i).be("spinner","arrow")])},{default:ve(()=>[oe(y(xs))]),_:1},8,["class"])),[[y(ih),E]]),te("ul",{class:F(y(i).be("spinner","list"))},[(L(!0),Q(tt,null,Tt(y(m)[V],(U,X)=>(L(),Q("li",{key:X,class:F([y(i).be("spinner","item"),y(i).is("active",U===y(p)[V]),y(i).is("disabled",y(g)[V][U])])},[typeof U=="number"?(L(),Q(tt,{key:0},[V==="hours"?(L(),Q(tt,{key:0},[Et(je(("0"+(T.amPmMode?U%12||12:U)).slice(-2))+je(b(U)),1)],64)):(L(),Q(tt,{key:1},[Et(je(("0"+U).slice(-2)),1)],64))],64)):Ee("v-if",!0)],2))),128))],2)],42,zz))),128)):Ee("v-if",!0)],2))}});var vg=Ge(Wz,[["__file","basic-time-spinner.vue"]]);const Gz=se({__name:"panel-time-pick",props:Pz,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,i=Je("EP_PICKER_BASE"),{arrowControl:r,disabledHours:a,disabledMinutes:u,disabledSeconds:s,defaultValue:o}=i.props,{getAvailableHours:c,getAvailableMinutes:f,getAvailableSeconds:l}=DE(a,u,s),d=Ve("time"),{t:h,lang:p}=Dt(),g=Y([0,2]),m=NE(n),v=P(()=>xn(n.actualVisible)?`${d.namespace.value}-zoom-in-top`:""),b=P(()=>n.format.includes("ss")),_=P(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),S=D=>{const T=yt(D).locale(p.value),R=H(T);return T.isSame(R)},w=()=>{e("pick",m.value,!1)},C=(D=!1,T=!1)=>{T||e("pick",n.parsedValue,D)},x=D=>{if(!n.visible)return;const T=H(D).millisecond(0);e("pick",T,!0)},M=(D,T)=>{e("select-range",D,T),g.value=[D,T]},E=D=>{const T=[0,3].concat(b.value?[6]:[]),R=["hours","minutes"].concat(b.value?["seconds"]:[]),U=(T.indexOf(g.value[0])+D+T.length)%T.length;O.start_emitSelectRange(R[U])},A=D=>{const T=D.code,{left:R,right:V,up:U,down:X}=nt;if([R,V].includes(T)){E(T===R?-1:1),D.preventDefault();return}if([U,X].includes(T)){const W=T===U?-1:1;O.start_scrollDown(W),D.preventDefault();return}},{timePickerOptions:O,onSetOption:I,getAvailableTime:$}=LE({getAvailableHours:c,getAvailableMinutes:f,getAvailableSeconds:l}),H=D=>$(D,n.datetimeRole||"",!0),B=D=>D?yt(D,n.format).locale(p.value):null,N=D=>D?D.format(n.format):null,k=()=>yt(o).locale(p.value);return e("set-picker-option",["isValidValue",S]),e("set-picker-option",["formatToString",N]),e("set-picker-option",["parseUserInput",B]),e("set-picker-option",["handleKeydownInput",A]),e("set-picker-option",["getRangeAvailableTime",H]),e("set-picker-option",["getDefaultValue",k]),(D,T)=>(L(),Pe(An,{name:y(v)},{default:ve(()=>[D.actualVisible||D.visible?(L(),Q("div",{key:0,class:F(y(d).b("panel"))},[te("div",{class:F([y(d).be("panel","content"),{"has-seconds":y(b)}])},[oe(vg,{ref:"spinner",role:D.datetimeRole||"start","arrow-control":y(r),"show-seconds":y(b),"am-pm-mode":y(_),"spinner-date":D.parsedValue,"disabled-hours":y(a),"disabled-minutes":y(u),"disabled-seconds":y(s),onChange:x,onSetOption:y(I),onSelectRange:M},null,8,["role","arrow-control","show-seconds","am-pm-mode","spinner-date","disabled-hours","disabled-minutes","disabled-seconds","onSetOption"])],2),te("div",{class:F(y(d).be("panel","footer"))},[te("button",{type:"button",class:F([y(d).be("panel","btn"),"cancel"]),onClick:w},je(y(h)("el.datepicker.cancel")),3),te("button",{type:"button",class:F([y(d).be("panel","btn"),"confirm"]),onClick:T[0]||(T[0]=R=>C())},je(y(h)("el.datepicker.confirm")),3)],2)],2)):Ee("v-if",!0)]),_:1},8,["name"]))}});var rh=Ge(Gz,[["__file","panel-time-pick.vue"]]);const jz=We({...OE,parsedValue:{type:we(Array)}}),Xz=["disabled"],Kz=se({__name:"panel-time-range",props:jz,emits:["pick","select-range","set-picker-option"],setup(t,{emit:e}){const n=t,i=(le,Me)=>{const q=[];for(let J=le;J<=Me;J++)q.push(J);return q},{t:r,lang:a}=Dt(),u=Ve("time"),s=Ve("picker"),o=Je("EP_PICKER_BASE"),{arrowControl:c,disabledHours:f,disabledMinutes:l,disabledSeconds:d,defaultValue:h}=o.props,p=P(()=>[u.be("range-picker","body"),u.be("panel","content"),u.is("arrow",c),S.value?"has-seconds":""]),g=P(()=>[u.be("range-picker","body"),u.be("panel","content"),u.is("arrow",c),S.value?"has-seconds":""]),m=P(()=>n.parsedValue[0]),v=P(()=>n.parsedValue[1]),b=NE(n),_=()=>{e("pick",b.value,!1)},S=P(()=>n.format.includes("ss")),w=P(()=>n.format.includes("A")?"A":n.format.includes("a")?"a":""),C=(le=!1)=>{e("pick",[m.value,v.value],le)},x=le=>{A(le.millisecond(0),v.value)},M=le=>{A(m.value,le.millisecond(0))},E=le=>{const Me=le.map(J=>yt(J).locale(a.value)),q=V(Me);return Me[0].isSame(q[0])&&Me[1].isSame(q[1])},A=(le,Me)=>{e("pick",[le,Me],!0)},O=P(()=>m.value>v.value),I=Y([0,2]),$=(le,Me)=>{e("select-range",le,Me,"min"),I.value=[le,Me]},H=P(()=>S.value?11:8),B=(le,Me)=>{e("select-range",le,Me,"max");const q=y(H);I.value=[le+q,Me+q]},N=le=>{const Me=S.value?[0,3,6,11,14,17]:[0,3,8,11],q=["hours","minutes"].concat(S.value?["seconds"]:[]),ce=(Me.indexOf(I.value[0])+le+Me.length)%Me.length,pe=Me.length/2;ce<pe?j.start_emitSelectRange(q[ce]):j.end_emitSelectRange(q[ce-pe])},k=le=>{const Me=le.code,{left:q,right:J,up:ce,down:pe}=nt;if([q,J].includes(Me)){N(Me===q?-1:1),le.preventDefault();return}if([ce,pe].includes(Me)){const re=Me===ce?-1:1,he=I.value[0]<H.value?"start":"end";j[`${he}_scrollDown`](re),le.preventDefault();return}},D=(le,Me)=>{const q=f?f(le):[],J=le==="start",pe=(Me||(J?v.value:m.value)).hour(),re=J?i(pe+1,23):i(0,pe-1);return wp(q,re)},T=(le,Me,q)=>{const J=l?l(le,Me):[],ce=Me==="start",pe=q||(ce?v.value:m.value),re=pe.hour();if(le!==re)return J;const he=pe.minute(),Ce=ce?i(he+1,59):i(0,he-1);return wp(J,Ce)},R=(le,Me,q,J)=>{const ce=d?d(le,Me,q):[],pe=q==="start",re=J||(pe?v.value:m.value),he=re.hour(),Ce=re.minute();if(le!==he||Me!==Ce)return ce;const Oe=re.second(),ke=pe?i(Oe+1,59):i(0,Oe-1);return wp(ce,ke)},V=([le,Me])=>[K(le,"start",!0,Me),K(Me,"end",!1,le)],{getAvailableHours:U,getAvailableMinutes:X,getAvailableSeconds:W}=DE(D,T,R),{timePickerOptions:j,getAvailableTime:K,onSetOption:z}=LE({getAvailableHours:U,getAvailableMinutes:X,getAvailableSeconds:W}),ee=le=>le?qe(le)?le.map(Me=>yt(Me,n.format).locale(a.value)):yt(le,n.format).locale(a.value):null,ue=le=>le?qe(le)?le.map(Me=>Me.format(n.format)):le.format(n.format):null,ne=()=>{if(qe(h))return h.map(Me=>yt(Me).locale(a.value));const le=yt(h).locale(a.value);return[le,le.add(60,"m")]};return e("set-picker-option",["formatToString",ue]),e("set-picker-option",["parseUserInput",ee]),e("set-picker-option",["isValidValue",E]),e("set-picker-option",["handleKeydownInput",k]),e("set-picker-option",["getDefaultValue",ne]),e("set-picker-option",["getRangeAvailableTime",V]),(le,Me)=>le.actualVisible?(L(),Q("div",{key:0,class:F([y(u).b("range-picker"),y(s).b("panel")])},[te("div",{class:F(y(u).be("range-picker","content"))},[te("div",{class:F(y(u).be("range-picker","cell"))},[te("div",{class:F(y(u).be("range-picker","header"))},je(y(r)("el.datepicker.startTime")),3),te("div",{class:F(y(p))},[oe(vg,{ref:"minSpinner",role:"start","show-seconds":y(S),"am-pm-mode":y(w),"arrow-control":y(c),"spinner-date":y(m),"disabled-hours":D,"disabled-minutes":T,"disabled-seconds":R,onChange:x,onSetOption:y(z),onSelectRange:$},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),te("div",{class:F(y(u).be("range-picker","cell"))},[te("div",{class:F(y(u).be("range-picker","header"))},je(y(r)("el.datepicker.endTime")),3),te("div",{class:F(y(g))},[oe(vg,{ref:"maxSpinner",role:"end","show-seconds":y(S),"am-pm-mode":y(w),"arrow-control":y(c),"spinner-date":y(v),"disabled-hours":D,"disabled-minutes":T,"disabled-seconds":R,onChange:M,onSetOption:y(z),onSelectRange:B},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),te("div",{class:F(y(u).be("panel","footer"))},[te("button",{type:"button",class:F([y(u).be("panel","btn"),"cancel"]),onClick:Me[0]||(Me[0]=q=>_())},je(y(r)("el.datepicker.cancel")),3),te("button",{type:"button",class:F([y(u).be("panel","btn"),"confirm"]),disabled:y(O),onClick:Me[1]||(Me[1]=q=>C())},je(y(r)("el.datepicker.confirm")),11,Xz)],2)],2)):Ee("v-if",!0)}});var Yz=Ge(Kz,[["__file","panel-time-range.vue"]]);yt.extend(k0);var qz=se({name:"ElTimePicker",install:null,props:{...L0,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(t,e){const n=Y(),[i,r]=t.isRange?["timerange",Yz]:["time",rh],a=u=>e.emit("update:modelValue",u);return Mt("ElPopperOptions",t.popperOptions),e.expose({focus:u=>{var s;(s=n.value)==null||s.handleFocusInput(u)},blur:u=>{var s;(s=n.value)==null||s.handleBlurInput(u)},handleOpen:()=>{var u;(u=n.value)==null||u.handleOpen()},handleClose:()=>{var u;(u=n.value)==null||u.handleClose()}}),()=>{var u;const s=(u=t.format)!=null?u:ag;return oe(kE,xt(t,{ref:n,type:i,format:s,"onUpdate:modelValue":a}),{default:o=>oe(r,o,null)})}}});const _f=qz;_f.install=t=>{t.component(_f.name,_f)};const Zz=_f,Jz=(t,e)=>{const n=t.subtract(1,"month").endOf("month").date();return ro(e).map((i,r)=>n-(e-r-1))},Qz=t=>{const e=t.daysInMonth();return ro(e).map((n,i)=>i+1)},e5=t=>ro(t.length/7).map(e=>{const n=e*7;return t.slice(n,n+7)}),t5=We({selectedDay:{type:we(Object)},range:{type:we(Array)},date:{type:we(Object),required:!0},hideHeader:{type:Boolean}}),n5={pick:t=>bt(t)};var WE={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ms,function(){return function(n,i,r){var a=i.prototype,u=function(l){return l&&(l.indexOf?l:l.s)},s=function(l,d,h,p,g){var m=l.name?l:l.$locale(),v=u(m[d]),b=u(m[h]),_=v||b.map(function(w){return w.slice(0,p)});if(!g)return _;var S=m.weekStart;return _.map(function(w,C){return _[(C+(S||0))%7]})},o=function(){return r.Ls[r.locale()]},c=function(l,d){return l.formats[d]||function(h){return h.replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,function(p,g,m){return g||m.slice(1)})}(l.formats[d.toUpperCase()])},f=function(){var l=this;return{months:function(d){return d?d.format("MMMM"):s(l,"months")},monthsShort:function(d){return d?d.format("MMM"):s(l,"monthsShort","months",3)},firstDayOfWeek:function(){return l.$locale().weekStart||0},weekdays:function(d){return d?d.format("dddd"):s(l,"weekdays")},weekdaysMin:function(d){return d?d.format("dd"):s(l,"weekdaysMin","weekdays",2)},weekdaysShort:function(d){return d?d.format("ddd"):s(l,"weekdaysShort","weekdays",3)},longDateFormat:function(d){return c(l.$locale(),d)},meridiem:this.$locale().meridiem,ordinal:this.$locale().ordinal}};a.localeData=function(){return f.bind(this)()},r.localeData=function(){var l=o();return{firstDayOfWeek:function(){return l.weekStart||0},weekdays:function(){return r.weekdays()},weekdaysShort:function(){return r.weekdaysShort()},weekdaysMin:function(){return r.weekdaysMin()},months:function(){return r.months()},monthsShort:function(){return r.monthsShort()},longDateFormat:function(d){return c(l,d)},meridiem:l.meridiem,ordinal:l.ordinal}},r.months=function(){return s(o(),"months")},r.monthsShort=function(){return s(o(),"monthsShort","months",3)},r.weekdays=function(l){return s(o(),"weekdays",null,null,l)},r.weekdaysShort=function(l){return s(o(),"weekdaysShort","weekdays",3,l)},r.weekdaysMin=function(l){return s(o(),"weekdaysMin","weekdays",2,l)}}})})(WE);var i5=WE.exports;const GE=As(i5),r5=(t,e)=>{yt.extend(GE);const n=yt.localeData().firstDayOfWeek(),{t:i,lang:r}=Dt(),a=yt().locale(r.value),u=P(()=>!!t.range&&!!t.range.length),s=P(()=>{let d=[];if(u.value){const[h,p]=t.range,g=ro(p.date()-h.date()+1).map(b=>({text:h.date()+b,type:"current"}));let m=g.length%7;m=m===0?0:7-m;const v=ro(m).map((b,_)=>({text:_+1,type:"next"}));d=g.concat(v)}else{const h=t.date.startOf("month").day(),p=Jz(t.date,(h-n+7)%7).map(b=>({text:b,type:"prev"})),g=Qz(t.date).map(b=>({text:b,type:"current"}));d=[...p,...g];const m=7-(d.length%7||7),v=ro(m).map((b,_)=>({text:_+1,type:"next"}));d=d.concat(v)}return e5(d)}),o=P(()=>{const d=n;return d===0?Cp.map(h=>i(`el.datepicker.weeks.${h}`)):Cp.slice(d).concat(Cp.slice(0,d)).map(h=>i(`el.datepicker.weeks.${h}`))}),c=(d,h)=>{switch(h){case"prev":return t.date.startOf("month").subtract(1,"month").date(d);case"next":return t.date.startOf("month").add(1,"month").date(d);case"current":return t.date.date(d)}};return{now:a,isInRange:u,rows:s,weekDays:o,getFormattedDate:c,handlePickDay:({text:d,type:h})=>{const p=c(d,h);e("pick",p)},getSlotData:({text:d,type:h})=>{const p=c(d,h);return{isSelected:p.isSame(t.selectedDay),type:`${h}-month`,day:p.format("YYYY-MM-DD"),date:p.toDate()}}}},s5={key:0},o5=["onClick"],a5=se({name:"DateTable"}),l5=se({...a5,props:t5,emits:n5,setup(t,{expose:e,emit:n}){const i=t,{isInRange:r,now:a,rows:u,weekDays:s,getFormattedDate:o,handlePickDay:c,getSlotData:f}=r5(i,n),l=Ve("calendar-table"),d=Ve("calendar-day"),h=({text:p,type:g})=>{const m=[g];if(g==="current"){const v=o(p,g);v.isSame(i.selectedDay,"day")&&m.push(d.is("selected")),v.isSame(a,"day")&&m.push(d.is("today"))}return m};return e({getFormattedDate:o}),(p,g)=>(L(),Q("table",{class:F([y(l).b(),y(l).is("range",y(r))]),cellspacing:"0",cellpadding:"0"},[p.hideHeader?Ee("v-if",!0):(L(),Q("thead",s5,[(L(!0),Q(tt,null,Tt(y(s),m=>(L(),Q("th",{key:m},je(m),1))),128))])),te("tbody",null,[(L(!0),Q(tt,null,Tt(y(u),(m,v)=>(L(),Q("tr",{key:v,class:F({[y(l).e("row")]:!0,[y(l).em("row","hide-border")]:v===0&&p.hideHeader})},[(L(!0),Q(tt,null,Tt(m,(b,_)=>(L(),Q("td",{key:_,class:F(h(b)),onClick:S=>y(c)(b)},[te("div",{class:F(y(d).b())},[Le(p.$slots,"date-cell",{data:y(f)(b)},()=>[te("span",null,je(b.text),1)])],2)],10,o5))),128))],2))),128))])],2))}});var gS=Ge(l5,[["__file","date-table.vue"]]);const c5=(t,e)=>{const n=t.endOf("month"),i=e.startOf("month"),a=n.isSame(i,"week")?i.add(1,"week"):i;return[[t,n],[a.startOf("week"),e]]},u5=(t,e)=>{const n=t.endOf("month"),i=t.add(1,"month").startOf("month"),r=n.isSame(i,"week")?i.add(1,"week"):i,a=r.endOf("month"),u=e.startOf("month"),s=a.isSame(u,"week")?u.add(1,"week"):u;return[[t,n],[r.startOf("week"),a],[s.startOf("week"),e]]},d5=(t,e,n)=>{const{lang:i}=Dt(),r=Y(),a=yt().locale(i.value),u=P({get(){return t.modelValue?o.value:r.value},set(m){if(!m)return;r.value=m;const v=m.toDate();e(yi,v),e(_t,v)}}),s=P(()=>{if(!t.range)return[];const m=t.range.map(_=>yt(_).locale(i.value)),[v,b]=m;return v.isAfter(b)?[]:v.isSame(b,"month")?h(v,b):v.add(1,"month").month()!==b.month()?[]:h(v,b)}),o=P(()=>t.modelValue?yt(t.modelValue).locale(i.value):u.value||(s.value.length?s.value[0][0]:a)),c=P(()=>o.value.subtract(1,"month").date(1)),f=P(()=>o.value.add(1,"month").date(1)),l=P(()=>o.value.subtract(1,"year").date(1)),d=P(()=>o.value.add(1,"year").date(1)),h=(m,v)=>{const b=m.startOf("week"),_=v.endOf("week"),S=b.get("month"),w=_.get("month");return S===w?[[b,_]]:(S+1)%12===w?c5(b,_):S+2===w||(S+1)%11===w?u5(b,_):[]},p=m=>{u.value=m};return{calculateValidatedDateRange:h,date:o,realSelectedDay:u,pickDay:p,selectDate:m=>{const b={"prev-month":c.value,"next-month":f.value,"prev-year":l.value,"next-year":d.value,today:a}[m];b.isSame(o.value,"day")||p(b)},validatedRange:s}},f5=t=>qe(t)&&t.length===2&&t.every(e=>oa(e)),h5=We({modelValue:{type:Date},range:{type:we(Array),validator:f5}}),p5={[_t]:t=>oa(t),[yi]:t=>oa(t)},m5="ElCalendar",g5=se({name:m5}),v5=se({...g5,props:h5,emits:p5,setup(t,{expose:e,emit:n}){const i=t,r=Ve("calendar"),{calculateValidatedDateRange:a,date:u,pickDay:s,realSelectedDay:o,selectDate:c,validatedRange:f}=d5(i,n),{t:l}=Dt(),d=P(()=>{const h=`el.datepicker.month${u.value.format("M")}`;return`${u.value.year()} ${l("el.datepicker.year")} ${l(h)}`});return e({selectedDay:o,pickDay:s,selectDate:c,calculateValidatedDateRange:a}),(h,p)=>(L(),Q("div",{class:F(y(r).b())},[te("div",{class:F(y(r).e("header"))},[Le(h.$slots,"header",{date:y(d)},()=>[te("div",{class:F(y(r).e("title"))},je(y(d)),3),y(f).length===0?(L(),Q("div",{key:0,class:F(y(r).e("button-group"))},[oe(y(TE),null,{default:ve(()=>[oe(y(Dn),{size:"small",onClick:p[0]||(p[0]=g=>y(c)("prev-month"))},{default:ve(()=>[Et(je(y(l)("el.datepicker.prevMonth")),1)]),_:1}),oe(y(Dn),{size:"small",onClick:p[1]||(p[1]=g=>y(c)("today"))},{default:ve(()=>[Et(je(y(l)("el.datepicker.today")),1)]),_:1}),oe(y(Dn),{size:"small",onClick:p[2]||(p[2]=g=>y(c)("next-month"))},{default:ve(()=>[Et(je(y(l)("el.datepicker.nextMonth")),1)]),_:1})]),_:1})],2)):Ee("v-if",!0)])],2),y(f).length===0?(L(),Q("div",{key:0,class:F(y(r).e("body"))},[oe(gS,{date:y(u),"selected-day":y(o),onPick:y(s)},ps({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:ve(g=>[Le(h.$slots,"date-cell",ss(Tl(g)))])}:void 0]),1032,["date","selected-day","onPick"])],2)):(L(),Q("div",{key:1,class:F(y(r).e("body"))},[(L(!0),Q(tt,null,Tt(y(f),(g,m)=>(L(),Pe(gS,{key:m,date:g[0],"selected-day":y(o),range:g,"hide-header":m!==0,onPick:y(s)},ps({_:2},[h.$slots["date-cell"]?{name:"date-cell",fn:ve(v=>[Le(h.$slots,"date-cell",ss(Tl(v)))])}:void 0]),1032,["date","selected-day","range","hide-header","onPick"]))),128))],2))],2))}});var y5=Ge(v5,[["__file","calendar.vue"]]);const b5=gt(y5),_5=We({header:{type:String,default:""},footer:{type:String,default:""},bodyStyle:{type:we([String,Object,Array]),default:""},bodyClass:String,shadow:{type:String,values:["always","hover","never"],default:"always"}}),S5=se({name:"ElCard"}),w5=se({...S5,props:_5,setup(t){const e=Ve("card");return(n,i)=>(L(),Q("div",{class:F([y(e).b(),y(e).is(`${n.shadow}-shadow`)])},[n.$slots.header||n.header?(L(),Q("div",{key:0,class:F(y(e).e("header"))},[Le(n.$slots,"header",{},()=>[Et(je(n.header),1)])],2)):Ee("v-if",!0),te("div",{class:F([y(e).e("body"),n.bodyClass]),style:Qe(n.bodyStyle)},[Le(n.$slots,"default")],6),n.$slots.footer||n.footer?(L(),Q("div",{key:1,class:F(y(e).e("footer"))},[Le(n.$slots,"footer",{},()=>[Et(je(n.footer),1)])],2)):Ee("v-if",!0)],2))}});var C5=Ge(w5,[["__file","card.vue"]]);const x5=gt(C5),T5=We({initialIndex:{type:Number,default:0},height:{type:String,default:""},trigger:{type:String,values:["hover","click"],default:"hover"},autoplay:{type:Boolean,default:!0},interval:{type:Number,default:3e3},indicatorPosition:{type:String,values:["","none","outside"],default:""},arrow:{type:String,values:["always","hover","never"],default:"hover"},type:{type:String,values:["","card"],default:""},loop:{type:Boolean,default:!0},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},pauseOnHover:{type:Boolean,default:!0},motionBlur:{type:Boolean,default:!1}}),E5={change:(t,e)=>[t,e].every(ot)},jE=Symbol("carouselContextKey"),vS=300,M5=(t,e,n)=>{const{children:i,addChild:r,removeChild:a}=T0(mt(),"ElCarouselItem"),u=Un(),s=Y(-1),o=Y(null),c=Y(!1),f=Y(),l=Y(0),d=Y(!0),h=Y(!0),p=Y(!1),g=P(()=>t.arrow!=="never"&&!y(b)),m=P(()=>i.value.some(K=>K.props.label.toString().length>0)),v=P(()=>t.type==="card"),b=P(()=>t.direction==="vertical"),_=P(()=>t.height!=="auto"?{height:t.height}:{height:`${l.value}px`,overflow:"hidden"}),S=Qo(K=>{A(K)},vS,{trailing:!0}),w=Qo(K=>{T(K)},vS),C=K=>d.value?s.value<=1?K<=1:K>1:!0;function x(){o.value&&(clearInterval(o.value),o.value=null)}function M(){t.interval<=0||!t.autoplay||o.value||(o.value=setInterval(()=>E(),t.interval))}const E=()=>{h.value||(p.value=!0),h.value=!1,s.value<i.value.length-1?s.value=s.value+1:t.loop&&(s.value=0)};function A(K){if(h.value||(p.value=!0),h.value=!1,ct(K)){const ue=i.value.filter(ne=>ne.props.name===K);ue.length>0&&(K=i.value.indexOf(ue[0]))}if(K=Number(K),Number.isNaN(K)||K!==Math.floor(K))return;const z=i.value.length,ee=s.value;K<0?s.value=t.loop?z-1:0:K>=z?s.value=t.loop?0:z-1:s.value=K,ee===s.value&&O(ee),U()}function O(K){i.value.forEach((z,ee)=>{z.translateItem(ee,s.value,K)})}function I(K,z){var ee,ue,ne,le;const Me=y(i),q=Me.length;if(q===0||!K.states.inStage)return!1;const J=z+1,ce=z-1,pe=q-1,re=Me[pe].states.active,he=Me[0].states.active,Ce=(ue=(ee=Me[J])==null?void 0:ee.states)==null?void 0:ue.active,Oe=(le=(ne=Me[ce])==null?void 0:ne.states)==null?void 0:le.active;return z===pe&&he||Ce?"left":z===0&&re||Oe?"right":!1}function $(){c.value=!0,t.pauseOnHover&&x()}function H(){c.value=!1,M()}function B(){p.value=!1}function N(K){y(b)||i.value.forEach((z,ee)=>{K===I(z,ee)&&(z.states.hover=!0)})}function k(){y(b)||i.value.forEach(K=>{K.states.hover=!1})}function D(K){K!==s.value&&(h.value||(p.value=!0)),s.value=K}function T(K){t.trigger==="hover"&&K!==s.value&&(s.value=K,h.value||(p.value=!0))}function R(){A(s.value-1)}function V(){A(s.value+1)}function U(){x(),t.pauseOnHover||M()}function X(K){t.height==="auto"&&(l.value=K)}function W(){var K;const z=(K=u.default)==null?void 0:K.call(u);if(!z)return null;const ee=io(z),ue="ElCarouselItem",ne=ee.filter(le=>un(le)&&le.type.name===ue);return(ne==null?void 0:ne.length)===2&&t.loop&&!v.value?(d.value=!0,ne):(d.value=!1,null)}Be(()=>s.value,(K,z)=>{O(z),d.value&&(K=K%2,z=z%2),z>-1&&e("change",K,z)}),Be(()=>t.autoplay,K=>{K?M():x()}),Be(()=>t.loop,()=>{A(s.value)}),Be(()=>t.interval,()=>{U()});const j=an();return ht(()=>{Be(()=>i.value,()=>{i.value.length>0&&A(t.initialIndex)},{immediate:!0}),j.value=dn(f.value,()=>{O()}),M()}),en(()=>{x(),f.value&&j.value&&j.value.stop()}),Mt(jE,{root:f,isCardType:v,isVertical:b,items:i,loop:t.loop,addItem:r,removeItem:a,setActiveItem:A,setContainerHeight:X}),{root:f,activeIndex:s,arrowDisplay:g,hasLabel:m,hover:c,isCardType:v,isTransitioning:p,items:i,isVertical:b,containerStyle:_,isItemsTwoLength:d,handleButtonEnter:N,handleTransitionEnd:B,handleButtonLeave:k,handleIndicatorClick:D,handleMouseEnter:$,handleMouseLeave:H,setActiveItem:A,prev:R,next:V,PlaceholderItem:W,isTwoLengthShow:C,throttledArrowClick:S,throttledIndicatorHover:w}},A5=["aria-label"],R5=["aria-label"],P5=["onMouseenter","onClick"],O5=["aria-label"],k5={key:0},L5={key:3,xmlns:"http://www.w3.org/2000/svg",version:"1.1",style:{display:"none"}},I5=te("defs",null,[te("filter",{id:"elCarouselHorizontal"},[te("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"12,0"})]),te("filter",{id:"elCarouselVertical"},[te("feGaussianBlur",{in:"SourceGraphic",stdDeviation:"0,10"})])],-1),D5=[I5],N5="ElCarousel",F5=se({name:N5}),B5=se({...F5,props:T5,emits:E5,setup(t,{expose:e,emit:n}){const i=t,{root:r,activeIndex:a,arrowDisplay:u,hasLabel:s,hover:o,isCardType:c,items:f,isVertical:l,containerStyle:d,handleButtonEnter:h,handleButtonLeave:p,isTransitioning:g,handleIndicatorClick:m,handleMouseEnter:v,handleMouseLeave:b,handleTransitionEnd:_,setActiveItem:S,prev:w,next:C,PlaceholderItem:x,isTwoLengthShow:M,throttledArrowClick:E,throttledIndicatorHover:A}=M5(i,n),O=Ve("carousel"),{t:I}=Dt(),$=P(()=>{const N=[O.b(),O.m(i.direction)];return y(c)&&N.push(O.m("card")),N}),H=P(()=>{const N=[O.e("container")];return i.motionBlur&&y(g)&&N.push(y(l)?`${O.namespace.value}-transitioning-vertical`:`${O.namespace.value}-transitioning`),N}),B=P(()=>{const N=[O.e("indicators"),O.em("indicators",i.direction)];return y(s)&&N.push(O.em("indicators","labels")),i.indicatorPosition==="outside"&&N.push(O.em("indicators","outside")),y(l)&&N.push(O.em("indicators","right")),N});return e({setActiveItem:S,prev:w,next:C}),(N,k)=>(L(),Q("div",{ref_key:"root",ref:r,class:F(y($)),onMouseenter:k[7]||(k[7]=lt((...D)=>y(v)&&y(v)(...D),["stop"])),onMouseleave:k[8]||(k[8]=lt((...D)=>y(b)&&y(b)(...D),["stop"]))},[y(u)?(L(),Pe(An,{key:0,name:"carousel-arrow-left",persisted:""},{default:ve(()=>[ft(te("button",{type:"button",class:F([y(O).e("arrow"),y(O).em("arrow","left")]),"aria-label":y(I)("el.carousel.leftArrow"),onMouseenter:k[0]||(k[0]=D=>y(h)("left")),onMouseleave:k[1]||(k[1]=(...D)=>y(p)&&y(p)(...D)),onClick:k[2]||(k[2]=lt(D=>y(E)(y(a)-1),["stop"]))},[oe(y(et),null,{default:ve(()=>[oe(y(uo))]),_:1})],42,A5),[[Nt,(N.arrow==="always"||y(o))&&(i.loop||y(a)>0)]])]),_:1})):Ee("v-if",!0),y(u)?(L(),Pe(An,{key:1,name:"carousel-arrow-right",persisted:""},{default:ve(()=>[ft(te("button",{type:"button",class:F([y(O).e("arrow"),y(O).em("arrow","right")]),"aria-label":y(I)("el.carousel.rightArrow"),onMouseenter:k[3]||(k[3]=D=>y(h)("right")),onMouseleave:k[4]||(k[4]=(...D)=>y(p)&&y(p)(...D)),onClick:k[5]||(k[5]=lt(D=>y(E)(y(a)+1),["stop"]))},[oe(y(et),null,{default:ve(()=>[oe(y(vi))]),_:1})],42,R5),[[Nt,(N.arrow==="always"||y(o))&&(i.loop||y(a)<y(f).length-1)]])]),_:1})):Ee("v-if",!0),te("div",{class:F(y(H)),style:Qe(y(d)),onTransitionend:k[6]||(k[6]=(...D)=>y(_)&&y(_)(...D))},[oe(y(x)),Le(N.$slots,"default")],38),N.indicatorPosition!=="none"?(L(),Q("ul",{key:2,class:F(y(B))},[(L(!0),Q(tt,null,Tt(y(f),(D,T)=>ft((L(),Q("li",{key:T,class:F([y(O).e("indicator"),y(O).em("indicator",N.direction),y(O).is("active",T===y(a))]),onMouseenter:R=>y(A)(T),onClick:lt(R=>y(m)(T),["stop"])},[te("button",{class:F(y(O).e("button")),"aria-label":y(I)("el.carousel.indicator",{index:T+1})},[y(s)?(L(),Q("span",k5,je(D.props.label),1)):Ee("v-if",!0)],10,O5)],42,P5)),[[Nt,y(M)(T)]])),128))],2)):Ee("v-if",!0),i.motionBlur?(L(),Q("svg",L5,D5)):Ee("v-if",!0)],34))}});var U5=Ge(B5,[["__file","carousel.vue"]]);const V5=We({name:{type:String,default:""},label:{type:[String,Number],default:""}}),$5=(t,e)=>{const n=Je(jE),i=mt(),r=.83,a=Y(),u=Y(!1),s=Y(0),o=Y(1),c=Y(!1),f=Y(!1),l=Y(!1),d=Y(!1),{isCardType:h,isVertical:p}=n;function g(S,w,C){const x=C-1,M=w-1,E=w+1,A=C/2;return w===0&&S===x?-1:w===x&&S===0?C:S<M&&w-S>=A?C+1:S>E&&S-w>=A?-2:S}function m(S,w){var C,x;const M=y(p)?((C=n.root.value)==null?void 0:C.offsetHeight)||0:((x=n.root.value)==null?void 0:x.offsetWidth)||0;return l.value?M*((2-r)*(S-w)+1)/4:S<w?-(1+r)*M/4:(3+r)*M/4}function v(S,w,C){const x=n.root.value;return x?((C?x.offsetHeight:x.offsetWidth)||0)*(S-w):0}const b=(S,w,C)=>{var x;const M=y(h),E=(x=n.items.value.length)!=null?x:Number.NaN,A=S===w;!M&&!xn(C)&&(d.value=A||S===C),!A&&E>2&&n.loop&&(S=g(S,w,E));const O=y(p);c.value=A,M?(l.value=Math.round(Math.abs(S-w))<=1,s.value=m(S,w),o.value=y(c)?1:r):s.value=v(S,w,O),f.value=!0,A&&a.value&&n.setContainerHeight(a.value.offsetHeight)};function _(){if(n&&y(h)){const S=n.items.value.findIndex(({uid:w})=>w===i.uid);n.setActiveItem(S)}}return ht(()=>{n.addItem({props:t,states:$t({hover:u,translate:s,scale:o,active:c,ready:f,inStage:l,animating:d}),uid:i.uid,translateItem:b})}),yo(()=>{n.removeItem(i.uid)}),{carouselItemRef:a,active:c,animating:d,hover:u,inStage:l,isVertical:p,translate:s,isCardType:h,scale:o,ready:f,handleItemClick:_}},H5=se({name:"ElCarouselItem"}),z5=se({...H5,props:V5,setup(t){const e=t,n=Ve("carousel"),{carouselItemRef:i,active:r,animating:a,hover:u,inStage:s,isVertical:o,translate:c,isCardType:f,scale:l,ready:d,handleItemClick:h}=$5(e),p=P(()=>[n.e("item"),n.is("active",r.value),n.is("in-stage",s.value),n.is("hover",u.value),n.is("animating",a.value),{[n.em("item","card")]:f.value,[n.em("item","card-vertical")]:f.value&&o.value}]),g=P(()=>{const v=`${`translate${y(o)?"Y":"X"}`}(${y(c)}px)`,b=`scale(${y(l)})`;return{transform:[v,b].join(" ")}});return(m,v)=>ft((L(),Q("div",{ref_key:"carouselItemRef",ref:i,class:F(y(p)),style:Qe(y(g)),onClick:v[0]||(v[0]=(...b)=>y(h)&&y(h)(...b))},[y(f)?ft((L(),Q("div",{key:0,class:F(y(n).e("mask"))},null,2)),[[Nt,!y(r)]]):Ee("v-if",!0),Le(m.$slots,"default")],6)),[[Nt,y(d)]])}});var XE=Ge(z5,[["__file","carousel-item.vue"]]);const W5=gt(U5,{CarouselItem:XE}),G5=hn(XE),KE={modelValue:{type:[Number,String,Boolean],default:void 0},label:{type:[String,Boolean,Number,Object],default:void 0},value:{type:[String,Boolean,Number,Object],default:void 0},indeterminate:Boolean,disabled:Boolean,checked:Boolean,name:{type:String,default:void 0},trueValue:{type:[String,Number],default:void 0},falseValue:{type:[String,Number],default:void 0},trueLabel:{type:[String,Number],default:void 0},falseLabel:{type:[String,Number],default:void 0},id:{type:String,default:void 0},controls:{type:String,default:void 0},border:Boolean,size:kn,tabindex:[String,Number],validateEvent:{type:Boolean,default:!0}},YE={[_t]:t=>ct(t)||ot(t)||Tn(t),change:t=>ct(t)||ot(t)||Tn(t)},lc=Symbol("checkboxGroupContextKey"),j5=({model:t,isChecked:e})=>{const n=Je(lc,void 0),i=P(()=>{var a,u;const s=(a=n==null?void 0:n.max)==null?void 0:a.value,o=(u=n==null?void 0:n.min)==null?void 0:u.value;return!xn(s)&&t.value.length>=s&&!e.value||!xn(o)&&t.value.length<=o&&e.value});return{isDisabled:wi(P(()=>(n==null?void 0:n.disabled.value)||i.value)),isLimitDisabled:i}},X5=(t,{model:e,isLimitExceeded:n,hasOwnLabel:i,isDisabled:r,isLabeledByFormItem:a})=>{const u=Je(lc,void 0),{formItem:s}=li(),{emit:o}=mt();function c(p){var g,m,v,b;return[!0,t.trueValue,t.trueLabel].includes(p)?(m=(g=t.trueValue)!=null?g:t.trueLabel)!=null?m:!0:(b=(v=t.falseValue)!=null?v:t.falseLabel)!=null?b:!1}function f(p,g){o("change",c(p),g)}function l(p){if(n.value)return;const g=p.target;o("change",c(g.checked),p)}async function d(p){n.value||!i.value&&!r.value&&a.value&&(p.composedPath().some(v=>v.tagName==="LABEL")||(e.value=c([!1,t.falseValue,t.falseLabel].includes(e.value)),await it(),f(e.value,p)))}const h=P(()=>(u==null?void 0:u.validateEvent)||t.validateEvent);return Be(()=>t.modelValue,()=>{h.value&&(s==null||s.validate("change").catch(p=>void 0))}),{handleChange:l,onClickRoot:d}},K5=t=>{const e=Y(!1),{emit:n}=mt(),i=Je(lc,void 0),r=P(()=>xn(i)===!1),a=Y(!1),u=P({get(){var s,o;return r.value?(s=i==null?void 0:i.modelValue)==null?void 0:s.value:(o=t.modelValue)!=null?o:e.value},set(s){var o,c;r.value&&qe(s)?(a.value=((o=i==null?void 0:i.max)==null?void 0:o.value)!==void 0&&s.length>(i==null?void 0:i.max.value)&&s.length>u.value.length,a.value===!1&&((c=i==null?void 0:i.changeEvent)==null||c.call(i,s))):(n(_t,s),e.value=s)}});return{model:u,isGroup:r,isLimitExceeded:a}},Y5=(t,e,{model:n})=>{const i=Je(lc,void 0),r=Y(!1),a=P(()=>ua(t.value)?t.label:t.value),u=P(()=>{const f=n.value;return Tn(f)?f:qe(f)?bt(a.value)?f.map(jt).some(l=>si(l,a.value)):f.map(jt).includes(a.value):f!=null?f===t.trueValue||f===t.trueLabel:!!f}),s=Mn(P(()=>{var f;return(f=i==null?void 0:i.size)==null?void 0:f.value}),{prop:!0}),o=Mn(P(()=>{var f;return(f=i==null?void 0:i.size)==null?void 0:f.value})),c=P(()=>!!e.default||!ua(a.value));return{checkboxButtonSize:s,isChecked:u,isFocused:r,checkboxSize:o,hasOwnLabel:c,actualValue:a}},qE=(t,e)=>{const{formItem:n}=li(),{model:i,isGroup:r,isLimitExceeded:a}=K5(t),{isFocused:u,isChecked:s,checkboxButtonSize:o,checkboxSize:c,hasOwnLabel:f,actualValue:l}=Y5(t,e,{model:i}),{isDisabled:d}=j5({model:i,isChecked:s}),{inputId:h,isLabeledByFormItem:p}=Mr(t,{formItemContext:n,disableIdGeneration:f,disableIdManagement:r}),{handleChange:g,onClickRoot:m}=X5(t,{model:i,isLimitExceeded:a,hasOwnLabel:f,isDisabled:d,isLabeledByFormItem:p});return(()=>{function b(){var _,S;qe(i.value)&&!i.value.includes(l.value)?i.value.push(l.value):i.value=(S=(_=t.trueValue)!=null?_:t.trueLabel)!=null?S:!0}t.checked&&b()})(),ea({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},P(()=>r.value&&ua(t.value))),ea({from:"true-label",replacement:"true-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},P(()=>!!t.trueLabel)),ea({from:"false-label",replacement:"false-value",version:"3.0.0",scope:"el-checkbox",ref:"https://element-plus.org/en-US/component/checkbox.html"},P(()=>!!t.falseLabel)),{inputId:h,isLabeledByFormItem:p,isChecked:s,isDisabled:d,isFocused:u,checkboxButtonSize:o,checkboxSize:c,hasOwnLabel:f,model:i,actualValue:l,handleChange:g,onClickRoot:m}},q5=["id","indeterminate","name","tabindex","disabled","true-value","false-value"],Z5=["id","indeterminate","disabled","value","name","tabindex"],J5=se({name:"ElCheckbox"}),Q5=se({...J5,props:KE,emits:YE,setup(t){const e=t,n=Un(),{inputId:i,isLabeledByFormItem:r,isChecked:a,isDisabled:u,isFocused:s,checkboxSize:o,hasOwnLabel:c,model:f,actualValue:l,handleChange:d,onClickRoot:h}=qE(e,n),p=Ve("checkbox"),g=P(()=>[p.b(),p.m(o.value),p.is("disabled",u.value),p.is("bordered",e.border),p.is("checked",a.value)]),m=P(()=>[p.e("input"),p.is("disabled",u.value),p.is("checked",a.value),p.is("indeterminate",e.indeterminate),p.is("focus",s.value)]);return(v,b)=>(L(),Pe(wt(!y(c)&&y(r)?"span":"label"),{class:F(y(g)),"aria-controls":v.indeterminate?v.controls:null,onClick:y(h)},{default:ve(()=>{var _,S;return[te("span",{class:F(y(m))},[v.trueValue||v.falseValue||v.trueLabel||v.falseLabel?ft((L(),Q("input",{key:0,id:y(i),"onUpdate:modelValue":b[0]||(b[0]=w=>ln(f)?f.value=w:null),class:F(y(p).e("original")),type:"checkbox",indeterminate:v.indeterminate,name:v.name,tabindex:v.tabindex,disabled:y(u),"true-value":(_=v.trueValue)!=null?_:v.trueLabel,"false-value":(S=v.falseValue)!=null?S:v.falseLabel,onChange:b[1]||(b[1]=(...w)=>y(d)&&y(d)(...w)),onFocus:b[2]||(b[2]=w=>s.value=!0),onBlur:b[3]||(b[3]=w=>s.value=!1),onClick:b[4]||(b[4]=lt(()=>{},["stop"]))},null,42,q5)),[[Xf,y(f)]]):ft((L(),Q("input",{key:1,id:y(i),"onUpdate:modelValue":b[5]||(b[5]=w=>ln(f)?f.value=w:null),class:F(y(p).e("original")),type:"checkbox",indeterminate:v.indeterminate,disabled:y(u),value:y(l),name:v.name,tabindex:v.tabindex,onChange:b[6]||(b[6]=(...w)=>y(d)&&y(d)(...w)),onFocus:b[7]||(b[7]=w=>s.value=!0),onBlur:b[8]||(b[8]=w=>s.value=!1),onClick:b[9]||(b[9]=lt(()=>{},["stop"]))},null,42,Z5)),[[Xf,y(f)]]),te("span",{class:F(y(p).e("inner"))},null,2)],2),y(c)?(L(),Q("span",{key:0,class:F(y(p).e("label"))},[Le(v.$slots,"default"),v.$slots.default?Ee("v-if",!0):(L(),Q(tt,{key:0},[Et(je(v.label),1)],64))],2)):Ee("v-if",!0)]}),_:3},8,["class","aria-controls","onClick"]))}});var e8=Ge(Q5,[["__file","checkbox.vue"]]);const t8=["name","tabindex","disabled","true-value","false-value"],n8=["name","tabindex","disabled","value"],i8=se({name:"ElCheckboxButton"}),r8=se({...i8,props:KE,emits:YE,setup(t){const e=t,n=Un(),{isFocused:i,isChecked:r,isDisabled:a,checkboxButtonSize:u,model:s,actualValue:o,handleChange:c}=qE(e,n),f=Je(lc,void 0),l=Ve("checkbox"),d=P(()=>{var p,g,m,v;const b=(g=(p=f==null?void 0:f.fill)==null?void 0:p.value)!=null?g:"";return{backgroundColor:b,borderColor:b,color:(v=(m=f==null?void 0:f.textColor)==null?void 0:m.value)!=null?v:"",boxShadow:b?`-1px 0 0 0 ${b}`:void 0}}),h=P(()=>[l.b("button"),l.bm("button",u.value),l.is("disabled",a.value),l.is("checked",r.value),l.is("focus",i.value)]);return(p,g)=>{var m,v;return L(),Q("label",{class:F(y(h))},[p.trueValue||p.falseValue||p.trueLabel||p.falseLabel?ft((L(),Q("input",{key:0,"onUpdate:modelValue":g[0]||(g[0]=b=>ln(s)?s.value=b:null),class:F(y(l).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:y(a),"true-value":(m=p.trueValue)!=null?m:p.trueLabel,"false-value":(v=p.falseValue)!=null?v:p.falseLabel,onChange:g[1]||(g[1]=(...b)=>y(c)&&y(c)(...b)),onFocus:g[2]||(g[2]=b=>i.value=!0),onBlur:g[3]||(g[3]=b=>i.value=!1),onClick:g[4]||(g[4]=lt(()=>{},["stop"]))},null,42,t8)),[[Xf,y(s)]]):ft((L(),Q("input",{key:1,"onUpdate:modelValue":g[5]||(g[5]=b=>ln(s)?s.value=b:null),class:F(y(l).be("button","original")),type:"checkbox",name:p.name,tabindex:p.tabindex,disabled:y(a),value:y(o),onChange:g[6]||(g[6]=(...b)=>y(c)&&y(c)(...b)),onFocus:g[7]||(g[7]=b=>i.value=!0),onBlur:g[8]||(g[8]=b=>i.value=!1),onClick:g[9]||(g[9]=lt(()=>{},["stop"]))},null,42,n8)),[[Xf,y(s)]]),p.$slots.default||p.label?(L(),Q("span",{key:2,class:F(y(l).be("button","inner")),style:Qe(y(r)?y(d):void 0)},[Le(p.$slots,"default",{},()=>[Et(je(p.label),1)])],6)):Ee("v-if",!0)],2)}}});var ZE=Ge(r8,[["__file","checkbox-button.vue"]]);const s8=We({modelValue:{type:we(Array),default:()=>[]},disabled:Boolean,min:Number,max:Number,size:kn,label:String,fill:String,textColor:String,tag:{type:String,default:"div"},validateEvent:{type:Boolean,default:!0}}),o8={[_t]:t=>qe(t),change:t=>qe(t)},a8=se({name:"ElCheckboxGroup"}),l8=se({...a8,props:s8,emits:o8,setup(t,{emit:e}){const n=t,i=Ve("checkbox"),{formItem:r}=li(),{inputId:a,isLabeledByFormItem:u}=Mr(n,{formItemContext:r}),s=async c=>{e(_t,c),await it(),e("change",c)},o=P({get(){return n.modelValue},set(c){s(c)}});return Mt(lc,{...os(Wn(n),["size","min","max","disabled","validateEvent","fill","textColor"]),modelValue:o,changeEvent:s}),Be(()=>n.modelValue,()=>{n.validateEvent&&(r==null||r.validate("change").catch(c=>void 0))}),(c,f)=>{var l;return L(),Pe(wt(c.tag),{id:y(a),class:F(y(i).b("group")),role:"group","aria-label":y(u)?void 0:c.label||"checkbox-group","aria-labelledby":y(u)?(l=y(r))==null?void 0:l.labelId:void 0},{default:ve(()=>[Le(c.$slots,"default")]),_:3},8,["id","class","aria-label","aria-labelledby"])}}});var JE=Ge(l8,[["__file","checkbox-group.vue"]]);const lr=gt(e8,{CheckboxButton:ZE,CheckboxGroup:JE}),c8=hn(ZE),QE=hn(JE),eM=We({modelValue:{type:[String,Number,Boolean],default:void 0},size:kn,disabled:Boolean,label:{type:[String,Number,Boolean],default:void 0},value:{type:[String,Number,Boolean],default:void 0},name:{type:String,default:void 0}}),u8=We({...eM,border:Boolean}),tM={[_t]:t=>ct(t)||ot(t)||Tn(t),[rn]:t=>ct(t)||ot(t)||Tn(t)},nM=Symbol("radioGroupKey"),iM=(t,e)=>{const n=Y(),i=Je(nM,void 0),r=P(()=>!!i),a=P(()=>ua(t.value)?t.label:t.value),u=P({get(){return r.value?i.modelValue:t.modelValue},set(l){r.value?i.changeEvent(l):e&&e(_t,l),n.value.checked=t.modelValue===a.value}}),s=Mn(P(()=>i==null?void 0:i.size)),o=wi(P(()=>i==null?void 0:i.disabled)),c=Y(!1),f=P(()=>o.value||r.value&&u.value!==a.value?-1:0);return ea({from:"label act as value",replacement:"value",version:"3.0.0",scope:"el-radio",ref:"https://element-plus.org/en-US/component/radio.html"},P(()=>r.value&&ua(t.value))),{radioRef:n,isGroup:r,radioGroup:i,focus:c,size:s,disabled:o,tabIndex:f,modelValue:u,actualValue:a}},d8=["value","name","disabled"],f8=se({name:"ElRadio"}),h8=se({...f8,props:u8,emits:tM,setup(t,{emit:e}){const n=t,i=Ve("radio"),{radioRef:r,radioGroup:a,focus:u,size:s,disabled:o,modelValue:c,actualValue:f}=iM(n,e);function l(){it(()=>e("change",c.value))}return(d,h)=>{var p;return L(),Q("label",{class:F([y(i).b(),y(i).is("disabled",y(o)),y(i).is("focus",y(u)),y(i).is("bordered",d.border),y(i).is("checked",y(c)===y(f)),y(i).m(y(s))])},[te("span",{class:F([y(i).e("input"),y(i).is("disabled",y(o)),y(i).is("checked",y(c)===y(f))])},[ft(te("input",{ref_key:"radioRef",ref:r,"onUpdate:modelValue":h[0]||(h[0]=g=>ln(c)?c.value=g:null),class:F(y(i).e("original")),value:y(f),name:d.name||((p=y(a))==null?void 0:p.name),disabled:y(o),type:"radio",onFocus:h[1]||(h[1]=g=>u.value=!0),onBlur:h[2]||(h[2]=g=>u.value=!1),onChange:l,onClick:h[3]||(h[3]=lt(()=>{},["stop"]))},null,42,d8),[[fx,y(c)]]),te("span",{class:F(y(i).e("inner"))},null,2)],2),te("span",{class:F(y(i).e("label")),onKeydown:h[4]||(h[4]=lt(()=>{},["stop"]))},[Le(d.$slots,"default",{},()=>[Et(je(d.label),1)])],34)],2)}}});var p8=Ge(h8,[["__file","radio.vue"]]);const m8=We({...eM}),g8=["value","name","disabled"],v8=se({name:"ElRadioButton"}),y8=se({...v8,props:m8,setup(t){const e=t,n=Ve("radio"),{radioRef:i,focus:r,size:a,disabled:u,modelValue:s,radioGroup:o,actualValue:c}=iM(e),f=P(()=>({backgroundColor:(o==null?void 0:o.fill)||"",borderColor:(o==null?void 0:o.fill)||"",boxShadow:o!=null&&o.fill?`-1px 0 0 0 ${o.fill}`:"",color:(o==null?void 0:o.textColor)||""}));return(l,d)=>{var h;return L(),Q("label",{class:F([y(n).b("button"),y(n).is("active",y(s)===y(c)),y(n).is("disabled",y(u)),y(n).is("focus",y(r)),y(n).bm("button",y(a))])},[ft(te("input",{ref_key:"radioRef",ref:i,"onUpdate:modelValue":d[0]||(d[0]=p=>ln(s)?s.value=p:null),class:F(y(n).be("button","original-radio")),value:y(c),type:"radio",name:l.name||((h=y(o))==null?void 0:h.name),disabled:y(u),onFocus:d[1]||(d[1]=p=>r.value=!0),onBlur:d[2]||(d[2]=p=>r.value=!1),onClick:d[3]||(d[3]=lt(()=>{},["stop"]))},null,42,g8),[[fx,y(s)]]),te("span",{class:F(y(n).be("button","inner")),style:Qe(y(s)===y(c)?y(f):{}),onKeydown:d[4]||(d[4]=lt(()=>{},["stop"]))},[Le(l.$slots,"default",{},()=>[Et(je(l.label),1)])],38)],2)}}});var rM=Ge(y8,[["__file","radio-button.vue"]]);const b8=We({id:{type:String,default:void 0},size:kn,disabled:Boolean,modelValue:{type:[String,Number,Boolean],default:void 0},fill:{type:String,default:""},label:{type:String,default:void 0},textColor:{type:String,default:""},name:{type:String,default:void 0},validateEvent:{type:Boolean,default:!0}}),_8=tM,S8=["id","aria-label","aria-labelledby"],w8=se({name:"ElRadioGroup"}),C8=se({...w8,props:b8,emits:_8,setup(t,{emit:e}){const n=t,i=Ve("radio"),r=Jn(),a=Y(),{formItem:u}=li(),{inputId:s,isLabeledByFormItem:o}=Mr(n,{formItemContext:u}),c=l=>{e(_t,l),it(()=>e("change",l))};ht(()=>{const l=a.value.querySelectorAll("[type=radio]"),d=l[0];!Array.from(l).some(h=>h.checked)&&d&&(d.tabIndex=0)});const f=P(()=>n.name||r.value);return Mt(nM,$t({...Wn(n),changeEvent:c,name:f})),Be(()=>n.modelValue,()=>{n.validateEvent&&(u==null||u.validate("change").catch(l=>void 0))}),(l,d)=>(L(),Q("div",{id:y(s),ref_key:"radioGroupRef",ref:a,class:F(y(i).b("group")),role:"radiogroup","aria-label":y(o)?void 0:l.label||"radio-group","aria-labelledby":y(o)?y(u).labelId:void 0},[Le(l.$slots,"default")],10,S8))}});var sM=Ge(C8,[["__file","radio-group.vue"]]);const oM=gt(p8,{RadioButton:rM,RadioGroup:sM}),x8=hn(sM),T8=hn(rM);var E8=se({name:"NodeContent",setup(){return{ns:Ve("cascader-node")}},render(){const{ns:t}=this,{node:e,panel:n}=this.$parent,{data:i,label:r}=e,{renderLabelFn:a}=n;return rt("span",{class:t.e("label")},a?a({node:e,data:i}):r)}});const I0=Symbol(),M8=se({name:"ElCascaderNode",components:{ElCheckbox:lr,ElRadio:oM,NodeContent:E8,ElIcon:et,Check:Ku,Loading:So,ArrowRight:vi},props:{node:{type:Object,required:!0},menuId:String},emits:["expand"],setup(t,{emit:e}){const n=Je(I0),i=Ve("cascader-node"),r=P(()=>n.isHoverMenu),a=P(()=>n.config.multiple),u=P(()=>n.config.checkStrictly),s=P(()=>{var C;return(C=n.checkedNodes[0])==null?void 0:C.uid}),o=P(()=>t.node.isDisabled),c=P(()=>t.node.isLeaf),f=P(()=>u.value&&!c.value||!o.value),l=P(()=>h(n.expandingNode)),d=P(()=>u.value&&n.checkedNodes.some(h)),h=C=>{var x;const{level:M,uid:E}=t.node;return((x=C==null?void 0:C.pathNodes[M-1])==null?void 0:x.uid)===E},p=()=>{l.value||n.expandNode(t.node)},g=C=>{const{node:x}=t;C!==x.checked&&n.handleCheckChange(x,C)},m=()=>{n.lazyLoad(t.node,()=>{c.value||p()})},v=C=>{r.value&&(b(),!c.value&&e("expand",C))},b=()=>{const{node:C}=t;!f.value||C.loading||(C.loaded?p():m())},_=()=>{r.value&&!c.value||(c.value&&!o.value&&!u.value&&!a.value?w(!0):b())},S=C=>{u.value?(g(C),t.node.loaded&&p()):w(C)},w=C=>{t.node.loaded?(g(C),!u.value&&p()):m()};return{panel:n,isHoverMenu:r,multiple:a,checkStrictly:u,checkedNodeId:s,isDisabled:o,isLeaf:c,expandable:f,inExpandingPath:l,inCheckedPath:d,ns:i,handleHoverExpand:v,handleExpand:b,handleClick:_,handleCheck:w,handleSelectCheck:S}}}),A8=["id","aria-haspopup","aria-owns","aria-expanded","tabindex"],R8=te("span",null,null,-1);function P8(t,e,n,i,r,a){const u=pt("el-checkbox"),s=pt("el-radio"),o=pt("check"),c=pt("el-icon"),f=pt("node-content"),l=pt("loading"),d=pt("arrow-right");return L(),Q("li",{id:`${t.menuId}-${t.node.uid}`,role:"menuitem","aria-haspopup":!t.isLeaf,"aria-owns":t.isLeaf?null:t.menuId,"aria-expanded":t.inExpandingPath,tabindex:t.expandable?-1:void 0,class:F([t.ns.b(),t.ns.is("selectable",t.checkStrictly),t.ns.is("active",t.node.checked),t.ns.is("disabled",!t.expandable),t.inExpandingPath&&"in-active-path",t.inCheckedPath&&"in-checked-path"]),onMouseenter:e[2]||(e[2]=(...h)=>t.handleHoverExpand&&t.handleHoverExpand(...h)),onFocus:e[3]||(e[3]=(...h)=>t.handleHoverExpand&&t.handleHoverExpand(...h)),onClick:e[4]||(e[4]=(...h)=>t.handleClick&&t.handleClick(...h))},[Ee(" prefix "),t.multiple?(L(),Pe(u,{key:0,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:t.isDisabled,onClick:e[0]||(e[0]=lt(()=>{},["stop"])),"onUpdate:modelValue":t.handleSelectCheck},null,8,["model-value","indeterminate","disabled","onUpdate:modelValue"])):t.checkStrictly?(L(),Pe(s,{key:1,"model-value":t.checkedNodeId,label:t.node.uid,disabled:t.isDisabled,"onUpdate:modelValue":t.handleSelectCheck,onClick:e[1]||(e[1]=lt(()=>{},["stop"]))},{default:ve(()=>[Ee(`
        Add an empty element to avoid render label,
        do not use empty fragment here for https://github.com/vuejs/vue-next/pull/2485
      `),R8]),_:1},8,["model-value","label","disabled","onUpdate:modelValue"])):t.isLeaf&&t.node.checked?(L(),Pe(c,{key:2,class:F(t.ns.e("prefix"))},{default:ve(()=>[oe(o)]),_:1},8,["class"])):Ee("v-if",!0),Ee(" content "),oe(f),Ee(" postfix "),t.isLeaf?Ee("v-if",!0):(L(),Q(tt,{key:3},[t.node.loading?(L(),Pe(c,{key:0,class:F([t.ns.is("loading"),t.ns.e("postfix")])},{default:ve(()=>[oe(l)]),_:1},8,["class"])):(L(),Pe(c,{key:1,class:F(["arrow-right",t.ns.e("postfix")])},{default:ve(()=>[oe(d)]),_:1},8,["class"]))],64))],42,A8)}var O8=Ge(M8,[["render",P8],["__file","node.vue"]]);const k8=se({name:"ElCascaderMenu",components:{Loading:So,ElIcon:et,ElScrollbar:Es,ElCascaderNode:O8},props:{nodes:{type:Array,required:!0},index:{type:Number,required:!0}},setup(t){const e=mt(),n=Ve("cascader-menu"),{t:i}=Dt(),r=Jn();let a=null,u=null;const s=Je(I0),o=Y(null),c=P(()=>!t.nodes.length),f=P(()=>!s.initialLoaded),l=P(()=>`${r.value}-${t.index}`),d=m=>{a=m.target},h=m=>{if(!(!s.isHoverMenu||!a||!o.value))if(a.contains(m.target)){p();const v=e.vnode.el,{left:b}=v.getBoundingClientRect(),{offsetWidth:_,offsetHeight:S}=v,w=m.clientX-b,C=a.offsetTop,x=C+a.offsetHeight;o.value.innerHTML=`
          <path style="pointer-events: auto;" fill="transparent" d="M${w} ${C} L${_} 0 V${C} Z" />
          <path style="pointer-events: auto;" fill="transparent" d="M${w} ${x} L${_} ${S} V${x} Z" />
        `}else u||(u=window.setTimeout(g,s.config.hoverThreshold))},p=()=>{u&&(clearTimeout(u),u=null)},g=()=>{o.value&&(o.value.innerHTML="",p())};return{ns:n,panel:s,hoverZone:o,isEmpty:c,isLoading:f,menuId:l,t:i,handleExpand:d,handleMouseMove:h,clearHoverZone:g}}});function L8(t,e,n,i,r,a){const u=pt("el-cascader-node"),s=pt("loading"),o=pt("el-icon"),c=pt("el-scrollbar");return L(),Pe(c,{key:t.menuId,tag:"ul",role:"menu",class:F(t.ns.b()),"wrap-class":t.ns.e("wrap"),"view-class":[t.ns.e("list"),t.ns.is("empty",t.isEmpty)],onMousemove:t.handleMouseMove,onMouseleave:t.clearHoverZone},{default:ve(()=>{var f;return[(L(!0),Q(tt,null,Tt(t.nodes,l=>(L(),Pe(u,{key:l.uid,node:l,"menu-id":t.menuId,onExpand:t.handleExpand},null,8,["node","menu-id","onExpand"]))),128)),t.isLoading?(L(),Q("div",{key:0,class:F(t.ns.e("empty-text"))},[oe(o,{size:"14",class:F(t.ns.is("loading"))},{default:ve(()=>[oe(s)]),_:1},8,["class"]),Et(" "+je(t.t("el.cascader.loading")),1)],2)):t.isEmpty?(L(),Q("div",{key:1,class:F(t.ns.e("empty-text"))},je(t.t("el.cascader.noData")),3)):(f=t.panel)!=null&&f.isHoverMenu?(L(),Q("svg",{key:2,ref:"hoverZone",class:F(t.ns.e("hover-zone"))},null,2)):Ee("v-if",!0)]}),_:1},8,["class","wrap-class","view-class","onMousemove","onMouseleave"])}var I8=Ge(k8,[["render",L8],["__file","menu.vue"]]);let D8=0;const N8=t=>{const e=[t];let{parent:n}=t;for(;n;)e.unshift(n),n=n.parent;return e};let yg=class bg{constructor(e,n,i,r=!1){this.data=e,this.config=n,this.parent=i,this.root=r,this.uid=D8++,this.checked=!1,this.indeterminate=!1,this.loading=!1;const{value:a,label:u,children:s}=n,o=e[s],c=N8(this);this.level=r?0:i?i.level+1:1,this.value=e[a],this.label=e[u],this.pathNodes=c,this.pathValues=c.map(f=>f.value),this.pathLabels=c.map(f=>f.label),this.childrenData=o,this.children=(o||[]).map(f=>new bg(f,n,this)),this.loaded=!n.lazy||this.isLeaf||!Ki(o)}get isDisabled(){const{data:e,parent:n,config:i}=this,{disabled:r,checkStrictly:a}=i;return(at(r)?r(e,this):!!e[r])||!a&&(n==null?void 0:n.isDisabled)}get isLeaf(){const{data:e,config:n,childrenData:i,loaded:r}=this,{lazy:a,leaf:u}=n,s=at(u)?u(e,this):e[u];return xn(s)?a&&!r?!1:!(Array.isArray(i)&&i.length):!!s}get valueByOption(){return this.config.emitPath?this.pathValues:this.value}appendChild(e){const{childrenData:n,children:i}=this,r=new bg(e,this.config,this);return Array.isArray(n)?n.push(e):this.childrenData=[e],i.push(r),r}calcText(e,n){const i=e?this.pathLabels.join(n):this.label;return this.text=i,i}broadcast(e,...n){const i=`onParent${Ir(e)}`;this.children.forEach(r=>{r&&(r.broadcast(e,...n),r[i]&&r[i](...n))})}emit(e,...n){const{parent:i}=this,r=`onChild${Ir(e)}`;i&&(i[r]&&i[r](...n),i.emit(e,...n))}onParentCheck(e){this.isDisabled||this.setCheckState(e)}onChildCheck(){const{children:e}=this,n=e.filter(r=>!r.isDisabled),i=n.length?n.every(r=>r.checked):!1;this.setCheckState(i)}setCheckState(e){const n=this.children.length,i=this.children.reduce((r,a)=>{const u=a.checked?1:a.indeterminate?.5:0;return r+u},0);this.checked=this.loaded&&this.children.filter(r=>!r.isDisabled).every(r=>r.loaded&&r.checked)&&e,this.indeterminate=this.loaded&&i!==n&&i>0}doCheck(e){if(this.checked===e)return;const{checkStrictly:n,multiple:i}=this.config;n||!i?this.checked=e:(this.broadcast("check",e),this.setCheckState(e),this.emit("check"))}};const _g=(t,e)=>t.reduce((n,i)=>(i.isLeaf?n.push(i):(!e&&n.push(i),n=n.concat(_g(i.children,e))),n),[]);class yS{constructor(e,n){this.config=n;const i=(e||[]).map(r=>new yg(r,this.config));this.nodes=i,this.allNodes=_g(i,!1),this.leafNodes=_g(i,!0)}getNodes(){return this.nodes}getFlattedNodes(e){return e?this.leafNodes:this.allNodes}appendNode(e,n){const i=n?n.appendChild(e):new yg(e,this.config);n||this.nodes.push(i),this.allNodes.push(i),i.isLeaf&&this.leafNodes.push(i)}appendNodes(e,n){e.forEach(i=>this.appendNode(i,n))}getNodeByValue(e,n=!1){return!e&&e!==0?null:this.getFlattedNodes(n).find(r=>si(r.value,e)||si(r.pathValues,e))||null}getSameNode(e){return e&&this.getFlattedNodes(!1).find(({value:i,level:r})=>si(e.value,i)&&e.level===r)||null}}const aM=We({modelValue:{type:we([Number,String,Array])},options:{type:we(Array),default:()=>[]},props:{type:we(Object),default:()=>({})}}),F8={expandTrigger:"click",multiple:!1,checkStrictly:!1,emitPath:!0,lazy:!1,lazyLoad:Gt,value:"value",label:"label",children:"children",leaf:"leaf",disabled:"disabled",hoverThreshold:500},B8=t=>P(()=>({...F8,...t.props})),bS=t=>{if(!t)return 0;const e=t.id.split("-");return Number(e[e.length-2])},U8=t=>{if(!t)return;const e=t.querySelector("input");e?e.click():vx(t)&&t.click()},V8=(t,e)=>{const n=e.slice(0),i=n.map(a=>a.uid),r=t.reduce((a,u)=>{const s=i.indexOf(u.uid);return s>-1&&(a.push(u),n.splice(s,1),i.splice(s,1)),a},[]);return r.push(...n),r},$8=se({name:"ElCascaderPanel",components:{ElCascaderMenu:I8},props:{...aM,border:{type:Boolean,default:!0},renderLabel:Function},emits:[_t,rn,"close","expand-change"],setup(t,{emit:e,slots:n}){let i=!1;const r=Ve("cascader"),a=B8(t);let u=null;const s=Y(!0),o=Y([]),c=Y(null),f=Y([]),l=Y(null),d=Y([]),h=P(()=>a.value.expandTrigger==="hover"),p=P(()=>t.renderLabel||n.default),g=()=>{const{options:I}=t,$=a.value;i=!1,u=new yS(I,$),f.value=[u.getNodes()],$.lazy&&Ki(t.options)?(s.value=!1,m(void 0,H=>{H&&(u=new yS(H,$),f.value=[u.getNodes()]),s.value=!0,M(!1,!0)})):M(!1,!0)},m=(I,$)=>{const H=a.value;I=I||new yg({},H,void 0,!0),I.loading=!0;const B=N=>{const k=I,D=k.root?null:k;N&&(u==null||u.appendNodes(N,D)),k.loading=!1,k.loaded=!0,k.childrenData=k.childrenData||[],$&&$(N)};H.lazyLoad(I,B)},v=(I,$)=>{var H;const{level:B}=I,N=f.value.slice(0,B);let k;I.isLeaf?k=I.pathNodes[B-2]:(k=I,N.push(I.children)),((H=l.value)==null?void 0:H.uid)!==(k==null?void 0:k.uid)&&(l.value=I,f.value=N,!$&&e("expand-change",(I==null?void 0:I.pathValues)||[]))},b=(I,$,H=!0)=>{const{checkStrictly:B,multiple:N}=a.value,k=d.value[0];i=!0,!N&&(k==null||k.doCheck(!1)),I.doCheck($),x(),H&&!N&&!B&&e("close"),!H&&!N&&!B&&_(I)},_=I=>{I&&(I=I.parent,_(I),I&&v(I))},S=I=>u==null?void 0:u.getFlattedNodes(I),w=I=>{var $;return($=S(I))==null?void 0:$.filter(H=>H.checked!==!1)},C=()=>{d.value.forEach(I=>I.doCheck(!1)),x(),f.value=f.value.slice(0,1),l.value=null,e("expand-change",[])},x=()=>{var I;const{checkStrictly:$,multiple:H}=a.value,B=d.value,N=w(!$),k=V8(B,N),D=k.map(T=>T.valueByOption);d.value=k,c.value=H?D:(I=D[0])!=null?I:null},M=(I=!1,$=!1)=>{const{modelValue:H}=t,{lazy:B,multiple:N,checkStrictly:k}=a.value,D=!k;if(!(!s.value||i||!$&&si(H,c.value)))if(B&&!I){const R=v_(DF(Fi(H))).map(V=>u==null?void 0:u.getNodeByValue(V)).filter(V=>!!V&&!V.loaded&&!V.loading);R.length?R.forEach(V=>{m(V,()=>M(!1,$))}):M(!0,$)}else{const T=N?Fi(H):[H],R=v_(T.map(V=>u==null?void 0:u.getNodeByValue(V,D)));E(R,$),c.value=qf(H)}},E=(I,$=!0)=>{const{checkStrictly:H}=a.value,B=d.value,N=I.filter(T=>!!T&&(H||T.isLeaf)),k=u==null?void 0:u.getSameNode(l.value),D=$&&k||N[0];D?D.pathNodes.forEach(T=>v(T,!0)):l.value=null,B.forEach(T=>T.doCheck(!1)),$t(N).forEach(T=>T.doCheck(!0)),d.value=N,it(A)},A=()=>{Ot&&o.value.forEach(I=>{const $=I==null?void 0:I.$el;if($){const H=$.querySelector(`.${r.namespace.value}-scrollbar__wrap`),B=$.querySelector(`.${r.b("node")}.${r.is("active")}`)||$.querySelector(`.${r.b("node")}.in-active-path`);hT(H,B)}})},O=I=>{const $=I.target,{code:H}=I;switch(H){case nt.up:case nt.down:{I.preventDefault();const B=H===nt.up?-1:1;hf(yx($,B,`.${r.b("node")}[tabindex="-1"]`));break}case nt.left:{I.preventDefault();const B=o.value[bS($)-1],N=B==null?void 0:B.$el.querySelector(`.${r.b("node")}[aria-expanded="true"]`);hf(N);break}case nt.right:{I.preventDefault();const B=o.value[bS($)+1],N=B==null?void 0:B.$el.querySelector(`.${r.b("node")}[tabindex="-1"]`);hf(N);break}case nt.enter:U8($);break}};return Mt(I0,$t({config:a,expandingNode:l,checkedNodes:d,isHoverMenu:h,initialLoaded:s,renderLabelFn:p,lazyLoad:m,expandNode:v,handleCheckChange:b})),Be([a,()=>t.options],g,{deep:!0,immediate:!0}),Be(()=>t.modelValue,()=>{i=!1,M()},{deep:!0}),Be(()=>c.value,I=>{si(I,t.modelValue)||(e(_t,I),e(rn,I))}),U1(()=>o.value=[]),ht(()=>!Ki(t.modelValue)&&M()),{ns:r,menuList:o,menus:f,checkedNodes:d,handleKeyDown:O,handleCheckChange:b,getFlattedNodes:S,getCheckedNodes:w,clearCheckedNodes:C,calculateCheckedValue:x,scrollToExpandingNode:A}}});function H8(t,e,n,i,r,a){const u=pt("el-cascader-menu");return L(),Q("div",{class:F([t.ns.b("panel"),t.ns.is("bordered",t.border)]),onKeydown:e[0]||(e[0]=(...s)=>t.handleKeyDown&&t.handleKeyDown(...s))},[(L(!0),Q(tt,null,Tt(t.menus,(s,o)=>(L(),Pe(u,{key:o,ref_for:!0,ref:c=>t.menuList[o]=c,index:o,nodes:[...s]},null,8,["index","nodes"]))),128))],34)}var Sf=Ge($8,[["render",H8],["__file","index.vue"]]);Sf.install=t=>{t.component(Sf.name,Sf)};const lM=Sf,z8=lM,Xh=We({type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"},closable:Boolean,disableTransitions:Boolean,hit:Boolean,color:String,size:{type:String,values:zr},effect:{type:String,values:["dark","light","plain"],default:"light"},round:Boolean}),W8={close:t=>t instanceof MouseEvent,click:t=>t instanceof MouseEvent},G8=se({name:"ElTag"}),j8=se({...G8,props:Xh,emits:W8,setup(t,{emit:e}){const n=t,i=Mn(),r=Ve("tag"),a=P(()=>{const{type:o,hit:c,effect:f,closable:l,round:d}=n;return[r.b(),r.is("closable",l),r.m(o||"primary"),r.m(i.value),r.m(f),r.is("hit",c),r.is("round",d)]}),u=o=>{e("close",o)},s=o=>{e("click",o)};return(o,c)=>o.disableTransitions?(L(),Q("span",{key:0,class:F(y(a)),style:Qe({backgroundColor:o.color}),onClick:s},[te("span",{class:F(y(r).e("content"))},[Le(o.$slots,"default")],2),o.closable?(L(),Pe(y(et),{key:0,class:F(y(r).e("close")),onClick:lt(u,["stop"])},{default:ve(()=>[oe(y(Cr))]),_:1},8,["class","onClick"])):Ee("v-if",!0)],6)):(L(),Pe(An,{key:1,name:`${y(r).namespace.value}-zoom-in-center`,appear:""},{default:ve(()=>[te("span",{class:F(y(a)),style:Qe({backgroundColor:o.color}),onClick:s},[te("span",{class:F(y(r).e("content"))},[Le(o.$slots,"default")],2),o.closable?(L(),Pe(y(et),{key:0,class:F(y(r).e("close")),onClick:lt(u,["stop"])},{default:ve(()=>[oe(y(Cr))]),_:1},8,["class","onClick"])):Ee("v-if",!0)],6)]),_:3},8,["name"]))}});var X8=Ge(j8,[["__file","tag.vue"]]);const Tu=gt(X8),K8=We({...aM,size:kn,placeholder:String,disabled:Boolean,clearable:Boolean,filterable:Boolean,filterMethod:{type:we(Function),default:(t,e)=>t.text.includes(e)},separator:{type:String,default:" / "},showAllLevels:{type:Boolean,default:!0},collapseTags:Boolean,maxCollapseTags:{type:Number,default:1},collapseTagsTooltip:{type:Boolean,default:!1},debounce:{type:Number,default:300},beforeFilter:{type:we(Function),default:()=>!0},popperClass:{type:String,default:""},teleported:Hn.teleported,tagType:{...Xh.type,default:"info"},validateEvent:{type:Boolean,default:!0},...ac}),Y8={[_t]:t=>!0,[rn]:t=>!0,focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent,visibleChange:t=>Tn(t),expandChange:t=>!!t,removeTag:t=>!!t},q8={key:0},Z8=["placeholder","onKeydown"],J8=["onClick"],Q8="ElCascader",e6=se({name:Q8}),t6=se({...e6,props:K8,emits:Y8,setup(t,{expose:e,emit:n}){const i=t,r={modifiers:[{name:"arrowPosition",enabled:!0,phase:"main",fn:({state:ie})=>{const{modifiersData:ge,placement:De}=ie;["right","left","bottom","top"].includes(De)||(ge.arrow.x=35)},requires:["arrow"]}]},a=Sa();let u=0,s=0;const o=Ve("cascader"),c=Ve("input"),{t:f}=Dt(),{form:l,formItem:d}=li(),{valueOnClear:h}=zh(i),p=Y(null),g=Y(null),m=Y(null),v=Y(null),b=Y(null),_=Y(!1),S=Y(!1),w=Y(!1),C=Y(!1),x=Y(""),M=Y(""),E=Y([]),A=Y([]),O=Y([]),I=Y(!1),$=P(()=>a.style),H=P(()=>i.disabled||(l==null?void 0:l.disabled)),B=P(()=>i.placeholder||f("el.cascader.placeholder")),N=P(()=>M.value||E.value.length>0||I.value?"":B.value),k=Mn(),D=P(()=>["small"].includes(k.value)?"small":"default"),T=P(()=>!!i.props.multiple),R=P(()=>!i.filterable||T.value),V=P(()=>T.value?M.value:x.value),U=P(()=>{var ie;return((ie=v.value)==null?void 0:ie.checkedNodes)||[]}),X=P(()=>!i.clearable||H.value||w.value||!S.value?!1:!!U.value.length),W=P(()=>{const{showAllLevels:ie,separator:ge}=i,De=U.value;return De.length?T.value?"":De[0].calcText(ie,ge):""}),j=P(()=>(d==null?void 0:d.validateState)||""),K=P({get(){return qf(i.modelValue)},set(ie){const ge=ie||h.value;n(_t,ge),n(rn,ge),i.validateEvent&&(d==null||d.validate("change").catch(De=>void 0))}}),z=P(()=>[o.b(),o.m(k.value),o.is("disabled",H.value),a.class]),ee=P(()=>[c.e("icon"),"icon-arrow-down",o.is("reverse",_.value)]),ue=P(()=>o.is("focus",_.value||C.value)),ne=P(()=>{var ie,ge;return(ge=(ie=p.value)==null?void 0:ie.popperRef)==null?void 0:ge.contentRef}),le=ie=>{var ge,De,me;H.value||(ie=ie??!_.value,ie!==_.value&&(_.value=ie,(De=(ge=g.value)==null?void 0:ge.input)==null||De.setAttribute("aria-expanded",`${ie}`),ie?(Me(),it((me=v.value)==null?void 0:me.scrollToExpandingNode)):i.filterable&&de(),n("visibleChange",ie)))},Me=()=>{it(()=>{var ie;(ie=p.value)==null||ie.updatePopper()})},q=()=>{w.value=!1},J=ie=>{const{showAllLevels:ge,separator:De}=i;return{node:ie,key:ie.uid,text:ie.calcText(ge,De),hitState:!1,closable:!H.value&&!ie.isDisabled,isCollapseTag:!1}},ce=ie=>{var ge;const De=ie.node;De.doCheck(!1),(ge=v.value)==null||ge.calculateCheckedValue(),n("removeTag",De.valueByOption)},pe=()=>{if(!T.value)return;const ie=U.value,ge=[],De=[];if(ie.forEach(me=>De.push(J(me))),A.value=De,ie.length){ie.slice(0,i.maxCollapseTags).forEach(be=>ge.push(J(be)));const me=ie.slice(i.maxCollapseTags),Xe=me.length;Xe&&(i.collapseTags?ge.push({key:-1,text:`+ ${Xe}`,closable:!1,isCollapseTag:!0}):me.forEach(be=>ge.push(J(be))))}E.value=ge},re=()=>{var ie,ge;const{filterMethod:De,showAllLevels:me,separator:Xe}=i,be=(ge=(ie=v.value)==null?void 0:ie.getFlattedNodes(!i.props.checkStrictly))==null?void 0:ge.filter(He=>He.isDisabled?!1:(He.calcText(me,Xe),De(He,V.value)));T.value&&(E.value.forEach(He=>{He.hitState=!1}),A.value.forEach(He=>{He.hitState=!1})),w.value=!0,O.value=be,Me()},he=()=>{var ie;let ge;w.value&&b.value?ge=b.value.$el.querySelector(`.${o.e("suggestion-item")}`):ge=(ie=v.value)==null?void 0:ie.$el.querySelector(`.${o.b("node")}[tabindex="-1"]`),ge&&(ge.focus(),!w.value&&ge.click())},Ce=()=>{var ie,ge;const De=(ie=g.value)==null?void 0:ie.input,me=m.value,Xe=(ge=b.value)==null?void 0:ge.$el;if(!(!Ot||!De)){if(Xe){const be=Xe.querySelector(`.${o.e("suggestion-list")}`);be.style.minWidth=`${De.offsetWidth}px`}if(me){const{offsetHeight:be}=me,He=E.value.length>0?`${Math.max(be+6,u)}px`:`${u}px`;De.style.height=He,Me()}}},Oe=ie=>{var ge;return(ge=v.value)==null?void 0:ge.getCheckedNodes(ie)},ke=ie=>{Me(),n("expandChange",ie)},G=ie=>{var ge;const De=(ge=ie.target)==null?void 0:ge.value;if(ie.type==="compositionend")I.value=!1,it(()=>ae(De));else{const me=De[De.length-1]||"";I.value=!s0(me)}},Z=ie=>{if(!I.value)switch(ie.code){case nt.enter:le();break;case nt.down:le(!0),it(he),ie.preventDefault();break;case nt.esc:_.value===!0&&(ie.preventDefault(),ie.stopPropagation(),le(!1));break;case nt.tab:le(!1);break}},_e=()=>{var ie;(ie=v.value)==null||ie.clearCheckedNodes(),!_.value&&i.filterable&&de(),le(!1)},de=()=>{const{value:ie}=W;x.value=ie,M.value=ie},Re=ie=>{var ge,De;const{checked:me}=ie;T.value?(ge=v.value)==null||ge.handleCheckChange(ie,!me,!1):(!me&&((De=v.value)==null||De.handleCheckChange(ie,!0,!1)),le(!1))},Fe=ie=>{const ge=ie.target,{code:De}=ie;switch(De){case nt.up:case nt.down:{const me=De===nt.up?-1:1;hf(yx(ge,me,`.${o.e("suggestion-item")}[tabindex="-1"]`));break}case nt.enter:ge.click();break}},ye=()=>{const ie=E.value,ge=ie[ie.length-1];s=M.value?0:s+1,!(!ge||!s||i.collapseTags&&ie.length>1)&&(ge.hitState?ce(ge):ge.hitState=!0)},Ne=ie=>{const ge=ie.target,De=o.e("search-input");ge.className===De&&(C.value=!0),n("focus",ie)},Ae=ie=>{C.value=!1,n("blur",ie)},Te=Oi(()=>{const{value:ie}=V;if(!ie)return;const ge=i.beforeFilter(ie);ou(ge)?ge.then(re).catch(()=>{}):ge!==!1?re():q()},i.debounce),ae=(ie,ge)=>{!_.value&&le(!0),!(ge!=null&&ge.isComposing)&&(ie?Te():q())},fe=ie=>Number.parseFloat(tk(c.cssVarName("input-height"),ie).value)-2;return Be(w,Me),Be([U,H],pe),Be(E,()=>{it(()=>Ce())}),Be(k,async()=>{await it();const ie=g.value.input;u=fe(ie)||u,Ce()}),Be(W,de,{immediate:!0}),ht(()=>{const ie=g.value.input,ge=fe(ie);u=ie.offsetHeight||ge,dn(ie,Ce)}),e({getCheckedNodes:Oe,cascaderPanelRef:v,togglePopperVisible:le,contentRef:ne}),(ie,ge)=>(L(),Pe(y(ai),{ref_key:"tooltipRef",ref:p,visible:_.value,teleported:ie.teleported,"popper-class":[y(o).e("dropdown"),ie.popperClass],"popper-options":r,"fallback-placements":["bottom-start","bottom","top-start","top","right","left"],"stop-popper-mouse-event":!1,"gpu-acceleration":!1,placement:"bottom-start",transition:`${y(o).namespace.value}-zoom-in-top`,effect:"light",pure:"",persistent:"",onHide:q},{default:ve(()=>[ft((L(),Q("div",{class:F(y(z)),style:Qe(y($)),onClick:ge[5]||(ge[5]=()=>le(y(R)?void 0:!0)),onKeydown:Z,onMouseenter:ge[6]||(ge[6]=De=>S.value=!0),onMouseleave:ge[7]||(ge[7]=De=>S.value=!1)},[oe(y(ri),{ref_key:"input",ref:g,modelValue:x.value,"onUpdate:modelValue":ge[1]||(ge[1]=De=>x.value=De),placeholder:y(N),readonly:y(R),disabled:y(H),"validate-event":!1,size:y(k),class:F(y(ue)),tabindex:y(T)&&ie.filterable&&!y(H)?-1:void 0,onCompositionstart:G,onCompositionupdate:G,onCompositionend:G,onFocus:Ne,onBlur:Ae,onInput:ae},{suffix:ve(()=>[y(X)?(L(),Pe(y(et),{key:"clear",class:F([y(c).e("icon"),"icon-circle-close"]),onClick:lt(_e,["stop"])},{default:ve(()=>[oe(y(_o))]),_:1},8,["class","onClick"])):(L(),Pe(y(et),{key:"arrow-down",class:F(y(ee)),onClick:ge[0]||(ge[0]=lt(De=>le(),["stop"]))},{default:ve(()=>[oe(y(xs))]),_:1},8,["class"]))]),_:1},8,["modelValue","placeholder","readonly","disabled","size","class","tabindex"]),y(T)?(L(),Q("div",{key:0,ref_key:"tagWrapper",ref:m,class:F([y(o).e("tags"),y(o).is("validate",!!y(j))])},[(L(!0),Q(tt,null,Tt(E.value,De=>(L(),Pe(y(Tu),{key:De.key,type:ie.tagType,size:y(D),hit:De.hitState,closable:De.closable,"disable-transitions":"",onClose:me=>ce(De)},{default:ve(()=>[De.isCollapseTag===!1?(L(),Q("span",q8,je(De.text),1)):(L(),Pe(y(ai),{key:1,disabled:_.value||!ie.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],placement:"bottom",effect:"light"},{default:ve(()=>[te("span",null,je(De.text),1)]),content:ve(()=>[te("div",{class:F(y(o).e("collapse-tags"))},[(L(!0),Q(tt,null,Tt(A.value.slice(ie.maxCollapseTags),(me,Xe)=>(L(),Q("div",{key:Xe,class:F(y(o).e("collapse-tag"))},[(L(),Pe(y(Tu),{key:me.key,class:"in-tooltip",type:ie.tagType,size:y(D),hit:me.hitState,closable:me.closable,"disable-transitions":"",onClose:be=>ce(me)},{default:ve(()=>[te("span",null,je(me.text),1)]),_:2},1032,["type","size","hit","closable","onClose"]))],2))),128))],2)]),_:2},1032,["disabled"]))]),_:2},1032,["type","size","hit","closable","onClose"]))),128)),ie.filterable&&!y(H)?ft((L(),Q("input",{key:0,"onUpdate:modelValue":ge[2]||(ge[2]=De=>M.value=De),type:"text",class:F(y(o).e("search-input")),placeholder:y(W)?"":y(B),onInput:ge[3]||(ge[3]=De=>ae(M.value,De)),onClick:ge[4]||(ge[4]=lt(De=>le(!0),["stop"])),onKeydown:Xt(ye,["delete"]),onCompositionstart:G,onCompositionupdate:G,onCompositionend:G,onFocus:Ne,onBlur:Ae},null,42,Z8)),[[Ov,M.value]]):Ee("v-if",!0)],2)):Ee("v-if",!0)],38)),[[y(ys),()=>le(!1),y(ne)]])]),content:ve(()=>[ft(oe(y(lM),{ref_key:"cascaderPanelRef",ref:v,modelValue:y(K),"onUpdate:modelValue":ge[8]||(ge[8]=De=>ln(K)?K.value=De:null),options:ie.options,props:i.props,border:!1,"render-label":ie.$slots.default,onExpandChange:ke,onClose:ge[9]||(ge[9]=De=>ie.$nextTick(()=>le(!1)))},null,8,["modelValue","options","props","render-label"]),[[Nt,!w.value]]),ie.filterable?ft((L(),Pe(y(Es),{key:0,ref_key:"suggestionPanel",ref:b,tag:"ul",class:F(y(o).e("suggestion-panel")),"view-class":y(o).e("suggestion-list"),onKeydown:Fe},{default:ve(()=>[O.value.length?(L(!0),Q(tt,{key:0},Tt(O.value,De=>(L(),Q("li",{key:De.uid,class:F([y(o).e("suggestion-item"),y(o).is("checked",De.checked)]),tabindex:-1,onClick:me=>Re(De)},[te("span",null,je(De.text),1),De.checked?(L(),Pe(y(et),{key:0},{default:ve(()=>[oe(y(Ku))]),_:1})):Ee("v-if",!0)],10,J8))),128)):Le(ie.$slots,"empty",{key:1},()=>[te("li",{class:F(y(o).e("empty-text"))},je(y(f)("el.cascader.noMatch")),3)])]),_:3},8,["class","view-class"])),[[Nt,w.value]]):Ee("v-if",!0)]),_:3},8,["visible","teleported","popper-class","transition"]))}});var wf=Ge(t6,[["__file","cascader.vue"]]);wf.install=t=>{t.component(wf.name,wf)};const n6=wf,i6=n6,r6=We({checked:{type:Boolean,default:!1},type:{type:String,values:["primary","success","info","warning","danger"],default:"primary"}}),s6={"update:checked":t=>Tn(t),[rn]:t=>Tn(t)},o6=se({name:"ElCheckTag"}),a6=se({...o6,props:r6,emits:s6,setup(t,{emit:e}){const n=t,i=Ve("check-tag"),r=P(()=>[i.b(),i.is("checked",n.checked),i.m(n.type||"primary")]),a=()=>{const u=!n.checked;e(rn,u),e("update:checked",u)};return(u,s)=>(L(),Q("span",{class:F(y(r)),onClick:a},[Le(u.$slots,"default")],2))}});var l6=Ge(a6,[["__file","check-tag.vue"]]);const c6=gt(l6),cM=Symbol("rowContextKey"),u6=["start","center","end","space-around","space-between","space-evenly"],d6=["top","middle","bottom"],f6=We({tag:{type:String,default:"div"},gutter:{type:Number,default:0},justify:{type:String,values:u6,default:"start"},align:{type:String,values:d6}}),h6=se({name:"ElRow"}),p6=se({...h6,props:f6,setup(t){const e=t,n=Ve("row"),i=P(()=>e.gutter);Mt(cM,{gutter:i});const r=P(()=>{const u={};return e.gutter&&(u.marginRight=u.marginLeft=`-${e.gutter/2}px`),u}),a=P(()=>[n.b(),n.is(`justify-${e.justify}`,e.justify!=="start"),n.is(`align-${e.align}`,!!e.align)]);return(u,s)=>(L(),Pe(wt(u.tag),{class:F(y(a)),style:Qe(y(r))},{default:ve(()=>[Le(u.$slots,"default")]),_:3},8,["class","style"]))}});var m6=Ge(p6,[["__file","row.vue"]]);const g6=gt(m6),v6=We({tag:{type:String,default:"div"},span:{type:Number,default:24},offset:{type:Number,default:0},pull:{type:Number,default:0},push:{type:Number,default:0},xs:{type:we([Number,Object]),default:()=>fn({})},sm:{type:we([Number,Object]),default:()=>fn({})},md:{type:we([Number,Object]),default:()=>fn({})},lg:{type:we([Number,Object]),default:()=>fn({})},xl:{type:we([Number,Object]),default:()=>fn({})}}),y6=se({name:"ElCol"}),b6=se({...y6,props:v6,setup(t){const e=t,{gutter:n}=Je(cM,{gutter:P(()=>0)}),i=Ve("col"),r=P(()=>{const u={};return n.value&&(u.paddingLeft=u.paddingRight=`${n.value/2}px`),u}),a=P(()=>{const u=[];return["span","offset","pull","push"].forEach(c=>{const f=e[c];ot(f)&&(c==="span"?u.push(i.b(`${e[c]}`)):f>0&&u.push(i.b(`${c}-${e[c]}`)))}),["xs","sm","md","lg","xl"].forEach(c=>{ot(e[c])?u.push(i.b(`${c}-${e[c]}`)):bt(e[c])&&Object.entries(e[c]).forEach(([f,l])=>{u.push(f!=="span"?i.b(`${c}-${f}-${l}`):i.b(`${c}-${l}`))})}),n.value&&u.push(i.is("guttered")),[i.b(),u]});return(u,s)=>(L(),Pe(wt(u.tag),{class:F(y(a)),style:Qe(y(r))},{default:ve(()=>[Le(u.$slots,"default")]),_:3},8,["class","style"]))}});var _6=Ge(b6,[["__file","col.vue"]]);const S6=gt(_6),_S=t=>ot(t)||ct(t)||qe(t),w6=We({accordion:Boolean,modelValue:{type:we([Array,String,Number]),default:()=>fn([])}}),C6={[_t]:_S,[rn]:_S},uM=Symbol("collapseContextKey"),x6=(t,e)=>{const n=Y(ca(t.modelValue)),i=a=>{n.value=a;const u=t.accordion?n.value[0]:n.value;e(_t,u),e(rn,u)},r=a=>{if(t.accordion)i([n.value[0]===a?"":a]);else{const u=[...n.value],s=u.indexOf(a);s>-1?u.splice(s,1):u.push(a),i(u)}};return Be(()=>t.modelValue,()=>n.value=ca(t.modelValue),{deep:!0}),Mt(uM,{activeNames:n,handleItemClick:r}),{activeNames:n,setActiveNames:i}},T6=()=>{const t=Ve("collapse");return{rootKls:P(()=>t.b())}},E6=se({name:"ElCollapse"}),M6=se({...E6,props:w6,emits:C6,setup(t,{expose:e,emit:n}){const i=t,{activeNames:r,setActiveNames:a}=x6(i,n),{rootKls:u}=T6();return e({activeNames:r,setActiveNames:a}),(s,o)=>(L(),Q("div",{class:F(y(u))},[Le(s.$slots,"default")],2))}});var A6=Ge(M6,[["__file","collapse.vue"]]);const R6=se({name:"ElCollapseTransition"}),P6=se({...R6,setup(t){const e=Ve("collapse-transition"),n=r=>{r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom},i={beforeEnter(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.style.height&&(r.dataset.elExistsHeight=r.style.height),r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0},enter(r){requestAnimationFrame(()=>{r.dataset.oldOverflow=r.style.overflow,r.dataset.elExistsHeight?r.style.maxHeight=r.dataset.elExistsHeight:r.scrollHeight!==0?r.style.maxHeight=`${r.scrollHeight}px`:r.style.maxHeight=0,r.style.paddingTop=r.dataset.oldPaddingTop,r.style.paddingBottom=r.dataset.oldPaddingBottom,r.style.overflow="hidden"})},afterEnter(r){r.style.maxHeight="",r.style.overflow=r.dataset.oldOverflow},enterCancelled(r){n(r)},beforeLeave(r){r.dataset||(r.dataset={}),r.dataset.oldPaddingTop=r.style.paddingTop,r.dataset.oldPaddingBottom=r.style.paddingBottom,r.dataset.oldOverflow=r.style.overflow,r.style.maxHeight=`${r.scrollHeight}px`,r.style.overflow="hidden"},leave(r){r.scrollHeight!==0&&(r.style.maxHeight=0,r.style.paddingTop=0,r.style.paddingBottom=0)},afterLeave(r){n(r)},leaveCancelled(r){n(r)}};return(r,a)=>(L(),Pe(An,xt({name:y(e).b()},_P(i)),{default:ve(()=>[Le(r.$slots,"default")]),_:3},16,["name"]))}});var Cf=Ge(P6,[["__file","collapse-transition.vue"]]);Cf.install=t=>{t.component(Cf.name,Cf)};const Kh=Cf,O6=Kh,k6=We({title:{type:String,default:""},name:{type:we([String,Number]),default:void 0},disabled:Boolean}),L6=t=>{const e=Je(uM),{namespace:n}=Ve("collapse"),i=Y(!1),r=Y(!1),a=y0(),u=P(()=>a.current++),s=P(()=>{var d;return(d=t.name)!=null?d:`${n.value}-id-${a.prefix}-${y(u)}`}),o=P(()=>e==null?void 0:e.activeNames.value.includes(y(s)));return{focusing:i,id:u,isActive:o,handleFocus:()=>{setTimeout(()=>{r.value?r.value=!1:i.value=!0},50)},handleHeaderClick:()=>{t.disabled||(e==null||e.handleItemClick(y(s)),i.value=!1,r.value=!0)},handleEnterClick:()=>{e==null||e.handleItemClick(y(s))}}},I6=(t,{focusing:e,isActive:n,id:i})=>{const r=Ve("collapse"),a=P(()=>[r.b("item"),r.is("active",y(n)),r.is("disabled",t.disabled)]),u=P(()=>[r.be("item","header"),r.is("active",y(n)),{focusing:y(e)&&!t.disabled}]),s=P(()=>[r.be("item","arrow"),r.is("active",y(n))]),o=P(()=>r.be("item","wrap")),c=P(()=>r.be("item","content")),f=P(()=>r.b(`content-${y(i)}`)),l=P(()=>r.b(`head-${y(i)}`));return{arrowKls:s,headKls:u,rootKls:a,itemWrapperKls:o,itemContentKls:c,scopedContentId:f,scopedHeadId:l}},D6=["id","aria-expanded","aria-controls","aria-describedby","tabindex"],N6=["id","aria-hidden","aria-labelledby"],F6=se({name:"ElCollapseItem"}),B6=se({...F6,props:k6,setup(t,{expose:e}){const n=t,{focusing:i,id:r,isActive:a,handleFocus:u,handleHeaderClick:s,handleEnterClick:o}=L6(n),{arrowKls:c,headKls:f,rootKls:l,itemWrapperKls:d,itemContentKls:h,scopedContentId:p,scopedHeadId:g}=I6(n,{focusing:i,isActive:a,id:r});return e({isActive:a}),(m,v)=>(L(),Q("div",{class:F(y(l))},[te("button",{id:y(g),class:F(y(f)),"aria-expanded":y(a),"aria-controls":y(p),"aria-describedby":y(p),tabindex:m.disabled?-1:0,type:"button",onClick:v[0]||(v[0]=(...b)=>y(s)&&y(s)(...b)),onKeydown:v[1]||(v[1]=Xt(lt((...b)=>y(o)&&y(o)(...b),["stop","prevent"]),["space","enter"])),onFocus:v[2]||(v[2]=(...b)=>y(u)&&y(u)(...b)),onBlur:v[3]||(v[3]=b=>i.value=!1)},[Le(m.$slots,"title",{},()=>[Et(je(m.title),1)]),oe(y(et),{class:F(y(c))},{default:ve(()=>[oe(y(vi))]),_:1},8,["class"])],42,D6),oe(y(Kh),null,{default:ve(()=>[ft(te("div",{id:y(p),role:"region",class:F(y(d)),"aria-hidden":!y(a),"aria-labelledby":y(g)},[te("div",{class:F(y(h))},[Le(m.$slots,"default")],2)],10,N6),[[Nt,y(a)]])]),_:3})],2))}});var dM=Ge(B6,[["__file","collapse-item.vue"]]);const U6=gt(A6,{CollapseItem:dM}),V6=hn(dM),$6=We({color:{type:we(Object),required:!0},vertical:{type:Boolean,default:!1}});let Lp=!1;function Eu(t,e){if(!Ot)return;const n=function(a){var u;(u=e.drag)==null||u.call(e,a)},i=function(a){var u;document.removeEventListener("mousemove",n),document.removeEventListener("mouseup",i),document.removeEventListener("touchmove",n),document.removeEventListener("touchend",i),document.onselectstart=null,document.ondragstart=null,Lp=!1,(u=e.end)==null||u.call(e,a)},r=function(a){var u;Lp||(a.preventDefault(),document.onselectstart=()=>!1,document.ondragstart=()=>!1,document.addEventListener("mousemove",n),document.addEventListener("mouseup",i),document.addEventListener("touchmove",n),document.addEventListener("touchend",i),Lp=!0,(u=e.start)==null||u.call(e,a))};t.addEventListener("mousedown",r),t.addEventListener("touchstart",r)}const H6=t=>{const e=mt(),n=an(),i=an();function r(u){u.target!==n.value&&a(u)}function a(u){if(!i.value||!n.value)return;const o=e.vnode.el.getBoundingClientRect(),{clientX:c,clientY:f}=Iv(u);if(t.vertical){let l=f-o.top;l=Math.max(n.value.offsetHeight/2,l),l=Math.min(l,o.height-n.value.offsetHeight/2),t.color.set("alpha",Math.round((l-n.value.offsetHeight/2)/(o.height-n.value.offsetHeight)*100))}else{let l=c-o.left;l=Math.max(n.value.offsetWidth/2,l),l=Math.min(l,o.width-n.value.offsetWidth/2),t.color.set("alpha",Math.round((l-n.value.offsetWidth/2)/(o.width-n.value.offsetWidth)*100))}}return{thumb:n,bar:i,handleDrag:a,handleClick:r}},z6=(t,{bar:e,thumb:n,handleDrag:i})=>{const r=mt(),a=Ve("color-alpha-slider"),u=Y(0),s=Y(0),o=Y();function c(){if(!n.value||t.vertical)return 0;const b=r.vnode.el,_=t.color.get("alpha");return b?Math.round(_*(b.offsetWidth-n.value.offsetWidth/2)/100):0}function f(){if(!n.value)return 0;const b=r.vnode.el;if(!t.vertical)return 0;const _=t.color.get("alpha");return b?Math.round(_*(b.offsetHeight-n.value.offsetHeight/2)/100):0}function l(){if(t.color&&t.color.value){const{r:b,g:_,b:S}=t.color.toRgb();return`linear-gradient(to right, rgba(${b}, ${_}, ${S}, 0) 0%, rgba(${b}, ${_}, ${S}, 1) 100%)`}return""}function d(){u.value=c(),s.value=f(),o.value=l()}ht(()=>{if(!e.value||!n.value)return;const b={drag:_=>{i(_)},end:_=>{i(_)}};Eu(e.value,b),Eu(n.value,b),d()}),Be(()=>t.color.get("alpha"),()=>d()),Be(()=>t.color.value,()=>d());const h=P(()=>[a.b(),a.is("vertical",t.vertical)]),p=P(()=>a.e("bar")),g=P(()=>a.e("thumb")),m=P(()=>({background:o.value})),v=P(()=>({left:yn(u.value),top:yn(s.value)}));return{rootKls:h,barKls:p,barStyle:m,thumbKls:g,thumbStyle:v,update:d}},W6="ElColorAlphaSlider",G6=se({name:W6}),j6=se({...G6,props:$6,setup(t,{expose:e}){const n=t,{bar:i,thumb:r,handleDrag:a,handleClick:u}=H6(n),{rootKls:s,barKls:o,barStyle:c,thumbKls:f,thumbStyle:l,update:d}=z6(n,{bar:i,thumb:r,handleDrag:a});return e({update:d,bar:i,thumb:r}),(h,p)=>(L(),Q("div",{class:F(y(s))},[te("div",{ref_key:"bar",ref:i,class:F(y(o)),style:Qe(y(c)),onClick:p[0]||(p[0]=(...g)=>y(u)&&y(u)(...g))},null,6),te("div",{ref_key:"thumb",ref:r,class:F(y(f)),style:Qe(y(l))},null,6)],2))}});var X6=Ge(j6,[["__file","alpha-slider.vue"]]);const K6=se({name:"ElColorHueSlider",props:{color:{type:Object,required:!0},vertical:Boolean},setup(t){const e=Ve("color-hue-slider"),n=mt(),i=Y(),r=Y(),a=Y(0),u=Y(0),s=P(()=>t.color.get("hue"));Be(()=>s.value,()=>{d()});function o(h){h.target!==i.value&&c(h)}function c(h){if(!r.value||!i.value)return;const g=n.vnode.el.getBoundingClientRect(),{clientX:m,clientY:v}=Iv(h);let b;if(t.vertical){let _=v-g.top;_=Math.min(_,g.height-i.value.offsetHeight/2),_=Math.max(i.value.offsetHeight/2,_),b=Math.round((_-i.value.offsetHeight/2)/(g.height-i.value.offsetHeight)*360)}else{let _=m-g.left;_=Math.min(_,g.width-i.value.offsetWidth/2),_=Math.max(i.value.offsetWidth/2,_),b=Math.round((_-i.value.offsetWidth/2)/(g.width-i.value.offsetWidth)*360)}t.color.set("hue",b)}function f(){if(!i.value)return 0;const h=n.vnode.el;if(t.vertical)return 0;const p=t.color.get("hue");return h?Math.round(p*(h.offsetWidth-i.value.offsetWidth/2)/360):0}function l(){if(!i.value)return 0;const h=n.vnode.el;if(!t.vertical)return 0;const p=t.color.get("hue");return h?Math.round(p*(h.offsetHeight-i.value.offsetHeight/2)/360):0}function d(){a.value=f(),u.value=l()}return ht(()=>{if(!r.value||!i.value)return;const h={drag:p=>{c(p)},end:p=>{c(p)}};Eu(r.value,h),Eu(i.value,h),d()}),{bar:r,thumb:i,thumbLeft:a,thumbTop:u,hueValue:s,handleClick:o,update:d,ns:e}}});function Y6(t,e,n,i,r,a){return L(),Q("div",{class:F([t.ns.b(),t.ns.is("vertical",t.vertical)])},[te("div",{ref:"bar",class:F(t.ns.e("bar")),onClick:e[0]||(e[0]=(...u)=>t.handleClick&&t.handleClick(...u))},null,2),te("div",{ref:"thumb",class:F(t.ns.e("thumb")),style:Qe({left:t.thumbLeft+"px",top:t.thumbTop+"px"})},null,6)],2)}var q6=Ge(K6,[["render",Y6],["__file","hue-slider.vue"]]);const Z6=We({modelValue:String,id:String,showAlpha:Boolean,colorFormat:String,disabled:Boolean,size:kn,popperClass:{type:String,default:""},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},predefine:{type:we(Array)},validateEvent:{type:Boolean,default:!0}}),J6={[_t]:t=>ct(t)||In(t),[rn]:t=>ct(t)||In(t),activeChange:t=>ct(t)||In(t),focus:t=>t instanceof FocusEvent,blur:t=>t instanceof FocusEvent},fM=Symbol("colorPickerContextKey"),SS=function(t,e,n){return[t,e*n/((t=(2-e)*n)<1?t:2-t)||0,t/2]},Q6=function(t){return typeof t=="string"&&t.includes(".")&&Number.parseFloat(t)===1},eW=function(t){return typeof t=="string"&&t.includes("%")},vl=function(t,e){Q6(t)&&(t="100%");const n=eW(t);return t=Math.min(e,Math.max(0,Number.parseFloat(`${t}`))),n&&(t=Number.parseInt(`${t*e}`,10)/100),Math.abs(t-e)<1e-6?1:t%e/Number.parseFloat(e)},wS={10:"A",11:"B",12:"C",13:"D",14:"E",15:"F"},xf=t=>{t=Math.min(Math.round(t),255);const e=Math.floor(t/16),n=t%16;return`${wS[e]||e}${wS[n]||n}`},CS=function({r:t,g:e,b:n}){return Number.isNaN(+t)||Number.isNaN(+e)||Number.isNaN(+n)?"":`#${xf(t)}${xf(e)}${xf(n)}`},Ip={A:10,B:11,C:12,D:13,E:14,F:15},Ro=function(t){return t.length===2?(Ip[t[0].toUpperCase()]||+t[0])*16+(Ip[t[1].toUpperCase()]||+t[1]):Ip[t[1].toUpperCase()]||+t[1]},tW=function(t,e,n){e=e/100,n=n/100;let i=e;const r=Math.max(n,.01);n*=2,e*=n<=1?n:2-n,i*=r<=1?r:2-r;const a=(n+e)/2,u=n===0?2*i/(r+i):2*e/(n+e);return{h:t,s:u*100,v:a*100}},xS=(t,e,n)=>{t=vl(t,255),e=vl(e,255),n=vl(n,255);const i=Math.max(t,e,n),r=Math.min(t,e,n);let a;const u=i,s=i-r,o=i===0?0:s/i;if(i===r)a=0;else{switch(i){case t:{a=(e-n)/s+(e<n?6:0);break}case e:{a=(n-t)/s+2;break}case n:{a=(t-e)/s+4;break}}a/=6}return{h:a*360,s:o*100,v:u*100}},Sc=function(t,e,n){t=vl(t,360)*6,e=vl(e,100),n=vl(n,100);const i=Math.floor(t),r=t-i,a=n*(1-e),u=n*(1-r*e),s=n*(1-(1-r)*e),o=i%6,c=[n,u,a,a,s,n][o],f=[s,n,n,u,a,a][o],l=[a,a,s,n,n,u][o];return{r:Math.round(c*255),g:Math.round(f*255),b:Math.round(l*255)}};let eu=class{constructor(e={}){this._hue=0,this._saturation=100,this._value=100,this._alpha=100,this.enableAlpha=!1,this.format="hex",this.value="";for(const n in e)kt(e,n)&&(this[n]=e[n]);e.value?this.fromString(e.value):this.doOnChange()}set(e,n){if(arguments.length===1&&typeof e=="object"){for(const i in e)kt(e,i)&&this.set(i,e[i]);return}this[`_${e}`]=n,this.doOnChange()}get(e){return e==="alpha"?Math.floor(this[`_${e}`]):this[`_${e}`]}toRgb(){return Sc(this._hue,this._saturation,this._value)}fromString(e){if(!e){this._hue=0,this._saturation=100,this._value=100,this.doOnChange();return}const n=(i,r,a)=>{this._hue=Math.max(0,Math.min(360,i)),this._saturation=Math.max(0,Math.min(100,r)),this._value=Math.max(0,Math.min(100,a)),this.doOnChange()};if(e.includes("hsl")){const i=e.replace(/hsla|hsl|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,a)=>a>2?Number.parseFloat(r):Number.parseInt(r,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s:a,v:u}=tW(i[0],i[1],i[2]);n(r,a,u)}}else if(e.includes("hsv")){const i=e.replace(/hsva|hsv|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,a)=>a>2?Number.parseFloat(r):Number.parseInt(r,10));i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3&&n(i[0],i[1],i[2])}else if(e.includes("rgb")){const i=e.replace(/rgba|rgb|\(|\)/gm,"").split(/\s|,/g).filter(r=>r!=="").map((r,a)=>a>2?Number.parseFloat(r):Number.parseInt(r,10));if(i.length===4?this._alpha=Number.parseFloat(i[3])*100:i.length===3&&(this._alpha=100),i.length>=3){const{h:r,s:a,v:u}=xS(i[0],i[1],i[2]);n(r,a,u)}}else if(e.includes("#")){const i=e.replace("#","").trim();if(!/^[0-9a-fA-F]{3}$|^[0-9a-fA-F]{6}$|^[0-9a-fA-F]{8}$/.test(i))return;let r,a,u;i.length===3?(r=Ro(i[0]+i[0]),a=Ro(i[1]+i[1]),u=Ro(i[2]+i[2])):(i.length===6||i.length===8)&&(r=Ro(i.slice(0,2)),a=Ro(i.slice(2,4)),u=Ro(i.slice(4,6))),i.length===8?this._alpha=Ro(i.slice(6))/255*100:(i.length===3||i.length===6)&&(this._alpha=100);const{h:s,s:o,v:c}=xS(r,a,u);n(s,o,c)}}compare(e){return Math.abs(e._hue-this._hue)<2&&Math.abs(e._saturation-this._saturation)<1&&Math.abs(e._value-this._value)<1&&Math.abs(e._alpha-this._alpha)<1}doOnChange(){const{_hue:e,_saturation:n,_value:i,_alpha:r,format:a}=this;if(this.enableAlpha)switch(a){case"hsl":{const u=SS(e,n/100,i/100);this.value=`hsla(${e}, ${Math.round(u[1]*100)}%, ${Math.round(u[2]*100)}%, ${this.get("alpha")/100})`;break}case"hsv":{this.value=`hsva(${e}, ${Math.round(n)}%, ${Math.round(i)}%, ${this.get("alpha")/100})`;break}case"hex":{this.value=`${CS(Sc(e,n,i))}${xf(r*255/100)}`;break}default:{const{r:u,g:s,b:o}=Sc(e,n,i);this.value=`rgba(${u}, ${s}, ${o}, ${this.get("alpha")/100})`}}else switch(a){case"hsl":{const u=SS(e,n/100,i/100);this.value=`hsl(${e}, ${Math.round(u[1]*100)}%, ${Math.round(u[2]*100)}%)`;break}case"hsv":{this.value=`hsv(${e}, ${Math.round(n)}%, ${Math.round(i)}%)`;break}case"rgb":{const{r:u,g:s,b:o}=Sc(e,n,i);this.value=`rgb(${u}, ${s}, ${o})`;break}default:this.value=CS(Sc(e,n,i))}}};const nW=se({props:{colors:{type:Array,required:!0},color:{type:Object,required:!0}},setup(t){const e=Ve("color-predefine"),{currentColor:n}=Je(fM),i=Y(a(t.colors,t.color));Be(()=>n.value,u=>{const s=new eu;s.fromString(u),i.value.forEach(o=>{o.selected=s.compare(o)})}),Yn(()=>{i.value=a(t.colors,t.color)});function r(u){t.color.fromString(t.colors[u])}function a(u,s){return u.map(o=>{const c=new eu;return c.enableAlpha=!0,c.format="rgba",c.fromString(o),c.selected=c.value===s.value,c})}return{rgbaColors:i,handleSelect:r,ns:e}}}),iW=["onClick"];function rW(t,e,n,i,r,a){return L(),Q("div",{class:F(t.ns.b())},[te("div",{class:F(t.ns.e("colors"))},[(L(!0),Q(tt,null,Tt(t.rgbaColors,(u,s)=>(L(),Q("div",{key:t.colors[s],class:F([t.ns.e("color-selector"),t.ns.is("alpha",u._alpha<100),{selected:u.selected}]),onClick:o=>t.handleSelect(s)},[te("div",{style:Qe({backgroundColor:u.value})},null,4)],10,iW))),128))],2)],2)}var sW=Ge(nW,[["render",rW],["__file","predefine.vue"]]);const oW=se({name:"ElSlPanel",props:{color:{type:Object,required:!0}},setup(t){const e=Ve("color-svpanel"),n=mt(),i=Y(0),r=Y(0),a=Y("hsl(0, 100%, 50%)"),u=P(()=>{const c=t.color.get("hue"),f=t.color.get("value");return{hue:c,value:f}});function s(){const c=t.color.get("saturation"),f=t.color.get("value"),l=n.vnode.el,{clientWidth:d,clientHeight:h}=l;r.value=c*d/100,i.value=(100-f)*h/100,a.value=`hsl(${t.color.get("hue")}, 100%, 50%)`}function o(c){const l=n.vnode.el.getBoundingClientRect(),{clientX:d,clientY:h}=Iv(c);let p=d-l.left,g=h-l.top;p=Math.max(0,p),p=Math.min(p,l.width),g=Math.max(0,g),g=Math.min(g,l.height),r.value=p,i.value=g,t.color.set({saturation:p/l.width*100,value:100-g/l.height*100})}return Be(()=>u.value,()=>{s()}),ht(()=>{Eu(n.vnode.el,{drag:c=>{o(c)},end:c=>{o(c)}}),s()}),{cursorTop:i,cursorLeft:r,background:a,colorValue:u,handleDrag:o,update:s,ns:e}}}),aW=te("div",null,null,-1),lW=[aW];function cW(t,e,n,i,r,a){return L(),Q("div",{class:F(t.ns.b()),style:Qe({backgroundColor:t.background})},[te("div",{class:F(t.ns.e("white"))},null,2),te("div",{class:F(t.ns.e("black"))},null,2),te("div",{class:F(t.ns.e("cursor")),style:Qe({top:t.cursorTop+"px",left:t.cursorLeft+"px"})},lW,6)],6)}var uW=Ge(oW,[["render",cW],["__file","sv-panel.vue"]]);const dW=["onKeydown"],fW=["id","aria-label","aria-labelledby","aria-description","aria-disabled","tabindex"],hW=se({name:"ElColorPicker"}),pW=se({...hW,props:Z6,emits:J6,setup(t,{expose:e,emit:n}){const i=t,{t:r}=Dt(),a=Ve("color"),{formItem:u}=li(),s=Mn(),o=wi(),{inputId:c,isLabeledByFormItem:f}=Mr(i,{formItemContext:u}),l=Y(),d=Y(),h=Y(),p=Y(),g=Y(),m=Y(),{isFocused:v,handleFocus:b,handleBlur:_}=Hh(g,{beforeBlur(ne){var le;return(le=p.value)==null?void 0:le.isFocusInsideContent(ne)},afterBlur(){N(!1),R()}}),S=ne=>{if(o.value)return ue();b(ne)};let w=!0;const C=$t(new eu({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue})),x=Y(!1),M=Y(!1),E=Y(""),A=P(()=>!i.modelValue&&!M.value?"transparent":B(C,i.showAlpha)),O=P(()=>!i.modelValue&&!M.value?"":C.value),I=P(()=>f.value?void 0:i.label||r("el.colorpicker.defaultLabel")),$=P(()=>f.value?u==null?void 0:u.labelId:void 0),H=P(()=>[a.b("picker"),a.is("disabled",o.value),a.bm("picker",s.value),a.is("focused",v.value)]);function B(ne,le){if(!(ne instanceof eu))throw new TypeError("color should be instance of _color Class");const{r:Me,g:q,b:J}=ne.toRgb();return le?`rgba(${Me}, ${q}, ${J}, ${ne.get("alpha")/100})`:`rgb(${Me}, ${q}, ${J})`}function N(ne){x.value=ne}const k=Oi(N,100,{leading:!0});function D(){o.value||N(!0)}function T(){k(!1),R()}function R(){it(()=>{i.modelValue?C.fromString(i.modelValue):(C.value="",it(()=>{M.value=!1}))})}function V(){o.value||k(!x.value)}function U(){C.fromString(E.value)}function X(){const ne=C.value;n(_t,ne),n("change",ne),i.validateEvent&&(u==null||u.validate("change").catch(le=>void 0)),k(!1),it(()=>{const le=new eu({enableAlpha:i.showAlpha,format:i.colorFormat||"",value:i.modelValue});C.compare(le)||R()})}function W(){k(!1),n(_t,null),n("change",null),i.modelValue!==null&&i.validateEvent&&(u==null||u.validate("change").catch(ne=>void 0)),R()}function j(ne){if(x.value&&(T(),v.value)){const le=new FocusEvent("focus",ne);_(le)}}function K(ne){ne.preventDefault(),ne.stopPropagation(),N(!1),R()}function z(ne){switch(ne.code){case nt.enter:case nt.space:ne.preventDefault(),ne.stopPropagation(),D(),m.value.focus();break;case nt.esc:K(ne);break}}function ee(){g.value.focus()}function ue(){g.value.blur()}return ht(()=>{i.modelValue&&(E.value=O.value)}),Be(()=>i.modelValue,ne=>{ne?ne&&ne!==C.value&&(w=!1,C.fromString(ne)):M.value=!1}),Be(()=>O.value,ne=>{E.value=ne,w&&n("activeChange",ne),w=!0}),Be(()=>C.value,()=>{!i.modelValue&&!M.value&&(M.value=!0)}),Be(()=>x.value,()=>{it(()=>{var ne,le,Me;(ne=l.value)==null||ne.update(),(le=d.value)==null||le.update(),(Me=h.value)==null||Me.update()})}),Mt(fM,{currentColor:O}),e({color:C,show:D,hide:T,focus:ee,blur:ue}),(ne,le)=>(L(),Pe(y(ai),{ref_key:"popper",ref:p,visible:x.value,"show-arrow":!1,"fallback-placements":["bottom","top","right","left"],offset:0,"gpu-acceleration":!1,"popper-class":[y(a).be("picker","panel"),y(a).b("dropdown"),ne.popperClass],"stop-popper-mouse-event":!1,effect:"light",trigger:"click",transition:`${y(a).namespace.value}-zoom-in-top`,persistent:"",onHide:le[2]||(le[2]=Me=>N(!1))},{content:ve(()=>[ft((L(),Q("div",{onKeydown:Xt(K,["esc"])},[te("div",{class:F(y(a).be("dropdown","main-wrapper"))},[oe(q6,{ref_key:"hue",ref:l,class:"hue-slider",color:y(C),vertical:""},null,8,["color"]),oe(uW,{ref_key:"sv",ref:d,color:y(C)},null,8,["color"])],2),ne.showAlpha?(L(),Pe(X6,{key:0,ref_key:"alpha",ref:h,color:y(C)},null,8,["color"])):Ee("v-if",!0),ne.predefine?(L(),Pe(sW,{key:1,ref:"predefine",color:y(C),colors:ne.predefine},null,8,["color","colors"])):Ee("v-if",!0),te("div",{class:F(y(a).be("dropdown","btns"))},[te("span",{class:F(y(a).be("dropdown","value"))},[oe(y(ri),{ref_key:"inputRef",ref:m,modelValue:E.value,"onUpdate:modelValue":le[0]||(le[0]=Me=>E.value=Me),"validate-event":!1,size:"small",onKeyup:Xt(U,["enter"]),onBlur:U},null,8,["modelValue","onKeyup"])],2),oe(y(Dn),{class:F(y(a).be("dropdown","link-btn")),text:"",size:"small",onClick:W},{default:ve(()=>[Et(je(y(r)("el.colorpicker.clear")),1)]),_:1},8,["class"]),oe(y(Dn),{plain:"",size:"small",class:F(y(a).be("dropdown","btn")),onClick:X},{default:ve(()=>[Et(je(y(r)("el.colorpicker.confirm")),1)]),_:1},8,["class"])],2)],40,dW)),[[y(ys),j]])]),default:ve(()=>[te("div",{id:y(c),ref_key:"triggerRef",ref:g,class:F(y(H)),role:"button","aria-label":y(I),"aria-labelledby":y($),"aria-description":y(r)("el.colorpicker.description",{color:ne.modelValue||""}),"aria-disabled":y(o),tabindex:y(o)?-1:ne.tabindex,onKeydown:z,onFocus:S,onBlur:le[1]||(le[1]=(...Me)=>y(_)&&y(_)(...Me))},[y(o)?(L(),Q("div",{key:0,class:F(y(a).be("picker","mask"))},null,2)):Ee("v-if",!0),te("div",{class:F(y(a).be("picker","trigger")),onClick:V},[te("span",{class:F([y(a).be("picker","color"),y(a).is("alpha",ne.showAlpha)])},[te("span",{class:F(y(a).be("picker","color-inner")),style:Qe({backgroundColor:y(A)})},[ft(oe(y(et),{class:F([y(a).be("picker","icon"),y(a).is("icon-arrow-down")])},{default:ve(()=>[oe(y(xs))]),_:1},8,["class"]),[[Nt,ne.modelValue||M.value]]),ft(oe(y(et),{class:F([y(a).be("picker","empty"),y(a).is("icon-close")])},{default:ve(()=>[oe(y(Cr))]),_:1},8,["class"]),[[Nt,!ne.modelValue&&!M.value]])],6)],2)],2)],42,fW)]),_:1},8,["visible","popper-class","transition"]))}});var mW=Ge(pW,[["__file","color-picker.vue"]]);const gW=gt(mW),vW=se({name:"ElContainer"}),yW=se({...vW,props:{direction:{type:String}},setup(t){const e=t,n=Un(),i=Ve("container"),r=P(()=>e.direction==="vertical"?!0:e.direction==="horizontal"?!1:n&&n.default?n.default().some(u=>{const s=u.type.name;return s==="ElHeader"||s==="ElFooter"}):!1);return(a,u)=>(L(),Q("section",{class:F([y(i).b(),y(i).is("vertical",y(r))])},[Le(a.$slots,"default")],2))}});var bW=Ge(yW,[["__file","container.vue"]]);const _W=se({name:"ElAside"}),SW=se({..._W,props:{width:{type:String,default:null}},setup(t){const e=t,n=Ve("aside"),i=P(()=>e.width?n.cssVarBlock({width:e.width}):{});return(r,a)=>(L(),Q("aside",{class:F(y(n).b()),style:Qe(y(i))},[Le(r.$slots,"default")],6))}});var hM=Ge(SW,[["__file","aside.vue"]]);const wW=se({name:"ElFooter"}),CW=se({...wW,props:{height:{type:String,default:null}},setup(t){const e=t,n=Ve("footer"),i=P(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,a)=>(L(),Q("footer",{class:F(y(n).b()),style:Qe(y(i))},[Le(r.$slots,"default")],6))}});var pM=Ge(CW,[["__file","footer.vue"]]);const xW=se({name:"ElHeader"}),TW=se({...xW,props:{height:{type:String,default:null}},setup(t){const e=t,n=Ve("header"),i=P(()=>e.height?n.cssVarBlock({height:e.height}):{});return(r,a)=>(L(),Q("header",{class:F(y(n).b()),style:Qe(y(i))},[Le(r.$slots,"default")],6))}});var mM=Ge(TW,[["__file","header.vue"]]);const EW=se({name:"ElMain"}),MW=se({...EW,setup(t){const e=Ve("main");return(n,i)=>(L(),Q("main",{class:F(y(e).b())},[Le(n.$slots,"default")],2))}});var gM=Ge(MW,[["__file","main.vue"]]);const AW=gt(bW,{Aside:hM,Footer:pM,Header:mM,Main:gM}),RW=hn(hM),PW=hn(pM),OW=hn(mM),kW=hn(gM);var vM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ms,function(){return function(n,i){var r=i.prototype,a=r.format;r.format=function(u){var s=this,o=this.$locale();if(!this.isValid())return a.bind(this)(u);var c=this.$utils(),f=(u||"YYYY-MM-DDTHH:mm:ssZ").replace(/\[([^\]]+)]|Q|wo|ww|w|WW|W|zzz|z|gggg|GGGG|Do|X|x|k{1,2}|S/g,function(l){switch(l){case"Q":return Math.ceil((s.$M+1)/3);case"Do":return o.ordinal(s.$D);case"gggg":return s.weekYear();case"GGGG":return s.isoWeekYear();case"wo":return o.ordinal(s.week(),"W");case"w":case"ww":return c.s(s.week(),l==="w"?1:2,"0");case"W":case"WW":return c.s(s.isoWeek(),l==="W"?1:2,"0");case"k":case"kk":return c.s(String(s.$H===0?24:s.$H),l==="k"?1:2,"0");case"X":return Math.floor(s.$d.getTime()/1e3);case"x":return s.$d.getTime();case"z":return"["+s.offsetName()+"]";case"zzz":return"["+s.offsetName("long")+"]";default:return l}});return a.bind(this)(f)}}})})(vM);var LW=vM.exports;const IW=As(LW);var yM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ms,function(){var n="week",i="year";return function(r,a,u){var s=a.prototype;s.week=function(o){if(o===void 0&&(o=null),o!==null)return this.add(7*(o-this.week()),"day");var c=this.$locale().yearStart||1;if(this.month()===11&&this.date()>25){var f=u(this).startOf(i).add(1,i).date(c),l=u(this).endOf(n);if(f.isBefore(l))return 1}var d=u(this).startOf(i).date(c).startOf(n).subtract(1,"millisecond"),h=this.diff(d,n,!0);return h<0?u(this).startOf("week").week():Math.ceil(h)},s.weeks=function(o){return o===void 0&&(o=null),this.week(o)}}})})(yM);var DW=yM.exports;const NW=As(DW);var bM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ms,function(){return function(n,i){i.prototype.weekYear=function(){var r=this.month(),a=this.week(),u=this.year();return a===1&&r===11?u+1:r===0&&a>=52?u-1:u}}})})(bM);var FW=bM.exports;const BW=As(FW);var _M={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ms,function(){return function(n,i,r){i.prototype.dayOfYear=function(a){var u=Math.round((r(this).startOf("day")-r(this).startOf("year"))/864e5)+1;return a==null?u:this.add(a-u,"day")}}})})(_M);var UW=_M.exports;const VW=As(UW);var SM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ms,function(){return function(n,i){i.prototype.isSameOrAfter=function(r,a){return this.isSame(r,a)||this.isAfter(r,a)}}})})(SM);var $W=SM.exports;const HW=As($W);var wM={exports:{}};(function(t,e){(function(n,i){t.exports=i()})(Ms,function(){return function(n,i){i.prototype.isSameOrBefore=function(r,a){return this.isSame(r,a)||this.isBefore(r,a)}}})})(wM);var zW=wM.exports;const WW=As(zW),D0=Symbol(),GW=We({...L0,type:{type:we(String),default:"date"}}),jW=["date","dates","year","years","month","week","range"],N0=We({disabledDate:{type:we(Function)},date:{type:we(Object),required:!0},minDate:{type:we(Object)},maxDate:{type:we(Object)},parsedValue:{type:we([Object,Array])},rangeState:{type:we(Object),default:()=>({endDate:null,selecting:!1})}}),CM=We({type:{type:we(String),required:!0,values:mB},dateFormat:String,timeFormat:String}),xM=We({unlinkPanels:Boolean,parsedValue:{type:we(Array)}}),F0=t=>({type:String,values:jW,default:t}),XW=We({...CM,parsedValue:{type:we([Object,Array])},visible:{type:Boolean},format:{type:String,default:""}}),KW=We({...N0,cellClassName:{type:we(Function)},showWeekNumber:Boolean,selectionMode:F0("date")}),YW=["changerange","pick","select"],Sg=t=>{if(!qe(t))return!1;const[e,n]=t;return yt.isDayjs(e)&&yt.isDayjs(n)&&e.isSameOrBefore(n)},TM=(t,{lang:e,unit:n,unlinkPanels:i})=>{let r;if(qe(t)){let[a,u]=t.map(s=>yt(s).locale(e));return i||(u=a.add(1,n)),[a,u]}else t?r=yt(t):r=yt();return r=r.locale(e),[r,r.add(1,n)]},qW=(t,e,{columnIndexOffset:n,startDate:i,nextEndDate:r,now:a,unit:u,relativeDateGetter:s,setCellMetadata:o,setRowMetadata:c})=>{for(let f=0;f<t.row;f++){const l=e[f];for(let d=0;d<t.column;d++){let h=l[d+n];h||(h={row:f,column:d,type:"normal",inRange:!1,start:!1,end:!1});const p=f*t.column+d,g=s(p);h.dayjs=g,h.date=g.toDate(),h.timestamp=g.valueOf(),h.type="normal",h.inRange=!!(i&&g.isSameOrAfter(i,u)&&r&&g.isSameOrBefore(r,u))||!!(i&&g.isSameOrBefore(i,u)&&r&&g.isSameOrAfter(r,u)),i!=null&&i.isSameOrAfter(r)?(h.start=!!r&&g.isSame(r,u),h.end=i&&g.isSame(i,u)):(h.start=!!i&&g.isSame(i,u),h.end=!!r&&g.isSame(r,u)),g.isSame(a,u)&&(h.type="today"),o==null||o(h,{rowIndex:f,columnIndex:d}),l[d+n]=h}c==null||c(l)}},wg=(t="")=>["normal","today"].includes(t),ZW=(t,e)=>{const{lang:n}=Dt(),i=Y(),r=Y(),a=Y(),u=Y(),s=Y([[],[],[],[],[],[]]);let o=!1;const c=t.date.$locale().weekStart||7,f=t.date.locale("en").localeData().weekdaysShort().map(T=>T.toLowerCase()),l=P(()=>c>3?7-c:-c),d=P(()=>{const T=t.date.startOf("month");return T.subtract(T.day()||7,"day")}),h=P(()=>f.concat(f).slice(c,c+7)),p=P(()=>Bx(y(S)).some(T=>T.isCurrent)),g=P(()=>{const T=t.date.startOf("month"),R=T.day()||7,V=T.daysInMonth(),U=T.subtract(1,"month").daysInMonth();return{startOfMonthDay:R,dateCountOfMonth:V,dateCountOfLastMonth:U}}),m=P(()=>t.selectionMode==="dates"?Fi(t.parsedValue):[]),v=(T,{count:R,rowIndex:V,columnIndex:U})=>{const{startOfMonthDay:X,dateCountOfMonth:W,dateCountOfLastMonth:j}=y(g),K=y(l);if(V>=0&&V<=1){const z=X+K<0?7+X+K:X+K;if(U+V*7>=z)return T.text=R,!0;T.text=j-(z-U%7)+1+V*7,T.type="prev-month"}else return R<=W?T.text=R:(T.text=R-W,T.type="next-month"),!0;return!1},b=(T,{columnIndex:R,rowIndex:V},U)=>{const{disabledDate:X,cellClassName:W}=t,j=y(m),K=v(T,{count:U,rowIndex:V,columnIndex:R}),z=T.dayjs.toDate();return T.selected=j.find(ee=>ee.isSame(T.dayjs,"day")),T.isSelected=!!T.selected,T.isCurrent=C(T),T.disabled=X==null?void 0:X(z),T.customClass=W==null?void 0:W(z),K},_=T=>{if(t.selectionMode==="week"){const[R,V]=t.showWeekNumber?[1,7]:[0,6],U=D(T[R+1]);T[R].inRange=U,T[R].start=U,T[V].inRange=U,T[V].end=U}},S=P(()=>{const{minDate:T,maxDate:R,rangeState:V,showWeekNumber:U}=t,X=y(l),W=y(s),j="day";let K=1;if(U)for(let z=0;z<6;z++)W[z][0]||(W[z][0]={type:"week",text:y(d).add(z*7+1,j).week()});return qW({row:6,column:7},W,{startDate:T,columnIndexOffset:U?1:0,nextEndDate:V.endDate||R||V.selecting&&T||null,now:yt().locale(y(n)).startOf(j),unit:j,relativeDateGetter:z=>y(d).add(z-X,j),setCellMetadata:(...z)=>{b(...z,K)&&(K+=1)},setRowMetadata:_}),W});Be(()=>t.date,async()=>{var T;(T=y(i))!=null&&T.contains(document.activeElement)&&(await it(),await w())});const w=async()=>{var T;return(T=y(r))==null?void 0:T.focus()},C=T=>t.selectionMode==="date"&&wg(T.type)&&x(T,t.parsedValue),x=(T,R)=>R?yt(R).locale(y(n)).isSame(t.date.date(Number(T.text)),"day"):!1,M=(T,R)=>{const V=T*7+(R-(t.showWeekNumber?1:0))-y(l);return y(d).add(V,"day")},E=T=>{var R;if(!t.rangeState.selecting)return;let V=T.target;if(V.tagName==="SPAN"&&(V=(R=V.parentNode)==null?void 0:R.parentNode),V.tagName==="DIV"&&(V=V.parentNode),V.tagName!=="TD")return;const U=V.parentNode.rowIndex-1,X=V.cellIndex;y(S)[U][X].disabled||(U!==y(a)||X!==y(u))&&(a.value=U,u.value=X,e("changerange",{selecting:!0,endDate:M(U,X)}))},A=T=>!y(p)&&(T==null?void 0:T.text)===1&&T.type==="normal"||T.isCurrent,O=T=>{o||y(p)||t.selectionMode!=="date"||k(T,!0)},I=T=>{T.target.closest("td")&&(o=!0)},$=T=>{T.target.closest("td")&&(o=!1)},H=T=>{!t.rangeState.selecting||!t.minDate?(e("pick",{minDate:T,maxDate:null}),e("select",!0)):(T>=t.minDate?e("pick",{minDate:t.minDate,maxDate:T}):e("pick",{minDate:T,maxDate:t.minDate}),e("select",!1))},B=T=>{const R=T.week(),V=`${T.year()}w${R}`;e("pick",{year:T.year(),week:R,value:V,date:T.startOf("week")})},N=(T,R)=>{const V=R?Fi(t.parsedValue).filter(U=>(U==null?void 0:U.valueOf())!==T.valueOf()):Fi(t.parsedValue).concat([T]);e("pick",V)},k=(T,R=!1)=>{const V=T.target.closest("td");if(!V)return;const U=V.parentNode.rowIndex-1,X=V.cellIndex,W=y(S)[U][X];if(W.disabled||W.type==="week")return;const j=M(U,X);switch(t.selectionMode){case"range":{H(j);break}case"date":{e("pick",j,R);break}case"week":{B(j);break}case"dates":{N(j,!!W.selected);break}}},D=T=>{if(t.selectionMode!=="week")return!1;let R=t.date.startOf("day");if(T.type==="prev-month"&&(R=R.subtract(1,"month")),T.type==="next-month"&&(R=R.add(1,"month")),R=R.date(Number.parseInt(T.text,10)),t.parsedValue&&!Array.isArray(t.parsedValue)){const V=(t.parsedValue.day()-c+7)%7-1;return t.parsedValue.subtract(V,"day").isSame(R,"day")}return!1};return{WEEKS:h,rows:S,tbodyRef:i,currentCellRef:r,focus:w,isCurrent:C,isWeekActive:D,isSelectedCell:A,handlePickDate:k,handleMouseUp:$,handleMouseDown:I,handleMouseMove:E,handleFocus:O}},JW=(t,{isCurrent:e,isWeekActive:n})=>{const i=Ve("date-table"),{t:r}=Dt(),a=P(()=>[i.b(),{"is-week-mode":t.selectionMode==="week"}]),u=P(()=>r("el.datepicker.dateTablePrompt")),s=P(()=>r("el.datepicker.week"));return{tableKls:a,tableLabel:u,weekLabel:s,getCellClasses:f=>{const l=[];return wg(f.type)&&!f.disabled?(l.push("available"),f.type==="today"&&l.push("today")):l.push(f.type),e(f)&&l.push("current"),f.inRange&&(wg(f.type)||t.selectionMode==="week")&&(l.push("in-range"),f.start&&l.push("start-date"),f.end&&l.push("end-date")),f.disabled&&l.push("disabled"),f.selected&&l.push("selected"),f.customClass&&l.push(f.customClass),l.join(" ")},getRowKls:f=>[i.e("row"),{current:n(f)}],t:r}},QW=We({cell:{type:we(Object)}});var eG=se({name:"ElDatePickerCell",props:QW,setup(t){const e=Ve("date-table-cell"),{slots:n}=Je(D0);return()=>{const{cell:i}=t;return Le(n,"default",{...i},()=>[oe("div",{class:e.b()},[oe("span",{class:e.e("text")},[i==null?void 0:i.text])])])}}});const tG=["aria-label"],nG={key:0,scope:"col"},iG=["aria-label"],rG=["aria-current","aria-selected","tabindex"],sG=se({__name:"basic-date-table",props:KW,emits:YW,setup(t,{expose:e,emit:n}){const i=t,{WEEKS:r,rows:a,tbodyRef:u,currentCellRef:s,focus:o,isCurrent:c,isWeekActive:f,isSelectedCell:l,handlePickDate:d,handleMouseUp:h,handleMouseDown:p,handleMouseMove:g,handleFocus:m}=ZW(i,n),{tableLabel:v,tableKls:b,weekLabel:_,getCellClasses:S,getRowKls:w,t:C}=JW(i,{isCurrent:c,isWeekActive:f});return e({focus:o}),(x,M)=>(L(),Q("table",{"aria-label":y(v),class:F(y(b)),cellspacing:"0",cellpadding:"0",role:"grid",onClick:M[1]||(M[1]=(...E)=>y(d)&&y(d)(...E)),onMousemove:M[2]||(M[2]=(...E)=>y(g)&&y(g)(...E)),onMousedown:M[3]||(M[3]=lt((...E)=>y(p)&&y(p)(...E),["prevent"])),onMouseup:M[4]||(M[4]=(...E)=>y(h)&&y(h)(...E))},[te("tbody",{ref_key:"tbodyRef",ref:u},[te("tr",null,[x.showWeekNumber?(L(),Q("th",nG,je(y(_)),1)):Ee("v-if",!0),(L(!0),Q(tt,null,Tt(y(r),(E,A)=>(L(),Q("th",{key:A,"aria-label":y(C)("el.datepicker.weeksFull."+E),scope:"col"},je(y(C)("el.datepicker.weeks."+E)),9,iG))),128))]),(L(!0),Q(tt,null,Tt(y(a),(E,A)=>(L(),Q("tr",{key:A,class:F(y(w)(E[1]))},[(L(!0),Q(tt,null,Tt(E,(O,I)=>(L(),Q("td",{key:`${A}.${I}`,ref_for:!0,ref:$=>y(l)(O)&&(s.value=$),class:F(y(S)(O)),"aria-current":O.isCurrent?"date":void 0,"aria-selected":O.isCurrent,tabindex:y(l)(O)?0:-1,onFocus:M[0]||(M[0]=(...$)=>y(m)&&y(m)(...$))},[oe(y(eG),{cell:O},null,8,["cell"])],42,rG))),128))],2))),128))],512)],42,tG))}});var Cg=Ge(sG,[["__file","basic-date-table.vue"]]);const oG=We({...N0,selectionMode:F0("month")}),aG=["aria-label"],lG=["aria-selected","aria-label","tabindex","onKeydown"],cG={class:"cell"},uG=se({__name:"basic-month-table",props:oG,emits:["changerange","pick","select"],setup(t,{expose:e,emit:n}){const i=t,r=(S,w,C)=>{const x=yt().locale(C).startOf("month").month(w).year(S),M=x.daysInMonth();return ro(M).map(E=>x.add(E,"day").toDate())},a=Ve("month-table"),{t:u,lang:s}=Dt(),o=Y(),c=Y(),f=Y(i.date.locale("en").localeData().monthsShort().map(S=>S.toLowerCase())),l=Y([[],[],[]]),d=Y(),h=Y(),p=P(()=>{var S,w;const C=l.value,x=yt().locale(s.value).startOf("month");for(let M=0;M<3;M++){const E=C[M];for(let A=0;A<4;A++){const O=E[A]||(E[A]={row:M,column:A,type:"normal",inRange:!1,start:!1,end:!1,text:-1,disabled:!1});O.type="normal";const I=M*4+A,$=i.date.startOf("year").month(I),H=i.rangeState.endDate||i.maxDate||i.rangeState.selecting&&i.minDate||null;O.inRange=!!(i.minDate&&$.isSameOrAfter(i.minDate,"month")&&H&&$.isSameOrBefore(H,"month"))||!!(i.minDate&&$.isSameOrBefore(i.minDate,"month")&&H&&$.isSameOrAfter(H,"month")),(S=i.minDate)!=null&&S.isSameOrAfter(H)?(O.start=!!(H&&$.isSame(H,"month")),O.end=i.minDate&&$.isSame(i.minDate,"month")):(O.start=!!(i.minDate&&$.isSame(i.minDate,"month")),O.end=!!(H&&$.isSame(H,"month"))),x.isSame($)&&(O.type="today"),O.text=I,O.disabled=((w=i.disabledDate)==null?void 0:w.call(i,$.toDate()))||!1}}return C}),g=()=>{var S;(S=c.value)==null||S.focus()},m=S=>{const w={},C=i.date.year(),x=new Date,M=S.text;return w.disabled=i.disabledDate?r(C,M,s.value).every(i.disabledDate):!1,w.current=Fi(i.parsedValue).findIndex(E=>yt.isDayjs(E)&&E.year()===C&&E.month()===M)>=0,w.today=x.getFullYear()===C&&x.getMonth()===M,S.inRange&&(w["in-range"]=!0,S.start&&(w["start-date"]=!0),S.end&&(w["end-date"]=!0)),w},v=S=>{const w=i.date.year(),C=S.text;return Fi(i.date).findIndex(x=>x.year()===w&&x.month()===C)>=0},b=S=>{var w;if(!i.rangeState.selecting)return;let C=S.target;if(C.tagName==="SPAN"&&(C=(w=C.parentNode)==null?void 0:w.parentNode),C.tagName==="DIV"&&(C=C.parentNode),C.tagName!=="TD")return;const x=C.parentNode.rowIndex,M=C.cellIndex;p.value[x][M].disabled||(x!==d.value||M!==h.value)&&(d.value=x,h.value=M,n("changerange",{selecting:!0,endDate:i.date.startOf("year").month(x*4+M)}))},_=S=>{var w;const C=(w=S.target)==null?void 0:w.closest("td");if((C==null?void 0:C.tagName)!=="TD"||er(C,"disabled"))return;const x=C.cellIndex,E=C.parentNode.rowIndex*4+x,A=i.date.startOf("year").month(E);i.selectionMode==="range"?i.rangeState.selecting?(i.minDate&&A>=i.minDate?n("pick",{minDate:i.minDate,maxDate:A}):n("pick",{minDate:A,maxDate:i.minDate}),n("select",!1)):(n("pick",{minDate:A,maxDate:null}),n("select",!0)):n("pick",E)};return Be(()=>i.date,async()=>{var S,w;(S=o.value)!=null&&S.contains(document.activeElement)&&(await it(),(w=c.value)==null||w.focus())}),e({focus:g}),(S,w)=>(L(),Q("table",{role:"grid","aria-label":y(u)("el.datepicker.monthTablePrompt"),class:F(y(a).b()),onClick:_,onMousemove:b},[te("tbody",{ref_key:"tbodyRef",ref:o},[(L(!0),Q(tt,null,Tt(y(p),(C,x)=>(L(),Q("tr",{key:x},[(L(!0),Q(tt,null,Tt(C,(M,E)=>(L(),Q("td",{key:E,ref_for:!0,ref:A=>v(M)&&(c.value=A),class:F(m(M)),"aria-selected":`${v(M)}`,"aria-label":y(u)(`el.datepicker.month${+M.text+1}`),tabindex:v(M)?0:-1,onKeydown:[Xt(lt(_,["prevent","stop"]),["space"]),Xt(lt(_,["prevent","stop"]),["enter"])]},[te("div",null,[te("span",cG,je(y(u)("el.datepicker.months."+f.value[M.text])),1)])],42,lG))),128))]))),128))],512)],42,aG))}});var xg=Ge(uG,[["__file","basic-month-table.vue"]]);const{date:dG,disabledDate:fG,parsedValue:hG}=N0,pG=We({date:dG,disabledDate:fG,parsedValue:hG,selectionMode:F0("year")}),mG=["aria-label"],gG=["aria-selected","tabindex","onKeydown"],vG={class:"cell"},yG={key:1},bG=se({__name:"basic-year-table",props:pG,emits:["pick"],setup(t,{expose:e,emit:n}){const i=t,r=(g,m)=>{const v=yt(String(g)).locale(m).startOf("year"),_=v.endOf("year").dayOfYear();return ro(_).map(S=>v.add(S,"day").toDate())},a=Ve("year-table"),{t:u,lang:s}=Dt(),o=Y(),c=Y(),f=P(()=>Math.floor(i.date.year()/10)*10),l=()=>{var g;(g=c.value)==null||g.focus()},d=g=>{const m={},v=yt().locale(s.value);return m.disabled=i.disabledDate?r(g,s.value).every(i.disabledDate):!1,m.current=Fi(i.parsedValue).findIndex(b=>b.year()===g)>=0,m.today=v.year()===g,m},h=g=>g===f.value&&i.date.year()<f.value&&i.date.year()>f.value+9||Fi(i.date).findIndex(m=>m.year()===g)>=0||Fi(i.parsedValue).findIndex(m=>(m==null?void 0:m.year())===g)>=0,p=g=>{const v=g.target.closest("td");if(v&&v.textContent){if(er(v,"disabled"))return;const b=v.textContent||v.innerText;if(i.selectionMode==="years"){if(g.type==="keydown"){n("pick",Fi(i.parsedValue),!1);return}const _=er(v,"current")?Fi(i.parsedValue).filter(S=>(S==null?void 0:S.year())!==Number(b)):Fi(i.parsedValue).concat([yt(b)]);n("pick",_)}else n("pick",Number(b))}};return Be(()=>i.date,async()=>{var g,m;(g=o.value)!=null&&g.contains(document.activeElement)&&(await it(),(m=c.value)==null||m.focus())}),e({focus:l}),(g,m)=>(L(),Q("table",{role:"grid","aria-label":y(u)("el.datepicker.yearTablePrompt"),class:F(y(a).b()),onClick:p},[te("tbody",{ref_key:"tbodyRef",ref:o},[(L(),Q(tt,null,Tt(3,(v,b)=>te("tr",{key:b},[(L(),Q(tt,null,Tt(4,(_,S)=>(L(),Q(tt,{key:b+"_"+S},[b*4+S<10?(L(),Q("td",{key:0,ref_for:!0,ref:w=>h(y(f)+b*4+S)&&(c.value=w),class:F(["available",d(y(f)+b*4+S)]),"aria-selected":`${h(y(f)+b*4+S)}`,tabindex:h(y(f)+b*4+S)?0:-1,onKeydown:[Xt(lt(p,["prevent","stop"]),["space"]),Xt(lt(p,["prevent","stop"]),["enter"])]},[te("div",null,[te("span",vG,je(y(f)+b*4+S),1)])],42,gG)):(L(),Q("td",yG))],64))),64))])),64))],512)],10,mG))}});var _G=Ge(bG,[["__file","basic-year-table.vue"]]);const SG=["onClick"],wG=["aria-label"],CG=["aria-label"],xG=["aria-label"],TG=["aria-label"],EG=se({__name:"panel-date-pick",props:XW,emits:["pick","set-picker-option","panel-change"],setup(t,{emit:e}){const n=t,i=(Te,ae,fe)=>!0,r=Ve("picker-panel"),a=Ve("date-picker"),u=Sa(),s=Un(),{t:o,lang:c}=Dt(),f=Je("EP_PICKER_BASE"),l=Je(jh),{shortcuts:d,disabledDate:h,cellClassName:p,defaultTime:g}=f.props,m=Zt(f.props,"defaultValue"),v=Y(),b=Y(yt().locale(c.value)),_=Y(!1);let S=!1;const w=P(()=>yt(g).locale(c.value)),C=P(()=>b.value.month()),x=P(()=>b.value.year()),M=Y([]),E=Y(null),A=Y(null),O=Te=>M.value.length>0?i(Te,M.value,n.format||"HH:mm:ss"):!0,I=Te=>g&&!J.value&&!_.value&&!S?w.value.year(Te.year()).month(Te.month()).date(Te.date()):K.value?Te.millisecond(0):Te.startOf("day"),$=(Te,...ae)=>{if(!Te)e("pick",Te,...ae);else if(qe(Te)){const fe=Te.map(I);e("pick",fe,...ae)}else e("pick",I(Te),...ae);E.value=null,A.value=null,_.value=!1,S=!1},H=async(Te,ae)=>{if(R.value==="date"){Te=Te;let fe=n.parsedValue?n.parsedValue.year(Te.year()).month(Te.month()).date(Te.date()):Te;O(fe)||(fe=M.value[0][0].year(Te.year()).month(Te.month()).date(Te.date())),b.value=fe,$(fe,K.value||ae),n.type==="datetime"&&(await it(),Fe())}else R.value==="week"?$(Te.date):R.value==="dates"&&$(Te,!0)},B=Te=>{const ae=Te?"add":"subtract";b.value=b.value[ae](1,"month"),Ae("month")},N=Te=>{const ae=b.value,fe=Te?"add":"subtract";b.value=k.value==="year"?ae[fe](10,"year"):ae[fe](1,"year"),Ae("year")},k=Y("date"),D=P(()=>{const Te=o("el.datepicker.year");if(k.value==="year"){const ae=Math.floor(x.value/10)*10;return Te?`${ae} ${Te} - ${ae+9} ${Te}`:`${ae} - ${ae+9}`}return`${x.value} ${Te}`}),T=Te=>{const ae=at(Te.value)?Te.value():Te.value;if(ae){S=!0,$(yt(ae).locale(c.value));return}Te.onClick&&Te.onClick({attrs:u,slots:s,emit:e})},R=P(()=>{const{type:Te}=n;return["week","month","year","years","dates"].includes(Te)?Te:"date"}),V=P(()=>R.value==="date"?k.value:R.value),U=P(()=>!!d.length),X=async Te=>{b.value=b.value.startOf("month").month(Te),R.value==="month"?$(b.value,!1):(k.value="date",["month","year","date","week"].includes(R.value)&&($(b.value,!0),await it(),Fe())),Ae("month")},W=async(Te,ae)=>{R.value==="year"?(b.value=b.value.startOf("year").year(Te),$(b.value,!1)):R.value==="years"?$(Te,ae??!0):(b.value=b.value.year(Te),k.value="month",["month","year","date","week"].includes(R.value)&&($(b.value,!0),await it(),Fe())),Ae("year")},j=async Te=>{k.value=Te,await it(),Fe()},K=P(()=>n.type==="datetime"||n.type==="datetimerange"),z=P(()=>{const Te=K.value||R.value==="dates",ae=R.value==="years",fe=k.value==="date",ie=k.value==="year";return Te&&fe||ae&&ie}),ee=P(()=>h?n.parsedValue?qe(n.parsedValue)?h(n.parsedValue[0].toDate()):h(n.parsedValue.toDate()):!0:!1),ue=()=>{if(R.value==="dates"||R.value==="years")$(n.parsedValue);else{let Te=n.parsedValue;if(!Te){const ae=yt(g).locale(c.value),fe=Re();Te=ae.year(fe.year()).month(fe.month()).date(fe.date())}b.value=Te,$(Te)}},ne=P(()=>h?h(yt().locale(c.value).toDate()):!1),le=()=>{const ae=yt().locale(c.value).toDate();_.value=!0,(!h||!h(ae))&&O(ae)&&(b.value=yt().locale(c.value),$(b.value))},Me=P(()=>n.timeFormat||RE(n.format)),q=P(()=>n.dateFormat||AE(n.format)),J=P(()=>{if(A.value)return A.value;if(!(!n.parsedValue&&!m.value))return(n.parsedValue||b.value).format(Me.value)}),ce=P(()=>{if(E.value)return E.value;if(!(!n.parsedValue&&!m.value))return(n.parsedValue||b.value).format(q.value)}),pe=Y(!1),re=()=>{pe.value=!0},he=()=>{pe.value=!1},Ce=Te=>({hour:Te.hour(),minute:Te.minute(),second:Te.second(),year:Te.year(),month:Te.month(),date:Te.date()}),Oe=(Te,ae,fe)=>{const{hour:ie,minute:ge,second:De}=Ce(Te),me=n.parsedValue?n.parsedValue.hour(ie).minute(ge).second(De):Te;b.value=me,$(b.value,!0),fe||(pe.value=ae)},ke=Te=>{const ae=yt(Te,Me.value).locale(c.value);if(ae.isValid()&&O(ae)){const{year:fe,month:ie,date:ge}=Ce(b.value);b.value=ae.year(fe).month(ie).date(ge),A.value=null,pe.value=!1,$(b.value,!0)}},G=Te=>{const ae=yt(Te,q.value).locale(c.value);if(ae.isValid()){if(h&&h(ae.toDate()))return;const{hour:fe,minute:ie,second:ge}=Ce(b.value);b.value=ae.hour(fe).minute(ie).second(ge),E.value=null,$(b.value,!0)}},Z=Te=>yt.isDayjs(Te)&&Te.isValid()&&(h?!h(Te.toDate()):!0),_e=Te=>qe(Te)?Te.map(ae=>ae.format(n.format)):Te.format(n.format),de=Te=>yt(Te,n.format).locale(c.value),Re=()=>{const Te=yt(m.value).locale(c.value);if(!m.value){const ae=w.value;return yt().hour(ae.hour()).minute(ae.minute()).second(ae.second()).locale(c.value)}return Te},Fe=async()=>{var Te;["week","month","year","date"].includes(R.value)&&((Te=v.value)==null||Te.focus(),R.value==="week"&&Ne(nt.down))},ye=Te=>{const{code:ae}=Te;[nt.up,nt.down,nt.left,nt.right,nt.home,nt.end,nt.pageUp,nt.pageDown].includes(ae)&&(Ne(ae),Te.stopPropagation(),Te.preventDefault()),[nt.enter,nt.space,nt.numpadEnter].includes(ae)&&E.value===null&&A.value===null&&(Te.preventDefault(),$(b.value,!1))},Ne=Te=>{var ae;const{up:fe,down:ie,left:ge,right:De,home:me,end:Xe,pageUp:be,pageDown:He}=nt,Ye={year:{[fe]:-4,[ie]:4,[ge]:-1,[De]:1,offset:(Ze,At)=>Ze.setFullYear(Ze.getFullYear()+At)},month:{[fe]:-4,[ie]:4,[ge]:-1,[De]:1,offset:(Ze,At)=>Ze.setMonth(Ze.getMonth()+At)},week:{[fe]:-1,[ie]:1,[ge]:-1,[De]:1,offset:(Ze,At)=>Ze.setDate(Ze.getDate()+At*7)},date:{[fe]:-7,[ie]:7,[ge]:-1,[De]:1,[me]:Ze=>-Ze.getDay(),[Xe]:Ze=>-Ze.getDay()+6,[be]:Ze=>-new Date(Ze.getFullYear(),Ze.getMonth(),0).getDate(),[He]:Ze=>new Date(Ze.getFullYear(),Ze.getMonth()+1,0).getDate(),offset:(Ze,At)=>Ze.setDate(Ze.getDate()+At)}},st=b.value.toDate();for(;Math.abs(b.value.diff(st,"year",!0))<1;){const Ze=Ye[V.value];if(!Ze)return;if(Ze.offset(st,at(Ze[Te])?Ze[Te](st):(ae=Ze[Te])!=null?ae:0),h&&h(st))break;const At=yt(st).locale(c.value);b.value=At,e("pick",At,!0);break}},Ae=Te=>{e("panel-change",b.value.toDate(),Te,k.value)};return Be(()=>R.value,Te=>{if(["month","year"].includes(Te)){k.value=Te;return}else if(Te==="years"){k.value="year";return}k.value="date"},{immediate:!0}),Be(()=>k.value,()=>{l==null||l.updatePopper()}),Be(()=>m.value,Te=>{Te&&(b.value=Re())},{immediate:!0}),Be(()=>n.parsedValue,Te=>{if(Te){if(R.value==="dates"||R.value==="years"||Array.isArray(Te))return;b.value=Te}else b.value=Re()},{immediate:!0}),e("set-picker-option",["isValidValue",Z]),e("set-picker-option",["formatToString",_e]),e("set-picker-option",["parseUserInput",de]),e("set-picker-option",["handleFocusPicker",Fe]),(Te,ae)=>(L(),Q("div",{class:F([y(r).b(),y(a).b(),{"has-sidebar":Te.$slots.sidebar||y(U),"has-time":y(K)}])},[te("div",{class:F(y(r).e("body-wrapper"))},[Le(Te.$slots,"sidebar",{class:F(y(r).e("sidebar"))}),y(U)?(L(),Q("div",{key:0,class:F(y(r).e("sidebar"))},[(L(!0),Q(tt,null,Tt(y(d),(fe,ie)=>(L(),Q("button",{key:ie,type:"button",class:F(y(r).e("shortcut")),onClick:ge=>T(fe)},je(fe.text),11,SG))),128))],2)):Ee("v-if",!0),te("div",{class:F(y(r).e("body"))},[y(K)?(L(),Q("div",{key:0,class:F(y(a).e("time-header"))},[te("span",{class:F(y(a).e("editor-wrap"))},[oe(y(ri),{placeholder:y(o)("el.datepicker.selectDate"),"model-value":y(ce),size:"small","validate-event":!1,onInput:ae[0]||(ae[0]=fe=>E.value=fe),onChange:G},null,8,["placeholder","model-value"])],2),ft((L(),Q("span",{class:F(y(a).e("editor-wrap"))},[oe(y(ri),{placeholder:y(o)("el.datepicker.selectTime"),"model-value":y(J),size:"small","validate-event":!1,onFocus:re,onInput:ae[1]||(ae[1]=fe=>A.value=fe),onChange:ke},null,8,["placeholder","model-value"]),oe(y(rh),{visible:pe.value,format:y(Me),"parsed-value":b.value,onPick:Oe},null,8,["visible","format","parsed-value"])],2)),[[y(ys),he]])],2)):Ee("v-if",!0),ft(te("div",{class:F([y(a).e("header"),(k.value==="year"||k.value==="month")&&y(a).e("header--bordered")])},[te("span",{class:F(y(a).e("prev-btn"))},[te("button",{type:"button","aria-label":y(o)("el.datepicker.prevYear"),class:F(["d-arrow-left",y(r).e("icon-btn")]),onClick:ae[2]||(ae[2]=fe=>N(!1))},[oe(y(et),null,{default:ve(()=>[oe(y(Ol))]),_:1})],10,wG),ft(te("button",{type:"button","aria-label":y(o)("el.datepicker.prevMonth"),class:F([y(r).e("icon-btn"),"arrow-left"]),onClick:ae[3]||(ae[3]=fe=>B(!1))},[oe(y(et),null,{default:ve(()=>[oe(y(uo))]),_:1})],10,CG),[[Nt,k.value==="date"]])],2),te("span",{role:"button",class:F(y(a).e("header-label")),"aria-live":"polite",tabindex:"0",onKeydown:ae[4]||(ae[4]=Xt(fe=>j("year"),["enter"])),onClick:ae[5]||(ae[5]=fe=>j("year"))},je(y(D)),35),ft(te("span",{role:"button","aria-live":"polite",tabindex:"0",class:F([y(a).e("header-label"),{active:k.value==="month"}]),onKeydown:ae[6]||(ae[6]=Xt(fe=>j("month"),["enter"])),onClick:ae[7]||(ae[7]=fe=>j("month"))},je(y(o)(`el.datepicker.month${y(C)+1}`)),35),[[Nt,k.value==="date"]]),te("span",{class:F(y(a).e("next-btn"))},[ft(te("button",{type:"button","aria-label":y(o)("el.datepicker.nextMonth"),class:F([y(r).e("icon-btn"),"arrow-right"]),onClick:ae[8]||(ae[8]=fe=>B(!0))},[oe(y(et),null,{default:ve(()=>[oe(y(vi))]),_:1})],10,xG),[[Nt,k.value==="date"]]),te("button",{type:"button","aria-label":y(o)("el.datepicker.nextYear"),class:F([y(r).e("icon-btn"),"d-arrow-right"]),onClick:ae[9]||(ae[9]=fe=>N(!0))},[oe(y(et),null,{default:ve(()=>[oe(y(kl))]),_:1})],10,TG)],2)],2),[[Nt,k.value!=="time"]]),te("div",{class:F(y(r).e("content")),onKeydown:ye},[k.value==="date"?(L(),Pe(Cg,{key:0,ref_key:"currentViewRef",ref:v,"selection-mode":y(R),date:b.value,"parsed-value":Te.parsedValue,"disabled-date":y(h),"cell-class-name":y(p),onPick:H},null,8,["selection-mode","date","parsed-value","disabled-date","cell-class-name"])):Ee("v-if",!0),k.value==="year"?(L(),Pe(_G,{key:1,ref_key:"currentViewRef",ref:v,"selection-mode":y(R),date:b.value,"disabled-date":y(h),"parsed-value":Te.parsedValue,onPick:W},null,8,["selection-mode","date","disabled-date","parsed-value"])):Ee("v-if",!0),k.value==="month"?(L(),Pe(xg,{key:2,ref_key:"currentViewRef",ref:v,date:b.value,"parsed-value":Te.parsedValue,"disabled-date":y(h),onPick:X},null,8,["date","parsed-value","disabled-date"])):Ee("v-if",!0)],34)],2)],2),ft(te("div",{class:F(y(r).e("footer"))},[ft(oe(y(Dn),{text:"",size:"small",class:F(y(r).e("link-btn")),disabled:y(ne),onClick:le},{default:ve(()=>[Et(je(y(o)("el.datepicker.now")),1)]),_:1},8,["class","disabled"]),[[Nt,y(R)!=="dates"&&y(R)!=="years"]]),oe(y(Dn),{plain:"",size:"small",class:F(y(r).e("link-btn")),disabled:y(ee),onClick:ue},{default:ve(()=>[Et(je(y(o)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2),[[Nt,y(z)]])],2))}});var MG=Ge(EG,[["__file","panel-date-pick.vue"]]);const AG=We({...CM,...xM}),RG=t=>{const{emit:e}=mt(),n=Sa(),i=Un();return a=>{const u=at(a.value)?a.value():a.value;if(u){e("pick",[yt(u[0]).locale(t.value),yt(u[1]).locale(t.value)]);return}a.onClick&&a.onClick({attrs:n,slots:i,emit:e})}},EM=(t,{defaultValue:e,leftDate:n,rightDate:i,unit:r,onParsedValueChanged:a})=>{const{emit:u}=mt(),{pickerNs:s}=Je(D0),o=Ve("date-range-picker"),{t:c,lang:f}=Dt(),l=RG(f),d=Y(),h=Y(),p=Y({endDate:null,selecting:!1}),g=_=>{p.value=_},m=(_=!1)=>{const S=y(d),w=y(h);Sg([S,w])&&u("pick",[S,w],_)},v=_=>{p.value.selecting=_,_||(p.value.endDate=null)},b=()=>{const[_,S]=TM(y(e),{lang:y(f),unit:r,unlinkPanels:t.unlinkPanels});d.value=void 0,h.value=void 0,n.value=_,i.value=S};return Be(e,_=>{_&&b()},{immediate:!0}),Be(()=>t.parsedValue,_=>{if(qe(_)&&_.length===2){const[S,w]=_;d.value=S,n.value=S,h.value=w,a(y(d),y(h))}else b()},{immediate:!0}),{minDate:d,maxDate:h,rangeState:p,lang:f,ppNs:s,drpNs:o,handleChangeRange:g,handleRangeConfirm:m,handleShortcutClick:l,onSelect:v,t:c}},PG=["onClick"],OG=["aria-label"],kG=["aria-label"],LG=["disabled","aria-label"],IG=["disabled","aria-label"],DG=["disabled","aria-label"],NG=["disabled","aria-label"],FG=["aria-label"],BG=["aria-label"],Od="month",UG=se({__name:"panel-date-range",props:AG,emits:["pick","set-picker-option","calendar-change","panel-change"],setup(t,{emit:e}){const n=t,i=Je("EP_PICKER_BASE"),{disabledDate:r,cellClassName:a,format:u,defaultTime:s,clearable:o}=i.props,c=Zt(i.props,"shortcuts"),f=Zt(i.props,"defaultValue"),{lang:l}=Dt(),d=Y(yt().locale(l.value)),h=Y(yt().locale(l.value).add(1,Od)),{minDate:p,maxDate:g,rangeState:m,ppNs:v,drpNs:b,handleChangeRange:_,handleRangeConfirm:S,handleShortcutClick:w,onSelect:C,t:x}=EM(n,{defaultValue:f,leftDate:d,rightDate:h,unit:Od,onParsedValueChanged:ae}),M=Y({min:null,max:null}),E=Y({min:null,max:null}),A=P(()=>`${d.value.year()} ${x("el.datepicker.year")} ${x(`el.datepicker.month${d.value.month()+1}`)}`),O=P(()=>`${h.value.year()} ${x("el.datepicker.year")} ${x(`el.datepicker.month${h.value.month()+1}`)}`),I=P(()=>d.value.year()),$=P(()=>d.value.month()),H=P(()=>h.value.year()),B=P(()=>h.value.month()),N=P(()=>!!c.value.length),k=P(()=>M.value.min!==null?M.value.min:p.value?p.value.format(U.value):""),D=P(()=>M.value.max!==null?M.value.max:g.value||p.value?(g.value||p.value).format(U.value):""),T=P(()=>E.value.min!==null?E.value.min:p.value?p.value.format(V.value):""),R=P(()=>E.value.max!==null?E.value.max:g.value||p.value?(g.value||p.value).format(V.value):""),V=P(()=>n.timeFormat||RE(u)),U=P(()=>n.dateFormat||AE(u)),X=fe=>Sg(fe)&&(r?!r(fe[0].toDate())&&!r(fe[1].toDate()):!0),W=()=>{d.value=d.value.subtract(1,"year"),n.unlinkPanels||(h.value=d.value.add(1,"month")),Me("year")},j=()=>{d.value=d.value.subtract(1,"month"),n.unlinkPanels||(h.value=d.value.add(1,"month")),Me("month")},K=()=>{n.unlinkPanels?h.value=h.value.add(1,"year"):(d.value=d.value.add(1,"year"),h.value=d.value.add(1,"month")),Me("year")},z=()=>{n.unlinkPanels?h.value=h.value.add(1,"month"):(d.value=d.value.add(1,"month"),h.value=d.value.add(1,"month")),Me("month")},ee=()=>{d.value=d.value.add(1,"year"),Me("year")},ue=()=>{d.value=d.value.add(1,"month"),Me("month")},ne=()=>{h.value=h.value.subtract(1,"year"),Me("year")},le=()=>{h.value=h.value.subtract(1,"month"),Me("month")},Me=fe=>{e("panel-change",[d.value.toDate(),h.value.toDate()],fe)},q=P(()=>{const fe=($.value+1)%12,ie=$.value+1>=12?1:0;return n.unlinkPanels&&new Date(I.value+ie,fe)<new Date(H.value,B.value)}),J=P(()=>n.unlinkPanels&&H.value*12+B.value-(I.value*12+$.value+1)>=12),ce=P(()=>!(p.value&&g.value&&!m.value.selecting&&Sg([p.value,g.value]))),pe=P(()=>n.type==="datetime"||n.type==="datetimerange"),re=(fe,ie)=>{if(fe)return s?yt(s[ie]||s).locale(l.value).year(fe.year()).month(fe.month()).date(fe.date()):fe},he=(fe,ie=!0)=>{const ge=fe.minDate,De=fe.maxDate,me=re(ge,0),Xe=re(De,1);g.value===Xe&&p.value===me||(e("calendar-change",[ge.toDate(),De&&De.toDate()]),g.value=Xe,p.value=me,!(!ie||pe.value)&&S())},Ce=Y(!1),Oe=Y(!1),ke=()=>{Ce.value=!1},G=()=>{Oe.value=!1},Z=(fe,ie)=>{M.value[ie]=fe;const ge=yt(fe,U.value).locale(l.value);if(ge.isValid()){if(r&&r(ge.toDate()))return;ie==="min"?(d.value=ge,p.value=(p.value||d.value).year(ge.year()).month(ge.month()).date(ge.date()),!n.unlinkPanels&&(!g.value||g.value.isBefore(p.value))&&(h.value=ge.add(1,"month"),g.value=p.value.add(1,"month"))):(h.value=ge,g.value=(g.value||h.value).year(ge.year()).month(ge.month()).date(ge.date()),!n.unlinkPanels&&(!p.value||p.value.isAfter(g.value))&&(d.value=ge.subtract(1,"month"),p.value=g.value.subtract(1,"month")))}},_e=(fe,ie)=>{M.value[ie]=null},de=(fe,ie)=>{E.value[ie]=fe;const ge=yt(fe,V.value).locale(l.value);ge.isValid()&&(ie==="min"?(Ce.value=!0,p.value=(p.value||d.value).hour(ge.hour()).minute(ge.minute()).second(ge.second()),(!g.value||g.value.isBefore(p.value))&&(g.value=p.value)):(Oe.value=!0,g.value=(g.value||h.value).hour(ge.hour()).minute(ge.minute()).second(ge.second()),h.value=g.value,g.value&&g.value.isBefore(p.value)&&(p.value=g.value)))},Re=(fe,ie)=>{E.value[ie]=null,ie==="min"?(d.value=p.value,Ce.value=!1):(h.value=g.value,Oe.value=!1)},Fe=(fe,ie,ge)=>{E.value.min||(fe&&(d.value=fe,p.value=(p.value||d.value).hour(fe.hour()).minute(fe.minute()).second(fe.second())),ge||(Ce.value=ie),(!g.value||g.value.isBefore(p.value))&&(g.value=p.value,h.value=fe))},ye=(fe,ie,ge)=>{E.value.max||(fe&&(h.value=fe,g.value=(g.value||h.value).hour(fe.hour()).minute(fe.minute()).second(fe.second())),ge||(Oe.value=ie),g.value&&g.value.isBefore(p.value)&&(p.value=g.value))},Ne=()=>{d.value=TM(y(f),{lang:y(l),unit:"month",unlinkPanels:n.unlinkPanels})[0],h.value=d.value.add(1,"month"),g.value=void 0,p.value=void 0,e("pick",null)},Ae=fe=>qe(fe)?fe.map(ie=>ie.format(u)):fe.format(u),Te=fe=>qe(fe)?fe.map(ie=>yt(ie,u).locale(l.value)):yt(fe,u).locale(l.value);function ae(fe,ie){if(n.unlinkPanels&&ie){const ge=(fe==null?void 0:fe.year())||0,De=(fe==null?void 0:fe.month())||0,me=ie.year(),Xe=ie.month();h.value=ge===me&&De===Xe?ie.add(1,Od):ie}else h.value=d.value.add(1,Od),ie&&(h.value=h.value.hour(ie.hour()).minute(ie.minute()).second(ie.second()))}return e("set-picker-option",["isValidValue",X]),e("set-picker-option",["parseUserInput",Te]),e("set-picker-option",["formatToString",Ae]),e("set-picker-option",["handleClear",Ne]),(fe,ie)=>(L(),Q("div",{class:F([y(v).b(),y(b).b(),{"has-sidebar":fe.$slots.sidebar||y(N),"has-time":y(pe)}])},[te("div",{class:F(y(v).e("body-wrapper"))},[Le(fe.$slots,"sidebar",{class:F(y(v).e("sidebar"))}),y(N)?(L(),Q("div",{key:0,class:F(y(v).e("sidebar"))},[(L(!0),Q(tt,null,Tt(y(c),(ge,De)=>(L(),Q("button",{key:De,type:"button",class:F(y(v).e("shortcut")),onClick:me=>y(w)(ge)},je(ge.text),11,PG))),128))],2)):Ee("v-if",!0),te("div",{class:F(y(v).e("body"))},[y(pe)?(L(),Q("div",{key:0,class:F(y(b).e("time-header"))},[te("span",{class:F(y(b).e("editors-wrap"))},[te("span",{class:F(y(b).e("time-picker-wrap"))},[oe(y(ri),{size:"small",disabled:y(m).selecting,placeholder:y(x)("el.datepicker.startDate"),class:F(y(b).e("editor")),"model-value":y(k),"validate-event":!1,onInput:ie[0]||(ie[0]=ge=>Z(ge,"min")),onChange:ie[1]||(ie[1]=ge=>_e(ge,"min"))},null,8,["disabled","placeholder","class","model-value"])],2),ft((L(),Q("span",{class:F(y(b).e("time-picker-wrap"))},[oe(y(ri),{size:"small",class:F(y(b).e("editor")),disabled:y(m).selecting,placeholder:y(x)("el.datepicker.startTime"),"model-value":y(T),"validate-event":!1,onFocus:ie[2]||(ie[2]=ge=>Ce.value=!0),onInput:ie[3]||(ie[3]=ge=>de(ge,"min")),onChange:ie[4]||(ie[4]=ge=>Re(ge,"min"))},null,8,["class","disabled","placeholder","model-value"]),oe(y(rh),{visible:Ce.value,format:y(V),"datetime-role":"start","parsed-value":d.value,onPick:Fe},null,8,["visible","format","parsed-value"])],2)),[[y(ys),ke]])],2),te("span",null,[oe(y(et),null,{default:ve(()=>[oe(y(vi))]),_:1})]),te("span",{class:F([y(b).e("editors-wrap"),"is-right"])},[te("span",{class:F(y(b).e("time-picker-wrap"))},[oe(y(ri),{size:"small",class:F(y(b).e("editor")),disabled:y(m).selecting,placeholder:y(x)("el.datepicker.endDate"),"model-value":y(D),readonly:!y(p),"validate-event":!1,onInput:ie[5]||(ie[5]=ge=>Z(ge,"max")),onChange:ie[6]||(ie[6]=ge=>_e(ge,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"])],2),ft((L(),Q("span",{class:F(y(b).e("time-picker-wrap"))},[oe(y(ri),{size:"small",class:F(y(b).e("editor")),disabled:y(m).selecting,placeholder:y(x)("el.datepicker.endTime"),"model-value":y(R),readonly:!y(p),"validate-event":!1,onFocus:ie[7]||(ie[7]=ge=>y(p)&&(Oe.value=!0)),onInput:ie[8]||(ie[8]=ge=>de(ge,"max")),onChange:ie[9]||(ie[9]=ge=>Re(ge,"max"))},null,8,["class","disabled","placeholder","model-value","readonly"]),oe(y(rh),{"datetime-role":"end",visible:Oe.value,format:y(V),"parsed-value":h.value,onPick:ye},null,8,["visible","format","parsed-value"])],2)),[[y(ys),G]])],2)],2)):Ee("v-if",!0),te("div",{class:F([[y(v).e("content"),y(b).e("content")],"is-left"])},[te("div",{class:F(y(b).e("header"))},[te("button",{type:"button",class:F([y(v).e("icon-btn"),"d-arrow-left"]),"aria-label":y(x)("el.datepicker.prevYear"),onClick:W},[oe(y(et),null,{default:ve(()=>[oe(y(Ol))]),_:1})],10,OG),te("button",{type:"button",class:F([y(v).e("icon-btn"),"arrow-left"]),"aria-label":y(x)("el.datepicker.prevMonth"),onClick:j},[oe(y(et),null,{default:ve(()=>[oe(y(uo))]),_:1})],10,kG),fe.unlinkPanels?(L(),Q("button",{key:0,type:"button",disabled:!y(J),class:F([[y(v).e("icon-btn"),{"is-disabled":!y(J)}],"d-arrow-right"]),"aria-label":y(x)("el.datepicker.nextYear"),onClick:ee},[oe(y(et),null,{default:ve(()=>[oe(y(kl))]),_:1})],10,LG)):Ee("v-if",!0),fe.unlinkPanels?(L(),Q("button",{key:1,type:"button",disabled:!y(q),class:F([[y(v).e("icon-btn"),{"is-disabled":!y(q)}],"arrow-right"]),"aria-label":y(x)("el.datepicker.nextMonth"),onClick:ue},[oe(y(et),null,{default:ve(()=>[oe(y(vi))]),_:1})],10,IG)):Ee("v-if",!0),te("div",null,je(y(A)),1)],2),oe(Cg,{"selection-mode":"range",date:d.value,"min-date":y(p),"max-date":y(g),"range-state":y(m),"disabled-date":y(r),"cell-class-name":y(a),onChangerange:y(_),onPick:he,onSelect:y(C)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2),te("div",{class:F([[y(v).e("content"),y(b).e("content")],"is-right"])},[te("div",{class:F(y(b).e("header"))},[fe.unlinkPanels?(L(),Q("button",{key:0,type:"button",disabled:!y(J),class:F([[y(v).e("icon-btn"),{"is-disabled":!y(J)}],"d-arrow-left"]),"aria-label":y(x)("el.datepicker.prevYear"),onClick:ne},[oe(y(et),null,{default:ve(()=>[oe(y(Ol))]),_:1})],10,DG)):Ee("v-if",!0),fe.unlinkPanels?(L(),Q("button",{key:1,type:"button",disabled:!y(q),class:F([[y(v).e("icon-btn"),{"is-disabled":!y(q)}],"arrow-left"]),"aria-label":y(x)("el.datepicker.prevMonth"),onClick:le},[oe(y(et),null,{default:ve(()=>[oe(y(uo))]),_:1})],10,NG)):Ee("v-if",!0),te("button",{type:"button","aria-label":y(x)("el.datepicker.nextYear"),class:F([y(v).e("icon-btn"),"d-arrow-right"]),onClick:K},[oe(y(et),null,{default:ve(()=>[oe(y(kl))]),_:1})],10,FG),te("button",{type:"button",class:F([y(v).e("icon-btn"),"arrow-right"]),"aria-label":y(x)("el.datepicker.nextMonth"),onClick:z},[oe(y(et),null,{default:ve(()=>[oe(y(vi))]),_:1})],10,BG),te("div",null,je(y(O)),1)],2),oe(Cg,{"selection-mode":"range",date:h.value,"min-date":y(p),"max-date":y(g),"range-state":y(m),"disabled-date":y(r),"cell-class-name":y(a),onChangerange:y(_),onPick:he,onSelect:y(C)},null,8,["date","min-date","max-date","range-state","disabled-date","cell-class-name","onChangerange","onSelect"])],2)],2)],2),y(pe)?(L(),Q("div",{key:0,class:F(y(v).e("footer"))},[y(o)?(L(),Pe(y(Dn),{key:0,text:"",size:"small",class:F(y(v).e("link-btn")),onClick:Ne},{default:ve(()=>[Et(je(y(x)("el.datepicker.clear")),1)]),_:1},8,["class"])):Ee("v-if",!0),oe(y(Dn),{plain:"",size:"small",class:F(y(v).e("link-btn")),disabled:y(ce),onClick:ie[10]||(ie[10]=ge=>y(S)(!1))},{default:ve(()=>[Et(je(y(x)("el.datepicker.confirm")),1)]),_:1},8,["class","disabled"])],2)):Ee("v-if",!0)],2))}});var VG=Ge(UG,[["__file","panel-date-range.vue"]]);const $G=We({...xM}),HG=["pick","set-picker-option","calendar-change"],zG=({unlinkPanels:t,leftDate:e,rightDate:n})=>{const{t:i}=Dt(),r=()=>{e.value=e.value.subtract(1,"year"),t.value||(n.value=n.value.subtract(1,"year"))},a=()=>{t.value||(e.value=e.value.add(1,"year")),n.value=n.value.add(1,"year")},u=()=>{e.value=e.value.add(1,"year")},s=()=>{n.value=n.value.subtract(1,"year")},o=P(()=>`${e.value.year()} ${i("el.datepicker.year")}`),c=P(()=>`${n.value.year()} ${i("el.datepicker.year")}`),f=P(()=>e.value.year()),l=P(()=>n.value.year()===e.value.year()?e.value.year()+1:n.value.year());return{leftPrevYear:r,rightNextYear:a,leftNextYear:u,rightPrevYear:s,leftLabel:o,rightLabel:c,leftYear:f,rightYear:l}},WG=["onClick"],GG=["disabled"],jG=["disabled"],kd="year",XG=se({name:"DatePickerMonthRange"}),KG=se({...XG,props:$G,emits:HG,setup(t,{emit:e}){const n=t,{lang:i}=Dt(),r=Je("EP_PICKER_BASE"),{shortcuts:a,disabledDate:u,format:s}=r.props,o=Zt(r.props,"defaultValue"),c=Y(yt().locale(i.value)),f=Y(yt().locale(i.value).add(1,kd)),{minDate:l,maxDate:d,rangeState:h,ppNs:p,drpNs:g,handleChangeRange:m,handleRangeConfirm:v,handleShortcutClick:b,onSelect:_}=EM(n,{defaultValue:o,leftDate:c,rightDate:f,unit:kd,onParsedValueChanged:N}),S=P(()=>!!a.length),{leftPrevYear:w,rightNextYear:C,leftNextYear:x,rightPrevYear:M,leftLabel:E,rightLabel:A,leftYear:O,rightYear:I}=zG({unlinkPanels:Zt(n,"unlinkPanels"),leftDate:c,rightDate:f}),$=P(()=>n.unlinkPanels&&I.value>O.value+1),H=(k,D=!0)=>{const T=k.minDate,R=k.maxDate;d.value===R&&l.value===T||(e("calendar-change",[T.toDate(),R&&R.toDate()]),d.value=R,l.value=T,D&&v())},B=k=>k.map(D=>D.format(s));function N(k,D){if(n.unlinkPanels&&D){const T=(k==null?void 0:k.year())||0,R=D.year();f.value=T===R?D.add(1,kd):D}else f.value=c.value.add(1,kd)}return e("set-picker-option",["formatToString",B]),(k,D)=>(L(),Q("div",{class:F([y(p).b(),y(g).b(),{"has-sidebar":!!k.$slots.sidebar||y(S)}])},[te("div",{class:F(y(p).e("body-wrapper"))},[Le(k.$slots,"sidebar",{class:F(y(p).e("sidebar"))}),y(S)?(L(),Q("div",{key:0,class:F(y(p).e("sidebar"))},[(L(!0),Q(tt,null,Tt(y(a),(T,R)=>(L(),Q("button",{key:R,type:"button",class:F(y(p).e("shortcut")),onClick:V=>y(b)(T)},je(T.text),11,WG))),128))],2)):Ee("v-if",!0),te("div",{class:F(y(p).e("body"))},[te("div",{class:F([[y(p).e("content"),y(g).e("content")],"is-left"])},[te("div",{class:F(y(g).e("header"))},[te("button",{type:"button",class:F([y(p).e("icon-btn"),"d-arrow-left"]),onClick:D[0]||(D[0]=(...T)=>y(w)&&y(w)(...T))},[oe(y(et),null,{default:ve(()=>[oe(y(Ol))]),_:1})],2),k.unlinkPanels?(L(),Q("button",{key:0,type:"button",disabled:!y($),class:F([[y(p).e("icon-btn"),{[y(p).is("disabled")]:!y($)}],"d-arrow-right"]),onClick:D[1]||(D[1]=(...T)=>y(x)&&y(x)(...T))},[oe(y(et),null,{default:ve(()=>[oe(y(kl))]),_:1})],10,GG)):Ee("v-if",!0),te("div",null,je(y(E)),1)],2),oe(xg,{"selection-mode":"range",date:c.value,"min-date":y(l),"max-date":y(d),"range-state":y(h),"disabled-date":y(u),onChangerange:y(m),onPick:H,onSelect:y(_)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2),te("div",{class:F([[y(p).e("content"),y(g).e("content")],"is-right"])},[te("div",{class:F(y(g).e("header"))},[k.unlinkPanels?(L(),Q("button",{key:0,type:"button",disabled:!y($),class:F([[y(p).e("icon-btn"),{"is-disabled":!y($)}],"d-arrow-left"]),onClick:D[2]||(D[2]=(...T)=>y(M)&&y(M)(...T))},[oe(y(et),null,{default:ve(()=>[oe(y(Ol))]),_:1})],10,jG)):Ee("v-if",!0),te("button",{type:"button",class:F([y(p).e("icon-btn"),"d-arrow-right"]),onClick:D[3]||(D[3]=(...T)=>y(C)&&y(C)(...T))},[oe(y(et),null,{default:ve(()=>[oe(y(kl))]),_:1})],2),te("div",null,je(y(A)),1)],2),oe(xg,{"selection-mode":"range",date:f.value,"min-date":y(l),"max-date":y(d),"range-state":y(h),"disabled-date":y(u),onChangerange:y(m),onPick:H,onSelect:y(_)},null,8,["date","min-date","max-date","range-state","disabled-date","onChangerange","onSelect"])],2)],2)],2)],2))}});var YG=Ge(KG,[["__file","panel-month-range.vue"]]);const qG=function(t){switch(t){case"daterange":case"datetimerange":return VG;case"monthrange":return YG;default:return MG}};yt.extend(GE);yt.extend(IW);yt.extend(k0);yt.extend(NW);yt.extend(BW);yt.extend(VW);yt.extend(HW);yt.extend(WW);var ZG=se({name:"ElDatePicker",install:null,props:GW,emits:["update:modelValue"],setup(t,{expose:e,emit:n,slots:i}){const r=Ve("picker-panel");Mt("ElPopperOptions",$t(Zt(t,"popperOptions"))),Mt(D0,{slots:i,pickerNs:r});const a=Y();e({focus:(o=!0)=>{var c;(c=a.value)==null||c.focus(o)},handleOpen:()=>{var o;(o=a.value)==null||o.handleOpen()},handleClose:()=>{var o;(o=a.value)==null||o.handleClose()}});const s=o=>{n("update:modelValue",o)};return()=>{var o;const c=(o=t.format)!=null?o:Tz[t.type]||nl,f=qG(t.type);return oe(kE,xt(t,{format:c,type:t.type,ref:a,"onUpdate:modelValue":s}),{default:l=>oe(f,l,null),"range-separator":i["range-separator"]})}}});const Tf=ZG;Tf.install=t=>{t.component(Tf.name,Tf)};const JG=Tf,B0=Symbol("elDescriptions");var wc=se({name:"ElDescriptionsCell",props:{cell:{type:Object},tag:{type:String,default:"td"},type:{type:String}},setup(){return{descriptions:Je(B0,{})}},render(){var t,e,n,i,r,a,u;const s=yB(this.cell),o=(((t=this.cell)==null?void 0:t.dirs)||[]).map(w=>{const{dir:C,arg:x,modifiers:M,value:E}=w;return[C,E,x,M]}),{border:c,direction:f}=this.descriptions,l=f==="vertical",d=((i=(n=(e=this.cell)==null?void 0:e.children)==null?void 0:n.label)==null?void 0:i.call(n))||s.label,h=(u=(a=(r=this.cell)==null?void 0:r.children)==null?void 0:a.default)==null?void 0:u.call(a),p=s.span,g=s.align?`is-${s.align}`:"",m=s.labelAlign?`is-${s.labelAlign}`:g,v=s.className,b=s.labelClassName,_={width:yn(s.width),minWidth:yn(s.minWidth)},S=Ve("descriptions");switch(this.type){case"label":return ft(rt(this.tag,{style:_,class:[S.e("cell"),S.e("label"),S.is("bordered-label",c),S.is("vertical-label",l),m,b],colSpan:l?p:1},d),o);case"content":return ft(rt(this.tag,{style:_,class:[S.e("cell"),S.e("content"),S.is("bordered-content",c),S.is("vertical-content",l),g,v],colSpan:l?p:p*2-1},h),o);default:return ft(rt("td",{style:_,class:[S.e("cell"),g],colSpan:p},[In(d)?void 0:rt("span",{class:[S.e("label"),b]},d),rt("span",{class:[S.e("content"),v]},h)]),o)}}});const QG=We({row:{type:we(Array),default:()=>[]}}),ej={key:1},tj=se({name:"ElDescriptionsRow"}),nj=se({...tj,props:QG,setup(t){const e=Je(B0,{});return(n,i)=>y(e).direction==="vertical"?(L(),Q(tt,{key:0},[te("tr",null,[(L(!0),Q(tt,null,Tt(n.row,(r,a)=>(L(),Pe(y(wc),{key:`tr1-${a}`,cell:r,tag:"th",type:"label"},null,8,["cell"]))),128))]),te("tr",null,[(L(!0),Q(tt,null,Tt(n.row,(r,a)=>(L(),Pe(y(wc),{key:`tr2-${a}`,cell:r,tag:"td",type:"content"},null,8,["cell"]))),128))])],64)):(L(),Q("tr",ej,[(L(!0),Q(tt,null,Tt(n.row,(r,a)=>(L(),Q(tt,{key:`tr3-${a}`},[y(e).border?(L(),Q(tt,{key:0},[oe(y(wc),{cell:r,tag:"td",type:"label"},null,8,["cell"]),oe(y(wc),{cell:r,tag:"td",type:"content"},null,8,["cell"])],64)):(L(),Pe(y(wc),{key:1,cell:r,tag:"td",type:"both"},null,8,["cell"]))],64))),128))]))}});var ij=Ge(nj,[["__file","descriptions-row.vue"]]);const rj=We({border:{type:Boolean,default:!1},column:{type:Number,default:3},direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},size:kn,title:{type:String,default:""},extra:{type:String,default:""}}),sj=se({name:"ElDescriptions"}),oj=se({...sj,props:rj,setup(t){const e=t,n=Ve("descriptions"),i=Mn(),r=Un();Mt(B0,e);const a=P(()=>[n.b(),n.m(i.value)]),u=(o,c,f,l=!1)=>(o.props||(o.props={}),c>f&&(o.props.span=f),l&&(o.props.span=c),o),s=()=>{if(!r.default)return[];const o=io(r.default()).filter(h=>{var p;return((p=h==null?void 0:h.type)==null?void 0:p.name)==="ElDescriptionsItem"}),c=[];let f=[],l=e.column,d=0;return o.forEach((h,p)=>{var g;const m=((g=h.props)==null?void 0:g.span)||1;if(p<o.length-1&&(d+=m>l?l:m),p===o.length-1){const v=e.column-d%e.column;f.push(u(h,v,l,!0)),c.push(f);return}m<l?(l-=m,f.push(h)):(f.push(u(h,m,l)),c.push(f),l=e.column,f=[])}),c};return(o,c)=>(L(),Q("div",{class:F(y(a))},[o.title||o.extra||o.$slots.title||o.$slots.extra?(L(),Q("div",{key:0,class:F(y(n).e("header"))},[te("div",{class:F(y(n).e("title"))},[Le(o.$slots,"title",{},()=>[Et(je(o.title),1)])],2),te("div",{class:F(y(n).e("extra"))},[Le(o.$slots,"extra",{},()=>[Et(je(o.extra),1)])],2)],2)):Ee("v-if",!0),te("div",{class:F(y(n).e("body"))},[te("table",{class:F([y(n).e("table"),y(n).is("bordered",o.border)])},[te("tbody",null,[(L(!0),Q(tt,null,Tt(s(),(f,l)=>(L(),Pe(ij,{key:l,row:f},null,8,["row"]))),128))])],2)],2)],2))}});var aj=Ge(oj,[["__file","description.vue"]]);const lj=We({label:{type:String,default:""},span:{type:Number,default:1},width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},align:{type:String,default:"left"},labelAlign:{type:String,default:""},className:{type:String,default:""},labelClassName:{type:String,default:""}}),MM=se({name:"ElDescriptionsItem",props:lj}),cj=gt(aj,{DescriptionsItem:MM}),uj=hn(MM),dj=We({mask:{type:Boolean,default:!0},customMaskEvent:{type:Boolean,default:!1},overlayClass:{type:we([String,Array,Object])},zIndex:{type:we([String,Number])}}),fj={click:t=>t instanceof MouseEvent},hj="overlay";var pj=se({name:"ElOverlay",props:dj,emits:fj,setup(t,{slots:e,emit:n}){const i=Ve(hj),r=o=>{n("click",o)},{onClick:a,onMousedown:u,onMouseup:s}=v0(t.customMaskEvent?void 0:r);return()=>t.mask?oe("div",{class:[i.b(),t.overlayClass],style:{zIndex:t.zIndex},onClick:a,onMousedown:u,onMouseup:s},[Le(e,"default")],Xi.STYLE|Xi.CLASS|Xi.PROPS,["onClick","onMouseup","onMousedown"]):rt("div",{class:t.overlayClass,style:{zIndex:t.zIndex,position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"}},[Le(e,"default")])}});const U0=pj,AM=Symbol("dialogInjectionKey"),RM=We({center:Boolean,alignCenter:Boolean,closeIcon:{type:Kt},draggable:Boolean,overflow:Boolean,fullscreen:Boolean,showClose:{type:Boolean,default:!0},title:{type:String,default:""},ariaLevel:{type:String,default:"2"}}),mj={close:()=>!0},gj=["aria-level"],vj=["aria-label"],yj=["id"],bj=se({name:"ElDialogContent"}),_j=se({...bj,props:RM,emits:mj,setup(t){const e=t,{t:n}=Dt(),{Close:i}=n0,{dialogRef:r,headerRef:a,bodyId:u,ns:s,style:o}=Je(AM),{focusTrapRef:c}=Je(R0),f=P(()=>[s.b(),s.is("fullscreen",e.fullscreen),s.is("draggable",e.draggable),s.is("align-center",e.alignCenter),{[s.m("center")]:e.center}]),l=Fh(c,r),d=P(()=>e.draggable),h=P(()=>e.overflow);return wT(r,a,d,h),(p,g)=>(L(),Q("div",{ref:y(l),class:F(y(f)),style:Qe(y(o)),tabindex:"-1"},[te("header",{ref_key:"headerRef",ref:a,class:F([y(s).e("header"),{"show-close":p.showClose}])},[Le(p.$slots,"header",{},()=>[te("span",{role:"heading","aria-level":p.ariaLevel,class:F(y(s).e("title"))},je(p.title),11,gj)]),p.showClose?(L(),Q("button",{key:0,"aria-label":y(n)("el.dialog.close"),class:F(y(s).e("headerbtn")),type:"button",onClick:g[0]||(g[0]=m=>p.$emit("close"))},[oe(y(et),{class:F(y(s).e("close"))},{default:ve(()=>[(L(),Pe(wt(p.closeIcon||y(i))))]),_:1},8,["class"])],10,vj)):Ee("v-if",!0)],2),te("div",{id:y(u),class:F(y(s).e("body"))},[Le(p.$slots,"default")],10,yj),p.$slots.footer?(L(),Q("footer",{key:0,class:F(y(s).e("footer"))},[Le(p.$slots,"footer")],2)):Ee("v-if",!0)],6))}});var Sj=Ge(_j,[["__file","dialog-content.vue"]]);const PM=We({...RM,appendToBody:Boolean,appendTo:{type:we(String),default:"body"},beforeClose:{type:we(Function)},destroyOnClose:Boolean,closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},modal:{type:Boolean,default:!0},openDelay:{type:Number,default:0},closeDelay:{type:Number,default:0},top:{type:String},modelValue:Boolean,modalClass:String,width:{type:[String,Number]},zIndex:{type:Number},trapFocus:{type:Boolean,default:!1},headerAriaLevel:{type:String,default:"2"}}),OM={open:()=>!0,opened:()=>!0,close:()=>!0,closed:()=>!0,[_t]:t=>Tn(t),openAutoFocus:()=>!0,closeAutoFocus:()=>!0},kM=(t,e)=>{var n;const r=mt().emit,{nextZIndex:a}=oc();let u="";const s=Jn(),o=Jn(),c=Y(!1),f=Y(!1),l=Y(!1),d=Y((n=t.zIndex)!=null?n:a());let h,p;const g=ed("namespace",qc),m=P(()=>{const B={},N=`--${g.value}-dialog`;return t.fullscreen||(t.top&&(B[`${N}-margin-top`]=t.top),t.width&&(B[`${N}-width`]=yn(t.width))),B}),v=P(()=>t.alignCenter?{display:"flex"}:{});function b(){r("opened")}function _(){r("closed"),r(_t,!1),t.destroyOnClose&&(l.value=!1)}function S(){r("close")}function w(){p==null||p(),h==null||h(),t.openDelay&&t.openDelay>0?{stop:h}=aa(()=>E(),t.openDelay):E()}function C(){h==null||h(),p==null||p(),t.closeDelay&&t.closeDelay>0?{stop:p}=aa(()=>A(),t.closeDelay):A()}function x(){function B(N){N||(f.value=!0,c.value=!1)}t.beforeClose?t.beforeClose(B):C()}function M(){t.closeOnClickModal&&x()}function E(){Ot&&(c.value=!0)}function A(){c.value=!1}function O(){r("openAutoFocus")}function I(){r("closeAutoFocus")}function $(B){var N;((N=B.detail)==null?void 0:N.focusReason)==="pointer"&&B.preventDefault()}t.lockScroll&&l0(c);function H(){t.closeOnPressEscape&&x()}return Be(()=>t.modelValue,B=>{B?(f.value=!1,w(),l.value=!0,d.value=cT(t.zIndex)?a():d.value++,it(()=>{r("open"),e.value&&(e.value.scrollTop=0)})):c.value&&C()}),Be(()=>t.fullscreen,B=>{e.value&&(B?(u=e.value.style.transform,e.value.style.transform=""):e.value.style.transform=u)}),ht(()=>{t.modelValue&&(c.value=!0,l.value=!0,w())}),{afterEnter:b,afterLeave:_,beforeLeave:S,handleClose:x,onModalClick:M,close:C,doClose:A,onOpenAutoFocus:O,onCloseAutoFocus:I,onCloseRequested:H,onFocusoutPrevented:$,titleId:s,bodyId:o,closed:f,style:m,overlayDialogStyle:v,rendered:l,visible:c,zIndex:d}},wj=["aria-label","aria-labelledby","aria-describedby"],Cj=se({name:"ElDialog",inheritAttrs:!1}),xj=se({...Cj,props:PM,emits:OM,setup(t,{expose:e}){const n=t,i=Un();ea({scope:"el-dialog",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/dialog.html#slots"},P(()=>!!i.title));const r=Ve("dialog"),a=Y(),u=Y(),s=Y(),{visible:o,titleId:c,bodyId:f,style:l,overlayDialogStyle:d,rendered:h,zIndex:p,afterEnter:g,afterLeave:m,beforeLeave:v,handleClose:b,onModalClick:_,onOpenAutoFocus:S,onCloseAutoFocus:w,onCloseRequested:C,onFocusoutPrevented:x}=kM(n,a);Mt(AM,{dialogRef:a,headerRef:u,bodyId:f,ns:r,rendered:h,style:l});const M=v0(_),E=P(()=>n.draggable&&!n.fullscreen);return e({visible:o,dialogContentRef:s}),(A,O)=>(L(),Pe(ec,{to:A.appendTo,disabled:A.appendTo!=="body"?!1:!A.appendToBody},[oe(An,{name:"dialog-fade",onAfterEnter:y(g),onAfterLeave:y(m),onBeforeLeave:y(v),persisted:""},{default:ve(()=>[ft(oe(y(U0),{"custom-mask-event":"",mask:A.modal,"overlay-class":A.modalClass,"z-index":y(p)},{default:ve(()=>[te("div",{role:"dialog","aria-modal":"true","aria-label":A.title||void 0,"aria-labelledby":A.title?void 0:y(c),"aria-describedby":y(f),class:F(`${y(r).namespace.value}-overlay-dialog`),style:Qe(y(d)),onClick:O[0]||(O[0]=(...I)=>y(M).onClick&&y(M).onClick(...I)),onMousedown:O[1]||(O[1]=(...I)=>y(M).onMousedown&&y(M).onMousedown(...I)),onMouseup:O[2]||(O[2]=(...I)=>y(M).onMouseup&&y(M).onMouseup(...I))},[oe(y(nd),{loop:"",trapped:y(o),"focus-start-el":"container",onFocusAfterTrapped:y(S),onFocusAfterReleased:y(w),onFocusoutPrevented:y(x),onReleaseRequested:y(C)},{default:ve(()=>[y(h)?(L(),Pe(Sj,xt({key:0,ref_key:"dialogContentRef",ref:s},A.$attrs,{center:A.center,"align-center":A.alignCenter,"close-icon":A.closeIcon,draggable:y(E),overflow:A.overflow,fullscreen:A.fullscreen,"show-close":A.showClose,title:A.title,"aria-level":A.headerAriaLevel,onClose:y(b)}),ps({header:ve(()=>[A.$slots.title?Le(A.$slots,"title",{key:1}):Le(A.$slots,"header",{key:0,close:y(b),titleId:y(c),titleClass:y(r).e("title")})]),default:ve(()=>[Le(A.$slots,"default")]),_:2},[A.$slots.footer?{name:"footer",fn:ve(()=>[Le(A.$slots,"footer")])}:void 0]),1040,["center","align-center","close-icon","draggable","overflow","fullscreen","show-close","title","aria-level","onClose"])):Ee("v-if",!0)]),_:3},8,["trapped","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])],46,wj)]),_:3},8,["mask","overlay-class","z-index"]),[[Nt,y(o)]])]),_:3},8,["onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["to","disabled"]))}});var Tj=Ge(xj,[["__file","dialog.vue"]]);const Ej=gt(Tj),Mj=We({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},contentPosition:{type:String,values:["left","center","right"],default:"center"},borderStyle:{type:we(String),default:"solid"}}),Aj=se({name:"ElDivider"}),Rj=se({...Aj,props:Mj,setup(t){const e=t,n=Ve("divider"),i=P(()=>n.cssVar({"border-style":e.borderStyle}));return(r,a)=>(L(),Q("div",{class:F([y(n).b(),y(n).m(r.direction)]),style:Qe(y(i)),role:"separator"},[r.$slots.default&&r.direction!=="vertical"?(L(),Q("div",{key:0,class:F([y(n).e("text"),y(n).is(r.contentPosition)])},[Le(r.$slots,"default")],2)):Ee("v-if",!0)],6))}});var Pj=Ge(Rj,[["__file","divider.vue"]]);const LM=gt(Pj),Oj=We({...PM,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),kj=OM,Lj=["aria-label","aria-labelledby","aria-describedby"],Ij=["id","aria-level"],Dj=["aria-label"],Nj=["id"],Fj=se({name:"ElDrawer",inheritAttrs:!1}),Bj=se({...Fj,props:Oj,emits:kj,setup(t,{expose:e}){const n=t,i=Un();ea({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},P(()=>!!i.title));const r=Y(),a=Y(),u=Ve("drawer"),{t:s}=Dt(),{afterEnter:o,afterLeave:c,beforeLeave:f,visible:l,rendered:d,titleId:h,bodyId:p,zIndex:g,onModalClick:m,onOpenAutoFocus:v,onCloseAutoFocus:b,onFocusoutPrevented:_,onCloseRequested:S,handleClose:w}=kM(n,r),C=P(()=>n.direction==="rtl"||n.direction==="ltr"),x=P(()=>yn(n.size));return e({handleClose:w,afterEnter:o,afterLeave:c}),(M,E)=>(L(),Pe(ec,{to:"body",disabled:!M.appendToBody},[oe(An,{name:y(u).b("fade"),onAfterEnter:y(o),onAfterLeave:y(c),onBeforeLeave:y(f),persisted:""},{default:ve(()=>[ft(oe(y(U0),{mask:M.modal,"overlay-class":M.modalClass,"z-index":y(g),onClick:y(m)},{default:ve(()=>[oe(y(nd),{loop:"",trapped:y(l),"focus-trap-el":r.value,"focus-start-el":a.value,onFocusAfterTrapped:y(v),onFocusAfterReleased:y(b),onFocusoutPrevented:y(_),onReleaseRequested:y(S)},{default:ve(()=>[te("div",xt({ref_key:"drawerRef",ref:r,"aria-modal":"true","aria-label":M.title||void 0,"aria-labelledby":M.title?void 0:y(h),"aria-describedby":y(p)},M.$attrs,{class:[y(u).b(),M.direction,y(l)&&"open"],style:y(C)?"width: "+y(x):"height: "+y(x),role:"dialog",onClick:E[1]||(E[1]=lt(()=>{},["stop"]))}),[te("span",{ref_key:"focusStartRef",ref:a,class:F(y(u).e("sr-focus")),tabindex:"-1"},null,2),M.withHeader?(L(),Q("header",{key:0,class:F(y(u).e("header"))},[M.$slots.title?Le(M.$slots,"title",{key:1},()=>[Ee(" DEPRECATED SLOT ")]):Le(M.$slots,"header",{key:0,close:y(w),titleId:y(h),titleClass:y(u).e("title")},()=>[M.$slots.title?Ee("v-if",!0):(L(),Q("span",{key:0,id:y(h),role:"heading","aria-level":M.headerAriaLevel,class:F(y(u).e("title"))},je(M.title),11,Ij))]),M.showClose?(L(),Q("button",{key:2,"aria-label":y(s)("el.drawer.close"),class:F(y(u).e("close-btn")),type:"button",onClick:E[0]||(E[0]=(...A)=>y(w)&&y(w)(...A))},[oe(y(et),{class:F(y(u).e("close"))},{default:ve(()=>[oe(y(Cr))]),_:1},8,["class"])],10,Dj)):Ee("v-if",!0)],2)):Ee("v-if",!0),y(d)?(L(),Q("div",{key:1,id:y(p),class:F(y(u).e("body"))},[Le(M.$slots,"default")],10,Nj)):Ee("v-if",!0),M.$slots.footer?(L(),Q("div",{key:2,class:F(y(u).e("footer"))},[Le(M.$slots,"footer")],2)):Ee("v-if",!0)],16,Lj)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onFocusAfterTrapped","onFocusAfterReleased","onFocusoutPrevented","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[Nt,y(l)]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"]))}});var Uj=Ge(Bj,[["__file","drawer.vue"]]);const Vj=gt(Uj),$j=se({inheritAttrs:!1});function Hj(t,e,n,i,r,a){return Le(t.$slots,"default")}var zj=Ge($j,[["render",Hj],["__file","collection.vue"]]);const Wj=se({name:"ElCollectionItem",inheritAttrs:!1});function Gj(t,e,n,i,r,a){return Le(t.$slots,"default")}var jj=Ge(Wj,[["render",Gj],["__file","collection-item.vue"]]);const IM="data-el-collection-item",DM=t=>{const e=`El${t}Collection`,n=`${e}Item`,i=Symbol(e),r=Symbol(n),a={...zj,name:e,setup(){const s=Y(null),o=new Map;Mt(i,{itemMap:o,getItems:()=>{const f=y(s);if(!f)return[];const l=Array.from(f.querySelectorAll(`[${IM}]`));return[...o.values()].sort((h,p)=>l.indexOf(h.ref)-l.indexOf(p.ref))},collectionRef:s})}},u={...jj,name:n,setup(s,{attrs:o}){const c=Y(null),f=Je(i,void 0);Mt(r,{collectionItemRef:c}),ht(()=>{const l=y(c);l&&f.itemMap.set(l,{ref:l,...o})}),en(()=>{const l=y(c);f.itemMap.delete(l)})}};return{COLLECTION_INJECTION_KEY:i,COLLECTION_ITEM_INJECTION_KEY:r,ElCollection:a,ElCollectionItem:u}},Xj=We({style:{type:we([String,Array,Object])},currentTabId:{type:we(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:we(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:Kj,ElCollectionItem:Yj,COLLECTION_INJECTION_KEY:V0,COLLECTION_ITEM_INJECTION_KEY:qj}=DM("RovingFocusGroup"),$0=Symbol("elRovingFocusGroup"),NM=Symbol("elRovingFocusGroupItem"),Zj={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Jj=(t,e)=>{if(e!=="rtl")return t;switch(t){case nt.right:return nt.left;case nt.left:return nt.right;default:return t}},Qj=(t,e,n)=>{const i=Jj(t.key,n);if(!(e==="vertical"&&[nt.left,nt.right].includes(i))&&!(e==="horizontal"&&[nt.up,nt.down].includes(i)))return Zj[i]},e9=(t,e)=>t.map((n,i)=>t[(i+e)%t.length]),H0=t=>{const{activeElement:e}=document;for(const n of t)if(n===e||(n.focus(),e!==document.activeElement))return},TS="currentTabIdChange",ES="rovingFocusGroup.entryFocus",t9={bubbles:!1,cancelable:!0},n9=se({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:Xj,emits:[TS,"entryFocus"],setup(t,{emit:e}){var n;const i=Y((n=t.currentTabId||t.defaultCurrentTabId)!=null?n:null),r=Y(!1),a=Y(!1),u=Y(null),{getItems:s}=Je(V0,void 0),o=P(()=>[{outline:"none"},t.style]),c=g=>{e(TS,g)},f=()=>{r.value=!0},l=vn(g=>{var m;(m=t.onMousedown)==null||m.call(t,g)},()=>{a.value=!0}),d=vn(g=>{var m;(m=t.onFocus)==null||m.call(t,g)},g=>{const m=!y(a),{target:v,currentTarget:b}=g;if(v===b&&m&&!y(r)){const _=new Event(ES,t9);if(b==null||b.dispatchEvent(_),!_.defaultPrevented){const S=s().filter(E=>E.focusable),w=S.find(E=>E.active),C=S.find(E=>E.id===y(i)),M=[w,C,...S].filter(Boolean).map(E=>E.ref);H0(M)}}a.value=!1}),h=vn(g=>{var m;(m=t.onBlur)==null||m.call(t,g)},()=>{r.value=!1}),p=(...g)=>{e("entryFocus",...g)};Mt($0,{currentTabbedId:Ql(i),loop:Zt(t,"loop"),tabIndex:P(()=>y(r)?-1:0),rovingFocusGroupRef:u,rovingFocusGroupRootStyle:o,orientation:Zt(t,"orientation"),dir:Zt(t,"dir"),onItemFocus:c,onItemShiftTab:f,onBlur:h,onFocus:d,onMousedown:l}),Be(()=>t.currentTabId,g=>{i.value=g??null}),nn(u,ES,p)}});function i9(t,e,n,i,r,a){return Le(t.$slots,"default")}var r9=Ge(n9,[["render",i9],["__file","roving-focus-group-impl.vue"]]);const s9=se({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:Kj,ElRovingFocusGroupImpl:r9}});function o9(t,e,n,i,r,a){const u=pt("el-roving-focus-group-impl"),s=pt("el-focus-group-collection");return L(),Pe(s,null,{default:ve(()=>[oe(u,ss(Tl(t.$attrs)),{default:ve(()=>[Le(t.$slots,"default")]),_:3},16)]),_:3})}var a9=Ge(s9,[["render",o9],["__file","roving-focus-group.vue"]]);const l9=se({components:{ElRovingFocusCollectionItem:Yj},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(t,{emit:e}){const{currentTabbedId:n,loop:i,onItemFocus:r,onItemShiftTab:a}=Je($0,void 0),{getItems:u}=Je(V0,void 0),s=Jn(),o=Y(null),c=vn(h=>{e("mousedown",h)},h=>{t.focusable?r(y(s)):h.preventDefault()}),f=vn(h=>{e("focus",h)},()=>{r(y(s))}),l=vn(h=>{e("keydown",h)},h=>{const{key:p,shiftKey:g,target:m,currentTarget:v}=h;if(p===nt.tab&&g){a();return}if(m!==v)return;const b=Qj(h);if(b){h.preventDefault();let S=u().filter(w=>w.focusable).map(w=>w.ref);switch(b){case"last":{S.reverse();break}case"prev":case"next":{b==="prev"&&S.reverse();const w=S.indexOf(v);S=i.value?e9(S,w+1):S.slice(w+1);break}}it(()=>{H0(S)})}}),d=P(()=>n.value===y(s));return Mt(NM,{rovingFocusGroupItemRef:o,tabIndex:P(()=>y(d)?0:-1),handleMousedown:c,handleFocus:f,handleKeydown:l}),{id:s,handleKeydown:l,handleFocus:f,handleMousedown:c}}});function c9(t,e,n,i,r,a){const u=pt("el-roving-focus-collection-item");return L(),Pe(u,{id:t.id,focusable:t.focusable,active:t.active},{default:ve(()=>[Le(t.$slots,"default")]),_:3},8,["id","focusable","active"])}var u9=Ge(l9,[["render",c9],["__file","roving-focus-item.vue"]]);const Ef=We({trigger:xu.trigger,effect:{...Hn.effect,default:"light"},type:{type:we(String)},placement:{type:we(String),default:"bottom"},popperOptions:{type:we(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:we([Number,String]),default:0},maxHeight:{type:we([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:we(Object)},teleported:Hn.teleported}),FM=We({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Kt}}),d9=We({onKeydown:{type:we(Function)}}),f9=[nt.down,nt.pageDown,nt.home],BM=[nt.up,nt.pageUp,nt.end],h9=[...f9,...BM],{ElCollection:p9,ElCollectionItem:m9,COLLECTION_INJECTION_KEY:g9,COLLECTION_ITEM_INJECTION_KEY:v9}=DM("Dropdown"),Yh=Symbol("elDropdown"),{ButtonGroup:y9}=Dn,b9=se({name:"ElDropdown",components:{ElButton:Dn,ElButtonGroup:y9,ElScrollbar:Es,ElDropdownCollection:p9,ElTooltip:ai,ElRovingFocusGroup:a9,ElOnlyChild:uE,ElIcon:et,ArrowDown:xs},props:Ef,emits:["visible-change","click","command"],setup(t,{emit:e}){const n=mt(),i=Ve("dropdown"),{t:r}=Dt(),a=Y(),u=Y(),s=Y(null),o=Y(null),c=Y(null),f=Y(null),l=Y(!1),d=[nt.enter,nt.space,nt.down],h=P(()=>({maxHeight:yn(t.maxHeight)})),p=P(()=>[i.m(w.value)]),g=P(()=>ca(t.trigger)),m=Jn().value,v=P(()=>t.id||m);Be([a,g],([k,D],[T])=>{var R,V,U;(R=T==null?void 0:T.$el)!=null&&R.removeEventListener&&T.$el.removeEventListener("pointerenter",x),(V=k==null?void 0:k.$el)!=null&&V.removeEventListener&&k.$el.removeEventListener("pointerenter",x),(U=k==null?void 0:k.$el)!=null&&U.addEventListener&&D.includes("hover")&&k.$el.addEventListener("pointerenter",x)},{immediate:!0}),en(()=>{var k,D;(D=(k=a.value)==null?void 0:k.$el)!=null&&D.removeEventListener&&a.value.$el.removeEventListener("pointerenter",x)});function b(){_()}function _(){var k;(k=s.value)==null||k.onClose()}function S(){var k;(k=s.value)==null||k.onOpen()}const w=Mn();function C(...k){e("command",...k)}function x(){var k,D;(D=(k=a.value)==null?void 0:k.$el)==null||D.focus()}function M(){}function E(){const k=y(o);g.value.includes("hover")&&(k==null||k.focus()),f.value=null}function A(k){f.value=k}function O(k){l.value||(k.preventDefault(),k.stopImmediatePropagation())}function I(){e("visible-change",!0)}function $(k){(k==null?void 0:k.type)==="keydown"&&o.value.focus()}function H(){e("visible-change",!1)}return Mt(Yh,{contentRef:o,role:P(()=>t.role),triggerId:v,isUsingKeyboard:l,onItemEnter:M,onItemLeave:E}),Mt("elDropdown",{instance:n,dropdownSize:w,handleClick:b,commandHandler:C,trigger:Zt(t,"trigger"),hideOnClick:Zt(t,"hideOnClick")}),{t:r,ns:i,scrollbar:c,wrapStyle:h,dropdownTriggerKls:p,dropdownSize:w,triggerId:v,triggerKeys:d,currentTabId:f,handleCurrentTabIdChange:A,handlerMainButtonClick:k=>{e("click",k)},handleEntryFocus:O,handleClose:_,handleOpen:S,handleBeforeShowTooltip:I,handleShowTooltip:$,handleBeforeHideTooltip:H,onFocusAfterTrapped:k=>{var D,T;k.preventDefault(),(T=(D=o.value)==null?void 0:D.focus)==null||T.call(D,{preventScroll:!0})},popperRef:s,contentRef:o,triggeringElementRef:a,referenceElementRef:u}}});function _9(t,e,n,i,r,a){var u;const s=pt("el-dropdown-collection"),o=pt("el-roving-focus-group"),c=pt("el-scrollbar"),f=pt("el-only-child"),l=pt("el-tooltip"),d=pt("el-button"),h=pt("arrow-down"),p=pt("el-icon"),g=pt("el-button-group");return L(),Q("div",{class:F([t.ns.b(),t.ns.is("disabled",t.disabled)])},[oe(l,{ref:"popperRef",role:t.role,effect:t.effect,"fallback-placements":["bottom","top"],"popper-options":t.popperOptions,"gpu-acceleration":!1,"hide-after":t.trigger==="hover"?t.hideTimeout:0,"manual-mode":!0,placement:t.placement,"popper-class":[t.ns.e("popper"),t.popperClass],"reference-element":(u=t.referenceElementRef)==null?void 0:u.$el,trigger:t.trigger,"trigger-keys":t.triggerKeys,"trigger-target-el":t.contentRef,"show-after":t.trigger==="hover"?t.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":t.triggeringElementRef,"virtual-triggering":t.splitButton,disabled:t.disabled,transition:`${t.ns.namespace.value}-zoom-in-top`,teleported:t.teleported,pure:"",persistent:"",onBeforeShow:t.handleBeforeShowTooltip,onShow:t.handleShowTooltip,onBeforeHide:t.handleBeforeHideTooltip},ps({content:ve(()=>[oe(c,{ref:"scrollbar","wrap-style":t.wrapStyle,tag:"div","view-class":t.ns.e("list")},{default:ve(()=>[oe(o,{loop:t.loop,"current-tab-id":t.currentTabId,orientation:"horizontal",onCurrentTabIdChange:t.handleCurrentTabIdChange,onEntryFocus:t.handleEntryFocus},{default:ve(()=>[oe(s,null,{default:ve(()=>[Le(t.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[t.splitButton?void 0:{name:"default",fn:ve(()=>[oe(f,{id:t.triggerId,ref:"triggeringElementRef",role:"button",tabindex:t.tabindex},{default:ve(()=>[Le(t.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),t.splitButton?(L(),Pe(g,{key:0},{default:ve(()=>[oe(d,xt({ref:"referenceElementRef"},t.buttonProps,{size:t.dropdownSize,type:t.type,disabled:t.disabled,tabindex:t.tabindex,onClick:t.handlerMainButtonClick}),{default:ve(()=>[Le(t.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),oe(d,xt({id:t.triggerId,ref:"triggeringElementRef"},t.buttonProps,{role:"button",size:t.dropdownSize,type:t.type,class:t.ns.e("caret-button"),disabled:t.disabled,tabindex:t.tabindex,"aria-label":t.t("el.dropdown.toggleDropdown")}),{default:ve(()=>[oe(p,{class:F(t.ns.e("icon"))},{default:ve(()=>[oe(h)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):Ee("v-if",!0)],2)}var S9=Ge(b9,[["render",_9],["__file","dropdown.vue"]]);const w9=se({name:"DropdownItemImpl",components:{ElIcon:et},props:FM,emits:["pointermove","pointerleave","click","clickimpl"],setup(t,{emit:e}){const n=Ve("dropdown"),{role:i}=Je(Yh,void 0),{collectionItemRef:r}=Je(v9,void 0),{collectionItemRef:a}=Je(qj,void 0),{rovingFocusGroupItemRef:u,tabIndex:s,handleFocus:o,handleKeydown:c,handleMousedown:f}=Je(NM,void 0),l=Fh(r,a,u),d=P(()=>i.value==="menu"?"menuitem":i.value==="navigation"?"link":"button"),h=vn(p=>{const{code:g}=p;if(g===nt.enter||g===nt.space)return p.preventDefault(),p.stopImmediatePropagation(),e("clickimpl",p),!0},c);return{ns:n,itemRef:l,dataset:{[IM]:""},role:d,tabIndex:s,handleFocus:o,handleKeydown:h,handleMousedown:f}}}),C9=["aria-disabled","tabindex","role"];function x9(t,e,n,i,r,a){const u=pt("el-icon");return L(),Q(tt,null,[t.divided?(L(),Q("li",xt({key:0,role:"separator",class:t.ns.bem("menu","item","divided")},t.$attrs),null,16)):Ee("v-if",!0),te("li",xt({ref:t.itemRef},{...t.dataset,...t.$attrs},{"aria-disabled":t.disabled,class:[t.ns.be("menu","item"),t.ns.is("disabled",t.disabled)],tabindex:t.tabIndex,role:t.role,onClick:e[0]||(e[0]=s=>t.$emit("clickimpl",s)),onFocus:e[1]||(e[1]=(...s)=>t.handleFocus&&t.handleFocus(...s)),onKeydown:e[2]||(e[2]=lt((...s)=>t.handleKeydown&&t.handleKeydown(...s),["self"])),onMousedown:e[3]||(e[3]=(...s)=>t.handleMousedown&&t.handleMousedown(...s)),onPointermove:e[4]||(e[4]=s=>t.$emit("pointermove",s)),onPointerleave:e[5]||(e[5]=s=>t.$emit("pointerleave",s))}),[t.icon?(L(),Pe(u,{key:0},{default:ve(()=>[(L(),Pe(wt(t.icon)))]),_:1})):Ee("v-if",!0),Le(t.$slots,"default")],16,C9)],64)}var T9=Ge(w9,[["render",x9],["__file","dropdown-item-impl.vue"]]);const UM=()=>{const t=Je("elDropdown",{}),e=P(()=>t==null?void 0:t.dropdownSize);return{elDropdown:t,_elDropdownSize:e}},E9=se({name:"ElDropdownItem",components:{ElDropdownCollectionItem:m9,ElRovingFocusItem:u9,ElDropdownItemImpl:T9},inheritAttrs:!1,props:FM,emits:["pointermove","pointerleave","click"],setup(t,{emit:e,attrs:n}){const{elDropdown:i}=UM(),r=mt(),a=Y(null),u=P(()=>{var h,p;return(p=(h=y(a))==null?void 0:h.textContent)!=null?p:""}),{onItemEnter:s,onItemLeave:o}=Je(Yh,void 0),c=vn(h=>(e("pointermove",h),h.defaultPrevented),Sb(h=>{if(t.disabled){o(h);return}const p=h.currentTarget;p===document.activeElement||p.contains(document.activeElement)||(s(h),h.defaultPrevented||p==null||p.focus())})),f=vn(h=>(e("pointerleave",h),h.defaultPrevented),Sb(h=>{o(h)})),l=vn(h=>{if(!t.disabled)return e("click",h),h.type!=="keydown"&&h.defaultPrevented},h=>{var p,g,m;if(t.disabled){h.stopImmediatePropagation();return}(p=i==null?void 0:i.hideOnClick)!=null&&p.value&&((g=i.handleClick)==null||g.call(i)),(m=i.commandHandler)==null||m.call(i,t.command,r,h)}),d=P(()=>({...t,...n}));return{handleClick:l,handlePointerMove:c,handlePointerLeave:f,textContent:u,propsAndAttrs:d}}});function M9(t,e,n,i,r,a){var u;const s=pt("el-dropdown-item-impl"),o=pt("el-roving-focus-item"),c=pt("el-dropdown-collection-item");return L(),Pe(c,{disabled:t.disabled,"text-value":(u=t.textValue)!=null?u:t.textContent},{default:ve(()=>[oe(o,{focusable:!t.disabled},{default:ve(()=>[oe(s,xt(t.propsAndAttrs,{onPointerleave:t.handlePointerLeave,onPointermove:t.handlePointerMove,onClickimpl:t.handleClick}),{default:ve(()=>[Le(t.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var VM=Ge(E9,[["render",M9],["__file","dropdown-item.vue"]]);const A9=se({name:"ElDropdownMenu",props:d9,setup(t){const e=Ve("dropdown"),{_elDropdownSize:n}=UM(),i=n.value,{focusTrapRef:r,onKeydown:a}=Je(R0,void 0),{contentRef:u,role:s,triggerId:o}=Je(Yh,void 0),{collectionRef:c,getItems:f}=Je(g9,void 0),{rovingFocusGroupRef:l,rovingFocusGroupRootStyle:d,tabIndex:h,onBlur:p,onFocus:g,onMousedown:m}=Je($0,void 0),{collectionRef:v}=Je(V0,void 0),b=P(()=>[e.b("menu"),e.bm("menu",i==null?void 0:i.value)]),_=Fh(u,c,r,l,v),S=vn(C=>{var x;(x=t.onKeydown)==null||x.call(t,C)},C=>{const{currentTarget:x,code:M,target:E}=C;if(x.contains(E),nt.tab===M&&C.stopImmediatePropagation(),C.preventDefault(),E!==y(u)||!h9.includes(M))return;const O=f().filter(I=>!I.disabled).map(I=>I.ref);BM.includes(M)&&O.reverse(),H0(O)});return{size:i,rovingFocusGroupRootStyle:d,tabIndex:h,dropdownKls:b,role:s,triggerId:o,dropdownListWrapperRef:_,handleKeydown:C=>{S(C),a(C)},onBlur:p,onFocus:g,onMousedown:m}}}),R9=["role","aria-labelledby"];function P9(t,e,n,i,r,a){return L(),Q("ul",{ref:t.dropdownListWrapperRef,class:F(t.dropdownKls),style:Qe(t.rovingFocusGroupRootStyle),tabindex:-1,role:t.role,"aria-labelledby":t.triggerId,onBlur:e[0]||(e[0]=(...u)=>t.onBlur&&t.onBlur(...u)),onFocus:e[1]||(e[1]=(...u)=>t.onFocus&&t.onFocus(...u)),onKeydown:e[2]||(e[2]=lt((...u)=>t.handleKeydown&&t.handleKeydown(...u),["self"])),onMousedown:e[3]||(e[3]=lt((...u)=>t.onMousedown&&t.onMousedown(...u),["self"]))},[Le(t.$slots,"default")],46,R9)}var $M=Ge(A9,[["render",P9],["__file","dropdown-menu.vue"]]);const O9=gt(S9,{DropdownItem:VM,DropdownMenu:$M}),k9=hn(VM),L9=hn($M),I9={viewBox:"0 0 79 86",version:"1.1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},D9=["id"],N9=["stop-color"],F9=["stop-color"],B9=["id"],U9=["stop-color"],V9=["stop-color"],$9=["id"],H9={id:"Illustrations",stroke:"none","stroke-width":"1",fill:"none","fill-rule":"evenodd"},z9={id:"B-type",transform:"translate(-1268.000000, -535.000000)"},W9={id:"Group-2",transform:"translate(1268.000000, 535.000000)"},G9=["fill"],j9=["fill"],X9={id:"Group-Copy",transform:"translate(34.500000, 31.500000) scale(-1, 1) rotate(-25.000000) translate(-34.500000, -31.500000) translate(7.000000, 10.000000)"},K9=["fill"],Y9=["fill"],q9=["fill"],Z9=["fill"],J9=["fill"],Q9={id:"Rectangle-Copy-17",transform:"translate(53.000000, 45.000000)"},eX=["fill","xlink:href"],tX=["fill","mask"],nX=["fill"],iX=se({name:"ImgEmpty"}),rX=se({...iX,setup(t){const e=Ve("empty"),n=Jn();return(i,r)=>(L(),Q("svg",I9,[te("defs",null,[te("linearGradient",{id:`linearGradient-1-${y(n)}`,x1:"38.8503086%",y1:"0%",x2:"61.1496914%",y2:"100%"},[te("stop",{"stop-color":`var(${y(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,N9),te("stop",{"stop-color":`var(${y(e).cssVarBlockName("fill-color-4")})`,offset:"100%"},null,8,F9)],8,D9),te("linearGradient",{id:`linearGradient-2-${y(n)}`,x1:"0%",y1:"9.5%",x2:"100%",y2:"90.5%"},[te("stop",{"stop-color":`var(${y(e).cssVarBlockName("fill-color-1")})`,offset:"0%"},null,8,U9),te("stop",{"stop-color":`var(${y(e).cssVarBlockName("fill-color-6")})`,offset:"100%"},null,8,V9)],8,B9),te("rect",{id:`path-3-${y(n)}`,x:"0",y:"0",width:"17",height:"36"},null,8,$9)]),te("g",H9,[te("g",z9,[te("g",W9,[te("path",{id:"Oval-Copy-2",d:"M39.5,86 C61.3152476,86 79,83.9106622 79,81.3333333 C79,78.7560045 57.3152476,78 35.5,78 C13.6847524,78 0,78.7560045 0,81.3333333 C0,83.9106622 17.6847524,86 39.5,86 Z",fill:`var(${y(e).cssVarBlockName("fill-color-3")})`},null,8,G9),te("polygon",{id:"Rectangle-Copy-14",fill:`var(${y(e).cssVarBlockName("fill-color-7")})`,transform:"translate(27.500000, 51.500000) scale(1, -1) translate(-27.500000, -51.500000) ",points:"13 58 53 58 42 45 2 45"},null,8,j9),te("g",X9,[te("polygon",{id:"Rectangle-Copy-10",fill:`var(${y(e).cssVarBlockName("fill-color-7")})`,transform:"translate(11.500000, 5.000000) scale(1, -1) translate(-11.500000, -5.000000) ",points:"2.84078316e-14 3 18 3 23 7 5 7"},null,8,K9),te("polygon",{id:"Rectangle-Copy-11",fill:`var(${y(e).cssVarBlockName("fill-color-5")})`,points:"-3.69149156e-15 7 38 7 38 43 -3.69149156e-15 43"},null,8,Y9),te("rect",{id:"Rectangle-Copy-12",fill:`url(#linearGradient-1-${y(n)})`,transform:"translate(46.500000, 25.000000) scale(-1, 1) translate(-46.500000, -25.000000) ",x:"38",y:"7",width:"17",height:"36"},null,8,q9),te("polygon",{id:"Rectangle-Copy-13",fill:`var(${y(e).cssVarBlockName("fill-color-2")})`,transform:"translate(39.500000, 3.500000) scale(-1, 1) translate(-39.500000, -3.500000) ",points:"24 7 41 7 55 -3.63806207e-12 38 -3.63806207e-12"},null,8,Z9)]),te("rect",{id:"Rectangle-Copy-15",fill:`url(#linearGradient-2-${y(n)})`,x:"13",y:"45",width:"40",height:"36"},null,8,J9),te("g",Q9,[te("use",{id:"Mask",fill:`var(${y(e).cssVarBlockName("fill-color-8")})`,transform:"translate(8.500000, 18.000000) scale(-1, 1) translate(-8.500000, -18.000000) ","xlink:href":`#path-3-${y(n)}`},null,8,eX),te("polygon",{id:"Rectangle-Copy",fill:`var(${y(e).cssVarBlockName("fill-color-9")})`,mask:`url(#mask-4-${y(n)})`,transform:"translate(12.000000, 9.000000) scale(-1, 1) translate(-12.000000, -9.000000) ",points:"7 0 24 0 20 18 7 16.5"},null,8,tX)]),te("polygon",{id:"Rectangle-Copy-18",fill:`var(${y(e).cssVarBlockName("fill-color-2")})`,transform:"translate(66.000000, 51.500000) scale(-1, 1) translate(-66.000000, -51.500000) ",points:"62 45 79 45 70 58 53 58"},null,8,nX)])])])]))}});var sX=Ge(rX,[["__file","img-empty.vue"]]);const oX=We({image:{type:String,default:""},imageSize:Number,description:{type:String,default:""}}),aX=["src"],lX={key:1},cX=se({name:"ElEmpty"}),uX=se({...cX,props:oX,setup(t){const e=t,{t:n}=Dt(),i=Ve("empty"),r=P(()=>e.description||n("el.table.emptyText")),a=P(()=>({width:yn(e.imageSize)}));return(u,s)=>(L(),Q("div",{class:F(y(i).b())},[te("div",{class:F(y(i).e("image")),style:Qe(y(a))},[u.image?(L(),Q("img",{key:0,src:u.image,ondragstart:"return false"},null,8,aX)):Le(u.$slots,"image",{key:1},()=>[oe(sX)])],6),te("div",{class:F(y(i).e("description"))},[u.$slots.description?Le(u.$slots,"description",{key:0}):(L(),Q("p",lX,je(y(r)),1))],2),u.$slots.default?(L(),Q("div",{key:0,class:F(y(i).e("bottom"))},[Le(u.$slots,"default")],2)):Ee("v-if",!0)],2))}});var dX=Ge(uX,[["__file","empty.vue"]]);const HM=gt(dX),fX=We({urlList:{type:we(Array),default:()=>fn([])},zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},hideOnClickModal:Boolean,teleported:Boolean,closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:we(String)}}),hX={close:()=>!0,switch:t=>ot(t),rotate:t=>ot(t)},pX=["src","crossorigin"],mX=se({name:"ElImageViewer"}),gX=se({...mX,props:fX,emits:hX,setup(t,{expose:e,emit:n}){var i;const r=t,a={CONTAIN:{name:"contain",icon:fl(P3)},ORIGINAL:{name:"original",icon:fl(q3)}},{t:u}=Dt(),s=Ve("image-viewer"),{nextZIndex:o}=oc(),c=Y(),f=Y([]),l=_R(),d=Y(!0),h=Y(r.initialIndex),p=an(a.CONTAIN),g=Y({scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}),m=Y((i=r.zIndex)!=null?i:o()),v=P(()=>{const{urlList:R}=r;return R.length<=1}),b=P(()=>h.value===0),_=P(()=>h.value===r.urlList.length-1),S=P(()=>r.urlList[h.value]),w=P(()=>[s.e("btn"),s.e("prev"),s.is("disabled",!r.infinite&&b.value)]),C=P(()=>[s.e("btn"),s.e("next"),s.is("disabled",!r.infinite&&_.value)]),x=P(()=>{const{scale:R,deg:V,offsetX:U,offsetY:X,enableTransition:W}=g.value;let j=U/R,K=X/R;switch(V%360){case 90:case-270:[j,K]=[K,-j];break;case 180:case-180:[j,K]=[-j,-K];break;case 270:case-90:[j,K]=[-K,j];break}const z={transform:`scale(${R}) rotate(${V}deg) translate(${j}px, ${K}px)`,transition:W?"transform .3s":""};return p.value.name===a.CONTAIN.name&&(z.maxWidth=z.maxHeight="100%"),z});function M(){A(),n("close")}function E(){const R=Qo(U=>{switch(U.code){case nt.esc:r.closeOnPressEscape&&M();break;case nt.space:B();break;case nt.left:k();break;case nt.up:T("zoomIn");break;case nt.right:D();break;case nt.down:T("zoomOut");break}}),V=Qo(U=>{const X=U.deltaY||U.deltaX;T(X<0?"zoomIn":"zoomOut",{zoomRate:r.zoomRate,enableTransition:!1})});l.run(()=>{nn(document,"keydown",R),nn(document,"wheel",V)})}function A(){l.stop()}function O(){d.value=!1}function I(R){d.value=!1,R.target.alt=u("el.image.error")}function $(R){if(d.value||R.button!==0||!c.value)return;g.value.enableTransition=!1;const{offsetX:V,offsetY:U}=g.value,X=R.pageX,W=R.pageY,j=Qo(z=>{g.value={...g.value,offsetX:V+z.pageX-X,offsetY:U+z.pageY-W}}),K=nn(document,"mousemove",j);nn(document,"mouseup",()=>{K()}),R.preventDefault()}function H(){g.value={scale:1,deg:0,offsetX:0,offsetY:0,enableTransition:!1}}function B(){if(d.value)return;const R=Pl(a),V=Object.values(a),U=p.value.name,W=(V.findIndex(j=>j.name===U)+1)%R.length;p.value=a[R[W]],H()}function N(R){const V=r.urlList.length;h.value=(R+V)%V}function k(){b.value&&!r.infinite||N(h.value-1)}function D(){_.value&&!r.infinite||N(h.value+1)}function T(R,V={}){if(d.value)return;const{minScale:U,maxScale:X}=r,{zoomRate:W,rotateDeg:j,enableTransition:K}={zoomRate:r.zoomRate,rotateDeg:90,enableTransition:!0,...V};switch(R){case"zoomOut":g.value.scale>U&&(g.value.scale=Number.parseFloat((g.value.scale/W).toFixed(3)));break;case"zoomIn":g.value.scale<X&&(g.value.scale=Number.parseFloat((g.value.scale*W).toFixed(3)));break;case"clockwise":g.value.deg+=j,n("rotate",g.value.deg);break;case"anticlockwise":g.value.deg-=j,n("rotate",g.value.deg);break}g.value.enableTransition=K}return Be(S,()=>{it(()=>{const R=f.value[0];R!=null&&R.complete||(d.value=!0)})}),Be(h,R=>{H(),n("switch",R)}),ht(()=>{var R,V;E(),(V=(R=c.value)==null?void 0:R.focus)==null||V.call(R)}),e({setActiveItem:N}),(R,V)=>(L(),Pe(ec,{to:"body",disabled:!R.teleported},[oe(An,{name:"viewer-fade",appear:""},{default:ve(()=>[te("div",{ref_key:"wrapper",ref:c,tabindex:-1,class:F(y(s).e("wrapper")),style:Qe({zIndex:m.value})},[te("div",{class:F(y(s).e("mask")),onClick:V[0]||(V[0]=lt(U=>R.hideOnClickModal&&M(),["self"]))},null,2),Ee(" CLOSE "),te("span",{class:F([y(s).e("btn"),y(s).e("close")]),onClick:M},[oe(y(et),null,{default:ve(()=>[oe(y(Cr))]),_:1})],2),Ee(" ARROW "),y(v)?Ee("v-if",!0):(L(),Q(tt,{key:0},[te("span",{class:F(y(w)),onClick:k},[oe(y(et),null,{default:ve(()=>[oe(y(uo))]),_:1})],2),te("span",{class:F(y(C)),onClick:D},[oe(y(et),null,{default:ve(()=>[oe(y(vi))]),_:1})],2)],64)),Ee(" ACTIONS "),te("div",{class:F([y(s).e("btn"),y(s).e("actions")])},[te("div",{class:F(y(s).e("actions__inner"))},[oe(y(et),{onClick:V[1]||(V[1]=U=>T("zoomOut"))},{default:ve(()=>[oe(y(fB))]),_:1}),oe(y(et),{onClick:V[2]||(V[2]=U=>T("zoomIn"))},{default:ve(()=>[oe(y(yT))]),_:1}),te("i",{class:F(y(s).e("actions__divider"))},null,2),oe(y(et),{onClick:B},{default:ve(()=>[(L(),Pe(wt(y(p).icon)))]),_:1}),te("i",{class:F(y(s).e("actions__divider"))},null,2),oe(y(et),{onClick:V[3]||(V[3]=U=>T("anticlockwise"))},{default:ve(()=>[oe(y(j3))]),_:1}),oe(y(et),{onClick:V[4]||(V[4]=U=>T("clockwise"))},{default:ve(()=>[oe(y(K3))]),_:1})],2)],2),Ee(" CANVAS "),te("div",{class:F(y(s).e("canvas"))},[(L(!0),Q(tt,null,Tt(R.urlList,(U,X)=>ft((L(),Q("img",{ref_for:!0,ref:W=>f.value[X]=W,key:U,src:U,style:Qe(y(x)),class:F(y(s).e("img")),crossorigin:R.crossorigin,onLoad:O,onError:I,onMousedown:$},null,46,pX)),[[Nt,X===h.value]])),128))],2),Le(R.$slots,"default")],6)]),_:3})],8,["disabled"]))}});var vX=Ge(gX,[["__file","image-viewer.vue"]]);const zM=gt(vX),yX=We({hideOnClickModal:Boolean,src:{type:String,default:""},fit:{type:String,values:["","contain","cover","fill","none","scale-down"],default:""},loading:{type:String,values:["eager","lazy"]},lazy:Boolean,scrollContainer:{type:we([String,Object])},previewSrcList:{type:we(Array),default:()=>fn([])},previewTeleported:Boolean,zIndex:{type:Number},initialIndex:{type:Number,default:0},infinite:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},zoomRate:{type:Number,default:1.2},minScale:{type:Number,default:.2},maxScale:{type:Number,default:7},crossorigin:{type:we(String)}}),bX={load:t=>t instanceof Event,error:t=>t instanceof Event,switch:t=>ot(t),close:()=>!0,show:()=>!0},_X=["src","loading","crossorigin"],SX={key:0},wX=se({name:"ElImage",inheritAttrs:!1}),CX=se({...wX,props:yX,emits:bX,setup(t,{emit:e}){const n=t;let i="";const{t:r}=Dt(),a=Ve("image"),u=Sa(),s=o0(),o=Y(),c=Y(!1),f=Y(!0),l=Y(!1),d=Y(),h=Y(),p=Ot&&"loading"in HTMLImageElement.prototype;let g,m;const v=P(()=>[a.e("inner"),S.value&&a.e("preview"),f.value&&a.is("loading")]),b=P(()=>u.style),_=P(()=>{const{fit:D}=n;return Ot&&D?{objectFit:D}:{}}),S=P(()=>{const{previewSrcList:D}=n;return Array.isArray(D)&&D.length>0}),w=P(()=>{const{previewSrcList:D,initialIndex:T}=n;let R=T;return T>D.length-1&&(R=0),R}),C=P(()=>n.loading==="eager"?!1:!p&&n.loading==="lazy"||n.lazy),x=()=>{Ot&&(f.value=!0,c.value=!1,o.value=n.src)};function M(D){f.value=!1,c.value=!1,e("load",D)}function E(D){f.value=!1,c.value=!0,e("error",D)}function A(){gk(d.value,h.value)&&(x(),$())}const O=_x(A,200,!0);async function I(){var D;if(!Ot)return;await it();const{scrollContainer:T}=n;rr(T)?h.value=T:ct(T)&&T!==""?h.value=(D=document.querySelector(T))!=null?D:void 0:d.value&&(h.value=Zv(d.value)),h.value&&(g=nn(h,"scroll",O),setTimeout(()=>A(),100))}function $(){!Ot||!h.value||!O||(g==null||g(),h.value=void 0)}function H(D){if(D.ctrlKey){if(D.deltaY<0)return D.preventDefault(),!1;if(D.deltaY>0)return D.preventDefault(),!1}}function B(){S.value&&(m=nn("wheel",H,{passive:!1}),i=document.body.style.overflow,document.body.style.overflow="hidden",l.value=!0,e("show"))}function N(){m==null||m(),document.body.style.overflow=i,l.value=!1,e("close")}function k(D){e("switch",D)}return Be(()=>n.src,()=>{C.value?(f.value=!0,c.value=!1,$(),I()):x()}),ht(()=>{C.value?I():x()}),(D,T)=>(L(),Q("div",{ref_key:"container",ref:d,class:F([y(a).b(),D.$attrs.class]),style:Qe(y(b))},[c.value?Le(D.$slots,"error",{key:0},()=>[te("div",{class:F(y(a).e("error"))},je(y(r)("el.image.error")),3)]):(L(),Q(tt,{key:1},[o.value!==void 0?(L(),Q("img",xt({key:0},y(s),{src:o.value,loading:D.loading,style:y(_),class:y(v),crossorigin:D.crossorigin,onClick:B,onLoad:M,onError:E}),null,16,_X)):Ee("v-if",!0),f.value?(L(),Q("div",{key:1,class:F(y(a).e("wrapper"))},[Le(D.$slots,"placeholder",{},()=>[te("div",{class:F(y(a).e("placeholder"))},null,2)])],2)):Ee("v-if",!0)],64)),y(S)?(L(),Q(tt,{key:2},[l.value?(L(),Pe(y(zM),{key:0,"z-index":D.zIndex,"initial-index":y(w),infinite:D.infinite,"zoom-rate":D.zoomRate,"min-scale":D.minScale,"max-scale":D.maxScale,"url-list":D.previewSrcList,"hide-on-click-modal":D.hideOnClickModal,teleported:D.previewTeleported,"close-on-press-escape":D.closeOnPressEscape,onClose:N,onSwitch:k},{default:ve(()=>[D.$slots.viewer?(L(),Q("div",SX,[Le(D.$slots,"viewer")])):Ee("v-if",!0)]),_:3},8,["z-index","initial-index","infinite","zoom-rate","min-scale","max-scale","url-list","hide-on-click-modal","teleported","close-on-press-escape"])):Ee("v-if",!0)],64)):Ee("v-if",!0)],6))}});var xX=Ge(CX,[["__file","image.vue"]]);const TX=gt(xX),EX=We({id:{type:String,default:void 0},step:{type:Number,default:1},stepStrictly:Boolean,max:{type:Number,default:Number.POSITIVE_INFINITY},min:{type:Number,default:Number.NEGATIVE_INFINITY},modelValue:Number,readonly:Boolean,disabled:Boolean,size:kn,controls:{type:Boolean,default:!0},controlsPosition:{type:String,default:"",values:["","right"]},valueOnClear:{type:[String,Number,null],validator:t=>t===null||ot(t)||["min","max"].includes(t),default:null},name:String,label:String,placeholder:String,precision:{type:Number,validator:t=>t>=0&&t===Number.parseInt(`${t}`,10)},validateEvent:{type:Boolean,default:!0}}),MX={[rn]:(t,e)=>e!==t,blur:t=>t instanceof FocusEvent,focus:t=>t instanceof FocusEvent,[yi]:t=>ot(t)||In(t),[_t]:t=>ot(t)||In(t)},AX=["aria-label","onKeydown"],RX=["aria-label","onKeydown"],PX=se({name:"ElInputNumber"}),OX=se({...PX,props:EX,emits:MX,setup(t,{expose:e,emit:n}){const i=t,{t:r}=Dt(),a=Ve("input-number"),u=Y(),s=$t({currentValue:i.modelValue,userInput:null}),{formItem:o}=li(),c=P(()=>ot(i.modelValue)&&i.modelValue<=i.min),f=P(()=>ot(i.modelValue)&&i.modelValue>=i.max),l=P(()=>{const B=v(i.step);return xn(i.precision)?Math.max(v(i.modelValue),B):(B>i.precision,i.precision)}),d=P(()=>i.controls&&i.controlsPosition==="right"),h=Mn(),p=wi(),g=P(()=>{if(s.userInput!==null)return s.userInput;let B=s.currentValue;if(In(B))return"";if(ot(B)){if(Number.isNaN(B))return"";xn(i.precision)||(B=B.toFixed(i.precision))}return B}),m=(B,N)=>{if(xn(N)&&(N=l.value),N===0)return Math.round(B);let k=String(B);const D=k.indexOf(".");if(D===-1||!k.replace(".","").split("")[D+N])return B;const V=k.length;return k.charAt(V-1)==="5"&&(k=`${k.slice(0,Math.max(0,V-1))}6`),Number.parseFloat(Number(k).toFixed(N))},v=B=>{if(In(B))return 0;const N=B.toString(),k=N.indexOf(".");let D=0;return k!==-1&&(D=N.length-k-1),D},b=(B,N=1)=>ot(B)?m(B+i.step*N):s.currentValue,_=()=>{if(i.readonly||p.value||f.value)return;const B=Number(g.value)||0,N=b(B);C(N),n(yi,s.currentValue),$()},S=()=>{if(i.readonly||p.value||c.value)return;const B=Number(g.value)||0,N=b(B,-1);C(N),n(yi,s.currentValue),$()},w=(B,N)=>{const{max:k,min:D,step:T,precision:R,stepStrictly:V,valueOnClear:U}=i;k<D&&Rn("InputNumber","min should not be greater than max.");let X=Number(B);if(In(B)||Number.isNaN(X))return null;if(B===""){if(U===null)return null;X=ct(U)?{min:D,max:k}[U]:U}return V&&(X=m(Math.round(X/T)*T,R)),xn(R)||(X=m(X,R)),(X>k||X<D)&&(X=X>k?k:D,N&&n(_t,X)),X},C=(B,N=!0)=>{var k;const D=s.currentValue,T=w(B);if(!N){n(_t,T);return}D===T&&B||(s.userInput=null,n(_t,T),D!==T&&n(rn,T,D),i.validateEvent&&((k=o==null?void 0:o.validate)==null||k.call(o,"change").catch(R=>void 0)),s.currentValue=T)},x=B=>{s.userInput=B;const N=B===""?null:Number(B);n(yi,N),C(N,!1)},M=B=>{const N=B!==""?Number(B):"";(ot(N)&&!Number.isNaN(N)||B==="")&&C(N),$(),s.userInput=null},E=()=>{var B,N;(N=(B=u.value)==null?void 0:B.focus)==null||N.call(B)},A=()=>{var B,N;(N=(B=u.value)==null?void 0:B.blur)==null||N.call(B)},O=B=>{n("focus",B)},I=B=>{var N;s.userInput=null,n("blur",B),i.validateEvent&&((N=o==null?void 0:o.validate)==null||N.call(o,"blur").catch(k=>void 0))},$=()=>{s.currentValue!==i.modelValue&&(s.currentValue=i.modelValue)},H=B=>{document.activeElement===B.target&&B.preventDefault()};return Be(()=>i.modelValue,(B,N)=>{const k=w(B,!0);s.userInput===null&&k!==N&&(s.currentValue=k)},{immediate:!0}),ht(()=>{var B;const{min:N,max:k,modelValue:D}=i,T=(B=u.value)==null?void 0:B.input;if(T.setAttribute("role","spinbutton"),Number.isFinite(k)?T.setAttribute("aria-valuemax",String(k)):T.removeAttribute("aria-valuemax"),Number.isFinite(N)?T.setAttribute("aria-valuemin",String(N)):T.removeAttribute("aria-valuemin"),T.setAttribute("aria-valuenow",s.currentValue||s.currentValue===0?String(s.currentValue):""),T.setAttribute("aria-disabled",String(p.value)),!ot(D)&&D!=null){let R=Number(D);Number.isNaN(R)&&(R=null),n(_t,R)}}),Ss(()=>{var B,N;const k=(B=u.value)==null?void 0:B.input;k==null||k.setAttribute("aria-valuenow",`${(N=s.currentValue)!=null?N:""}`)}),e({focus:E,blur:A}),(B,N)=>(L(),Q("div",{class:F([y(a).b(),y(a).m(y(h)),y(a).is("disabled",y(p)),y(a).is("without-controls",!B.controls),y(a).is("controls-right",y(d))]),onDragstart:N[0]||(N[0]=lt(()=>{},["prevent"]))},[B.controls?ft((L(),Q("span",{key:0,role:"button","aria-label":y(r)("el.inputNumber.decrease"),class:F([y(a).e("decrease"),y(a).is("disabled",y(c))]),onKeydown:Xt(S,["enter"])},[Le(B.$slots,"decrease-icon",{},()=>[oe(y(et),null,{default:ve(()=>[y(d)?(L(),Pe(y(xs),{key:0})):(L(),Pe(y(N3),{key:1}))]),_:1})])],42,AX)),[[y(ih),S]]):Ee("v-if",!0),B.controls?ft((L(),Q("span",{key:1,role:"button","aria-label":y(r)("el.inputNumber.increase"),class:F([y(a).e("increase"),y(a).is("disabled",y(f))]),onKeydown:Xt(_,["enter"])},[Le(B.$slots,"increase-icon",{},()=>[oe(y(et),null,{default:ve(()=>[y(d)?(L(),Pe(y(Jv),{key:0})):(L(),Pe(y(gT),{key:1}))]),_:1})])],42,RX)),[[y(ih),_]]):Ee("v-if",!0),oe(y(ri),{id:B.id,ref_key:"input",ref:u,type:"number",step:B.step,"model-value":y(g),placeholder:B.placeholder,readonly:B.readonly,disabled:y(p),size:y(h),max:B.max,min:B.min,name:B.name,label:B.label,"validate-event":!1,onWheel:H,onKeydown:[Xt(lt(_,["prevent"]),["up"]),Xt(lt(S,["prevent"]),["down"])],onBlur:I,onFocus:O,onInput:x,onChange:M},null,8,["id","step","model-value","placeholder","readonly","disabled","size","max","min","name","label","onKeydown"])],34))}});var kX=Ge(OX,[["__file","input-number.vue"]]);const WM=gt(kX),LX=We({type:{type:String,values:["primary","success","warning","info","danger","default"],default:"default"},underline:{type:Boolean,default:!0},disabled:{type:Boolean,default:!1},href:{type:String,default:""},target:{type:String,default:"_self"},icon:{type:Kt}}),IX={click:t=>t instanceof MouseEvent},DX=["href","target"],NX=se({name:"ElLink"}),FX=se({...NX,props:LX,emits:IX,setup(t,{emit:e}){const n=t,i=Ve("link"),r=P(()=>[i.b(),i.m(n.type),i.is("disabled",n.disabled),i.is("underline",n.underline&&!n.disabled)]);function a(u){n.disabled||e("click",u)}return(u,s)=>(L(),Q("a",{class:F(y(r)),href:u.disabled||!u.href?void 0:u.href,target:u.disabled||!u.href?void 0:u.target,onClick:a},[u.icon?(L(),Pe(y(et),{key:0},{default:ve(()=>[(L(),Pe(wt(u.icon)))]),_:1})):Ee("v-if",!0),u.$slots.default?(L(),Q("span",{key:1,class:F(y(i).e("inner"))},[Le(u.$slots,"default")],2)):Ee("v-if",!0),u.$slots.icon?Le(u.$slots,"icon",{key:2}):Ee("v-if",!0)],10,DX))}});var BX=Ge(FX,[["__file","link.vue"]]);const UX=gt(BX);let VX=class{constructor(e,n){this.parent=e,this.domNode=n,this.subIndex=0,this.subIndex=0,this.init()}init(){this.subMenuItems=this.domNode.querySelectorAll("li"),this.addListeners()}gotoSubIndex(e){e===this.subMenuItems.length?e=0:e<0&&(e=this.subMenuItems.length-1),this.subMenuItems[e].focus(),this.subIndex=e}addListeners(){const e=this.parent.domNode;Array.prototype.forEach.call(this.subMenuItems,n=>{n.addEventListener("keydown",i=>{let r=!1;switch(i.code){case nt.down:{this.gotoSubIndex(this.subIndex+1),r=!0;break}case nt.up:{this.gotoSubIndex(this.subIndex-1),r=!0;break}case nt.tab:{ff(e,"mouseleave");break}case nt.enter:case nt.space:{r=!0,i.currentTarget.click();break}}return r&&(i.preventDefault(),i.stopPropagation()),!1})})}},$X=class{constructor(e,n){this.domNode=e,this.submenu=null,this.submenu=null,this.init(n)}init(e){this.domNode.setAttribute("tabindex","0");const n=this.domNode.querySelector(`.${e}-menu`);n&&(this.submenu=new VX(this,n)),this.addListeners()}addListeners(){this.domNode.addEventListener("keydown",e=>{let n=!1;switch(e.code){case nt.down:{ff(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(0),n=!0;break}case nt.up:{ff(e.currentTarget,"mouseenter"),this.submenu&&this.submenu.gotoSubIndex(this.submenu.subMenuItems.length-1),n=!0;break}case nt.tab:{ff(e.currentTarget,"mouseleave");break}case nt.enter:case nt.space:{n=!0,e.currentTarget.click();break}}n&&e.preventDefault()})}},HX=class{constructor(e,n){this.domNode=e,this.init(n)}init(e){const n=this.domNode.childNodes;Array.from(n).forEach(i=>{i.nodeType===1&&new $X(i,e)})}};const zX=se({name:"ElMenuCollapseTransition",setup(){const t=Ve("menu");return{listeners:{onBeforeEnter:n=>n.style.opacity="0.2",onEnter(n,i){Zi(n,`${t.namespace.value}-opacity-transition`),n.style.opacity="1",i()},onAfterEnter(n){oi(n,`${t.namespace.value}-opacity-transition`),n.style.opacity=""},onBeforeLeave(n){n.dataset||(n.dataset={}),er(n,t.m("collapse"))?(oi(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),Zi(n,t.m("collapse"))):(Zi(n,t.m("collapse")),n.dataset.oldOverflow=n.style.overflow,n.dataset.scrollWidth=n.clientWidth.toString(),oi(n,t.m("collapse"))),n.style.width=`${n.scrollWidth}px`,n.style.overflow="hidden"},onLeave(n){Zi(n,"horizontal-collapse-transition"),n.style.width=`${n.dataset.scrollWidth}px`}}}}});function WX(t,e,n,i,r,a){return L(),Pe(An,xt({mode:"out-in"},t.listeners),{default:ve(()=>[Le(t.$slots,"default")]),_:3},16)}var GX=Ge(zX,[["render",WX],["__file","menu-collapse-transition.vue"]]);function GM(t,e){const n=P(()=>{let r=t.parent;const a=[e.value];for(;r.type.name!=="ElMenu";)r.props.index&&a.unshift(r.props.index),r=r.parent;return a});return{parentMenu:P(()=>{let r=t.parent;for(;r&&!["ElMenu","ElSubMenu"].includes(r.type.name);)r=r.parent;return r}),indexPath:n}}function jX(t){return P(()=>{const n=t.backgroundColor;return n?new CE(n).shade(20).toString():""})}const jM=(t,e)=>{const n=Ve("menu");return P(()=>n.cssVarBlock({"text-color":t.textColor||"","hover-text-color":t.textColor||"","bg-color":t.backgroundColor||"","hover-bg-color":jX(t).value||"","active-color":t.activeTextColor||"",level:`${e}`}))},XX=We({index:{type:String,required:!0},showTimeout:Number,hideTimeout:Number,popperClass:String,disabled:Boolean,teleported:{type:Boolean,default:void 0},popperOffset:Number,expandCloseIcon:{type:Kt},expandOpenIcon:{type:Kt},collapseCloseIcon:{type:Kt},collapseOpenIcon:{type:Kt}}),Dp="ElSubMenu";var z0=se({name:Dp,props:XX,setup(t,{slots:e,expose:n}){const i=mt(),{indexPath:r,parentMenu:a}=GM(i,P(()=>t.index)),u=Ve("menu"),s=Ve("sub-menu"),o=Je("rootMenu");o||Rn(Dp,"can not inject root menu");const c=Je(`subMenu:${a.value.uid}`);c||Rn(Dp,"can not inject sub menu");const f=Y({}),l=Y({});let d;const h=Y(!1),p=Y(),g=Y(null),m=P(()=>M.value==="horizontal"&&b.value?"bottom-start":"right-start"),v=P(()=>M.value==="horizontal"&&b.value||M.value==="vertical"&&!o.props.collapse?t.expandCloseIcon&&t.expandOpenIcon?C.value?t.expandOpenIcon:t.expandCloseIcon:xs:t.collapseCloseIcon&&t.collapseOpenIcon?C.value?t.collapseOpenIcon:t.collapseCloseIcon:vi),b=P(()=>c.level===0),_=P(()=>{const R=t.teleported;return R===void 0?b.value:R}),S=P(()=>o.props.collapse?`${u.namespace.value}-zoom-in-left`:`${u.namespace.value}-zoom-in-top`),w=P(()=>M.value==="horizontal"&&b.value?["bottom-start","bottom-end","top-start","top-end","right-start","left-start"]:["right-start","right","right-end","left-start","bottom-start","bottom-end","top-start","top-end"]),C=P(()=>o.openedMenus.includes(t.index)),x=P(()=>{let R=!1;return Object.values(f.value).forEach(V=>{V.active&&(R=!0)}),Object.values(l.value).forEach(V=>{V.active&&(R=!0)}),R}),M=P(()=>o.props.mode),E=$t({index:t.index,indexPath:r,active:x}),A=jM(o.props,c.level+1),O=P(()=>{var R;return(R=t.popperOffset)!=null?R:o.props.popperOffset}),I=P(()=>{var R;return(R=t.popperClass)!=null?R:o.props.popperClass}),$=P(()=>{var R;return(R=t.showTimeout)!=null?R:o.props.showTimeout}),H=P(()=>{var R;return(R=t.hideTimeout)!=null?R:o.props.hideTimeout}),B=()=>{var R,V,U;return(U=(V=(R=g.value)==null?void 0:R.popperRef)==null?void 0:V.popperInstanceRef)==null?void 0:U.destroy()},N=R=>{R||B()},k=()=>{o.props.menuTrigger==="hover"&&o.props.mode==="horizontal"||o.props.collapse&&o.props.mode==="vertical"||t.disabled||o.handleSubMenuClick({index:t.index,indexPath:r.value,active:x.value})},D=(R,V=$.value)=>{var U;if(R.type!=="focus"){if(o.props.menuTrigger==="click"&&o.props.mode==="horizontal"||!o.props.collapse&&o.props.mode==="vertical"||t.disabled){c.mouseInChild.value=!0;return}c.mouseInChild.value=!0,d==null||d(),{stop:d}=aa(()=>{o.openMenu(t.index,r.value)},V),_.value&&((U=a.value.vnode.el)==null||U.dispatchEvent(new MouseEvent("mouseenter")))}},T=(R=!1)=>{var V;if(o.props.menuTrigger==="click"&&o.props.mode==="horizontal"||!o.props.collapse&&o.props.mode==="vertical"){c.mouseInChild.value=!1;return}d==null||d(),c.mouseInChild.value=!1,{stop:d}=aa(()=>!h.value&&o.closeMenu(t.index,r.value),H.value),_.value&&R&&((V=c.handleMouseleave)==null||V.call(c,!0))};Be(()=>o.props.collapse,R=>N(!!R));{const R=U=>{l.value[U.index]=U},V=U=>{delete l.value[U.index]};Mt(`subMenu:${i.uid}`,{addSubMenu:R,removeSubMenu:V,handleMouseleave:T,mouseInChild:h,level:c.level+1})}return n({opened:C}),ht(()=>{o.addSubMenu(E),c.addSubMenu(E)}),en(()=>{c.removeSubMenu(E),o.removeSubMenu(E)}),()=>{var R;const V=[(R=e.title)==null?void 0:R.call(e),rt(et,{class:s.e("icon-arrow"),style:{transform:C.value?t.expandCloseIcon&&t.expandOpenIcon||t.collapseCloseIcon&&t.collapseOpenIcon&&o.props.collapse?"none":"rotateZ(180deg)":"none"}},{default:()=>ct(v.value)?rt(i.appContext.components[v.value]):rt(v.value)})],U=o.isMenuPopup?rt(ai,{ref:g,visible:C.value,effect:"light",pure:!0,offset:O.value,showArrow:!1,persistent:!0,popperClass:I.value,placement:m.value,teleported:_.value,fallbackPlacements:w.value,transition:S.value,gpuAcceleration:!1},{content:()=>{var X;return rt("div",{class:[u.m(M.value),u.m("popup-container"),I.value],onMouseenter:W=>D(W,100),onMouseleave:()=>T(!0),onFocus:W=>D(W,100)},[rt("ul",{class:[u.b(),u.m("popup"),u.m(`popup-${m.value}`)],style:A.value},[(X=e.default)==null?void 0:X.call(e)])])},default:()=>rt("div",{class:s.e("title"),onClick:k},V)}):rt(tt,{},[rt("div",{class:s.e("title"),ref:p,onClick:k},V),rt(Kh,{},{default:()=>{var X;return ft(rt("ul",{role:"menu",class:[u.b(),u.m("inline")],style:A.value},[(X=e.default)==null?void 0:X.call(e)]),[[Nt,C.value]])}})]);return rt("li",{class:[s.b(),s.is("active",x.value),s.is("opened",C.value),s.is("disabled",t.disabled)],role:"menuitem",ariaHaspopup:!0,ariaExpanded:C.value,onMouseenter:D,onMouseleave:()=>T(),onFocus:D},[U])}}});const KX=We({mode:{type:String,values:["horizontal","vertical"],default:"vertical"},defaultActive:{type:String,default:""},defaultOpeneds:{type:we(Array),default:()=>fn([])},uniqueOpened:Boolean,router:Boolean,menuTrigger:{type:String,values:["hover","click"],default:"hover"},collapse:Boolean,backgroundColor:String,textColor:String,activeTextColor:String,closeOnClickOutside:Boolean,collapseTransition:{type:Boolean,default:!0},ellipsis:{type:Boolean,default:!0},popperOffset:{type:Number,default:6},ellipsisIcon:{type:Kt,default:()=>U3},popperEffect:{type:String,values:["dark","light"],default:"dark"},popperClass:String,showTimeout:{type:Number,default:300},hideTimeout:{type:Number,default:300}}),Np=t=>Array.isArray(t)&&t.every(e=>ct(e)),YX={close:(t,e)=>ct(t)&&Np(e),open:(t,e)=>ct(t)&&Np(e),select:(t,e,n,i)=>ct(t)&&Np(e)&&bt(n)&&(i===void 0||i instanceof Promise)};var qX=se({name:"ElMenu",props:KX,emits:YX,setup(t,{emit:e,slots:n,expose:i}){const r=mt(),a=r.appContext.config.globalProperties.$router,u=Y(),s=Ve("menu"),o=Ve("sub-menu"),c=Y(-1),f=Y(t.defaultOpeneds&&!t.collapse?t.defaultOpeneds.slice(0):[]),l=Y(t.defaultActive),d=Y({}),h=Y({}),p=P(()=>t.mode==="horizontal"||t.mode==="vertical"&&t.collapse),g=()=>{const H=l.value&&d.value[l.value];if(!H||t.mode==="horizontal"||t.collapse)return;H.indexPath.forEach(N=>{const k=h.value[N];k&&m(N,k.indexPath)})},m=(H,B)=>{f.value.includes(H)||(t.uniqueOpened&&(f.value=f.value.filter(N=>B.includes(N))),f.value.push(H),e("open",H,B))},v=H=>{const B=f.value.indexOf(H);B!==-1&&f.value.splice(B,1)},b=(H,B)=>{v(H),e("close",H,B)},_=({index:H,indexPath:B})=>{f.value.includes(H)?b(H,B):m(H,B)},S=H=>{(t.mode==="horizontal"||t.collapse)&&(f.value=[]);const{index:B,indexPath:N}=H;if(!(In(B)||In(N)))if(t.router&&a){const k=H.route||B,D=a.push(k).then(T=>(T||(l.value=B),T));e("select",B,N,{index:B,indexPath:N,route:k},D)}else l.value=B,e("select",B,N,{index:B,indexPath:N})},w=H=>{const B=d.value,N=B[H]||l.value&&B[l.value]||B[t.defaultActive];N?l.value=N.index:l.value=H},C=H=>{const B=getComputedStyle(H),N=Number.parseInt(B.marginLeft,10),k=Number.parseInt(B.marginRight,10);return H.offsetWidth+N+k||0},x=()=>{var H,B;if(!u.value)return-1;const N=Array.from((B=(H=u.value)==null?void 0:H.childNodes)!=null?B:[]).filter(W=>W.nodeName!=="#comment"&&(W.nodeName!=="#text"||W.nodeValue)),k=64,D=getComputedStyle(u.value),T=Number.parseInt(D.paddingLeft,10),R=Number.parseInt(D.paddingRight,10),V=u.value.clientWidth-T-R;let U=0,X=0;return N.forEach((W,j)=>{U+=C(W),U<=V-k&&(X=j+1)}),X===N.length?-1:X},M=H=>h.value[H].indexPath,E=(H,B=33.34)=>{let N;return()=>{N&&clearTimeout(N),N=setTimeout(()=>{H()},B)}};let A=!0;const O=()=>{if(c.value===x())return;const H=()=>{c.value=-1,it(()=>{c.value=x()})};A?H():E(H)(),A=!1};Be(()=>t.defaultActive,H=>{d.value[H]||(l.value=""),w(H)}),Be(()=>t.collapse,H=>{H&&(f.value=[])}),Be(d.value,g);let I;Yn(()=>{t.mode==="horizontal"&&t.ellipsis?I=dn(u,O).stop:I==null||I()});const $=Y(!1);{const H=D=>{h.value[D.index]=D},B=D=>{delete h.value[D.index]};Mt("rootMenu",$t({props:t,openedMenus:f,items:d,subMenus:h,activeIndex:l,isMenuPopup:p,addMenuItem:D=>{d.value[D.index]=D},removeMenuItem:D=>{delete d.value[D.index]},addSubMenu:H,removeSubMenu:B,openMenu:m,closeMenu:b,handleMenuItemClick:S,handleSubMenuClick:_})),Mt(`subMenu:${r.uid}`,{addSubMenu:H,removeSubMenu:B,mouseInChild:$,level:0})}return ht(()=>{t.mode==="horizontal"&&new HX(r.vnode.el,s.namespace.value)}),i({open:B=>{const{indexPath:N}=h.value[B];N.forEach(k=>m(k,N))},close:v,handleResize:O}),()=>{var H,B;let N=(B=(H=n.default)==null?void 0:H.call(n))!=null?B:[];const k=[];if(t.mode==="horizontal"&&u.value){const V=io(N),U=c.value===-1?V:V.slice(0,c.value),X=c.value===-1?[]:V.slice(c.value);X!=null&&X.length&&t.ellipsis&&(N=U,k.push(rt(z0,{index:"sub-menu-more",class:o.e("hide-arrow"),popperOffset:t.popperOffset},{title:()=>rt(et,{class:o.e("icon-more")},{default:()=>rt(t.ellipsisIcon)}),default:()=>X})))}const D=jM(t,0),T=t.closeOnClickOutside?[[ys,()=>{f.value.length&&($.value||(f.value.forEach(V=>e("close",V,M(V))),f.value=[]))}]]:[],R=ft(rt("ul",{key:String(t.collapse),role:"menubar",ref:u,style:D.value,class:{[s.b()]:!0,[s.m(t.mode)]:!0,[s.m("collapse")]:t.collapse}},[...N,...k]),T);return t.collapseTransition&&t.mode==="vertical"?rt(GX,()=>R):R}}});const ZX=We({index:{type:we([String,null]),default:null},route:{type:we([String,Object])},disabled:Boolean}),JX={click:t=>ct(t.index)&&Array.isArray(t.indexPath)},Fp="ElMenuItem",QX=se({name:Fp,components:{ElTooltip:ai},props:ZX,emits:JX,setup(t,{emit:e}){const n=mt(),i=Je("rootMenu"),r=Ve("menu"),a=Ve("menu-item");i||Rn(Fp,"can not inject root menu");const{parentMenu:u,indexPath:s}=GM(n,Zt(t,"index")),o=Je(`subMenu:${u.value.uid}`);o||Rn(Fp,"can not inject sub menu");const c=P(()=>t.index===i.activeIndex),f=$t({index:t.index,indexPath:s,active:c}),l=()=>{t.disabled||(i.handleMenuItemClick({index:t.index,indexPath:s.value,route:t.route}),e("click",f))};return ht(()=>{o.addSubMenu(f),i.addMenuItem(f)}),en(()=>{o.removeSubMenu(f),i.removeMenuItem(f)}),{parentMenu:u,rootMenu:i,active:c,nsMenu:r,nsMenuItem:a,handleClick:l}}});function eK(t,e,n,i,r,a){const u=pt("el-tooltip");return L(),Q("li",{class:F([t.nsMenuItem.b(),t.nsMenuItem.is("active",t.active),t.nsMenuItem.is("disabled",t.disabled)]),role:"menuitem",tabindex:"-1",onClick:e[0]||(e[0]=(...s)=>t.handleClick&&t.handleClick(...s))},[t.parentMenu.type.name==="ElMenu"&&t.rootMenu.props.collapse&&t.$slots.title?(L(),Pe(u,{key:0,effect:t.rootMenu.props.popperEffect,placement:"right","fallback-placements":["left"],persistent:""},{content:ve(()=>[Le(t.$slots,"title")]),default:ve(()=>[te("div",{class:F(t.nsMenu.be("tooltip","trigger"))},[Le(t.$slots,"default")],2)]),_:3},8,["effect"])):(L(),Q(tt,{key:1},[Le(t.$slots,"default"),Le(t.$slots,"title")],64))],2)}var XM=Ge(QX,[["render",eK],["__file","menu-item.vue"]]);const tK={title:String},nK="ElMenuItemGroup",iK=se({name:nK,props:tK,setup(){return{ns:Ve("menu-item-group")}}});function rK(t,e,n,i,r,a){return L(),Q("li",{class:F(t.ns.b())},[te("div",{class:F(t.ns.e("title"))},[t.$slots.title?Le(t.$slots,"title",{key:1}):(L(),Q(tt,{key:0},[Et(je(t.title),1)],64))],2),te("ul",null,[Le(t.$slots,"default")])],2)}var KM=Ge(iK,[["render",rK],["__file","menu-item-group.vue"]]);const sK=gt(qX,{MenuItem:XM,MenuItemGroup:KM,SubMenu:z0}),oK=hn(XM),aK=hn(KM),lK=hn(z0),cK=We({icon:{type:Kt,default:()=>c3},title:String,content:{type:String,default:""}}),uK={back:()=>!0},dK=["aria-label"],fK=se({name:"ElPageHeader"}),hK=se({...fK,props:cK,emits:uK,setup(t,{emit:e}){const n=Un(),{t:i}=Dt(),r=Ve("page-header"),a=P(()=>[r.b(),{[r.m("has-breadcrumb")]:!!n.breadcrumb,[r.m("has-extra")]:!!n.extra,[r.is("contentful")]:!!n.default}]);function u(){e("back")}return(s,o)=>(L(),Q("div",{class:F(y(a))},[s.$slots.breadcrumb?(L(),Q("div",{key:0,class:F(y(r).e("breadcrumb"))},[Le(s.$slots,"breadcrumb")],2)):Ee("v-if",!0),te("div",{class:F(y(r).e("header"))},[te("div",{class:F(y(r).e("left"))},[te("div",{class:F(y(r).e("back")),role:"button",tabindex:"0",onClick:u},[s.icon||s.$slots.icon?(L(),Q("div",{key:0,"aria-label":s.title||y(i)("el.pageHeader.title"),class:F(y(r).e("icon"))},[Le(s.$slots,"icon",{},()=>[s.icon?(L(),Pe(y(et),{key:0},{default:ve(()=>[(L(),Pe(wt(s.icon)))]),_:1})):Ee("v-if",!0)])],10,dK)):Ee("v-if",!0),te("div",{class:F(y(r).e("title"))},[Le(s.$slots,"title",{},()=>[Et(je(s.title||y(i)("el.pageHeader.title")),1)])],2)],2),oe(y(LM),{direction:"vertical"}),te("div",{class:F(y(r).e("content"))},[Le(s.$slots,"content",{},()=>[Et(je(s.content),1)])],2)],2),s.$slots.extra?(L(),Q("div",{key:0,class:F(y(r).e("extra"))},[Le(s.$slots,"extra")],2)):Ee("v-if",!0)],2),s.$slots.default?(L(),Q("div",{key:1,class:F(y(r).e("main"))},[Le(s.$slots,"default")],2)):Ee("v-if",!0)],2))}});var pK=Ge(hK,[["__file","page-header.vue"]]);const mK=gt(pK),YM=Symbol("elPaginationKey"),gK=We({disabled:Boolean,currentPage:{type:Number,default:1},prevText:{type:String},prevIcon:{type:Kt}}),vK={click:t=>t instanceof MouseEvent},yK=["disabled","aria-label","aria-disabled"],bK={key:0},_K=se({name:"ElPaginationPrev"}),SK=se({..._K,props:gK,emits:vK,setup(t){const e=t,{t:n}=Dt(),i=P(()=>e.disabled||e.currentPage<=1);return(r,a)=>(L(),Q("button",{type:"button",class:"btn-prev",disabled:y(i),"aria-label":r.prevText||y(n)("el.pagination.prev"),"aria-disabled":y(i),onClick:a[0]||(a[0]=u=>r.$emit("click",u))},[r.prevText?(L(),Q("span",bK,je(r.prevText),1)):(L(),Pe(y(et),{key:1},{default:ve(()=>[(L(),Pe(wt(r.prevIcon)))]),_:1}))],8,yK))}});var wK=Ge(SK,[["__file","prev.vue"]]);const CK=We({disabled:Boolean,currentPage:{type:Number,default:1},pageCount:{type:Number,default:50},nextText:{type:String},nextIcon:{type:Kt}}),xK=["disabled","aria-label","aria-disabled"],TK={key:0},EK=se({name:"ElPaginationNext"}),MK=se({...EK,props:CK,emits:["click"],setup(t){const e=t,{t:n}=Dt(),i=P(()=>e.disabled||e.currentPage===e.pageCount||e.pageCount===0);return(r,a)=>(L(),Q("button",{type:"button",class:"btn-next",disabled:y(i),"aria-label":r.nextText||y(n)("el.pagination.next"),"aria-disabled":y(i),onClick:a[0]||(a[0]=u=>r.$emit("click",u))},[r.nextText?(L(),Q("span",TK,je(r.nextText),1)):(L(),Pe(y(et),{key:1},{default:ve(()=>[(L(),Pe(wt(r.nextIcon)))]),_:1}))],8,xK))}});var AK=Ge(MK,[["__file","next.vue"]]);const qM=Symbol("ElSelectGroup"),id=Symbol("ElSelect");function RK(t,e){const n=Je(id),i=Je(qM,{disabled:!1}),r=P(()=>n.props.multiple?f(n.props.modelValue,t.value):f([n.props.modelValue],t.value)),a=P(()=>{if(n.props.multiple){const h=n.props.modelValue||[];return!r.value&&h.length>=n.props.multipleLimit&&n.props.multipleLimit>0}else return!1}),u=P(()=>t.label||(bt(t.value)?"":t.value)),s=P(()=>t.value||t.label||""),o=P(()=>t.disabled||e.groupDisabled||a.value),c=mt(),f=(h=[],p)=>{if(bt(t.value)){const g=n.props.valueKey;return h&&h.some(m=>jt(Sn(m,g))===Sn(p,g))}else return h&&h.includes(p)},l=()=>{!t.disabled&&!i.disabled&&(n.states.hoveringIndex=n.optionsArray.indexOf(c.proxy))},d=h=>{const p=new RegExp(qv(h),"i");e.visible=p.test(u.value)||t.created};return Be(()=>u.value,()=>{!t.created&&!n.props.remote&&n.setSelected()}),Be(()=>t.value,(h,p)=>{const{remote:g,valueKey:m}=n.props;if(si(h,p)||(n.onOptionDestroy(p,c.proxy),n.onOptionCreate(c.proxy)),!t.created&&!g){if(m&&bt(h)&&bt(p)&&h[m]===p[m])return;n.setSelected()}}),Be(()=>i.disabled,()=>{e.groupDisabled=i.disabled},{immediate:!0}),{select:n,currentLabel:u,currentValue:s,itemSelected:r,isDisabled:o,hoverItem:l,updateOption:d}}const PK=se({name:"ElOption",componentName:"ElOption",props:{value:{required:!0,type:[String,Number,Boolean,Object]},label:[String,Number],created:Boolean,disabled:Boolean},setup(t){const e=Ve("select"),n=Jn(),i=P(()=>[e.be("dropdown","item"),e.is("disabled",y(s)),e.is("selected",y(u)),e.is("hovering",y(d))]),r=$t({index:-1,groupDisabled:!1,visible:!0,hover:!1}),{currentLabel:a,itemSelected:u,isDisabled:s,select:o,hoverItem:c,updateOption:f}=RK(t,r),{visible:l,hover:d}=Wn(r),h=mt().proxy;o.onOptionCreate(h),en(()=>{const g=h.value,{selected:m}=o.states,b=(o.props.multiple?m:[m]).some(_=>_.value===h.value);it(()=>{o.states.cachedOptions.get(g)===h&&!b&&o.states.cachedOptions.delete(g)}),o.onOptionDestroy(g,h)});function p(){t.disabled!==!0&&r.groupDisabled!==!0&&o.handleOptionSelect(h)}return{ns:e,id:n,containerKls:i,currentLabel:a,itemSelected:u,isDisabled:s,select:o,hoverItem:c,updateOption:f,visible:l,hover:d,selectOptionClick:p,states:r}}}),OK=["id","aria-disabled","aria-selected"];function kK(t,e,n,i,r,a){return ft((L(),Q("li",{id:t.id,class:F(t.containerKls),role:"option","aria-disabled":t.isDisabled||void 0,"aria-selected":t.itemSelected,onMouseenter:e[0]||(e[0]=(...u)=>t.hoverItem&&t.hoverItem(...u)),onClick:e[1]||(e[1]=lt((...u)=>t.selectOptionClick&&t.selectOptionClick(...u),["stop"]))},[Le(t.$slots,"default",{},()=>[te("span",null,je(t.currentLabel),1)])],42,OK)),[[Nt,t.visible]])}var W0=Ge(PK,[["render",kK],["__file","option.vue"]]);const LK=se({name:"ElSelectDropdown",componentName:"ElSelectDropdown",setup(){const t=Je(id),e=Ve("select"),n=P(()=>t.props.popperClass),i=P(()=>t.props.multiple),r=P(()=>t.props.fitInputWidth),a=Y("");function u(){var s;a.value=`${(s=t.selectRef)==null?void 0:s.offsetWidth}px`}return ht(()=>{u(),dn(t.selectRef,u)}),{ns:e,minWidth:a,popperClass:n,isMultiple:i,isFitInputWidth:r}}});function IK(t,e,n,i,r,a){return L(),Q("div",{class:F([t.ns.b("dropdown"),t.ns.is("multiple",t.isMultiple),t.popperClass]),style:Qe({[t.isFitInputWidth?"width":"minWidth"]:t.minWidth})},[t.$slots.header?(L(),Q("div",{key:0,class:F(t.ns.be("dropdown","header"))},[Le(t.$slots,"header")],2)):Ee("v-if",!0),Le(t.$slots,"default"),t.$slots.footer?(L(),Q("div",{key:1,class:F(t.ns.be("dropdown","footer"))},[Le(t.$slots,"footer")],2)):Ee("v-if",!0)],6)}var DK=Ge(LK,[["render",IK],["__file","select-dropdown.vue"]]);function ZM(t){const e=Y(!1);return{handleCompositionStart:()=>{e.value=!0},handleCompositionUpdate:a=>{const u=a.target.value,s=u[u.length-1]||"";e.value=!s0(s)},handleCompositionEnd:a=>{e.value&&(e.value=!1,at(t)&&t(a))}}}const NK=11,FK=(t,e)=>{const{t:n}=Dt(),i=Jn(),r=Ve("select"),a=Ve("input"),u=$t({inputValue:"",options:new Map,cachedOptions:new Map,disabledOptions:new Map,optionValues:[],selected:t.multiple?[]:{},selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,selectedLabel:"",hoveringIndex:-1,previousQuery:null,inputHovering:!1,menuVisibleOnFocus:!1,isBeforeHide:!1}),s=Y(null),o=Y(null),c=Y(null),f=Y(null),l=Y(null),d=Y(null),h=Y(null),p=Y(null),g=Y(null),m=Y(null),v=Y(null),b=Y(null),{wrapperRef:_,isFocused:S,handleFocus:w,handleBlur:C}=Hh(l,{afterFocus(){t.automaticDropdown&&!x.value&&(x.value=!0,u.menuVisibleOnFocus=!0)},beforeBlur(Se){var Ie,Ue;return((Ie=c.value)==null?void 0:Ie.isFocusInsideContent(Se))||((Ue=f.value)==null?void 0:Ue.isFocusInsideContent(Se))},afterBlur(){x.value=!1,u.menuVisibleOnFocus=!1}}),x=Y(!1),M=Y(),{form:E,formItem:A}=li(),{inputId:O}=Mr(t,{formItemContext:A}),{valueOnClear:I,isEmptyValue:$}=zh(t),H=P(()=>t.disabled||(E==null?void 0:E.disabled)),B=P(()=>t.multiple?qe(t.modelValue)&&t.modelValue.length>0:!$(t.modelValue)),N=P(()=>t.clearable&&!H.value&&u.inputHovering&&B.value),k=P(()=>t.remote&&t.filterable&&!t.remoteShowSuffix?"":t.suffixIcon),D=P(()=>r.is("reverse",k.value&&x.value)),T=P(()=>(A==null?void 0:A.validateState)||""),R=P(()=>r0[T.value]),V=P(()=>t.remote?300:0),U=P(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!u.inputValue&&u.options.size===0?!1:t.filterable&&u.inputValue&&u.options.size>0&&X.value===0?t.noMatchText||n("el.select.noMatch"):u.options.size===0?t.noDataText||n("el.select.noData"):null),X=P(()=>W.value.filter(Se=>Se.visible).length),W=P(()=>{const Se=Array.from(u.options.values()),Ie=[];return u.optionValues.forEach(Ue=>{const Ke=Se.findIndex(St=>St.value===Ue);Ke>-1&&Ie.push(Se[Ke])}),Ie.length>=Se.length?Ie:Se}),j=P(()=>Array.from(u.cachedOptions.values())),K=P(()=>{const Se=W.value.filter(Ie=>!Ie.created).some(Ie=>Ie.currentLabel===u.inputValue);return t.filterable&&t.allowCreate&&u.inputValue!==""&&!Se}),z=()=>{t.filterable&&at(t.filterMethod)||t.filterable&&t.remote&&at(t.remoteMethod)||W.value.forEach(Se=>{var Ie;(Ie=Se.updateOption)==null||Ie.call(Se,u.inputValue)})},ee=Mn(),ue=P(()=>["small"].includes(ee.value)?"small":"default"),ne=P({get(){return x.value&&U.value!==!1},set(Se){x.value=Se}}),le=P(()=>qe(t.modelValue)?t.modelValue.length===0&&!u.inputValue:t.filterable?!u.inputValue:!0),Me=P(()=>{var Se;const Ie=(Se=t.placeholder)!=null?Se:n("el.select.placeholder");return t.multiple||!B.value?Ie:u.selectedLabel});Be(()=>t.modelValue,(Se,Ie)=>{t.multiple&&t.filterable&&!t.reserveKeyword&&(u.inputValue="",q("")),ce(),!si(Se,Ie)&&t.validateEvent&&(A==null||A.validate("change").catch(Ue=>void 0))},{flush:"post",deep:!0}),Be(()=>x.value,Se=>{Se?q(u.inputValue):(u.inputValue="",u.previousQuery=null,u.isBeforeHide=!0),e("visible-change",Se)}),Be(()=>u.options.entries(),()=>{var Se;if(!Ot)return;const Ie=((Se=s.value)==null?void 0:Se.querySelectorAll("input"))||[];(!t.filterable&&!t.defaultFirstOption&&!xn(t.modelValue)||!Array.from(Ie).includes(document.activeElement))&&ce(),t.defaultFirstOption&&(t.filterable||t.remote)&&X.value&&J()},{flush:"post"}),Be(()=>u.hoveringIndex,Se=>{ot(Se)&&Se>-1?M.value=W.value[Se]||{}:M.value={},W.value.forEach(Ie=>{Ie.hover=M.value===Ie})}),Yn(()=>{u.isBeforeHide||z()});const q=Se=>{u.previousQuery!==Se&&(u.previousQuery=Se,t.filterable&&at(t.filterMethod)?t.filterMethod(Se):t.filterable&&t.remote&&at(t.remoteMethod)&&t.remoteMethod(Se),t.defaultFirstOption&&(t.filterable||t.remote)&&X.value?it(J):it(re))},J=()=>{const Se=W.value.filter(Ke=>Ke.visible&&!Ke.disabled&&!Ke.states.groupDisabled),Ie=Se.find(Ke=>Ke.created),Ue=Se[0];u.hoveringIndex=ae(W.value,Ie||Ue)},ce=()=>{if(t.multiple)u.selectedLabel="";else{const Ie=pe(t.modelValue);u.selectedLabel=Ie.currentLabel,u.selected=Ie;return}const Se=[];qe(t.modelValue)&&t.modelValue.forEach(Ie=>{Se.push(pe(Ie))}),u.selected=Se},pe=Se=>{let Ie;const Ue=af(Se).toLowerCase()==="object",Ke=af(Se).toLowerCase()==="null",St=af(Se).toLowerCase()==="undefined";for(let Lt=u.cachedOptions.size-1;Lt>=0;Lt--){const Rt=j.value[Lt];if(Ue?Sn(Rt.value,t.valueKey)===Sn(Se,t.valueKey):Rt.value===Se){Ie={value:Se,currentLabel:Rt.currentLabel,isDisabled:Rt.isDisabled};break}}if(Ie)return Ie;const Ct=Ue?Se.label:!Ke&&!St?Se:"";return{value:Se,currentLabel:Ct}},re=()=>{t.multiple?u.hoveringIndex=W.value.findIndex(Se=>u.selected.some(Ie=>sn(Ie)===sn(Se))):u.hoveringIndex=W.value.findIndex(Se=>sn(Se)===sn(u.selected))},he=()=>{u.selectionWidth=o.value.getBoundingClientRect().width},Ce=()=>{u.calculatorWidth=d.value.getBoundingClientRect().width},Oe=()=>{u.collapseItemWidth=v.value.getBoundingClientRect().width},ke=()=>{var Se,Ie;(Ie=(Se=c.value)==null?void 0:Se.updatePopper)==null||Ie.call(Se)},G=()=>{var Se,Ie;(Ie=(Se=f.value)==null?void 0:Se.updatePopper)==null||Ie.call(Se)},Z=()=>{u.inputValue.length>0&&!x.value&&(x.value=!0),q(u.inputValue)},_e=Se=>{if(u.inputValue=Se.target.value,t.remote)de();else return Z()},de=Oi(()=>{Z()},V.value),Re=Se=>{si(t.modelValue,Se)||e(rn,Se)},Fe=Se=>lT(Se,Ie=>!u.disabledOptions.has(Ie)),ye=Se=>{if(t.multiple&&Se.code!==nt.delete&&Se.target.value.length<=0){const Ie=t.modelValue.slice(),Ue=Fe(Ie);if(Ue<0)return;Ie.splice(Ue,1),e(_t,Ie),Re(Ie)}},Ne=(Se,Ie)=>{const Ue=u.selected.indexOf(Ie);if(Ue>-1&&!H.value){const Ke=t.modelValue.slice();Ke.splice(Ue,1),e(_t,Ke),Re(Ke),e("remove-tag",Ie.value)}Se.stopPropagation(),Ye()},Ae=Se=>{Se.stopPropagation();const Ie=t.multiple?[]:I.value;if(t.multiple)for(const Ue of u.selected)Ue.isDisabled&&Ie.push(Ue.value);e(_t,Ie),Re(Ie),u.hoveringIndex=-1,x.value=!1,e("clear"),Ye()},Te=Se=>{if(t.multiple){const Ie=(t.modelValue||[]).slice(),Ue=ae(Ie,Se.value);Ue>-1?Ie.splice(Ue,1):(t.multipleLimit<=0||Ie.length<t.multipleLimit)&&Ie.push(Se.value),e(_t,Ie),Re(Ie),Se.created&&q(""),t.filterable&&!t.reserveKeyword&&(u.inputValue="")}else e(_t,Se.value),Re(Se.value),x.value=!1;Ye(),!x.value&&it(()=>{fe(Se)})},ae=(Se=[],Ie)=>{if(!bt(Ie))return Se.indexOf(Ie);const Ue=t.valueKey;let Ke=-1;return Se.some((St,Ct)=>jt(Sn(St,Ue))===Sn(Ie,Ue)?(Ke=Ct,!0):!1),Ke},fe=Se=>{var Ie,Ue,Ke,St,Ct;const Pt=qe(Se)?Se[0]:Se;let Lt=null;if(Pt!=null&&Pt.value){const Rt=W.value.filter(Ht=>Ht.value===Pt.value);Rt.length>0&&(Lt=Rt[0].$el)}if(c.value&&Lt){const Rt=(St=(Ke=(Ue=(Ie=c.value)==null?void 0:Ie.popperRef)==null?void 0:Ue.contentRef)==null?void 0:Ke.querySelector)==null?void 0:St.call(Ke,`.${r.be("dropdown","wrap")}`);Rt&&hT(Rt,Lt)}(Ct=b.value)==null||Ct.handleScroll()},ie=Se=>{u.options.set(Se.value,Se),u.cachedOptions.set(Se.value,Se),Se.disabled&&u.disabledOptions.set(Se.value,Se)},ge=(Se,Ie)=>{u.options.get(Se)===Ie&&u.options.delete(Se)},{handleCompositionStart:De,handleCompositionUpdate:me,handleCompositionEnd:Xe}=ZM(Se=>_e(Se)),be=P(()=>{var Se,Ie;return(Ie=(Se=c.value)==null?void 0:Se.popperRef)==null?void 0:Ie.contentRef}),He=()=>{u.isBeforeHide=!1,it(()=>fe(u.selected))},Ye=()=>{var Se;(Se=l.value)==null||Se.focus()},st=()=>{At()},Ze=Se=>{Ae(Se)},At=Se=>{if(x.value=!1,S.value){const Ie=new FocusEvent("focus",Se);it(()=>C(Ie))}},tn=()=>{u.inputValue.length>0?u.inputValue="":x.value=!1},En=()=>{H.value||(u.menuVisibleOnFocus?u.menuVisibleOnFocus=!1:x.value=!x.value)},Hi=()=>{x.value?W.value[u.hoveringIndex]&&Te(W.value[u.hoveringIndex]):En()},sn=Se=>bt(Se.value)?Sn(Se.value,t.valueKey):Se.value,Gn=P(()=>W.value.filter(Se=>Se.visible).every(Se=>Se.disabled)),ci=P(()=>t.multiple?t.collapseTags?u.selected.slice(0,t.maxCollapseTags):u.selected:[]),Os=P(()=>t.multiple?t.collapseTags?u.selected.slice(t.maxCollapseTags):[]:[]),Ar=Se=>{if(!x.value){x.value=!0;return}if(!(u.options.size===0||X.value===0)&&!Gn.value){Se==="next"?(u.hoveringIndex++,u.hoveringIndex===u.options.size&&(u.hoveringIndex=0)):Se==="prev"&&(u.hoveringIndex--,u.hoveringIndex<0&&(u.hoveringIndex=u.options.size-1));const Ie=W.value[u.hoveringIndex];(Ie.disabled===!0||Ie.states.groupDisabled===!0||!Ie.visible)&&Ar(Se),it(()=>fe(M.value))}},hc=()=>{if(!o.value)return 0;const Se=window.getComputedStyle(o.value);return Number.parseFloat(Se.gap||"6px")},pc=P(()=>{const Se=hc();return{maxWidth:`${v.value&&t.maxCollapseTags===1?u.selectionWidth-u.collapseItemWidth-Se:u.selectionWidth}px`}}),mc=P(()=>({maxWidth:`${u.selectionWidth}px`})),xe=P(()=>({width:`${Math.max(u.calculatorWidth,NK)}px`}));return t.multiple&&!qe(t.modelValue)&&e(_t,[]),!t.multiple&&qe(t.modelValue)&&e(_t,""),dn(o,he),dn(d,Ce),dn(g,ke),dn(_,ke),dn(m,G),dn(v,Oe),ht(()=>{ce()}),{inputId:O,contentId:i,nsSelect:r,nsInput:a,states:u,isFocused:S,expanded:x,optionsArray:W,hoverOption:M,selectSize:ee,filteredOptionsCount:X,resetCalculatorWidth:Ce,updateTooltip:ke,updateTagTooltip:G,debouncedOnInputChange:de,onInput:_e,deletePrevTag:ye,deleteTag:Ne,deleteSelected:Ae,handleOptionSelect:Te,scrollToOption:fe,hasModelValue:B,shouldShowPlaceholder:le,currentPlaceholder:Me,showClose:N,iconComponent:k,iconReverse:D,validateState:T,validateIcon:R,showNewOption:K,updateOptions:z,collapseTagSize:ue,setSelected:ce,selectDisabled:H,emptyText:U,handleCompositionStart:De,handleCompositionUpdate:me,handleCompositionEnd:Xe,onOptionCreate:ie,onOptionDestroy:ge,handleMenuEnter:He,handleFocus:w,focus:Ye,blur:st,handleBlur:C,handleClearClick:Ze,handleClickOutside:At,handleEsc:tn,toggleMenu:En,selectOption:Hi,getValueKey:sn,navigateOptions:Ar,dropdownMenuVisible:ne,showTagList:ci,collapseTagList:Os,tagStyle:pc,collapseTagStyle:mc,inputStyle:xe,popperRef:be,inputRef:l,tooltipRef:c,tagTooltipRef:f,calculatorRef:d,prefixRef:h,suffixRef:p,selectRef:s,wrapperRef:_,selectionRef:o,scrollbarRef:b,menuRef:g,tagMenuRef:m,collapseItemRef:v}};var BK=se({name:"ElOptions",setup(t,{slots:e}){const n=Je(id);let i=[];return()=>{var r,a;const u=(r=e.default)==null?void 0:r.call(e),s=[];function o(c){qe(c)&&c.forEach(f=>{var l,d,h,p;const g=(l=(f==null?void 0:f.type)||{})==null?void 0:l.name;g==="ElOptionGroup"?o(!ct(f.children)&&!qe(f.children)&&at((d=f.children)==null?void 0:d.default)?(h=f.children)==null?void 0:h.default():f.children):g==="ElOption"?s.push((p=f.props)==null?void 0:p.value):qe(f.children)&&o(f.children)})}return u.length&&o((a=u[0])==null?void 0:a.children),si(s,i)||(i=s,n&&(n.states.optionValues=s)),u}}});const UK=We({name:String,id:String,modelValue:{type:[Array,String,Number,Boolean,Object],default:void 0},autocomplete:{type:String,default:"off"},automaticDropdown:Boolean,size:kn,effect:{type:we(String),default:"light"},disabled:Boolean,clearable:Boolean,filterable:Boolean,allowCreate:Boolean,loading:Boolean,popperClass:{type:String,default:""},popperOptions:{type:we(Object),default:()=>({})},remote:Boolean,loadingText:String,noMatchText:String,noDataText:String,remoteMethod:Function,filterMethod:Function,multiple:Boolean,multipleLimit:{type:Number,default:0},placeholder:{type:String},defaultFirstOption:Boolean,reserveKeyword:{type:Boolean,default:!0},valueKey:{type:String,default:"value"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},teleported:Hn.teleported,persistent:{type:Boolean,default:!0},clearIcon:{type:Kt,default:_o},fitInputWidth:Boolean,suffixIcon:{type:Kt,default:xs},tagType:{...Xh.type,default:"info"},validateEvent:{type:Boolean,default:!0},remoteShowSuffix:Boolean,placement:{type:we(String),values:Ta,default:"bottom-start"},fallbackPlacements:{type:we(Array),default:["bottom-start","top-start","right","left"]},ariaLabel:{type:String,default:void 0},...ac}),MS="ElSelect",VK=se({name:MS,componentName:MS,components:{ElInput:ri,ElSelectMenu:DK,ElOption:W0,ElOptions:BK,ElTag:Tu,ElScrollbar:Es,ElTooltip:ai,ElIcon:et},directives:{ClickOutside:ys},props:UK,emits:[_t,rn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=FK(t,e);return Mt(id,$t({props:t,states:n.states,optionsArray:n.optionsArray,handleOptionSelect:n.handleOptionSelect,onOptionCreate:n.onOptionCreate,onOptionDestroy:n.onOptionDestroy,selectRef:n.selectRef,setSelected:n.setSelected})),{...n}}}),$K=["id","disabled","autocomplete","readonly","aria-activedescendant","aria-controls","aria-expanded","aria-label"],HK=["textContent"];function zK(t,e,n,i,r,a){const u=pt("el-tag"),s=pt("el-tooltip"),o=pt("el-icon"),c=pt("el-option"),f=pt("el-options"),l=pt("el-scrollbar"),d=pt("el-select-menu"),h=wh("click-outside");return ft((L(),Q("div",{ref:"selectRef",class:F([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:e[16]||(e[16]=p=>t.states.inputHovering=!0),onMouseleave:e[17]||(e[17]=p=>t.states.inputHovering=!1),onClick:e[18]||(e[18]=lt((...p)=>t.toggleMenu&&t.toggleMenu(...p),["prevent","stop"]))},[oe(s,{ref:"tooltipRef",visible:t.dropdownMenuVisible,placement:t.placement,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,pure:"",trigger:"click",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,"stop-popper-mouse-event":!1,"gpu-acceleration":!1,persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[15]||(e[15]=p=>t.states.isBeforeHide=!1)},{default:ve(()=>{var p;return[te("div",{ref:"wrapperRef",class:F([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(L(),Q("div",{key:0,ref:"prefixRef",class:F(t.nsSelect.e("prefix"))},[Le(t.$slots,"prefix")],2)):Ee("v-if",!0),te("div",{ref:"selectionRef",class:F([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.states.selected.length)])},[t.multiple?Le(t.$slots,"tag",{key:0},()=>[(L(!0),Q(tt,null,Tt(t.showTagList,g=>(L(),Q("div",{key:t.getValueKey(g),class:F(t.nsSelect.e("selected-item"))},[oe(u,{closable:!t.selectDisabled&&!g.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:Qe(t.tagStyle),onClose:m=>t.deleteTag(m,g)},{default:ve(()=>[te("span",{class:F(t.nsSelect.e("tags-text"))},je(g.currentLabel),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.states.selected.length>t.maxCollapseTags?(L(),Pe(s,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:ve(()=>[te("div",{ref:"collapseItemRef",class:F(t.nsSelect.e("selected-item"))},[oe(u,{closable:!1,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:Qe(t.collapseTagStyle)},{default:ve(()=>[te("span",{class:F(t.nsSelect.e("tags-text"))}," + "+je(t.states.selected.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:ve(()=>[te("div",{ref:"tagMenuRef",class:F(t.nsSelect.e("selection"))},[(L(!0),Q(tt,null,Tt(t.collapseTagList,g=>(L(),Q("div",{key:t.getValueKey(g),class:F(t.nsSelect.e("selected-item"))},[oe(u,{class:"in-tooltip",closable:!t.selectDisabled&&!g.isDisabled,size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:m=>t.deleteTag(m,g)},{default:ve(()=>[te("span",{class:F(t.nsSelect.e("tags-text"))},je(g.currentLabel),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):Ee("v-if",!0)]):Ee("v-if",!0),t.selectDisabled?Ee("v-if",!0):(L(),Q("div",{key:1,class:F([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[ft(te("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=g=>t.states.inputValue=g),type:"text",class:F([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,autocomplete:t.autocomplete,style:Qe(t.inputStyle),role:"combobox",readonly:!t.filterable,spellcheck:"false","aria-activedescendant":((p=t.hoverOption)==null?void 0:p.id)||"","aria-controls":t.contentId,"aria-expanded":t.dropdownMenuVisible,"aria-label":t.ariaLabel,"aria-autocomplete":"none","aria-haspopup":"listbox",onFocus:e[1]||(e[1]=(...g)=>t.handleFocus&&t.handleFocus(...g)),onBlur:e[2]||(e[2]=(...g)=>t.handleBlur&&t.handleBlur(...g)),onKeydown:[e[3]||(e[3]=Xt(lt(g=>t.navigateOptions("next"),["stop","prevent"]),["down"])),e[4]||(e[4]=Xt(lt(g=>t.navigateOptions("prev"),["stop","prevent"]),["up"])),e[5]||(e[5]=Xt(lt((...g)=>t.handleEsc&&t.handleEsc(...g),["stop","prevent"]),["esc"])),e[6]||(e[6]=Xt(lt((...g)=>t.selectOption&&t.selectOption(...g),["stop","prevent"]),["enter"])),e[7]||(e[7]=Xt(lt((...g)=>t.deletePrevTag&&t.deletePrevTag(...g),["stop"]),["delete"]))],onCompositionstart:e[8]||(e[8]=(...g)=>t.handleCompositionStart&&t.handleCompositionStart(...g)),onCompositionupdate:e[9]||(e[9]=(...g)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...g)),onCompositionend:e[10]||(e[10]=(...g)=>t.handleCompositionEnd&&t.handleCompositionEnd(...g)),onInput:e[11]||(e[11]=(...g)=>t.onInput&&t.onInput(...g)),onClick:e[12]||(e[12]=lt((...g)=>t.toggleMenu&&t.toggleMenu(...g),["stop"]))},null,46,$K),[[Ov,t.states.inputValue]]),t.filterable?(L(),Q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:F(t.nsSelect.e("input-calculator")),textContent:je(t.states.inputValue)},null,10,HK)):Ee("v-if",!0)],2)),t.shouldShowPlaceholder?(L(),Q("div",{key:2,class:F([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[te("span",null,je(t.currentPlaceholder),1)],2)):Ee("v-if",!0)],2),te("div",{ref:"suffixRef",class:F(t.nsSelect.e("suffix"))},[t.iconComponent&&!t.showClose?(L(),Pe(o,{key:0,class:F([t.nsSelect.e("caret"),t.nsSelect.e("icon"),t.iconReverse])},{default:ve(()=>[(L(),Pe(wt(t.iconComponent)))]),_:1},8,["class"])):Ee("v-if",!0),t.showClose&&t.clearIcon?(L(),Pe(o,{key:1,class:F([t.nsSelect.e("caret"),t.nsSelect.e("icon")]),onClick:t.handleClearClick},{default:ve(()=>[(L(),Pe(wt(t.clearIcon)))]),_:1},8,["class","onClick"])):Ee("v-if",!0),t.validateState&&t.validateIcon?(L(),Pe(o,{key:2,class:F([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:ve(()=>[(L(),Pe(wt(t.validateIcon)))]),_:1},8,["class"])):Ee("v-if",!0)],2)],2)]}),content:ve(()=>[oe(d,{ref:"menuRef"},{default:ve(()=>[t.$slots.header?(L(),Q("div",{key:0,class:F(t.nsSelect.be("dropdown","header")),onClick:e[13]||(e[13]=lt(()=>{},["stop"]))},[Le(t.$slots,"header")],2)):Ee("v-if",!0),ft(oe(l,{id:t.contentId,ref:"scrollbarRef",tag:"ul","wrap-class":t.nsSelect.be("dropdown","wrap"),"view-class":t.nsSelect.be("dropdown","list"),class:F([t.nsSelect.is("empty",t.filteredOptionsCount===0)]),role:"listbox","aria-label":t.ariaLabel,"aria-orientation":"vertical"},{default:ve(()=>[t.showNewOption?(L(),Pe(c,{key:0,value:t.states.inputValue,created:!0},null,8,["value"])):Ee("v-if",!0),oe(f,null,{default:ve(()=>[Le(t.$slots,"default")]),_:3})]),_:3},8,["id","wrap-class","view-class","class","aria-label"]),[[Nt,t.states.options.size>0&&!t.loading]]),t.$slots.loading&&t.loading?(L(),Q("div",{key:1,class:F(t.nsSelect.be("dropdown","loading"))},[Le(t.$slots,"loading")],2)):t.loading||t.filteredOptionsCount===0?(L(),Q("div",{key:2,class:F(t.nsSelect.be("dropdown","empty"))},[Le(t.$slots,"empty",{},()=>[te("span",null,je(t.emptyText),1)])],2)):Ee("v-if",!0),t.$slots.footer?(L(),Q("div",{key:3,class:F(t.nsSelect.be("dropdown","footer")),onClick:e[14]||(e[14]=lt(()=>{},["stop"]))},[Le(t.$slots,"footer")],2)):Ee("v-if",!0)]),_:3},512)]),_:3},8,["visible","placement","teleported","popper-class","popper-options","fallback-placements","effect","transition","persistent","onBeforeShow"])],34)),[[h,t.handleClickOutside,t.popperRef]])}var WK=Ge(VK,[["render",zK],["__file","select.vue"]]);const GK=se({name:"ElOptionGroup",componentName:"ElOptionGroup",props:{label:String,disabled:Boolean},setup(t){const e=Ve("select"),n=Y(null),i=mt(),r=Y([]);Mt(qM,$t({...Wn(t)}));const a=P(()=>r.value.some(o=>o.visible===!0)),u=o=>{const c=[];return qe(o.children)&&o.children.forEach(f=>{var l,d;f.type&&f.type.name==="ElOption"&&f.component&&f.component.proxy?c.push(f.component.proxy):(l=f.children)!=null&&l.length?c.push(...u(f)):(d=f.component)!=null&&d.subTree&&c.push(...u(f.component.subTree))}),c},s=()=>{r.value=u(i.subTree)};return ht(()=>{s()}),wx(n,s,{attributes:!0,subtree:!0,childList:!0}),{groupRef:n,visible:a,ns:e}}});function jK(t,e,n,i,r,a){return ft((L(),Q("ul",{ref:"groupRef",class:F(t.ns.be("group","wrap"))},[te("li",{class:F(t.ns.be("group","title"))},je(t.label),3),te("li",null,[te("ul",{class:F(t.ns.b("group"))},[Le(t.$slots,"default")],2)])],2)),[[Nt,t.visible]])}var JM=Ge(GK,[["render",jK],["__file","option-group.vue"]]);const pa=gt(WK,{Option:W0,OptionGroup:JM}),sh=hn(W0),XK=hn(JM),G0=()=>Je(YM,{}),KK=We({pageSize:{type:Number,required:!0},pageSizes:{type:we(Array),default:()=>fn([10,20,30,40,50,100])},popperClass:{type:String},disabled:Boolean,teleported:Boolean,size:{type:String,values:zr}}),YK=se({name:"ElPaginationSizes"}),qK=se({...YK,props:KK,emits:["page-size-change"],setup(t,{emit:e}){const n=t,{t:i}=Dt(),r=Ve("pagination"),a=G0(),u=Y(n.pageSize);Be(()=>n.pageSizes,(c,f)=>{if(!si(c,f)&&Array.isArray(c)){const l=c.includes(n.pageSize)?n.pageSize:n.pageSizes[0];e("page-size-change",l)}}),Be(()=>n.pageSize,c=>{u.value=c});const s=P(()=>n.pageSizes);function o(c){var f;c!==u.value&&(u.value=c,(f=a.handleSizeChange)==null||f.call(a,Number(c)))}return(c,f)=>(L(),Q("span",{class:F(y(r).e("sizes"))},[oe(y(pa),{"model-value":u.value,disabled:c.disabled,"popper-class":c.popperClass,size:c.size,teleported:c.teleported,"validate-event":!1,onChange:o},{default:ve(()=>[(L(!0),Q(tt,null,Tt(y(s),l=>(L(),Pe(y(sh),{key:l,value:l,label:l+y(i)("el.pagination.pagesize")},null,8,["value","label"]))),128))]),_:1},8,["model-value","disabled","popper-class","size","teleported"])],2))}});var ZK=Ge(qK,[["__file","sizes.vue"]]);const JK=We({size:{type:String,values:zr}}),QK=["disabled"],eY=se({name:"ElPaginationJumper"}),tY=se({...eY,props:JK,setup(t){const{t:e}=Dt(),n=Ve("pagination"),{pageCount:i,disabled:r,currentPage:a,changeEvent:u}=G0(),s=Y(),o=P(()=>{var l;return(l=s.value)!=null?l:a==null?void 0:a.value});function c(l){s.value=l?+l:""}function f(l){l=Math.trunc(+l),u==null||u(l),s.value=void 0}return(l,d)=>(L(),Q("span",{class:F(y(n).e("jump")),disabled:y(r)},[te("span",{class:F([y(n).e("goto")])},je(y(e)("el.pagination.goto")),3),oe(y(ri),{size:l.size,class:F([y(n).e("editor"),y(n).is("in-pagination")]),min:1,max:y(i),disabled:y(r),"model-value":y(o),"validate-event":!1,label:y(e)("el.pagination.page"),type:"number","onUpdate:modelValue":c,onChange:f},null,8,["size","class","max","disabled","model-value","label"]),te("span",{class:F([y(n).e("classifier")])},je(y(e)("el.pagination.pageClassifier")),3)],10,QK))}});var nY=Ge(tY,[["__file","jumper.vue"]]);const iY=We({total:{type:Number,default:1e3}}),rY=["disabled"],sY=se({name:"ElPaginationTotal"}),oY=se({...sY,props:iY,setup(t){const{t:e}=Dt(),n=Ve("pagination"),{disabled:i}=G0();return(r,a)=>(L(),Q("span",{class:F(y(n).e("total")),disabled:y(i)},je(y(e)("el.pagination.total",{total:r.total})),11,rY))}});var aY=Ge(oY,[["__file","total.vue"]]);const lY=We({currentPage:{type:Number,default:1},pageCount:{type:Number,required:!0},pagerCount:{type:Number,default:7},disabled:Boolean}),cY=["onKeyup"],uY=["aria-current","aria-label","tabindex"],dY=["tabindex","aria-label"],fY=["aria-current","aria-label","tabindex"],hY=["tabindex","aria-label"],pY=["aria-current","aria-label","tabindex"],mY=se({name:"ElPaginationPager"}),gY=se({...mY,props:lY,emits:["change"],setup(t,{emit:e}){const n=t,i=Ve("pager"),r=Ve("icon"),{t:a}=Dt(),u=Y(!1),s=Y(!1),o=Y(!1),c=Y(!1),f=Y(!1),l=Y(!1),d=P(()=>{const S=n.pagerCount,w=(S-1)/2,C=Number(n.currentPage),x=Number(n.pageCount);let M=!1,E=!1;x>S&&(C>S-w&&(M=!0),C<x-w&&(E=!0));const A=[];if(M&&!E){const O=x-(S-2);for(let I=O;I<x;I++)A.push(I)}else if(!M&&E)for(let O=2;O<S;O++)A.push(O);else if(M&&E){const O=Math.floor(S/2)-1;for(let I=C-O;I<=C+O;I++)A.push(I)}else for(let O=2;O<x;O++)A.push(O);return A}),h=P(()=>["more","btn-quickprev",r.b(),i.is("disabled",n.disabled)]),p=P(()=>["more","btn-quicknext",r.b(),i.is("disabled",n.disabled)]),g=P(()=>n.disabled?-1:0);Yn(()=>{const S=(n.pagerCount-1)/2;u.value=!1,s.value=!1,n.pageCount>n.pagerCount&&(n.currentPage>n.pagerCount-S&&(u.value=!0),n.currentPage<n.pageCount-S&&(s.value=!0))});function m(S=!1){n.disabled||(S?o.value=!0:c.value=!0)}function v(S=!1){S?f.value=!0:l.value=!0}function b(S){const w=S.target;if(w.tagName.toLowerCase()==="li"&&Array.from(w.classList).includes("number")){const C=Number(w.textContent);C!==n.currentPage&&e("change",C)}else w.tagName.toLowerCase()==="li"&&Array.from(w.classList).includes("more")&&_(S)}function _(S){const w=S.target;if(w.tagName.toLowerCase()==="ul"||n.disabled)return;let C=Number(w.textContent);const x=n.pageCount,M=n.currentPage,E=n.pagerCount-2;w.className.includes("more")&&(w.className.includes("quickprev")?C=M-E:w.className.includes("quicknext")&&(C=M+E)),Number.isNaN(+C)||(C<1&&(C=1),C>x&&(C=x)),C!==M&&e("change",C)}return(S,w)=>(L(),Q("ul",{class:F(y(i).b()),onClick:_,onKeyup:Xt(b,["enter"])},[S.pageCount>0?(L(),Q("li",{key:0,class:F([[y(i).is("active",S.currentPage===1),y(i).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===1,"aria-label":y(a)("el.pagination.currentPage",{pager:1}),tabindex:y(g)}," 1 ",10,uY)):Ee("v-if",!0),u.value?(L(),Q("li",{key:1,class:F(y(h)),tabindex:y(g),"aria-label":y(a)("el.pagination.prevPages",{pager:S.pagerCount-2}),onMouseenter:w[0]||(w[0]=C=>m(!0)),onMouseleave:w[1]||(w[1]=C=>o.value=!1),onFocus:w[2]||(w[2]=C=>v(!0)),onBlur:w[3]||(w[3]=C=>f.value=!1)},[(o.value||f.value)&&!S.disabled?(L(),Pe(y(Ol),{key:0})):(L(),Pe(y(m_),{key:1}))],42,dY)):Ee("v-if",!0),(L(!0),Q(tt,null,Tt(y(d),C=>(L(),Q("li",{key:C,class:F([[y(i).is("active",S.currentPage===C),y(i).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===C,"aria-label":y(a)("el.pagination.currentPage",{pager:C}),tabindex:y(g)},je(C),11,fY))),128)),s.value?(L(),Q("li",{key:2,class:F(y(p)),tabindex:y(g),"aria-label":y(a)("el.pagination.nextPages",{pager:S.pagerCount-2}),onMouseenter:w[4]||(w[4]=C=>m()),onMouseleave:w[5]||(w[5]=C=>c.value=!1),onFocus:w[6]||(w[6]=C=>v()),onBlur:w[7]||(w[7]=C=>l.value=!1)},[(c.value||l.value)&&!S.disabled?(L(),Pe(y(kl),{key:0})):(L(),Pe(y(m_),{key:1}))],42,hY)):Ee("v-if",!0),S.pageCount>1?(L(),Q("li",{key:3,class:F([[y(i).is("active",S.currentPage===S.pageCount),y(i).is("disabled",S.disabled)],"number"]),"aria-current":S.currentPage===S.pageCount,"aria-label":y(a)("el.pagination.currentPage",{pager:S.pageCount}),tabindex:y(g)},je(S.pageCount),11,pY)):Ee("v-if",!0)],42,cY))}});var vY=Ge(gY,[["__file","pager.vue"]]);const di=t=>typeof t!="number",yY=We({pageSize:Number,defaultPageSize:Number,total:Number,pageCount:Number,pagerCount:{type:Number,validator:t=>ot(t)&&Math.trunc(t)===t&&t>4&&t<22&&t%2===1,default:7},currentPage:Number,defaultCurrentPage:Number,layout:{type:String,default:["prev","pager","next","jumper","->","total"].join(", ")},pageSizes:{type:we(Array),default:()=>fn([10,20,30,40,50,100])},popperClass:{type:String,default:""},prevText:{type:String,default:""},prevIcon:{type:Kt,default:()=>uo},nextText:{type:String,default:""},nextIcon:{type:Kt,default:()=>vi},teleported:{type:Boolean,default:!0},small:Boolean,background:Boolean,disabled:Boolean,hideOnSinglePage:Boolean}),bY={"update:current-page":t=>ot(t),"update:page-size":t=>ot(t),"size-change":t=>ot(t),change:(t,e)=>ot(t)&&ot(e),"current-change":t=>ot(t),"prev-click":t=>ot(t),"next-click":t=>ot(t)},AS="ElPagination";var _Y=se({name:AS,props:yY,emits:bY,setup(t,{emit:e,slots:n}){const{t:i}=Dt(),r=Ve("pagination"),a=mt().vnode.props||{},u="onUpdate:currentPage"in a||"onUpdate:current-page"in a||"onCurrentChange"in a,s="onUpdate:pageSize"in a||"onUpdate:page-size"in a||"onSizeChange"in a,o=P(()=>{if(di(t.total)&&di(t.pageCount)||!di(t.currentPage)&&!u)return!1;if(t.layout.includes("sizes")){if(di(t.pageCount)){if(!di(t.total)&&!di(t.pageSize)&&!s)return!1}else if(!s)return!1}return!0}),c=Y(di(t.defaultPageSize)?10:t.defaultPageSize),f=Y(di(t.defaultCurrentPage)?1:t.defaultCurrentPage),l=P({get(){return di(t.pageSize)?c.value:t.pageSize},set(_){di(t.pageSize)&&(c.value=_),s&&(e("update:page-size",_),e("size-change",_))}}),d=P(()=>{let _=0;return di(t.pageCount)?di(t.total)||(_=Math.max(1,Math.ceil(t.total/l.value))):_=t.pageCount,_}),h=P({get(){return di(t.currentPage)?f.value:t.currentPage},set(_){let S=_;_<1?S=1:_>d.value&&(S=d.value),di(t.currentPage)&&(f.value=S),u&&(e("update:current-page",S),e("current-change",S))}});Be(d,_=>{h.value>_&&(h.value=_)}),Be([h,l],_=>{e("change",..._)},{flush:"post"});function p(_){h.value=_}function g(_){l.value=_;const S=d.value;h.value>S&&(h.value=S)}function m(){t.disabled||(h.value-=1,e("prev-click",h.value))}function v(){t.disabled||(h.value+=1,e("next-click",h.value))}function b(_,S){_&&(_.props||(_.props={}),_.props.class=[_.props.class,S].join(" "))}return Mt(YM,{pageCount:d,disabled:P(()=>t.disabled),currentPage:h,changeEvent:p,handleSizeChange:g}),()=>{var _,S;if(!o.value)return i("el.pagination.deprecationWarning"),null;if(!t.layout||t.hideOnSinglePage&&d.value<=1)return null;const w=[],C=[],x=rt("div",{class:r.e("rightwrapper")},C),M={prev:rt(wK,{disabled:t.disabled,currentPage:h.value,prevText:t.prevText,prevIcon:t.prevIcon,onClick:m}),jumper:rt(nY,{size:t.small?"small":"default"}),pager:rt(vY,{currentPage:h.value,pageCount:d.value,pagerCount:t.pagerCount,onChange:p,disabled:t.disabled}),next:rt(AK,{disabled:t.disabled,currentPage:h.value,pageCount:d.value,nextText:t.nextText,nextIcon:t.nextIcon,onClick:v}),sizes:rt(ZK,{pageSize:l.value,pageSizes:t.pageSizes,popperClass:t.popperClass,disabled:t.disabled,teleported:t.teleported,size:t.small?"small":"default"}),slot:(S=(_=n==null?void 0:n.default)==null?void 0:_.call(n))!=null?S:null,total:rt(aY,{total:di(t.total)?0:t.total})},E=t.layout.split(",").map(O=>O.trim());let A=!1;return E.forEach(O=>{if(O==="->"){A=!0;return}A?C.push(M[O]):w.push(M[O])}),b(w[0],r.is("first")),b(w[w.length-1],r.is("last")),A&&C.length>0&&(b(C[0],r.is("first")),b(C[C.length-1],r.is("last")),w.push(x)),rt("div",{class:[r.b(),r.is("background",t.background),{[r.m("small")]:t.small}]},w)}}});const SY=gt(_Y),wY=We({title:String,confirmButtonText:String,cancelButtonText:String,confirmButtonType:{type:String,values:rg,default:"primary"},cancelButtonType:{type:String,values:rg,default:"text"},icon:{type:Kt,default:()=>W3},iconColor:{type:String,default:"#f90"},hideIcon:{type:Boolean,default:!1},hideAfter:{type:Number,default:200},teleported:Hn.teleported,persistent:Hn.persistent,width:{type:[String,Number],default:150}}),CY={confirm:t=>t instanceof MouseEvent,cancel:t=>t instanceof MouseEvent},xY=se({name:"ElPopconfirm"}),TY=se({...xY,props:wY,emits:CY,setup(t,{emit:e}){const n=t,{t:i}=Dt(),r=Ve("popconfirm"),a=Y(),u=()=>{var d,h;(h=(d=a.value)==null?void 0:d.onClose)==null||h.call(d)},s=P(()=>({width:yn(n.width)})),o=d=>{e("confirm",d),u()},c=d=>{e("cancel",d),u()},f=P(()=>n.confirmButtonText||i("el.popconfirm.confirmButtonText")),l=P(()=>n.cancelButtonText||i("el.popconfirm.cancelButtonText"));return(d,h)=>(L(),Pe(y(ai),xt({ref_key:"tooltipRef",ref:a,trigger:"click",effect:"light"},d.$attrs,{"popper-class":`${y(r).namespace.value}-popover`,"popper-style":y(s),teleported:d.teleported,"fallback-placements":["bottom","top","right","left"],"hide-after":d.hideAfter,persistent:d.persistent}),{content:ve(()=>[te("div",{class:F(y(r).b())},[te("div",{class:F(y(r).e("main"))},[!d.hideIcon&&d.icon?(L(),Pe(y(et),{key:0,class:F(y(r).e("icon")),style:Qe({color:d.iconColor})},{default:ve(()=>[(L(),Pe(wt(d.icon)))]),_:1},8,["class","style"])):Ee("v-if",!0),Et(" "+je(d.title),1)],2),te("div",{class:F(y(r).e("action"))},[oe(y(Dn),{size:"small",type:d.cancelButtonType==="text"?"":d.cancelButtonType,text:d.cancelButtonType==="text",onClick:c},{default:ve(()=>[Et(je(y(l)),1)]),_:1},8,["type","text"]),oe(y(Dn),{size:"small",type:d.confirmButtonType==="text"?"":d.confirmButtonType,text:d.confirmButtonType==="text",onClick:o},{default:ve(()=>[Et(je(y(f)),1)]),_:1},8,["type","text"])],2)],2)]),default:ve(()=>[d.$slots.reference?Le(d.$slots,"reference",{key:0}):Ee("v-if",!0)]),_:3},16,["popper-class","popper-style","teleported","hide-after","persistent"]))}});var EY=Ge(TY,[["__file","popconfirm.vue"]]);const MY=gt(EY),AY=We({trigger:xu.trigger,placement:Ef.placement,disabled:xu.disabled,visible:Hn.visible,transition:Hn.transition,popperOptions:Ef.popperOptions,tabindex:Ef.tabindex,content:Hn.content,popperStyle:Hn.popperStyle,popperClass:Hn.popperClass,enterable:{...Hn.enterable,default:!0},effect:{...Hn.effect,default:"light"},teleported:Hn.teleported,title:String,width:{type:[String,Number],default:150},offset:{type:Number,default:void 0},showAfter:{type:Number,default:0},hideAfter:{type:Number,default:200},autoClose:{type:Number,default:0},showArrow:{type:Boolean,default:!0},persistent:{type:Boolean,default:!0},"onUpdate:visible":{type:Function}}),RY={"update:visible":t=>Tn(t),"before-enter":()=>!0,"before-leave":()=>!0,"after-enter":()=>!0,"after-leave":()=>!0},PY="onUpdate:visible",OY=se({name:"ElPopover"}),kY=se({...OY,props:AY,emits:RY,setup(t,{expose:e,emit:n}){const i=t,r=P(()=>i[PY]),a=Ve("popover"),u=Y(),s=P(()=>{var m;return(m=y(u))==null?void 0:m.popperRef}),o=P(()=>[{width:yn(i.width)},i.popperStyle]),c=P(()=>[a.b(),i.popperClass,{[a.m("plain")]:!!i.content}]),f=P(()=>i.transition===`${a.namespace.value}-fade-in-linear`),l=()=>{var m;(m=u.value)==null||m.hide()},d=()=>{n("before-enter")},h=()=>{n("before-leave")},p=()=>{n("after-enter")},g=()=>{n("update:visible",!1),n("after-leave")};return e({popperRef:s,hide:l}),(m,v)=>(L(),Pe(y(ai),xt({ref_key:"tooltipRef",ref:u},m.$attrs,{trigger:m.trigger,placement:m.placement,disabled:m.disabled,visible:m.visible,transition:m.transition,"popper-options":m.popperOptions,tabindex:m.tabindex,content:m.content,offset:m.offset,"show-after":m.showAfter,"hide-after":m.hideAfter,"auto-close":m.autoClose,"show-arrow":m.showArrow,"aria-label":m.title,effect:m.effect,enterable:m.enterable,"popper-class":y(c),"popper-style":y(o),teleported:m.teleported,persistent:m.persistent,"gpu-acceleration":y(f),"onUpdate:visible":y(r),onBeforeShow:d,onBeforeHide:h,onShow:p,onHide:g}),{content:ve(()=>[m.title?(L(),Q("div",{key:0,class:F(y(a).e("title")),role:"title"},je(m.title),3)):Ee("v-if",!0),Le(m.$slots,"default",{},()=>[Et(je(m.content),1)])]),default:ve(()=>[m.$slots.reference?Le(m.$slots,"reference",{key:0}):Ee("v-if",!0)]),_:3},16,["trigger","placement","disabled","visible","transition","popper-options","tabindex","content","offset","show-after","hide-after","auto-close","show-arrow","aria-label","effect","enterable","popper-class","popper-style","teleported","persistent","gpu-acceleration","onUpdate:visible"]))}});var LY=Ge(kY,[["__file","popover.vue"]]);const RS=(t,e)=>{const n=e.arg||e.value,i=n==null?void 0:n.popperRef;i&&(i.triggerRef=t)};var IY={mounted(t,e){RS(t,e)},updated(t,e){RS(t,e)}};const DY="popover",QM=pB(IY,DY),NY=gt(LY,{directive:QM}),FY=We({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:we(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:we([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:we(Function),default:t=>`${t}%`}}),BY=["aria-valuenow"],UY={viewBox:"0 0 100 100"},VY=["d","stroke","stroke-linecap","stroke-width"],$Y=["d","stroke","opacity","stroke-linecap","stroke-width"],HY={key:0},zY=se({name:"ElProgress"}),WY=se({...zY,props:FY,setup(t){const e=t,n={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},i=Ve("progress"),r=P(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:b(e.percentage)})),a=P(()=>(e.strokeWidth/e.width*100).toFixed(1)),u=P(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(a.value)/2}`,10):0),s=P(()=>{const _=u.value,S=e.type==="dashboard";return`
          M 50 50
          m 0 ${S?"":"-"}${_}
          a ${_} ${_} 0 1 1 0 ${S?"-":""}${_*2}
          a ${_} ${_} 0 1 1 0 ${S?"":"-"}${_*2}
          `}),o=P(()=>2*Math.PI*u.value),c=P(()=>e.type==="dashboard"?.75:1),f=P(()=>`${-1*o.value*(1-c.value)/2}px`),l=P(()=>({strokeDasharray:`${o.value*c.value}px, ${o.value}px`,strokeDashoffset:f.value})),d=P(()=>({strokeDasharray:`${o.value*c.value*(e.percentage/100)}px, ${o.value}px`,strokeDashoffset:f.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),h=P(()=>{let _;return e.color?_=b(e.percentage):_=n[e.status]||n.default,_}),p=P(()=>e.status==="warning"?Nh:e.type==="line"?e.status==="success"?Qv:_o:e.status==="success"?Ku:Cr),g=P(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),m=P(()=>e.format(e.percentage));function v(_){const S=100/_.length;return _.map((C,x)=>ct(C)?{color:C,percentage:(x+1)*S}:C).sort((C,x)=>C.percentage-x.percentage)}const b=_=>{var S;const{color:w}=e;if(at(w))return w(_);if(ct(w))return w;{const C=v(w);for(const x of C)if(x.percentage>_)return x.color;return(S=C[C.length-1])==null?void 0:S.color}};return(_,S)=>(L(),Q("div",{class:F([y(i).b(),y(i).m(_.type),y(i).is(_.status),{[y(i).m("without-text")]:!_.showText,[y(i).m("text-inside")]:_.textInside}]),role:"progressbar","aria-valuenow":_.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[_.type==="line"?(L(),Q("div",{key:0,class:F(y(i).b("bar"))},[te("div",{class:F(y(i).be("bar","outer")),style:Qe({height:`${_.strokeWidth}px`})},[te("div",{class:F([y(i).be("bar","inner"),{[y(i).bem("bar","inner","indeterminate")]:_.indeterminate},{[y(i).bem("bar","inner","striped")]:_.striped},{[y(i).bem("bar","inner","striped-flow")]:_.stripedFlow}]),style:Qe(y(r))},[(_.showText||_.$slots.default)&&_.textInside?(L(),Q("div",{key:0,class:F(y(i).be("bar","innerText"))},[Le(_.$slots,"default",{percentage:_.percentage},()=>[te("span",null,je(y(m)),1)])],2)):Ee("v-if",!0)],6)],6)],2)):(L(),Q("div",{key:1,class:F(y(i).b("circle")),style:Qe({height:`${_.width}px`,width:`${_.width}px`})},[(L(),Q("svg",UY,[te("path",{class:F(y(i).be("circle","track")),d:y(s),stroke:`var(${y(i).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-linecap":_.strokeLinecap,"stroke-width":y(a),fill:"none",style:Qe(y(l))},null,14,VY),te("path",{class:F(y(i).be("circle","path")),d:y(s),stroke:y(h),fill:"none",opacity:_.percentage?1:0,"stroke-linecap":_.strokeLinecap,"stroke-width":y(a),style:Qe(y(d))},null,14,$Y)]))],6)),(_.showText||_.$slots.default)&&!_.textInside?(L(),Q("div",{key:2,class:F(y(i).e("text")),style:Qe({fontSize:`${y(g)}px`})},[Le(_.$slots,"default",{percentage:_.percentage},()=>[_.status?(L(),Pe(y(et),{key:1},{default:ve(()=>[(L(),Pe(wt(y(p))))]),_:1})):(L(),Q("span",HY,je(y(m)),1))])],6)):Ee("v-if",!0)],10,BY))}});var GY=Ge(WY,[["__file","progress.vue"]]);const e2=gt(GY),jY=We({modelValue:{type:Number,default:0},id:{type:String,default:void 0},lowThreshold:{type:Number,default:2},highThreshold:{type:Number,default:4},max:{type:Number,default:5},colors:{type:we([Array,Object]),default:()=>fn(["","",""])},voidColor:{type:String,default:""},disabledVoidColor:{type:String,default:""},icons:{type:we([Array,Object]),default:()=>[_d,_d,_d]},voidIcon:{type:Kt,default:()=>sB},disabledVoidIcon:{type:Kt,default:()=>_d},disabled:Boolean,allowHalf:Boolean,showText:Boolean,showScore:Boolean,textColor:{type:String,default:""},texts:{type:we(Array),default:()=>fn(["Extremely bad","Disappointed","Fair","Satisfied","Surprise"])},scoreTemplate:{type:String,default:"{value}"},size:kn,label:{type:String,default:void 0},clearable:{type:Boolean,default:!1}}),XY={[rn]:t=>ot(t),[_t]:t=>ot(t)},KY=["id","aria-label","aria-labelledby","aria-valuenow","aria-valuetext","aria-valuemax"],YY=["onMousemove","onClick"],qY=se({name:"ElRate"}),ZY=se({...qY,props:jY,emits:XY,setup(t,{expose:e,emit:n}){const i=t;function r(N,k){const D=V=>bt(V),T=Object.keys(k).map(V=>+V).filter(V=>{const U=k[V];return(D(U)?U.excluded:!1)?N<V:N<=V}).sort((V,U)=>V-U),R=k[T[0]];return D(R)&&R.value||R}const a=Je(Ea,void 0),u=Je(Vr,void 0),s=Mn(),o=Ve("rate"),{inputId:c,isLabeledByFormItem:f}=Mr(i,{formItemContext:u}),l=Y(i.modelValue),d=Y(-1),h=Y(!0),p=P(()=>[o.b(),o.m(s.value)]),g=P(()=>i.disabled||(a==null?void 0:a.disabled)),m=P(()=>o.cssVarBlock({"void-color":i.voidColor,"disabled-void-color":i.disabledVoidColor,"fill-color":S.value})),v=P(()=>{let N="";return i.showScore?N=i.scoreTemplate.replace(/\{\s*value\s*\}/,g.value?`${i.modelValue}`:`${l.value}`):i.showText&&(N=i.texts[Math.ceil(l.value)-1]),N}),b=P(()=>i.modelValue*100-Math.floor(i.modelValue)*100),_=P(()=>qe(i.colors)?{[i.lowThreshold]:i.colors[0],[i.highThreshold]:{value:i.colors[1],excluded:!0},[i.max]:i.colors[2]}:i.colors),S=P(()=>{const N=r(l.value,_.value);return bt(N)?"":N}),w=P(()=>{let N="";return g.value?N=`${b.value}%`:i.allowHalf&&(N="50%"),{color:S.value,width:N}}),C=P(()=>{let N=qe(i.icons)?[...i.icons]:{...i.icons};return N=fl(N),qe(N)?{[i.lowThreshold]:N[0],[i.highThreshold]:{value:N[1],excluded:!0},[i.max]:N[2]}:N}),x=P(()=>r(i.modelValue,C.value)),M=P(()=>g.value?ct(i.disabledVoidIcon)?i.disabledVoidIcon:fl(i.disabledVoidIcon):ct(i.voidIcon)?i.voidIcon:fl(i.voidIcon)),E=P(()=>r(l.value,C.value));function A(N){const k=g.value&&b.value>0&&N-1<i.modelValue&&N>i.modelValue,D=i.allowHalf&&h.value&&N-.5<=l.value&&N>l.value;return k||D}function O(N){i.clearable&&N===i.modelValue&&(N=0),n(_t,N),i.modelValue!==N&&n("change",N)}function I(N){g.value||(i.allowHalf&&h.value?O(l.value):O(N))}function $(N){if(g.value)return;let k=l.value;const D=N.code;return D===nt.up||D===nt.right?(i.allowHalf?k+=.5:k+=1,N.stopPropagation(),N.preventDefault()):(D===nt.left||D===nt.down)&&(i.allowHalf?k-=.5:k-=1,N.stopPropagation(),N.preventDefault()),k=k<0?0:k,k=k>i.max?i.max:k,n(_t,k),n("change",k),k}function H(N,k){if(!g.value){if(i.allowHalf&&k){let D=k.target;er(D,o.e("item"))&&(D=D.querySelector(`.${o.e("icon")}`)),(D.clientWidth===0||er(D,o.e("decimal")))&&(D=D.parentNode),h.value=k.offsetX*2<=D.clientWidth,l.value=h.value?N-.5:N}else l.value=N;d.value=N}}function B(){g.value||(i.allowHalf&&(h.value=i.modelValue!==Math.floor(i.modelValue)),l.value=i.modelValue,d.value=-1)}return Be(()=>i.modelValue,N=>{l.value=N,h.value=i.modelValue!==Math.floor(i.modelValue)}),i.modelValue||n(_t,0),e({setCurrentValue:H,resetCurrentValue:B}),(N,k)=>{var D;return L(),Q("div",{id:y(c),class:F([y(p),y(o).is("disabled",y(g))]),role:"slider","aria-label":y(f)?void 0:N.label||"rating","aria-labelledby":y(f)?(D=y(u))==null?void 0:D.labelId:void 0,"aria-valuenow":l.value,"aria-valuetext":y(v)||void 0,"aria-valuemin":"0","aria-valuemax":N.max,tabindex:"0",style:Qe(y(m)),onKeydown:$},[(L(!0),Q(tt,null,Tt(N.max,(T,R)=>(L(),Q("span",{key:R,class:F(y(o).e("item")),onMousemove:V=>H(T,V),onMouseleave:B,onClick:V=>I(T)},[oe(y(et),{class:F([y(o).e("icon"),{hover:d.value===T},y(o).is("active",T<=l.value)])},{default:ve(()=>[A(T)?Ee("v-if",!0):(L(),Q(tt,{key:0},[ft((L(),Pe(wt(y(E)),null,null,512)),[[Nt,T<=l.value]]),ft((L(),Pe(wt(y(M)),null,null,512)),[[Nt,!(T<=l.value)]])],64)),A(T)?(L(),Q(tt,{key:1},[(L(),Pe(wt(y(M)),{class:F([y(o).em("decimal","box")])},null,8,["class"])),oe(y(et),{style:Qe(y(w)),class:F([y(o).e("icon"),y(o).e("decimal")])},{default:ve(()=>[(L(),Pe(wt(y(x))))]),_:1},8,["style","class"])],64)):Ee("v-if",!0)]),_:2},1032,["class"])],42,YY))),128)),N.showText||N.showScore?(L(),Q("span",{key:0,class:F(y(o).e("text")),style:Qe({color:N.textColor})},je(y(v)),7)):Ee("v-if",!0)],46,KY)}}});var JY=Ge(ZY,[["__file","rate.vue"]]);const QY=gt(JY),ol={success:"icon-success",warning:"icon-warning",error:"icon-error",info:"icon-info"},PS={[ol.success]:v3,[ol.warning]:Nh,[ol.error]:e0,[ol.info]:t0},e7=We({title:{type:String,default:""},subTitle:{type:String,default:""},icon:{type:String,values:["success","warning","info","error"],default:"info"}}),t7=se({name:"ElResult"}),n7=se({...t7,props:e7,setup(t){const e=t,n=Ve("result"),i=P(()=>{const r=e.icon,a=r&&ol[r]?ol[r]:"icon-info",u=PS[a]||PS["icon-info"];return{class:a,component:u}});return(r,a)=>(L(),Q("div",{class:F(y(n).b())},[te("div",{class:F(y(n).e("icon"))},[Le(r.$slots,"icon",{},()=>[y(i).component?(L(),Pe(wt(y(i).component),{key:0,class:F(y(i).class)},null,8,["class"])):Ee("v-if",!0)])],2),r.title||r.$slots.title?(L(),Q("div",{key:0,class:F(y(n).e("title"))},[Le(r.$slots,"title",{},()=>[te("p",null,je(r.title),1)])],2)):Ee("v-if",!0),r.subTitle||r.$slots["sub-title"]?(L(),Q("div",{key:1,class:F(y(n).e("subtitle"))},[Le(r.$slots,"sub-title",{},()=>[te("p",null,je(r.subTitle),1)])],2)):Ee("v-if",!0),r.$slots.extra?(L(),Q("div",{key:2,class:F(y(n).e("extra"))},[Le(r.$slots,"extra")],2)):Ee("v-if",!0)],2))}});var i7=Ge(n7,[["__file","result.vue"]]);const r7=gt(i7);var OS=Number.isNaN||function(e){return typeof e=="number"&&e!==e};function s7(t,e){return!!(t===e||OS(t)&&OS(e))}function o7(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!s7(t[n],e[n]))return!1;return!0}function a7(t,e){e===void 0&&(e=o7);var n=null;function i(){for(var r=[],a=0;a<arguments.length;a++)r[a]=arguments[a];if(n&&n.lastThis===this&&e(r,n.lastArgs))return n.lastResult;var u=t.apply(this,r);return n={lastResult:u,lastArgs:r,lastThis:this},u}return i.clear=function(){n=null},i}const t2=()=>{const e=mt().proxy.$props;return P(()=>{const n=(i,r,a)=>({});return e.perfMode?kh(n):a7(n)})},Tg=50,oh="itemRendered",ah="scroll",al="forward",lh="backward",Ji="auto",qh="smart",Mu="start",Dr="center",Au="end",Vl="horizontal",j0="vertical",l7="ltr",yl="rtl",Ru="negative",X0="positive-ascending",K0="positive-descending",c7={[Vl]:"left",[j0]:"top"},u7=20,d7={[Vl]:"deltaX",[j0]:"deltaY"},f7=({atEndEdge:t,atStartEdge:e,layout:n},i)=>{let r,a=0;const u=o=>o<0&&e.value||o>0&&t.value;return{hasReachedEdge:u,onWheel:o=>{da(r);const c=o[d7[n.value]];u(a)&&u(a+c)||(a+=c,xx()||o.preventDefault(),r=co(()=>{i(a),a=0}))}}},Eg=Tr({type:we([Number,Function]),required:!0}),Mg=Tr({type:Number}),Ag=Tr({type:Number,default:2}),h7=Tr({type:String,values:["ltr","rtl"],default:"ltr"}),Rg=Tr({type:Number,default:0}),ch=Tr({type:Number,required:!0}),n2=Tr({type:String,values:["horizontal","vertical"],default:j0}),i2=We({className:{type:String,default:""},containerElement:{type:we([String,Object]),default:"div"},data:{type:we(Array),default:()=>fn([])},direction:h7,height:{type:[String,Number],required:!0},innerElement:{type:[String,Object],default:"div"},style:{type:we([Object,String,Array])},useIsScrolling:{type:Boolean,default:!1},width:{type:[Number,String],required:!1},perfMode:{type:Boolean,default:!0},scrollbarAlwaysOn:{type:Boolean,default:!1}}),r2=We({cache:Ag,estimatedItemSize:Mg,layout:n2,initScrollOffset:Rg,total:ch,itemSize:Eg,...i2}),Pg={type:Number,default:6},s2={type:Number,default:0},o2={type:Number,default:2},ia=We({columnCache:Ag,columnWidth:Eg,estimatedColumnWidth:Mg,estimatedRowHeight:Mg,initScrollLeft:Rg,initScrollTop:Rg,itemKey:{type:we(Function),default:({columnIndex:t,rowIndex:e})=>`${e}:${t}`},rowCache:Ag,rowHeight:Eg,totalColumn:ch,totalRow:ch,hScrollbarSize:Pg,vScrollbarSize:Pg,scrollbarStartGap:s2,scrollbarEndGap:o2,role:String,...i2}),a2=We({alwaysOn:Boolean,class:String,layout:n2,total:ch,ratio:{type:Number,required:!0},clientSize:{type:Number,required:!0},scrollFrom:{type:Number,required:!0},scrollbarSize:Pg,startGap:s2,endGap:o2,visible:Boolean}),Go=(t,e)=>t<e?al:lh,Pu=t=>t===l7||t===yl||t===Vl,kS=t=>t===yl;let ka=null;function uh(t=!1){if(ka===null||t){const e=document.createElement("div"),n=e.style;n.width="50px",n.height="50px",n.overflow="scroll",n.direction="rtl";const i=document.createElement("div"),r=i.style;return r.width="100px",r.height="100px",e.appendChild(i),document.body.appendChild(e),e.scrollLeft>0?ka=K0:(e.scrollLeft=1,e.scrollLeft===0?ka=Ru:ka=X0),document.body.removeChild(e),ka}return ka}function p7({move:t,size:e,bar:n},i){const r={},a=`translate${n.axis}(${t}px)`;return r[n.size]=e,r.transform=a,r.msTransform=a,r.webkitTransform=a,i==="horizontal"?r.height="100%":r.width="100%",r}const Og=se({name:"ElVirtualScrollBar",props:a2,emits:["scroll","start-move","stop-move"],setup(t,{emit:e}){const n=P(()=>t.startGap+t.endGap),i=Ve("virtual-scrollbar"),r=Ve("scrollbar"),a=Y(),u=Y();let s=null,o=null;const c=$t({isDragging:!1,traveled:0}),f=P(()=>oE[t.layout]),l=P(()=>t.clientSize-y(n)),d=P(()=>({position:"absolute",width:`${Vl===t.layout?l.value:t.scrollbarSize}px`,height:`${Vl===t.layout?t.scrollbarSize:l.value}px`,[c7[t.layout]]:"2px",right:"2px",bottom:"2px",borderRadius:"4px"})),h=P(()=>{const C=t.ratio,x=t.clientSize;if(C>=100)return Number.POSITIVE_INFINITY;if(C>=50)return C*x/100;const M=x/3;return Math.floor(Math.min(Math.max(C*x,u7),M))}),p=P(()=>{if(!Number.isFinite(h.value))return{display:"none"};const C=`${h.value}px`;return p7({bar:f.value,size:C,move:c.traveled},t.layout)}),g=P(()=>Math.floor(t.clientSize-h.value-y(n))),m=()=>{window.addEventListener("mousemove",S),window.addEventListener("mouseup",_);const C=y(u);C&&(o=document.onselectstart,document.onselectstart=()=>!1,C.addEventListener("touchmove",S),C.addEventListener("touchend",_))},v=()=>{window.removeEventListener("mousemove",S),window.removeEventListener("mouseup",_),document.onselectstart=o,o=null;const C=y(u);C&&(C.removeEventListener("touchmove",S),C.removeEventListener("touchend",_))},b=C=>{C.stopImmediatePropagation(),!(C.ctrlKey||[1,2].includes(C.button))&&(c.isDragging=!0,c[f.value.axis]=C.currentTarget[f.value.offset]-(C[f.value.client]-C.currentTarget.getBoundingClientRect()[f.value.direction]),e("start-move"),m())},_=()=>{c.isDragging=!1,c[f.value.axis]=0,e("stop-move"),v()},S=C=>{const{isDragging:x}=c;if(!x||!u.value||!a.value)return;const M=c[f.value.axis];if(!M)return;da(s);const E=(a.value.getBoundingClientRect()[f.value.direction]-C[f.value.client])*-1,A=u.value[f.value.offset]-M,O=E-A;s=co(()=>{c.traveled=Math.max(t.startGap,Math.min(O,g.value)),e("scroll",O,g.value)})},w=C=>{const x=Math.abs(C.target.getBoundingClientRect()[f.value.direction]-C[f.value.client]),M=u.value[f.value.offset]/2,E=x-M;c.traveled=Math.max(0,Math.min(E,g.value)),e("scroll",E,g.value)};return Be(()=>t.scrollFrom,C=>{c.isDragging||(c.traveled=Math.ceil(C*g.value))}),en(()=>{v()}),()=>rt("div",{role:"presentation",ref:a,class:[i.b(),t.class,(t.alwaysOn||c.isDragging)&&"always-on"],style:d.value,onMousedown:lt(w,["stop","prevent"]),onTouchstartPrevent:b},rt("div",{ref:u,class:r.e("thumb"),style:p.value,onMousedown:b},[]))}}),l2=({name:t,getOffset:e,getItemSize:n,getItemOffset:i,getEstimatedTotalSize:r,getStartIndexForOffset:a,getStopIndexForStartIndex:u,initCache:s,clearCache:o,validateProps:c})=>se({name:t??"ElVirtualList",props:r2,emits:[oh,ah],setup(f,{emit:l,expose:d}){c(f);const h=mt(),p=Ve("vl"),g=Y(s(f,h)),m=t2(),v=Y(),b=Y(),_=Y(),S=Y({isScrolling:!1,scrollDir:"forward",scrollOffset:ot(f.initScrollOffset)?f.initScrollOffset:0,updateRequested:!1,isScrollbarDragging:!1,scrollbarAlwaysOn:f.scrollbarAlwaysOn}),w=P(()=>{const{total:X,cache:W}=f,{isScrolling:j,scrollDir:K,scrollOffset:z}=y(S);if(X===0)return[0,0,0,0];const ee=a(f,z,y(g)),ue=u(f,ee,z,y(g)),ne=!j||K===lh?Math.max(1,W):1,le=!j||K===al?Math.max(1,W):1;return[Math.max(0,ee-ne),Math.max(0,Math.min(X-1,ue+le)),ee,ue]}),C=P(()=>r(f,y(g))),x=P(()=>Pu(f.layout)),M=P(()=>[{position:"relative",[`overflow-${x.value?"x":"y"}`]:"scroll",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:f.direction,height:ot(f.height)?`${f.height}px`:f.height,width:ot(f.width)?`${f.width}px`:f.width},f.style]),E=P(()=>{const X=y(C),W=y(x);return{height:W?"100%":`${X}px`,pointerEvents:y(S).isScrolling?"none":void 0,width:W?`${X}px`:"100%"}}),A=P(()=>x.value?f.width:f.height),{onWheel:O}=f7({atStartEdge:P(()=>S.value.scrollOffset<=0),atEndEdge:P(()=>S.value.scrollOffset>=C.value),layout:P(()=>f.layout)},X=>{var W,j;(j=(W=_.value).onMouseUp)==null||j.call(W),k(Math.min(S.value.scrollOffset+X,C.value-A.value))}),I=()=>{const{total:X}=f;if(X>0){const[z,ee,ue,ne]=y(w);l(oh,z,ee,ue,ne)}const{scrollDir:W,scrollOffset:j,updateRequested:K}=y(S);l(ah,W,j,K)},$=X=>{const{clientHeight:W,scrollHeight:j,scrollTop:K}=X.currentTarget,z=y(S);if(z.scrollOffset===K)return;const ee=Math.max(0,Math.min(K,j-W));S.value={...z,isScrolling:!0,scrollDir:Go(z.scrollOffset,ee),scrollOffset:ee,updateRequested:!1},it(R)},H=X=>{const{clientWidth:W,scrollLeft:j,scrollWidth:K}=X.currentTarget,z=y(S);if(z.scrollOffset===j)return;const{direction:ee}=f;let ue=j;if(ee===yl)switch(uh()){case Ru:{ue=-j;break}case K0:{ue=K-W-j;break}}ue=Math.max(0,Math.min(ue,K-W)),S.value={...z,isScrolling:!0,scrollDir:Go(z.scrollOffset,ue),scrollOffset:ue,updateRequested:!1},it(R)},B=X=>{y(x)?H(X):$(X),I()},N=(X,W)=>{const j=(C.value-A.value)/W*X;k(Math.min(C.value-A.value,j))},k=X=>{X=Math.max(X,0),X!==y(S).scrollOffset&&(S.value={...y(S),scrollOffset:X,scrollDir:Go(y(S).scrollOffset,X),updateRequested:!0},it(R))},D=(X,W=Ji)=>{const{scrollOffset:j}=y(S);X=Math.max(0,Math.min(X,f.total-1)),k(e(f,X,W,j,y(g)))},T=X=>{const{direction:W,itemSize:j,layout:K}=f,z=m.value(o&&j,o&&K,o&&W);let ee;if(kt(z,String(X)))ee=z[X];else{const ue=i(f,X,y(g)),ne=n(f,X,y(g)),le=y(x),Me=W===yl,q=le?ue:0;z[X]=ee={position:"absolute",left:Me?void 0:`${q}px`,right:Me?`${q}px`:void 0,top:le?0:`${ue}px`,height:le?"100%":`${ne}px`,width:le?`${ne}px`:"100%"}}return ee},R=()=>{S.value.isScrolling=!1,it(()=>{m.value(-1,null,null)})},V=()=>{const X=v.value;X&&(X.scrollTop=0)};ht(()=>{if(!Ot)return;const{initScrollOffset:X}=f,W=y(v);ot(X)&&W&&(y(x)?W.scrollLeft=X:W.scrollTop=X),I()}),Ss(()=>{const{direction:X,layout:W}=f,{scrollOffset:j,updateRequested:K}=y(S),z=y(v);if(K&&z)if(W===Vl)if(X===yl)switch(uh()){case Ru:{z.scrollLeft=-j;break}case X0:{z.scrollLeft=j;break}default:{const{clientWidth:ee,scrollWidth:ue}=z;z.scrollLeft=ue-ee-j;break}}else z.scrollLeft=j;else z.scrollTop=j});const U={ns:p,clientSize:A,estimatedTotalSize:C,windowStyle:M,windowRef:v,innerRef:b,innerStyle:E,itemsToRender:w,scrollbarRef:_,states:S,getItemStyle:T,onScroll:B,onScrollbarScroll:N,onWheel:O,scrollTo:k,scrollToItem:D,resetScrollTop:V};return d({windowRef:v,innerRef:b,getItemStyleCache:m,scrollTo:k,scrollToItem:D,resetScrollTop:V,states:S}),U},render(f){var l;const{$slots:d,className:h,clientSize:p,containerElement:g,data:m,getItemStyle:v,innerElement:b,itemsToRender:_,innerStyle:S,layout:w,total:C,onScroll:x,onScrollbarScroll:M,onWheel:E,states:A,useIsScrolling:O,windowStyle:I,ns:$}=f,[H,B]=_,N=wt(g),k=wt(b),D=[];if(C>0)for(let U=H;U<=B;U++)D.push((l=d.default)==null?void 0:l.call(d,{data:m,key:U,index:U,isScrolling:O?A.isScrolling:void 0,style:v(U)}));const T=[rt(k,{style:S,ref:"innerRef"},ct(k)?D:{default:()=>D})],R=rt(Og,{ref:"scrollbarRef",clientSize:p,layout:w,onScroll:M,ratio:p*100/this.estimatedTotalSize,scrollFrom:A.scrollOffset/(this.estimatedTotalSize-p),total:C}),V=rt(N,{class:[$.e("window"),h],style:I,onScroll:x,onWheel:E,ref:"windowRef",key:0},ct(N)?[T]:{default:()=>[T]});return rt("div",{key:0,class:[$.e("wrapper"),A.scrollbarAlwaysOn?"always-on":""]},[V,R])}}),c2=l2({name:"ElFixedSizeList",getItemOffset:({itemSize:t},e)=>e*t,getItemSize:({itemSize:t})=>t,getEstimatedTotalSize:({total:t,itemSize:e})=>e*t,getOffset:({height:t,total:e,itemSize:n,layout:i,width:r},a,u,s)=>{const o=Pu(i)?r:t,c=Math.max(0,e*n-o),f=Math.min(c,a*n),l=Math.max(0,(a+1)*n-o);switch(u===qh&&(s>=l-o&&s<=f+o?u=Ji:u=Dr),u){case Mu:return f;case Au:return l;case Dr:{const d=Math.round(l+(f-l)/2);return d<Math.ceil(o/2)?0:d>c+Math.floor(o/2)?c:d}case Ji:default:return s>=l&&s<=f?s:s<l?l:f}},getStartIndexForOffset:({total:t,itemSize:e},n)=>Math.max(0,Math.min(t-1,Math.floor(n/e))),getStopIndexForStartIndex:({height:t,total:e,itemSize:n,layout:i,width:r},a,u)=>{const s=a*n,o=Pu(i)?r:t,c=Math.ceil((o+u-s)/n);return Math.max(0,Math.min(e-1,a+c-1))},initCache(){},clearCache:!0,validateProps(){}}),ll=(t,e,n)=>{const{itemSize:i}=t,{items:r,lastVisitedIndex:a}=n;if(e>a){let u=0;if(a>=0){const s=r[a];u=s.offset+s.size}for(let s=a+1;s<=e;s++){const o=i(s);r[s]={offset:u,size:o},u+=o}n.lastVisitedIndex=e}return r[e]},m7=(t,e,n)=>{const{items:i,lastVisitedIndex:r}=e;return(r>0?i[r].offset:0)>=n?u2(t,e,0,r,n):g7(t,e,Math.max(0,r),n)},u2=(t,e,n,i,r)=>{for(;n<=i;){const a=n+Math.floor((i-n)/2),u=ll(t,a,e).offset;if(u===r)return a;u<r?n=a+1:u>r&&(i=a-1)}return Math.max(0,n-1)},g7=(t,e,n,i)=>{const{total:r}=t;let a=1;for(;n<r&&ll(t,n,e).offset<i;)n+=a,a*=2;return u2(t,e,Math.floor(n/2),Math.min(n,r-1),i)},LS=({total:t},{items:e,estimatedItemSize:n,lastVisitedIndex:i})=>{let r=0;if(i>=t&&(i=t-1),i>=0){const s=e[i];r=s.offset+s.size}const u=(t-i-1)*n;return r+u},v7=l2({name:"ElDynamicSizeList",getItemOffset:(t,e,n)=>ll(t,e,n).offset,getItemSize:(t,e,{items:n})=>n[e].size,getEstimatedTotalSize:LS,getOffset:(t,e,n,i,r)=>{const{height:a,layout:u,width:s}=t,o=Pu(u)?s:a,c=ll(t,e,r),f=LS(t,r),l=Math.max(0,Math.min(f-o,c.offset)),d=Math.max(0,c.offset-o+c.size);switch(n===qh&&(i>=d-o&&i<=l+o?n=Ji:n=Dr),n){case Mu:return l;case Au:return d;case Dr:return Math.round(d+(l-d)/2);case Ji:default:return i>=d&&i<=l?i:i<d?d:l}},getStartIndexForOffset:(t,e,n)=>m7(t,n,e),getStopIndexForStartIndex:(t,e,n,i)=>{const{height:r,total:a,layout:u,width:s}=t,o=Pu(u)?s:r,c=ll(t,e,i),f=n+o;let l=c.offset+c.size,d=e;for(;d<a-1&&l<f;)d++,l+=ll(t,d,i).size;return d},initCache({estimatedItemSize:t=Tg},e){const n={items:{},estimatedItemSize:t,lastVisitedIndex:-1};return n.clearCacheAfterIndex=(i,r=!0)=>{var a,u;n.lastVisitedIndex=Math.min(n.lastVisitedIndex,i-1),(a=e.exposed)==null||a.getItemStyleCache(-1),r&&((u=e.proxy)==null||u.$forceUpdate())},n},clearCache:!1,validateProps:({itemSize:t})=>{}}),y7=({atXEndEdge:t,atXStartEdge:e,atYEndEdge:n,atYStartEdge:i},r)=>{let a=null,u=0,s=0;const o=(f,l)=>{const d=f<=0&&e.value||f>=0&&t.value,h=l<=0&&i.value||l>=0&&n.value;return d&&h};return{hasReachedEdge:o,onWheel:f=>{da(a);let l=f.deltaX,d=f.deltaY;Math.abs(l)>Math.abs(d)?d=0:l=0,f.shiftKey&&d!==0&&(l=d,d=0),!(o(u,s)&&o(u+l,s+d))&&(u+=l,s+=d,f.preventDefault(),a=co(()=>{r(u,s),u=0,s=0}))}}},d2=({name:t,clearCache:e,getColumnPosition:n,getColumnStartIndexForOffset:i,getColumnStopIndexForStartIndex:r,getEstimatedTotalHeight:a,getEstimatedTotalWidth:u,getColumnOffset:s,getRowOffset:o,getRowPosition:c,getRowStartIndexForOffset:f,getRowStopIndexForStartIndex:l,initCache:d,injectToInstance:h,validateProps:p})=>se({name:t??"ElVirtualList",props:ia,emits:[oh,ah],setup(g,{emit:m,expose:v,slots:b}){const _=Ve("vl");p(g);const S=mt(),w=Y(d(g,S));h==null||h(S,w);const C=Y(),x=Y(),M=Y(),E=Y(null),A=Y({isScrolling:!1,scrollLeft:ot(g.initScrollLeft)?g.initScrollLeft:0,scrollTop:ot(g.initScrollTop)?g.initScrollTop:0,updateRequested:!1,xAxisScrollDir:al,yAxisScrollDir:al}),O=t2(),I=P(()=>Number.parseInt(`${g.height}`,10)),$=P(()=>Number.parseInt(`${g.width}`,10)),H=P(()=>{const{totalColumn:re,totalRow:he,columnCache:Ce}=g,{isScrolling:Oe,xAxisScrollDir:ke,scrollLeft:G}=y(A);if(re===0||he===0)return[0,0,0,0];const Z=i(g,G,y(w)),_e=r(g,Z,G,y(w)),de=!Oe||ke===lh?Math.max(1,Ce):1,Re=!Oe||ke===al?Math.max(1,Ce):1;return[Math.max(0,Z-de),Math.max(0,Math.min(re-1,_e+Re)),Z,_e]}),B=P(()=>{const{totalColumn:re,totalRow:he,rowCache:Ce}=g,{isScrolling:Oe,yAxisScrollDir:ke,scrollTop:G}=y(A);if(re===0||he===0)return[0,0,0,0];const Z=f(g,G,y(w)),_e=l(g,Z,G,y(w)),de=!Oe||ke===lh?Math.max(1,Ce):1,Re=!Oe||ke===al?Math.max(1,Ce):1;return[Math.max(0,Z-de),Math.max(0,Math.min(he-1,_e+Re)),Z,_e]}),N=P(()=>a(g,y(w))),k=P(()=>u(g,y(w))),D=P(()=>{var re;return[{position:"relative",overflow:"hidden",WebkitOverflowScrolling:"touch",willChange:"transform"},{direction:g.direction,height:ot(g.height)?`${g.height}px`:g.height,width:ot(g.width)?`${g.width}px`:g.width},(re=g.style)!=null?re:{}]}),T=P(()=>{const re=`${y(k)}px`;return{height:`${y(N)}px`,pointerEvents:y(A).isScrolling?"none":void 0,width:re}}),R=()=>{const{totalColumn:re,totalRow:he}=g;if(re>0&&he>0){const[_e,de,Re,Fe]=y(H),[ye,Ne,Ae,Te]=y(B);m(oh,{columnCacheStart:_e,columnCacheEnd:de,rowCacheStart:ye,rowCacheEnd:Ne,columnVisibleStart:Re,columnVisibleEnd:Fe,rowVisibleStart:Ae,rowVisibleEnd:Te})}const{scrollLeft:Ce,scrollTop:Oe,updateRequested:ke,xAxisScrollDir:G,yAxisScrollDir:Z}=y(A);m(ah,{xAxisScrollDir:G,scrollLeft:Ce,yAxisScrollDir:Z,scrollTop:Oe,updateRequested:ke})},V=re=>{const{clientHeight:he,clientWidth:Ce,scrollHeight:Oe,scrollLeft:ke,scrollTop:G,scrollWidth:Z}=re.currentTarget,_e=y(A);if(_e.scrollTop===G&&_e.scrollLeft===ke)return;let de=ke;if(kS(g.direction))switch(uh()){case Ru:de=-ke;break;case K0:de=Z-Ce-ke;break}A.value={..._e,isScrolling:!0,scrollLeft:de,scrollTop:Math.max(0,Math.min(G,Oe-he)),updateRequested:!0,xAxisScrollDir:Go(_e.scrollLeft,de),yAxisScrollDir:Go(_e.scrollTop,G)},it(()=>ee()),ue(),R()},U=(re,he)=>{const Ce=y(I),Oe=(N.value-Ce)/he*re;j({scrollTop:Math.min(N.value-Ce,Oe)})},X=(re,he)=>{const Ce=y($),Oe=(k.value-Ce)/he*re;j({scrollLeft:Math.min(k.value-Ce,Oe)})},{onWheel:W}=y7({atXStartEdge:P(()=>A.value.scrollLeft<=0),atXEndEdge:P(()=>A.value.scrollLeft>=k.value-y($)),atYStartEdge:P(()=>A.value.scrollTop<=0),atYEndEdge:P(()=>A.value.scrollTop>=N.value-y(I))},(re,he)=>{var Ce,Oe,ke,G;(Oe=(Ce=x.value)==null?void 0:Ce.onMouseUp)==null||Oe.call(Ce),(G=(ke=M.value)==null?void 0:ke.onMouseUp)==null||G.call(ke);const Z=y($),_e=y(I);j({scrollLeft:Math.min(A.value.scrollLeft+re,k.value-Z),scrollTop:Math.min(A.value.scrollTop+he,N.value-_e)})}),j=({scrollLeft:re=A.value.scrollLeft,scrollTop:he=A.value.scrollTop})=>{re=Math.max(re,0),he=Math.max(he,0);const Ce=y(A);he===Ce.scrollTop&&re===Ce.scrollLeft||(A.value={...Ce,xAxisScrollDir:Go(Ce.scrollLeft,re),yAxisScrollDir:Go(Ce.scrollTop,he),scrollLeft:re,scrollTop:he,updateRequested:!0},it(()=>ee()),ue(),R())},K=(re=0,he=0,Ce=Ji)=>{const Oe=y(A);he=Math.max(0,Math.min(he,g.totalColumn-1)),re=Math.max(0,Math.min(re,g.totalRow-1));const ke=fT(_.namespace.value),G=y(w),Z=a(g,G),_e=u(g,G);j({scrollLeft:s(g,he,Ce,Oe.scrollLeft,G,_e>g.width?ke:0),scrollTop:o(g,re,Ce,Oe.scrollTop,G,Z>g.height?ke:0)})},z=(re,he)=>{const{columnWidth:Ce,direction:Oe,rowHeight:ke}=g,G=O.value(e&&Ce,e&&ke,e&&Oe),Z=`${re},${he}`;if(kt(G,Z))return G[Z];{const[,_e]=n(g,he,y(w)),de=y(w),Re=kS(Oe),[Fe,ye]=c(g,re,de),[Ne]=n(g,he,de);return G[Z]={position:"absolute",left:Re?void 0:`${_e}px`,right:Re?`${_e}px`:void 0,top:`${ye}px`,height:`${Fe}px`,width:`${Ne}px`},G[Z]}},ee=()=>{A.value.isScrolling=!1,it(()=>{O.value(-1,null,null)})};ht(()=>{if(!Ot)return;const{initScrollLeft:re,initScrollTop:he}=g,Ce=y(C);Ce&&(ot(re)&&(Ce.scrollLeft=re),ot(he)&&(Ce.scrollTop=he)),R()});const ue=()=>{const{direction:re}=g,{scrollLeft:he,scrollTop:Ce,updateRequested:Oe}=y(A),ke=y(C);if(Oe&&ke){if(re===yl)switch(uh()){case Ru:{ke.scrollLeft=-he;break}case X0:{ke.scrollLeft=he;break}default:{const{clientWidth:G,scrollWidth:Z}=ke;ke.scrollLeft=Z-G-he;break}}else ke.scrollLeft=Math.max(0,he);ke.scrollTop=Math.max(0,Ce)}},{resetAfterColumnIndex:ne,resetAfterRowIndex:le,resetAfter:Me}=S.proxy;v({windowRef:C,innerRef:E,getItemStyleCache:O,scrollTo:j,scrollToItem:K,states:A,resetAfterColumnIndex:ne,resetAfterRowIndex:le,resetAfter:Me});const q=()=>{const{scrollbarAlwaysOn:re,scrollbarStartGap:he,scrollbarEndGap:Ce,totalColumn:Oe,totalRow:ke}=g,G=y($),Z=y(I),_e=y(k),de=y(N),{scrollLeft:Re,scrollTop:Fe}=y(A),ye=rt(Og,{ref:x,alwaysOn:re,startGap:he,endGap:Ce,class:_.e("horizontal"),clientSize:G,layout:"horizontal",onScroll:X,ratio:G*100/_e,scrollFrom:Re/(_e-G),total:ke,visible:!0}),Ne=rt(Og,{ref:M,alwaysOn:re,startGap:he,endGap:Ce,class:_.e("vertical"),clientSize:Z,layout:"vertical",onScroll:U,ratio:Z*100/de,scrollFrom:Fe/(de-Z),total:Oe,visible:!0});return{horizontalScrollbar:ye,verticalScrollbar:Ne}},J=()=>{var re;const[he,Ce]=y(H),[Oe,ke]=y(B),{data:G,totalColumn:Z,totalRow:_e,useIsScrolling:de,itemKey:Re}=g,Fe=[];if(_e>0&&Z>0)for(let ye=Oe;ye<=ke;ye++)for(let Ne=he;Ne<=Ce;Ne++)Fe.push((re=b.default)==null?void 0:re.call(b,{columnIndex:Ne,data:G,key:Re({columnIndex:Ne,data:G,rowIndex:ye}),isScrolling:de?y(A).isScrolling:void 0,style:z(ye,Ne),rowIndex:ye}));return Fe},ce=()=>{const re=wt(g.innerElement),he=J();return[rt(re,{style:y(T),ref:E},ct(re)?he:{default:()=>he})]};return()=>{const re=wt(g.containerElement),{horizontalScrollbar:he,verticalScrollbar:Ce}=q(),Oe=ce();return rt("div",{key:0,class:_.e("wrapper"),role:g.role},[rt(re,{class:g.className,style:y(D),onScroll:V,onWheel:W,ref:C},ct(re)?Oe:{default:()=>Oe}),he,Ce])}}}),b7=d2({name:"ElFixedSizeGrid",getColumnPosition:({columnWidth:t},e)=>[t,e*t],getRowPosition:({rowHeight:t},e)=>[t,e*t],getEstimatedTotalHeight:({totalRow:t,rowHeight:e})=>e*t,getEstimatedTotalWidth:({totalColumn:t,columnWidth:e})=>e*t,getColumnOffset:({totalColumn:t,columnWidth:e,width:n},i,r,a,u,s)=>{n=Number(n);const o=Math.max(0,t*e-n),c=Math.min(o,i*e),f=Math.max(0,i*e-n+s+e);switch(r==="smart"&&(a>=f-n&&a<=c+n?r=Ji:r=Dr),r){case Mu:return c;case Au:return f;case Dr:{const l=Math.round(f+(c-f)/2);return l<Math.ceil(n/2)?0:l>o+Math.floor(n/2)?o:l}case Ji:default:return a>=f&&a<=c?a:f>c||a<f?f:c}},getRowOffset:({rowHeight:t,height:e,totalRow:n},i,r,a,u,s)=>{e=Number(e);const o=Math.max(0,n*t-e),c=Math.min(o,i*t),f=Math.max(0,i*t-e+s+t);switch(r===qh&&(a>=f-e&&a<=c+e?r=Ji:r=Dr),r){case Mu:return c;case Au:return f;case Dr:{const l=Math.round(f+(c-f)/2);return l<Math.ceil(e/2)?0:l>o+Math.floor(e/2)?o:l}case Ji:default:return a>=f&&a<=c?a:f>c||a<f?f:c}},getColumnStartIndexForOffset:({columnWidth:t,totalColumn:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getColumnStopIndexForStartIndex:({columnWidth:t,totalColumn:e,width:n},i,r)=>{const a=i*t,u=Math.ceil((n+r-a)/t);return Math.max(0,Math.min(e-1,i+u-1))},getRowStartIndexForOffset:({rowHeight:t,totalRow:e},n)=>Math.max(0,Math.min(e-1,Math.floor(n/t))),getRowStopIndexForStartIndex:({rowHeight:t,totalRow:e,height:n},i,r)=>{const a=i*t,u=Math.ceil((n+r-a)/t);return Math.max(0,Math.min(e-1,i+u-1))},initCache:()=>{},clearCache:!0,validateProps:({columnWidth:t,rowHeight:e})=>{}}),{max:dh,min:f2,floor:h2}=Math,_7={column:"columnWidth",row:"rowHeight"},kg={column:"lastVisitedColumnIndex",row:"lastVisitedRowIndex"},is=(t,e,n,i)=>{const[r,a,u]=[n[i],t[_7[i]],n[kg[i]]];if(e>u){let s=0;if(u>=0){const o=r[u];s=o.offset+o.size}for(let o=u+1;o<=e;o++){const c=a(o);r[o]={offset:s,size:c},s+=c}n[kg[i]]=e}return r[e]},p2=(t,e,n,i,r,a)=>{for(;n<=i;){const u=n+h2((i-n)/2),s=is(t,u,e,a).offset;if(s===r)return u;s<r?n=u+1:i=u-1}return dh(0,n-1)},S7=(t,e,n,i,r)=>{const a=r==="column"?t.totalColumn:t.totalRow;let u=1;for(;n<a&&is(t,n,e,r).offset<i;)n+=u,u*=2;return p2(t,e,h2(n/2),f2(n,a-1),i,r)},IS=(t,e,n,i)=>{const[r,a]=[e[i],e[kg[i]]];return(a>0?r[a].offset:0)>=n?p2(t,e,0,a,n,i):S7(t,e,dh(0,a),n,i)},m2=({totalRow:t},{estimatedRowHeight:e,lastVisitedRowIndex:n,row:i})=>{let r=0;if(n>=t&&(n=t-1),n>=0){const s=i[n];r=s.offset+s.size}const u=(t-n-1)*e;return r+u},g2=({totalColumn:t},{column:e,estimatedColumnWidth:n,lastVisitedColumnIndex:i})=>{let r=0;if(i>t&&(i=t-1),i>=0){const s=e[i];r=s.offset+s.size}const u=(t-i-1)*n;return r+u},w7={column:g2,row:m2},DS=(t,e,n,i,r,a,u)=>{const[s,o]=[a==="row"?t.height:t.width,w7[a]],c=is(t,e,r,a),f=o(t,r),l=dh(0,f2(f-s,c.offset)),d=dh(0,c.offset-s+u+c.size);switch(n===qh&&(i>=d-s&&i<=l+s?n=Ji:n=Dr),n){case Mu:return l;case Au:return d;case Dr:return Math.round(d+(l-d)/2);case Ji:default:return i>=d&&i<=l?i:d>l||i<d?d:l}},C7=d2({name:"ElDynamicSizeGrid",getColumnPosition:(t,e,n)=>{const i=is(t,e,n,"column");return[i.size,i.offset]},getRowPosition:(t,e,n)=>{const i=is(t,e,n,"row");return[i.size,i.offset]},getColumnOffset:(t,e,n,i,r,a)=>DS(t,e,n,i,r,"column",a),getRowOffset:(t,e,n,i,r,a)=>DS(t,e,n,i,r,"row",a),getColumnStartIndexForOffset:(t,e,n)=>IS(t,n,e,"column"),getColumnStopIndexForStartIndex:(t,e,n,i)=>{const r=is(t,e,i,"column"),a=n+t.width;let u=r.offset+r.size,s=e;for(;s<t.totalColumn-1&&u<a;)s++,u+=is(t,e,i,"column").size;return s},getEstimatedTotalHeight:m2,getEstimatedTotalWidth:g2,getRowStartIndexForOffset:(t,e,n)=>IS(t,n,e,"row"),getRowStopIndexForStartIndex:(t,e,n,i)=>{const{totalRow:r,height:a}=t,u=is(t,e,i,"row"),s=n+a;let o=u.size+u.offset,c=e;for(;c<r-1&&o<s;)c++,o+=is(t,c,i,"row").size;return c},injectToInstance:(t,e)=>{const n=({columnIndex:a,rowIndex:u},s)=>{var o,c;s=xn(s)?!0:s,ot(a)&&(e.value.lastVisitedColumnIndex=Math.min(e.value.lastVisitedColumnIndex,a-1)),ot(u)&&(e.value.lastVisitedRowIndex=Math.min(e.value.lastVisitedRowIndex,u-1)),(o=t.exposed)==null||o.getItemStyleCache.value(-1,null,null),s&&((c=t.proxy)==null||c.$forceUpdate())},i=(a,u)=>{n({columnIndex:a},u)},r=(a,u)=>{n({rowIndex:a},u)};Object.assign(t.proxy,{resetAfterColumnIndex:i,resetAfterRowIndex:r,resetAfter:n})},initCache:({estimatedColumnWidth:t=Tg,estimatedRowHeight:e=Tg})=>({column:{},estimatedColumnWidth:t,estimatedRowHeight:e,lastVisitedColumnIndex:-1,lastVisitedRowIndex:-1,row:{}}),clearCache:!1,validateProps:({columnWidth:t,rowHeight:e})=>{}}),x7=se({props:{item:{type:Object,required:!0},style:Object,height:Number},setup(){return{ns:Ve("select")}}});function T7(t,e,n,i,r,a){return t.item.isTitle?(L(),Q("div",{key:0,class:F(t.ns.be("group","title")),style:Qe([t.style,{lineHeight:`${t.height}px`}])},je(t.item.label),7)):(L(),Q("div",{key:1,class:F(t.ns.be("group","split")),style:Qe(t.style)},[te("span",{class:F(t.ns.be("group","split-dash")),style:Qe({top:`${t.height/2}px`})},null,6)],6))}var E7=Ge(x7,[["render",T7],["__file","group-item.vue"]]);function M7(t,{emit:e}){return{hoverItem:()=>{t.disabled||e("hover",t.index)},selectOptionClick:()=>{t.disabled||e("select",t.item,t.index)}}}const v2={label:"label",value:"value",disabled:"disabled",options:"options"};function Zh(t){const e=P(()=>({...v2,...t.props}));return{aliasProps:e,getLabel:u=>Sn(u,e.value.label),getValue:u=>Sn(u,e.value.value),getDisabled:u=>Sn(u,e.value.disabled),getOptions:u=>Sn(u,e.value.options)}}const A7=We({allowCreate:Boolean,autocomplete:{type:we(String),default:"none"},automaticDropdown:Boolean,clearable:Boolean,clearIcon:{type:Kt,default:_o},effect:{type:we(String),default:"light"},collapseTags:Boolean,collapseTagsTooltip:Boolean,maxCollapseTags:{type:Number,default:1},defaultFirstOption:Boolean,disabled:Boolean,estimatedOptionHeight:{type:Number,default:void 0},filterable:Boolean,filterMethod:Function,height:{type:Number,default:274},itemHeight:{type:Number,default:34},id:String,loading:Boolean,loadingText:String,modelValue:{type:we([Array,String,Number,Boolean,Object])},multiple:Boolean,multipleLimit:{type:Number,default:0},name:String,noDataText:String,noMatchText:String,remoteMethod:Function,reserveKeyword:{type:Boolean,default:!0},options:{type:we(Array),required:!0},placeholder:{type:String},teleported:Hn.teleported,persistent:{type:Boolean,default:!0},popperClass:{type:String,default:""},popperOptions:{type:we(Object),default:()=>({})},remote:Boolean,size:kn,props:{type:we(Object),default:()=>v2},valueKey:{type:String,default:"value"},scrollbarAlwaysOn:Boolean,validateEvent:{type:Boolean,default:!0},placement:{type:we(String),values:Ta,default:"bottom-start"},fallbackPlacements:{type:we(Array),default:["bottom-start","top-start","right","left"]},tagType:{...Xh.type,default:"info"},ariaLabel:{type:String,default:void 0},...ac}),R7=We({data:Array,disabled:Boolean,hovering:Boolean,item:{type:we(Object),required:!0},index:Number,style:Object,selected:Boolean,created:Boolean}),Y0=Symbol("ElSelectV2Injection"),P7=se({props:R7,emits:["select","hover"],setup(t,{emit:e}){const n=Je(Y0),i=Ve("select"),{hoverItem:r,selectOptionClick:a}=M7(t,{emit:e}),{getLabel:u}=Zh(n.props);return{ns:i,hoverItem:r,selectOptionClick:a,getLabel:u}}}),O7=["aria-selected"];function k7(t,e,n,i,r,a){return L(),Q("li",{"aria-selected":t.selected,style:Qe(t.style),class:F([t.ns.be("dropdown","item"),t.ns.is("selected",t.selected),t.ns.is("disabled",t.disabled),t.ns.is("created",t.created),t.ns.is("hovering",t.hovering)]),onMouseenter:e[0]||(e[0]=(...u)=>t.hoverItem&&t.hoverItem(...u)),onClick:e[1]||(e[1]=lt((...u)=>t.selectOptionClick&&t.selectOptionClick(...u),["stop"]))},[Le(t.$slots,"default",{item:t.item,index:t.index,disabled:t.disabled},()=>[te("span",null,je(t.getLabel(t.item)),1)])],46,O7)}var L7=Ge(P7,[["render",k7],["__file","option-item.vue"]]),I7=se({name:"ElSelectDropdown",props:{loading:Boolean,data:{type:Array,required:!0},hoveringIndex:Number,width:Number},setup(t,{slots:e,expose:n}){const i=Je(Y0),r=Ve("select"),{getLabel:a,getValue:u,getDisabled:s}=Zh(i.props),o=Y([]),c=Y(),f=P(()=>t.data.length);Be(()=>f.value,()=>{var O,I;(I=(O=i.tooltipRef.value).updatePopper)==null||I.call(O)});const l=P(()=>xn(i.props.estimatedOptionHeight)),d=P(()=>l.value?{itemSize:i.props.itemHeight}:{estimatedSize:i.props.estimatedOptionHeight,itemSize:O=>o.value[O]}),h=(O=[],I)=>{const{props:{valueKey:$}}=i;return bt(I)?O&&O.some(H=>jt(Sn(H,$))===Sn(I,$)):O.includes(I)},p=(O,I)=>{if(bt(I)){const{valueKey:$}=i.props;return Sn(O,$)===Sn(I,$)}else return O===I},g=(O,I)=>i.props.multiple?h(O,u(I)):p(O,u(I)),m=(O,I)=>{const{disabled:$,multiple:H,multipleLimit:B}=i.props;return $||!I&&(H?B>0&&O.length>=B:!1)},v=O=>t.hoveringIndex===O;n({listRef:c,isSized:l,isItemDisabled:m,isItemHovering:v,isItemSelected:g,scrollToItem:O=>{const I=c.value;I&&I.scrollToItem(O)},resetScrollTop:()=>{const O=c.value;O&&O.resetScrollTop()}});const S=O=>{const{index:I,data:$,style:H}=O,B=y(l),{itemSize:N,estimatedSize:k}=y(d),{modelValue:D}=i.props,{onSelect:T,onHover:R}=i,V=$[I];if(V.type==="Group")return oe(E7,{item:V,style:H,height:B?N:k},null);const U=g(D,V),X=m(D,U),W=v(I);return oe(L7,xt(O,{selected:U,disabled:s(V)||X,created:!!V.created,hovering:W,item:V,onSelect:T,onHover:R}),{default:j=>{var K;return((K=e.default)==null?void 0:K.call(e,j))||oe("span",null,[a(V)])}})},{onKeyboardNavigate:w,onKeyboardSelect:C}=i,x=()=>{w("forward")},M=()=>{w("backward")},E=()=>{i.expanded=!1},A=O=>{const{code:I}=O,{tab:$,esc:H,down:B,up:N,enter:k}=nt;switch(I!==$&&(O.preventDefault(),O.stopPropagation()),I){case $:case H:{E();break}case B:{x();break}case N:{M();break}case k:{C();break}}};return()=>{var O,I,$,H;const{data:B,width:N}=t,{height:k,multiple:D,scrollbarAlwaysOn:T}=i.props,R=y(l)?c2:v7;return oe("div",{class:[r.b("dropdown"),r.is("multiple",D)],style:{width:`${N}px`}},[(O=e.header)==null?void 0:O.call(e),((I=e.loading)==null?void 0:I.call(e))||(($=e.empty)==null?void 0:$.call(e))||oe(R,xt({ref:c},y(d),{className:r.be("dropdown","list"),scrollbarAlwaysOn:T,data:B,height:k,width:N,total:B.length,onKeydown:A}),{default:V=>oe(S,V,null)}),(H=e.footer)==null?void 0:H.call(e)])}}});function D7(t,e){const{aliasProps:n,getLabel:i,getValue:r}=Zh(t),a=Y(0),u=Y(null),s=P(()=>t.allowCreate&&t.filterable);function o(h){const p=g=>r(g)===h;return t.options&&t.options.some(p)||e.createdOptions.some(p)}function c(h){s.value&&(t.multiple&&h.created?a.value++:u.value=h)}function f(h){if(s.value)if(h&&h.length>0){if(o(h))return;const p={[n.value.value]:h,[n.value.label]:h,created:!0,[n.value.disabled]:!1};e.createdOptions.length>=a.value?e.createdOptions[a.value]=p:e.createdOptions.push(p)}else if(t.multiple)e.createdOptions.length=a.value;else{const p=u.value;e.createdOptions.length=0,p&&p.created&&e.createdOptions.push(p)}}function l(h){if(!s.value||!h||!h.created||h.created&&t.reserveKeyword&&e.inputValue===i(h))return;const p=e.createdOptions.findIndex(g=>r(g)===r(h));~p&&(e.createdOptions.splice(p,1),a.value--)}function d(){s.value&&(e.createdOptions.length=0,a.value=0)}return{createNewOption:f,removeNewOption:l,selectNewOption:c,clearAllNewOption:d}}const N7=11,F7=(t,e)=>{const{t:n}=Dt(),i=Ve("select"),r=Ve("input"),{form:a,formItem:u}=li(),{inputId:s}=Mr(t,{formItemContext:u}),{getLabel:o,getValue:c,getDisabled:f,getOptions:l}=Zh(t),{valueOnClear:d,isEmptyValue:h}=zh(t),p=$t({inputValue:"",cachedOptions:[],createdOptions:[],hoveringIndex:-1,inputHovering:!1,selectionWidth:0,calculatorWidth:0,collapseItemWidth:0,previousQuery:null,previousValue:void 0,selectedLabel:"",menuVisibleOnFocus:!1,isBeforeHide:!1}),g=Y(-1),m=Y(-1),v=Y(null),b=Y(null),_=Y(null),S=Y(null),w=Y(null),C=Y(null),x=Y(null),M=Y(null),E=Y(null),A=Y(null),O=Y(null),{wrapperRef:I,isFocused:$,handleFocus:H,handleBlur:B}=Hh(w,{afterFocus(){t.automaticDropdown&&!D.value&&(D.value=!0,p.menuVisibleOnFocus=!0)},beforeBlur(ze){var ut,vt;return((ut=_.value)==null?void 0:ut.isFocusInsideContent(ze))||((vt=S.value)==null?void 0:vt.isFocusInsideContent(ze))},afterBlur(){D.value=!1,p.menuVisibleOnFocus=!1}}),N=Y([]),k=Y([]),D=Y(!1),T=P(()=>t.disabled||(a==null?void 0:a.disabled)),R=P(()=>{const ze=k.value.length*t.itemHeight;return ze>t.height?t.height:ze}),V=P(()=>t.multiple?qe(t.modelValue)&&t.modelValue.length>0:!h(t.modelValue)),U=P(()=>t.clearable&&!T.value&&p.inputHovering&&V.value),X=P(()=>t.remote&&t.filterable?"":xs),W=P(()=>X.value&&i.is("reverse",D.value)),j=P(()=>(u==null?void 0:u.validateState)||""),K=P(()=>r0[j.value]),z=P(()=>t.remote?300:0),ee=P(()=>t.loading?t.loadingText||n("el.select.loading"):t.remote&&!p.inputValue&&N.value.length===0?!1:t.filterable&&p.inputValue&&N.value.length>0&&k.value.length===0?t.noMatchText||n("el.select.noMatch"):N.value.length===0?t.noDataText||n("el.select.noData"):null),ue=ze=>{const ut=vt=>{if(t.filterable&&at(t.filterMethod)||t.filterable&&t.remote&&at(t.remoteMethod))return!0;const It=new RegExp(qv(ze),"i");return ze?It.test(o(vt)||""):!0};return t.loading?[]:[...p.createdOptions,...t.options].reduce((vt,It)=>{const on=l(It);if(qe(on)){const Bt=on.filter(ut);Bt.length>0&&vt.push({label:o(It),isTitle:!0,type:"Group"},...Bt,{type:"Group"})}else(t.remote||ut(It))&&vt.push(It);return vt},[])},ne=()=>{N.value=ue(""),k.value=ue(p.inputValue)},le=P(()=>{const ze=new Map;return N.value.forEach((ut,vt)=>{ze.set(Ze(c(ut)),{option:ut,index:vt})}),ze}),Me=P(()=>{const ze=new Map;return k.value.forEach((ut,vt)=>{ze.set(Ze(c(ut)),{option:ut,index:vt})}),ze}),q=P(()=>k.value.every(ze=>f(ze))),J=Mn(),ce=P(()=>J.value==="small"?"small":"default"),pe=()=>{var ze;m.value=((ze=v.value)==null?void 0:ze.offsetWidth)||200},re=()=>{if(!b.value)return 0;const ze=window.getComputedStyle(b.value);return Number.parseFloat(ze.gap||"6px")},he=P(()=>{const ze=re();return{maxWidth:`${O.value&&t.maxCollapseTags===1?p.selectionWidth-p.collapseItemWidth-ze:p.selectionWidth}px`}}),Ce=P(()=>({maxWidth:`${p.selectionWidth}px`})),Oe=P(()=>({width:`${Math.max(p.calculatorWidth,N7)}px`})),ke=P(()=>qe(t.modelValue)?t.modelValue.length===0&&!p.inputValue:t.filterable?!p.inputValue:!0),G=P(()=>{var ze;const ut=(ze=t.placeholder)!=null?ze:n("el.select.placeholder");return t.multiple||!V.value?ut:p.selectedLabel}),Z=P(()=>{var ze,ut;return(ut=(ze=_.value)==null?void 0:ze.popperRef)==null?void 0:ut.contentRef}),_e=P(()=>{if(t.multiple){const ze=t.modelValue.length;if(t.modelValue.length>0&&Me.value.has(t.modelValue[ze-1])){const{index:ut}=Me.value.get(t.modelValue[ze-1]);return ut}}else if(t.modelValue&&Me.value.has(t.modelValue)){const{index:ze}=Me.value.get(t.modelValue);return ze}return-1}),de=P({get(){return D.value&&ee.value!==!1},set(ze){D.value=ze}}),Re=P(()=>t.multiple?t.collapseTags?p.cachedOptions.slice(0,t.maxCollapseTags):p.cachedOptions:[]),Fe=P(()=>t.multiple?t.collapseTags?p.cachedOptions.slice(t.maxCollapseTags):[]:[]),{createNewOption:ye,removeNewOption:Ne,selectNewOption:Ae,clearAllNewOption:Te}=D7(t,p),{handleCompositionStart:ae,handleCompositionUpdate:fe,handleCompositionEnd:ie}=ZM(ze=>Ct(ze)),ge=()=>{T.value||(p.menuVisibleOnFocus?p.menuVisibleOnFocus=!1:D.value=!D.value)},De=()=>{p.inputValue.length>0&&!D.value&&(D.value=!0),ye(p.inputValue),Xe(p.inputValue)},me=Oi(De,z.value),Xe=ze=>{p.previousQuery!==ze&&(p.previousQuery=ze,t.filterable&&at(t.filterMethod)?t.filterMethod(ze):t.filterable&&t.remote&&at(t.remoteMethod)&&t.remoteMethod(ze),t.defaultFirstOption&&(t.filterable||t.remote)&&k.value.length?it(be):it(St))},be=()=>{const ze=k.value.filter(It=>!It.disabled&&It.type!=="Group"),ut=ze.find(It=>It.created),vt=ze[0];p.hoveringIndex=st(k.value,ut||vt)},He=ze=>{si(t.modelValue,ze)||e(rn,ze)},Ye=ze=>{e(_t,ze),He(ze),p.previousValue=t.multiple?String(ze):ze},st=(ze=[],ut)=>{if(!bt(ut))return ze.indexOf(ut);const vt=t.valueKey;let It=-1;return ze.some((on,Bt)=>Sn(on,vt)===Sn(ut,vt)?(It=Bt,!0):!1),It},Ze=ze=>bt(ze)?Sn(ze,t.valueKey):ze,At=()=>{pe()},tn=()=>{p.selectionWidth=b.value.getBoundingClientRect().width},En=()=>{p.calculatorWidth=C.value.getBoundingClientRect().width},Hi=()=>{p.collapseItemWidth=O.value.getBoundingClientRect().width},sn=()=>{var ze,ut;(ut=(ze=_.value)==null?void 0:ze.updatePopper)==null||ut.call(ze)},Gn=()=>{var ze,ut;(ut=(ze=S.value)==null?void 0:ze.updatePopper)==null||ut.call(ze)},ci=(ze,ut)=>{if(t.multiple){let vt=t.modelValue.slice();const It=st(vt,c(ze));It>-1?(vt=[...vt.slice(0,It),...vt.slice(It+1)],p.cachedOptions.splice(It,1),Ne(ze)):(t.multipleLimit<=0||vt.length<t.multipleLimit)&&(vt=[...vt,c(ze)],p.cachedOptions.push(ze),Ae(ze)),Ye(vt),ze.created&&Xe(""),t.filterable&&!t.reserveKeyword&&(p.inputValue="")}else g.value=ut,p.selectedLabel=o(ze),Ye(c(ze)),D.value=!1,Ae(ze),ze.created||Te();Ar()},Os=(ze,ut)=>{let vt=t.modelValue.slice();const It=st(vt,c(ut));It>-1&&!T.value&&(vt=[...t.modelValue.slice(0,It),...t.modelValue.slice(It+1)],p.cachedOptions.splice(It,1),Ye(vt),e("remove-tag",c(ut)),Ne(ut)),ze.stopPropagation(),Ar()},Ar=()=>{var ze;(ze=w.value)==null||ze.focus()},hc=()=>{var ze;(ze=w.value)==null||ze.blur()},pc=()=>{p.inputValue.length>0?p.inputValue="":D.value=!1},mc=ze=>lT(ze,ut=>!p.cachedOptions.some(vt=>c(vt)===ut&&f(vt))),xe=ze=>{if(t.multiple&&ze.code!==nt.delete&&p.inputValue.length===0){ze.preventDefault();const ut=t.modelValue.slice(),vt=mc(ut);if(vt<0)return;ut.splice(vt,1);const It=p.cachedOptions[vt];p.cachedOptions.splice(vt,1),Ne(It),Ye(ut)}},Se=()=>{let ze;qe(t.modelValue)?ze=[]:ze=d.value,t.multiple?p.cachedOptions=[]:p.selectedLabel="",D.value=!1,Ye(ze),e("clear"),Te(),Ar()},Ie=(ze,ut=void 0)=>{const vt=k.value;if(!["forward","backward"].includes(ze)||T.value||vt.length<=0||q.value)return;if(!D.value)return ge();ut===void 0&&(ut=p.hoveringIndex);let It=-1;ze==="forward"?(It=ut+1,It>=vt.length&&(It=0)):ze==="backward"&&(It=ut-1,(It<0||It>=vt.length)&&(It=vt.length-1));const on=vt[It];if(f(on)||on.type==="Group")return Ie(ze,It);p.hoveringIndex=It,Rt(It)},Ue=()=>{if(D.value)~p.hoveringIndex&&k.value[p.hoveringIndex]&&ci(k.value[p.hoveringIndex],p.hoveringIndex);else return ge()},Ke=ze=>{p.hoveringIndex=ze},St=()=>{t.multiple?p.hoveringIndex=k.value.findIndex(ze=>t.modelValue.some(ut=>Ze(ut)===Ze(ze))):p.hoveringIndex=k.value.findIndex(ze=>Ze(ze)===Ze(t.modelValue))},Ct=ze=>{if(p.inputValue=ze.target.value,t.remote)me();else return De()},Pt=ze=>{if(D.value=!1,$.value){const ut=new FocusEvent("focus",ze);B(ut)}},Lt=()=>(p.isBeforeHide=!1,it(()=>{~_e.value&&Rt(p.hoveringIndex)})),Rt=ze=>{E.value.scrollToItem(ze)},Ht=ze=>{const ut=Ze(ze);if(le.value.has(ut)){const{option:vt}=le.value.get(ut);return vt}return{value:ze,label:ze}},zt=()=>{if(t.multiple)if(t.modelValue.length>0){p.cachedOptions.length=0,p.previousValue=t.modelValue.toString();for(const ze of t.modelValue){const ut=Ht(ze);p.cachedOptions.push(ut)}}else p.cachedOptions=[],p.previousValue=void 0;else if(V.value){p.previousValue=t.modelValue;const ze=k.value,ut=ze.findIndex(vt=>Ze(c(vt))===Ze(t.modelValue));~ut?p.selectedLabel=o(ze[ut]):p.selectedLabel=Ze(t.modelValue)}else p.selectedLabel="",p.previousValue=void 0;Te(),pe()};return Be(D,ze=>{ze?Xe(""):(p.inputValue="",p.previousQuery=null,p.isBeforeHide=!0,ye("")),e("visible-change",ze)}),Be(()=>t.modelValue,(ze,ut)=>{var vt;(!ze||t.multiple&&ze.toString()!==p.previousValue||!t.multiple&&Ze(ze)!==Ze(p.previousValue))&&zt(),!si(ze,ut)&&t.validateEvent&&((vt=u==null?void 0:u.validate)==null||vt.call(u,"change").catch(It=>void 0))},{deep:!0}),Be(()=>t.options,()=>{const ze=w.value;(!ze||ze&&document.activeElement!==ze)&&zt()},{deep:!0,flush:"post"}),Be(()=>k.value,()=>E.value&&it(E.value.resetScrollTop)),Yn(()=>{p.isBeforeHide||ne()}),Yn(()=>{const{valueKey:ze,options:ut}=t,vt=new Map;for(const It of ut){const on=c(It);let Bt=on;if(bt(Bt)&&(Bt=Sn(on,ze)),vt.get(Bt))break;vt.set(Bt,!0)}}),ht(()=>{zt()}),dn(v,At),dn(b,tn),dn(C,En),dn(E,sn),dn(I,sn),dn(A,Gn),dn(O,Hi),{inputId:s,collapseTagSize:ce,currentPlaceholder:G,expanded:D,emptyText:ee,popupHeight:R,debounce:z,allOptions:N,filteredOptions:k,iconComponent:X,iconReverse:W,tagStyle:he,collapseTagStyle:Ce,inputStyle:Oe,popperSize:m,dropdownMenuVisible:de,hasModelValue:V,shouldShowPlaceholder:ke,selectDisabled:T,selectSize:J,showClearBtn:U,states:p,isFocused:$,nsSelect:i,nsInput:r,calculatorRef:C,inputRef:w,menuRef:E,tagMenuRef:A,tooltipRef:_,tagTooltipRef:S,selectRef:v,wrapperRef:I,selectionRef:b,prefixRef:x,suffixRef:M,collapseItemRef:O,popperRef:Z,validateState:j,validateIcon:K,showTagList:Re,collapseTagList:Fe,debouncedOnInputChange:me,deleteTag:Os,getLabel:o,getValue:c,getDisabled:f,getValueKey:Ze,handleBlur:B,handleClear:Se,handleClickOutside:Pt,handleDel:xe,handleEsc:pc,handleFocus:H,focus:Ar,blur:hc,handleMenuEnter:Lt,handleResize:At,resetSelectionWidth:tn,resetCalculatorWidth:En,updateTooltip:sn,updateTagTooltip:Gn,updateOptions:ne,toggleMenu:ge,scrollTo:Rt,onInput:Ct,onKeyboardNavigate:Ie,onKeyboardSelect:Ue,onSelect:ci,onHover:Ke,handleCompositionStart:ae,handleCompositionEnd:ie,handleCompositionUpdate:fe}},B7=se({name:"ElSelectV2",components:{ElSelectMenu:I7,ElTag:Tu,ElTooltip:ai,ElIcon:et},directives:{ClickOutside:ys},props:A7,emits:[_t,rn,"remove-tag","clear","visible-change","focus","blur"],setup(t,{emit:e}){const n=P(()=>{const{modelValue:r,multiple:a}=t,u=a?[]:void 0;return qe(r)?a?r:u:a?u:r}),i=F7($t({...Wn(t),modelValue:n}),e);return Mt(Y0,{props:$t({...Wn(t),height:i.popupHeight,modelValue:n}),tooltipRef:i.tooltipRef,onSelect:i.onSelect,onHover:i.onHover,onKeyboardNavigate:i.onKeyboardNavigate,onKeyboardSelect:i.onKeyboardSelect}),{...i,modelValue:n}}}),U7=["id","autocomplete","aria-expanded","aria-label","disabled","readonly","name"],V7=["textContent"];function $7(t,e,n,i,r,a){const u=pt("el-tag"),s=pt("el-tooltip"),o=pt("el-icon"),c=pt("el-select-menu"),f=wh("click-outside");return ft((L(),Q("div",{ref:"selectRef",class:F([t.nsSelect.b(),t.nsSelect.m(t.selectSize)]),onMouseenter:e[14]||(e[14]=l=>t.states.inputHovering=!0),onMouseleave:e[15]||(e[15]=l=>t.states.inputHovering=!1),onClick:e[16]||(e[16]=lt((...l)=>t.toggleMenu&&t.toggleMenu(...l),["prevent","stop"]))},[oe(s,{ref:"tooltipRef",visible:t.dropdownMenuVisible,teleported:t.teleported,"popper-class":[t.nsSelect.e("popper"),t.popperClass],"gpu-acceleration":!1,"stop-popper-mouse-event":!1,"popper-options":t.popperOptions,"fallback-placements":t.fallbackPlacements,effect:t.effect,placement:t.placement,pure:"",transition:`${t.nsSelect.namespace.value}-zoom-in-top`,trigger:"click",persistent:t.persistent,onBeforeShow:t.handleMenuEnter,onHide:e[13]||(e[13]=l=>t.states.isBeforeHide=!1)},{default:ve(()=>[te("div",{ref:"wrapperRef",class:F([t.nsSelect.e("wrapper"),t.nsSelect.is("focused",t.isFocused),t.nsSelect.is("hovering",t.states.inputHovering),t.nsSelect.is("filterable",t.filterable),t.nsSelect.is("disabled",t.selectDisabled)])},[t.$slots.prefix?(L(),Q("div",{key:0,ref:"prefixRef",class:F(t.nsSelect.e("prefix"))},[Le(t.$slots,"prefix")],2)):Ee("v-if",!0),te("div",{ref:"selectionRef",class:F([t.nsSelect.e("selection"),t.nsSelect.is("near",t.multiple&&!t.$slots.prefix&&!!t.modelValue.length)])},[t.multiple?Le(t.$slots,"tag",{key:0},()=>[(L(!0),Q(tt,null,Tt(t.showTagList,l=>(L(),Q("div",{key:t.getValueKey(t.getValue(l)),class:F(t.nsSelect.e("selected-item"))},[oe(u,{closable:!t.selectDisabled&&!t.getDisabled(l),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",style:Qe(t.tagStyle),onClose:d=>t.deleteTag(d,l)},{default:ve(()=>[te("span",{class:F(t.nsSelect.e("tags-text"))},je(t.getLabel(l)),3)]),_:2},1032,["closable","size","type","style","onClose"])],2))),128)),t.collapseTags&&t.modelValue.length>t.maxCollapseTags?(L(),Pe(s,{key:0,ref:"tagTooltipRef",disabled:t.dropdownMenuVisible||!t.collapseTagsTooltip,"fallback-placements":["bottom","top","right","left"],effect:t.effect,placement:"bottom",teleported:t.teleported},{default:ve(()=>[te("div",{ref:"collapseItemRef",class:F(t.nsSelect.e("selected-item"))},[oe(u,{closable:!1,size:t.collapseTagSize,type:t.tagType,style:Qe(t.collapseTagStyle),"disable-transitions":""},{default:ve(()=>[te("span",{class:F(t.nsSelect.e("tags-text"))}," + "+je(t.modelValue.length-t.maxCollapseTags),3)]),_:1},8,["size","type","style"])],2)]),content:ve(()=>[te("div",{ref:"tagMenuRef",class:F(t.nsSelect.e("selection"))},[(L(!0),Q(tt,null,Tt(t.collapseTagList,l=>(L(),Q("div",{key:t.getValueKey(t.getValue(l)),class:F(t.nsSelect.e("selected-item"))},[oe(u,{class:"in-tooltip",closable:!t.selectDisabled&&!t.getDisabled(l),size:t.collapseTagSize,type:t.tagType,"disable-transitions":"",onClose:d=>t.deleteTag(d,l)},{default:ve(()=>[te("span",{class:F(t.nsSelect.e("tags-text"))},je(t.getLabel(l)),3)]),_:2},1032,["closable","size","type","onClose"])],2))),128))],2)]),_:1},8,["disabled","effect","teleported"])):Ee("v-if",!0)]):Ee("v-if",!0),t.selectDisabled?Ee("v-if",!0):(L(),Q("div",{key:1,class:F([t.nsSelect.e("selected-item"),t.nsSelect.e("input-wrapper"),t.nsSelect.is("hidden",!t.filterable)])},[ft(te("input",{id:t.inputId,ref:"inputRef","onUpdate:modelValue":e[0]||(e[0]=l=>t.states.inputValue=l),style:Qe(t.inputStyle),autocomplete:t.autocomplete,"aria-autocomplete":"list","aria-haspopup":"listbox",autocapitalize:"off","aria-expanded":t.expanded,"aria-label":t.ariaLabel,class:F([t.nsSelect.e("input"),t.nsSelect.is(t.selectSize)]),disabled:t.selectDisabled,role:"combobox",readonly:!t.filterable,spellcheck:"false",type:"text",name:t.name,onFocus:e[1]||(e[1]=(...l)=>t.handleFocus&&t.handleFocus(...l)),onBlur:e[2]||(e[2]=(...l)=>t.handleBlur&&t.handleBlur(...l)),onInput:e[3]||(e[3]=(...l)=>t.onInput&&t.onInput(...l)),onCompositionstart:e[4]||(e[4]=(...l)=>t.handleCompositionStart&&t.handleCompositionStart(...l)),onCompositionupdate:e[5]||(e[5]=(...l)=>t.handleCompositionUpdate&&t.handleCompositionUpdate(...l)),onCompositionend:e[6]||(e[6]=(...l)=>t.handleCompositionEnd&&t.handleCompositionEnd(...l)),onKeydown:[e[7]||(e[7]=Xt(lt(l=>t.onKeyboardNavigate("backward"),["stop","prevent"]),["up"])),e[8]||(e[8]=Xt(lt(l=>t.onKeyboardNavigate("forward"),["stop","prevent"]),["down"])),e[9]||(e[9]=Xt(lt((...l)=>t.onKeyboardSelect&&t.onKeyboardSelect(...l),["stop","prevent"]),["enter"])),e[10]||(e[10]=Xt(lt((...l)=>t.handleEsc&&t.handleEsc(...l),["stop","prevent"]),["esc"])),e[11]||(e[11]=Xt(lt((...l)=>t.handleDel&&t.handleDel(...l),["stop"]),["delete"]))],onClick:e[12]||(e[12]=lt((...l)=>t.toggleMenu&&t.toggleMenu(...l),["stop"]))},null,46,U7),[[Ov,t.states.inputValue]]),t.filterable?(L(),Q("span",{key:0,ref:"calculatorRef","aria-hidden":"true",class:F(t.nsSelect.e("input-calculator")),textContent:je(t.states.inputValue)},null,10,V7)):Ee("v-if",!0)],2)),t.shouldShowPlaceholder?(L(),Q("div",{key:2,class:F([t.nsSelect.e("selected-item"),t.nsSelect.e("placeholder"),t.nsSelect.is("transparent",!t.hasModelValue||t.expanded&&!t.states.inputValue)])},[te("span",null,je(t.currentPlaceholder),1)],2)):Ee("v-if",!0)],2),te("div",{ref:"suffixRef",class:F(t.nsSelect.e("suffix"))},[t.iconComponent?ft((L(),Pe(o,{key:0,class:F([t.nsSelect.e("caret"),t.nsInput.e("icon"),t.iconReverse])},{default:ve(()=>[(L(),Pe(wt(t.iconComponent)))]),_:1},8,["class"])),[[Nt,!t.showClearBtn]]):Ee("v-if",!0),t.showClearBtn&&t.clearIcon?(L(),Pe(o,{key:1,class:F([t.nsSelect.e("caret"),t.nsInput.e("icon")]),onClick:lt(t.handleClear,["prevent","stop"])},{default:ve(()=>[(L(),Pe(wt(t.clearIcon)))]),_:1},8,["class","onClick"])):Ee("v-if",!0),t.validateState&&t.validateIcon?(L(),Pe(o,{key:2,class:F([t.nsInput.e("icon"),t.nsInput.e("validateIcon")])},{default:ve(()=>[(L(),Pe(wt(t.validateIcon)))]),_:1},8,["class"])):Ee("v-if",!0)],2)],2)]),content:ve(()=>[oe(c,{ref:"menuRef",data:t.filteredOptions,width:t.popperSize,"hovering-index":t.states.hoveringIndex,"scrollbar-always-on":t.scrollbarAlwaysOn},ps({default:ve(l=>[Le(t.$slots,"default",ss(Tl(l)))]),_:2},[t.$slots.header?{name:"header",fn:ve(()=>[te("div",{class:F(t.nsSelect.be("dropdown","header"))},[Le(t.$slots,"header")],2)])}:void 0,t.$slots.loading&&t.loading?{name:"loading",fn:ve(()=>[te("div",{class:F(t.nsSelect.be("dropdown","loading"))},[Le(t.$slots,"loading")],2)])}:t.loading||t.filteredOptions.length===0?{name:"empty",fn:ve(()=>[te("div",{class:F(t.nsSelect.be("dropdown","empty"))},[Le(t.$slots,"empty",{},()=>[te("span",null,je(t.emptyText),1)])],2)])}:void 0,t.$slots.footer?{name:"footer",fn:ve(()=>[te("div",{class:F(t.nsSelect.be("dropdown","footer"))},[Le(t.$slots,"footer")],2)])}:void 0]),1032,["data","width","hovering-index","scrollbar-always-on"])]),_:3},8,["visible","teleported","popper-class","popper-options","fallback-placements","effect","placement","transition","persistent","onBeforeShow"])],34)),[[f,t.handleClickOutside,t.popperRef]])}var Mf=Ge(B7,[["render",$7],["__file","select.vue"]]);Mf.install=t=>{t.component(Mf.name,Mf)};const H7=Mf,z7=H7,W7=We({animated:{type:Boolean,default:!1},count:{type:Number,default:1},rows:{type:Number,default:3},loading:{type:Boolean,default:!0},throttle:{type:Number}}),G7=We({variant:{type:String,values:["circle","rect","h1","h3","text","caption","p","image","button"],default:"text"}}),j7=se({name:"ElSkeletonItem"}),X7=se({...j7,props:G7,setup(t){const e=Ve("skeleton");return(n,i)=>(L(),Q("div",{class:F([y(e).e("item"),y(e).e(n.variant)])},[n.variant==="image"?(L(),Pe(y($3),{key:0})):Ee("v-if",!0)],2))}});var fh=Ge(X7,[["__file","skeleton-item.vue"]]);const K7=se({name:"ElSkeleton"}),Y7=se({...K7,props:W7,setup(t,{expose:e}){const n=t,i=Ve("skeleton"),r=I4(Zt(n,"loading"),n.throttle);return e({uiLoading:r}),(a,u)=>y(r)?(L(),Q("div",xt({key:0,class:[y(i).b(),y(i).is("animated",a.animated)]},a.$attrs),[(L(!0),Q(tt,null,Tt(a.count,s=>(L(),Q(tt,{key:s},[a.loading?Le(a.$slots,"template",{key:s},()=>[oe(fh,{class:F(y(i).is("first")),variant:"p"},null,8,["class"]),(L(!0),Q(tt,null,Tt(a.rows,o=>(L(),Pe(fh,{key:o,class:F([y(i).e("paragraph"),y(i).is("last",o===a.rows&&a.rows>1)]),variant:"p"},null,8,["class"]))),128))]):Ee("v-if",!0)],64))),128))],16)):Le(a.$slots,"default",ss(xt({key:1},a.$attrs)))}});var q7=Ge(Y7,[["__file","skeleton.vue"]]);const Z7=gt(q7,{SkeletonItem:fh}),J7=hn(fh),y2=Symbol("sliderContextKey"),Q7=We({modelValue:{type:we([Number,Array]),default:0},id:{type:String,default:void 0},min:{type:Number,default:0},max:{type:Number,default:100},step:{type:Number,default:1},showInput:Boolean,showInputControls:{type:Boolean,default:!0},size:kn,inputSize:kn,showStops:Boolean,showTooltip:{type:Boolean,default:!0},formatTooltip:{type:we(Function),default:void 0},disabled:Boolean,range:Boolean,vertical:Boolean,height:String,debounce:{type:Number,default:300},label:{type:String,default:void 0},rangeStartLabel:{type:String,default:void 0},rangeEndLabel:{type:String,default:void 0},formatValueText:{type:we(Function),default:void 0},tooltipClass:{type:String,default:void 0},placement:{type:String,values:Ta,default:"top"},marks:{type:we(Object)},validateEvent:{type:Boolean,default:!0}}),Bp=t=>ot(t)||qe(t)&&t.every(ot),eq={[_t]:Bp,[yi]:Bp,[rn]:Bp},tq=(t,e,n)=>{const i=Y();return ht(async()=>{t.range?(Array.isArray(t.modelValue)?(e.firstValue=Math.max(t.min,t.modelValue[0]),e.secondValue=Math.min(t.max,t.modelValue[1])):(e.firstValue=t.min,e.secondValue=t.max),e.oldValue=[e.firstValue,e.secondValue]):(typeof t.modelValue!="number"||Number.isNaN(t.modelValue)?e.firstValue=t.min:e.firstValue=Math.min(t.max,Math.max(t.min,t.modelValue)),e.oldValue=e.firstValue),nn(window,"resize",n),await it(),n()}),{sliderWrapper:i}},nq=t=>P(()=>t.marks?Object.keys(t.marks).map(Number.parseFloat).sort((n,i)=>n-i).filter(n=>n<=t.max&&n>=t.min).map(n=>({point:n,position:(n-t.min)*100/(t.max-t.min),mark:t.marks[n]})):[]),iq=(t,e,n)=>{const{form:i,formItem:r}=li(),a=an(),u=Y(),s=Y(),o={firstButton:u,secondButton:s},c=P(()=>t.disabled||(i==null?void 0:i.disabled)||!1),f=P(()=>Math.min(e.firstValue,e.secondValue)),l=P(()=>Math.max(e.firstValue,e.secondValue)),d=P(()=>t.range?`${100*(l.value-f.value)/(t.max-t.min)}%`:`${100*(e.firstValue-t.min)/(t.max-t.min)}%`),h=P(()=>t.range?`${100*(f.value-t.min)/(t.max-t.min)}%`:"0%"),p=P(()=>t.vertical?{height:t.height}:{}),g=P(()=>t.vertical?{height:d.value,bottom:h.value}:{width:d.value,left:h.value}),m=()=>{a.value&&(e.sliderSize=a.value[`client${t.vertical?"Height":"Width"}`])},v=O=>{const I=t.min+O*(t.max-t.min)/100;if(!t.range)return u;let $;return Math.abs(f.value-I)<Math.abs(l.value-I)?$=e.firstValue<e.secondValue?"firstButton":"secondButton":$=e.firstValue>e.secondValue?"firstButton":"secondButton",o[$]},b=O=>{const I=v(O);return I.value.setPosition(O),I},_=O=>{e.firstValue=O,w(t.range?[f.value,l.value]:O)},S=O=>{e.secondValue=O,t.range&&w([f.value,l.value])},w=O=>{n(_t,O),n(yi,O)},C=async()=>{await it(),n(rn,t.range?[f.value,l.value]:t.modelValue)},x=O=>{var I,$,H,B,N,k;if(c.value||e.dragging)return;m();let D=0;if(t.vertical){const T=(H=($=(I=O.touches)==null?void 0:I.item(0))==null?void 0:$.clientY)!=null?H:O.clientY;D=(a.value.getBoundingClientRect().bottom-T)/e.sliderSize*100}else{const T=(k=(N=(B=O.touches)==null?void 0:B.item(0))==null?void 0:N.clientX)!=null?k:O.clientX,R=a.value.getBoundingClientRect().left;D=(T-R)/e.sliderSize*100}if(!(D<0||D>100))return b(D)};return{elFormItem:r,slider:a,firstButton:u,secondButton:s,sliderDisabled:c,minValue:f,maxValue:l,runwayStyle:p,barStyle:g,resetSize:m,setPosition:b,emitChange:C,onSliderWrapperPrevent:O=>{var I,$;((I=o.firstButton.value)!=null&&I.dragging||($=o.secondButton.value)!=null&&$.dragging)&&O.preventDefault()},onSliderClick:O=>{x(O)&&C()},onSliderDown:async O=>{const I=x(O);I&&(await it(),I.value.onButtonDown(O))},setFirstValue:_,setSecondValue:S}},{left:rq,down:sq,right:oq,up:aq,home:lq,end:cq,pageUp:uq,pageDown:dq}=nt,fq=(t,e,n)=>{const i=Y(),r=Y(!1),a=P(()=>e.value instanceof Function),u=P(()=>a.value&&e.value(t.modelValue)||t.modelValue),s=Oi(()=>{n.value&&(r.value=!0)},50),o=Oi(()=>{n.value&&(r.value=!1)},50);return{tooltip:i,tooltipVisible:r,formatValue:u,displayTooltip:s,hideTooltip:o}},hq=(t,e,n)=>{const{disabled:i,min:r,max:a,step:u,showTooltip:s,precision:o,sliderSize:c,formatTooltip:f,emitChange:l,resetSize:d,updateDragging:h}=Je(y2),{tooltip:p,tooltipVisible:g,formatValue:m,displayTooltip:v,hideTooltip:b}=fq(t,f,s),_=Y(),S=P(()=>`${(t.modelValue-r.value)/(a.value-r.value)*100}%`),w=P(()=>t.vertical?{bottom:S.value}:{left:S.value}),C=()=>{e.hovering=!0,v()},x=()=>{e.hovering=!1,e.dragging||b()},M=U=>{i.value||(U.preventDefault(),D(U),window.addEventListener("mousemove",T),window.addEventListener("touchmove",T),window.addEventListener("mouseup",R),window.addEventListener("touchend",R),window.addEventListener("contextmenu",R),_.value.focus())},E=U=>{i.value||(e.newPosition=Number.parseFloat(S.value)+U/(a.value-r.value)*100,V(e.newPosition),l())},A=()=>{E(-u.value)},O=()=>{E(u.value)},I=()=>{E(-u.value*4)},$=()=>{E(u.value*4)},H=()=>{i.value||(V(0),l())},B=()=>{i.value||(V(100),l())},N=U=>{let X=!0;[rq,sq].includes(U.key)?A():[oq,aq].includes(U.key)?O():U.key===lq?H():U.key===cq?B():U.key===dq?I():U.key===uq?$():X=!1,X&&U.preventDefault()},k=U=>{let X,W;return U.type.startsWith("touch")?(W=U.touches[0].clientY,X=U.touches[0].clientX):(W=U.clientY,X=U.clientX),{clientX:X,clientY:W}},D=U=>{e.dragging=!0,e.isClick=!0;const{clientX:X,clientY:W}=k(U);t.vertical?e.startY=W:e.startX=X,e.startPosition=Number.parseFloat(S.value),e.newPosition=e.startPosition},T=U=>{if(e.dragging){e.isClick=!1,v(),d();let X;const{clientX:W,clientY:j}=k(U);t.vertical?(e.currentY=j,X=(e.startY-e.currentY)/c.value*100):(e.currentX=W,X=(e.currentX-e.startX)/c.value*100),e.newPosition=e.startPosition+X,V(e.newPosition)}},R=()=>{e.dragging&&(setTimeout(()=>{e.dragging=!1,e.hovering||b(),e.isClick||V(e.newPosition),l()},0),window.removeEventListener("mousemove",T),window.removeEventListener("touchmove",T),window.removeEventListener("mouseup",R),window.removeEventListener("touchend",R),window.removeEventListener("contextmenu",R))},V=async U=>{if(U===null||Number.isNaN(+U))return;U<0?U=0:U>100&&(U=100);const X=100/((a.value-r.value)/u.value);let j=Math.round(U/X)*X*(a.value-r.value)*.01+r.value;j=Number.parseFloat(j.toFixed(o.value)),j!==t.modelValue&&n(_t,j),!e.dragging&&t.modelValue!==e.oldValue&&(e.oldValue=t.modelValue),await it(),e.dragging&&v(),p.value.updatePopper()};return Be(()=>e.dragging,U=>{h(U)}),{disabled:i,button:_,tooltip:p,tooltipVisible:g,showTooltip:s,wrapperStyle:w,formatValue:m,handleMouseEnter:C,handleMouseLeave:x,onButtonDown:M,onKeyDown:N,setPosition:V}},pq=(t,e,n,i)=>({stops:P(()=>{if(!t.showStops||t.min>t.max)return[];if(t.step===0)return[];const u=(t.max-t.min)/t.step,s=100*t.step/(t.max-t.min),o=Array.from({length:u-1}).map((c,f)=>(f+1)*s);return t.range?o.filter(c=>c<100*(n.value-t.min)/(t.max-t.min)||c>100*(i.value-t.min)/(t.max-t.min)):o.filter(c=>c>100*(e.firstValue-t.min)/(t.max-t.min))}),getStopStyle:u=>t.vertical?{bottom:`${u}%`}:{left:`${u}%`}}),mq=(t,e,n,i,r,a)=>{const u=c=>{r(_t,c),r(yi,c)},s=()=>t.range?![n.value,i.value].every((c,f)=>c===e.oldValue[f]):t.modelValue!==e.oldValue,o=()=>{var c,f;t.min>t.max&&Rn("Slider","min should not be greater than max.");const l=t.modelValue;t.range&&Array.isArray(l)?l[1]<t.min?u([t.min,t.min]):l[0]>t.max?u([t.max,t.max]):l[0]<t.min?u([t.min,l[1]]):l[1]>t.max?u([l[0],t.max]):(e.firstValue=l[0],e.secondValue=l[1],s()&&(t.validateEvent&&((c=a==null?void 0:a.validate)==null||c.call(a,"change").catch(d=>void 0)),e.oldValue=l.slice())):!t.range&&typeof l=="number"&&!Number.isNaN(l)&&(l<t.min?u(t.min):l>t.max?u(t.max):(e.firstValue=l,s()&&(t.validateEvent&&((f=a==null?void 0:a.validate)==null||f.call(a,"change").catch(d=>void 0)),e.oldValue=l)))};o(),Be(()=>e.dragging,c=>{c||o()}),Be(()=>t.modelValue,(c,f)=>{e.dragging||Array.isArray(c)&&Array.isArray(f)&&c.every((l,d)=>l===f[d])&&e.firstValue===c[0]&&e.secondValue===c[1]||o()},{deep:!0}),Be(()=>[t.min,t.max],()=>{o()})},gq=We({modelValue:{type:Number,default:0},vertical:Boolean,tooltipClass:String,placement:{type:String,values:Ta,default:"top"}}),vq={[_t]:t=>ot(t)},yq=["tabindex"],bq=se({name:"ElSliderButton"}),_q=se({...bq,props:gq,emits:vq,setup(t,{expose:e,emit:n}){const i=t,r=Ve("slider"),a=$t({hovering:!1,dragging:!1,isClick:!1,startX:0,currentX:0,startY:0,currentY:0,startPosition:0,newPosition:0,oldValue:i.modelValue}),{disabled:u,button:s,tooltip:o,showTooltip:c,tooltipVisible:f,wrapperStyle:l,formatValue:d,handleMouseEnter:h,handleMouseLeave:p,onButtonDown:g,onKeyDown:m,setPosition:v}=hq(i,a,n),{hovering:b,dragging:_}=Wn(a);return e({onButtonDown:g,onKeyDown:m,setPosition:v,hovering:b,dragging:_}),(S,w)=>(L(),Q("div",{ref_key:"button",ref:s,class:F([y(r).e("button-wrapper"),{hover:y(b),dragging:y(_)}]),style:Qe(y(l)),tabindex:y(u)?-1:0,onMouseenter:w[0]||(w[0]=(...C)=>y(h)&&y(h)(...C)),onMouseleave:w[1]||(w[1]=(...C)=>y(p)&&y(p)(...C)),onMousedown:w[2]||(w[2]=(...C)=>y(g)&&y(g)(...C)),onTouchstart:w[3]||(w[3]=(...C)=>y(g)&&y(g)(...C)),onFocus:w[4]||(w[4]=(...C)=>y(h)&&y(h)(...C)),onBlur:w[5]||(w[5]=(...C)=>y(p)&&y(p)(...C)),onKeydown:w[6]||(w[6]=(...C)=>y(m)&&y(m)(...C))},[oe(y(ai),{ref_key:"tooltip",ref:o,visible:y(f),placement:S.placement,"fallback-placements":["top","bottom","right","left"],"stop-popper-mouse-event":!1,"popper-class":S.tooltipClass,disabled:!y(c),persistent:""},{content:ve(()=>[te("span",null,je(y(d)),1)]),default:ve(()=>[te("div",{class:F([y(r).e("button"),{hover:y(b),dragging:y(_)}])},null,2)]),_:1},8,["visible","placement","popper-class","disabled"])],46,yq))}});var NS=Ge(_q,[["__file","button.vue"]]);const Sq=We({mark:{type:we([String,Object]),default:void 0}});var wq=se({name:"ElSliderMarker",props:Sq,setup(t){const e=Ve("slider"),n=P(()=>ct(t.mark)?t.mark:t.mark.label),i=P(()=>ct(t.mark)?void 0:t.mark.style);return()=>rt("div",{class:e.e("marks-text"),style:i.value},n.value)}});const Cq=["id","role","aria-label","aria-labelledby"],xq={key:1},Tq=se({name:"ElSlider"}),Eq=se({...Tq,props:Q7,emits:eq,setup(t,{expose:e,emit:n}){const i=t,r=Ve("slider"),{t:a}=Dt(),u=$t({firstValue:0,secondValue:0,oldValue:0,dragging:!1,sliderSize:1}),{elFormItem:s,slider:o,firstButton:c,secondButton:f,sliderDisabled:l,minValue:d,maxValue:h,runwayStyle:p,barStyle:g,resetSize:m,emitChange:v,onSliderWrapperPrevent:b,onSliderClick:_,onSliderDown:S,setFirstValue:w,setSecondValue:C}=iq(i,u,n),{stops:x,getStopStyle:M}=pq(i,u,d,h),{inputId:E,isLabeledByFormItem:A}=Mr(i,{formItemContext:s}),O=Mn(),I=P(()=>i.inputSize||O.value),$=P(()=>i.label||a("el.slider.defaultLabel",{min:i.min,max:i.max})),H=P(()=>i.range?i.rangeStartLabel||a("el.slider.defaultRangeStartLabel"):$.value),B=P(()=>i.formatValueText?i.formatValueText(U.value):`${U.value}`),N=P(()=>i.rangeEndLabel||a("el.slider.defaultRangeEndLabel")),k=P(()=>i.formatValueText?i.formatValueText(X.value):`${X.value}`),D=P(()=>[r.b(),r.m(O.value),r.is("vertical",i.vertical),{[r.m("with-input")]:i.showInput}]),T=nq(i);mq(i,u,d,h,n,s);const R=P(()=>{const K=[i.min,i.max,i.step].map(z=>{const ee=`${z}`.split(".")[1];return ee?ee.length:0});return Math.max.apply(null,K)}),{sliderWrapper:V}=tq(i,u,m),{firstValue:U,secondValue:X,sliderSize:W}=Wn(u),j=K=>{u.dragging=K};return Mt(y2,{...Wn(i),sliderSize:W,disabled:l,precision:R,emitChange:v,resetSize:m,updateDragging:j}),e({onSliderClick:_}),(K,z)=>{var ee,ue;return L(),Q("div",{id:K.range?y(E):void 0,ref_key:"sliderWrapper",ref:V,class:F(y(D)),role:K.range?"group":void 0,"aria-label":K.range&&!y(A)?y($):void 0,"aria-labelledby":K.range&&y(A)?(ee=y(s))==null?void 0:ee.labelId:void 0,onTouchstart:z[2]||(z[2]=(...ne)=>y(b)&&y(b)(...ne)),onTouchmove:z[3]||(z[3]=(...ne)=>y(b)&&y(b)(...ne))},[te("div",{ref_key:"slider",ref:o,class:F([y(r).e("runway"),{"show-input":K.showInput&&!K.range},y(r).is("disabled",y(l))]),style:Qe(y(p)),onMousedown:z[0]||(z[0]=(...ne)=>y(S)&&y(S)(...ne)),onTouchstart:z[1]||(z[1]=(...ne)=>y(S)&&y(S)(...ne))},[te("div",{class:F(y(r).e("bar")),style:Qe(y(g))},null,6),oe(NS,{id:K.range?void 0:y(E),ref_key:"firstButton",ref:c,"model-value":y(U),vertical:K.vertical,"tooltip-class":K.tooltipClass,placement:K.placement,role:"slider","aria-label":K.range||!y(A)?y(H):void 0,"aria-labelledby":!K.range&&y(A)?(ue=y(s))==null?void 0:ue.labelId:void 0,"aria-valuemin":K.min,"aria-valuemax":K.range?y(X):K.max,"aria-valuenow":y(U),"aria-valuetext":y(B),"aria-orientation":K.vertical?"vertical":"horizontal","aria-disabled":y(l),"onUpdate:modelValue":y(w)},null,8,["id","model-value","vertical","tooltip-class","placement","aria-label","aria-labelledby","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"]),K.range?(L(),Pe(NS,{key:0,ref_key:"secondButton",ref:f,"model-value":y(X),vertical:K.vertical,"tooltip-class":K.tooltipClass,placement:K.placement,role:"slider","aria-label":y(N),"aria-valuemin":y(U),"aria-valuemax":K.max,"aria-valuenow":y(X),"aria-valuetext":y(k),"aria-orientation":K.vertical?"vertical":"horizontal","aria-disabled":y(l),"onUpdate:modelValue":y(C)},null,8,["model-value","vertical","tooltip-class","placement","aria-label","aria-valuemin","aria-valuemax","aria-valuenow","aria-valuetext","aria-orientation","aria-disabled","onUpdate:modelValue"])):Ee("v-if",!0),K.showStops?(L(),Q("div",xq,[(L(!0),Q(tt,null,Tt(y(x),(ne,le)=>(L(),Q("div",{key:le,class:F(y(r).e("stop")),style:Qe(y(M)(ne))},null,6))),128))])):Ee("v-if",!0),y(T).length>0?(L(),Q(tt,{key:2},[te("div",null,[(L(!0),Q(tt,null,Tt(y(T),(ne,le)=>(L(),Q("div",{key:le,style:Qe(y(M)(ne.position)),class:F([y(r).e("stop"),y(r).e("marks-stop")])},null,6))),128))]),te("div",{class:F(y(r).e("marks"))},[(L(!0),Q(tt,null,Tt(y(T),(ne,le)=>(L(),Pe(y(wq),{key:le,mark:ne.mark,style:Qe(y(M)(ne.position))},null,8,["mark","style"]))),128))],2)],64)):Ee("v-if",!0)],38),K.showInput&&!K.range?(L(),Pe(y(WM),{key:0,ref:"input","model-value":y(U),class:F(y(r).e("input")),step:K.step,disabled:y(l),controls:K.showInputControls,min:K.min,max:K.max,debounce:K.debounce,size:y(I),"onUpdate:modelValue":y(w),onChange:y(v)},null,8,["model-value","class","step","disabled","controls","min","max","debounce","size","onUpdate:modelValue","onChange"])):Ee("v-if",!0)],42,Cq)}}});var Mq=Ge(Eq,[["__file","slider.vue"]]);const Aq=gt(Mq),Rq=We({prefixCls:{type:String}}),FS=se({name:"ElSpaceItem",props:Rq,setup(t,{slots:e}){const n=Ve("space"),i=P(()=>`${t.prefixCls||n.b()}__item`);return()=>rt("div",{class:i.value},Le(e,"default"))}}),BS={small:8,default:12,large:16};function Pq(t){const e=Ve("space"),n=P(()=>[e.b(),e.m(t.direction),t.class]),i=Y(0),r=Y(0),a=P(()=>{const s=t.wrap||t.fill?{flexWrap:"wrap"}:{},o={alignItems:t.alignment},c={rowGap:`${r.value}px`,columnGap:`${i.value}px`};return[s,o,c,t.style]}),u=P(()=>t.fill?{flexGrow:1,minWidth:`${t.fillRatio}%`}:{});return Yn(()=>{const{size:s="small",wrap:o,direction:c,fill:f}=t;if(qe(s)){const[l=0,d=0]=s;i.value=l,r.value=d}else{let l;ot(s)?l=s:l=BS[s||"small"]||BS.small,(o||f)&&c==="horizontal"?i.value=r.value=l:c==="horizontal"?(i.value=l,r.value=0):(r.value=l,i.value=0)}}),{classes:n,containerStyle:a,itemStyle:u}}const Oq=We({direction:{type:String,values:["horizontal","vertical"],default:"horizontal"},class:{type:we([String,Object,Array]),default:""},style:{type:we([String,Array,Object]),default:""},alignment:{type:we(String),default:"center"},prefixCls:{type:String},spacer:{type:we([Object,String,Number,Array]),default:null,validator:t=>un(t)||ot(t)||ct(t)},wrap:Boolean,fill:Boolean,fillRatio:{type:Number,default:100},size:{type:[String,Array,Number],values:zr,validator:t=>ot(t)||qe(t)&&t.length===2&&t.every(ot)}}),kq=se({name:"ElSpace",props:Oq,setup(t,{slots:e}){const{classes:n,containerStyle:i,itemStyle:r}=Pq(t);function a(u,s="",o=[]){const{prefixCls:c}=t;return u.forEach((f,l)=>{Km(f)?qe(f.children)&&f.children.forEach((d,h)=>{Km(d)&&qe(d.children)?a(d.children,`${s+h}-`,o):o.push(oe(FS,{style:r.value,prefixCls:c,key:`nested-${s+h}`},{default:()=>[d]},Xi.PROPS|Xi.STYLE,["style","prefixCls"]))}):vB(f)&&o.push(oe(FS,{style:r.value,prefixCls:c,key:`LoopKey${s+l}`},{default:()=>[f]},Xi.PROPS|Xi.STYLE,["style","prefixCls"]))}),o}return()=>{var u;const{spacer:s,direction:o}=t,c=Le(e,"default",{key:0},()=>[]);if(((u=c.children)!=null?u:[]).length===0)return null;if(qe(c.children)){let f=a(c.children);if(s){const l=f.length-1;f=f.reduce((d,h,p)=>{const g=[...d,h];return p!==l&&g.push(oe("span",{style:[r.value,o==="vertical"?"width: 100%":null],key:p},[un(s)?s:Et(s,Xi.TEXT)],Xi.STYLE)),g},[])}return oe("div",{class:n.value,style:i.value},f,Xi.STYLE|Xi.CLASS)}return c.children}}}),Lq=gt(kq),Iq=We({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:we([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:we([String,Object,Array])}}),Dq=se({name:"ElStatistic"}),Nq=se({...Dq,props:Iq,setup(t,{expose:e}){const n=t,i=Ve("statistic"),r=P(()=>{const{value:a,formatter:u,precision:s,decimalSeparator:o,groupSeparator:c}=n;if(at(u))return u(a);if(!ot(a))return a;let[f,l=""]=String(a).split(".");return l=l.padEnd(s,"0").slice(0,s>0?s:0),f=f.replace(/\B(?=(\d{3})+(?!\d))/g,c),[f,l].join(l?o:"")});return e({displayValue:r}),(a,u)=>(L(),Q("div",{class:F(y(i).b())},[a.$slots.title||a.title?(L(),Q("div",{key:0,class:F(y(i).e("head"))},[Le(a.$slots,"title",{},()=>[Et(je(a.title),1)])],2)):Ee("v-if",!0),te("div",{class:F(y(i).e("content"))},[a.$slots.prefix||a.prefix?(L(),Q("div",{key:0,class:F(y(i).e("prefix"))},[Le(a.$slots,"prefix",{},()=>[te("span",null,je(a.prefix),1)])],2)):Ee("v-if",!0),te("span",{class:F(y(i).e("number")),style:Qe(a.valueStyle)},je(y(r)),7),a.$slots.suffix||a.suffix?(L(),Q("div",{key:1,class:F(y(i).e("suffix"))},[Le(a.$slots,"suffix",{},()=>[te("span",null,je(a.suffix),1)])],2)):Ee("v-if",!0)],2)],2))}});var Fq=Ge(Nq,[["__file","statistic.vue"]]);const b2=gt(Fq),Bq=We({format:{type:String,default:"HH:mm:ss"},prefix:String,suffix:String,title:String,value:{type:we([Number,Object]),default:0},valueStyle:{type:we([String,Object,Array])}}),Uq={finish:()=>!0,[rn]:t=>ot(t)},Vq=[["Y",1e3*60*60*24*365],["M",1e3*60*60*24*30],["D",1e3*60*60*24],["H",1e3*60*60],["m",1e3*60],["s",1e3],["S",1]],US=t=>ot(t)?new Date(t).getTime():t.valueOf(),VS=(t,e)=>{let n=t;const i=/\[([^\]]*)]/g;return Vq.reduce((a,[u,s])=>{const o=new RegExp(`${u}+(?![^\\[\\]]*\\])`,"g");if(o.test(a)){const c=Math.floor(n/s);return n-=c*s,a.replace(o,f=>String(c).padStart(f.length,"0"))}return a},e).replace(i,"$1")},$q=se({name:"ElCountdown"}),Hq=se({...$q,props:Bq,emits:Uq,setup(t,{expose:e,emit:n}){const i=t;let r;const a=Y(US(i.value)-Date.now()),u=P(()=>VS(a.value,i.format)),s=f=>VS(f,i.format),o=()=>{r&&(da(r),r=void 0)},c=()=>{const f=US(i.value),l=()=>{let d=f-Date.now();n("change",d),d<=0?(d=0,o(),n("finish")):r=co(l),a.value=d};r=co(l)};return Be(()=>[i.value,i.format],()=>{o(),c()},{immediate:!0}),en(()=>{o()}),e({displayValue:u}),(f,l)=>(L(),Pe(y(b2),{value:a.value,title:f.title,prefix:f.prefix,suffix:f.suffix,"value-style":f.valueStyle,formatter:s},ps({_:2},[Tt(f.$slots,(d,h)=>({name:h,fn:ve(()=>[Le(f.$slots,h)])}))]),1032,["value","title","prefix","suffix","value-style"]))}});var zq=Ge(Hq,[["__file","countdown.vue"]]);const Wq=gt(zq),Gq=We({space:{type:[Number,String],default:""},active:{type:Number,default:0},direction:{type:String,default:"horizontal",values:["horizontal","vertical"]},alignCenter:{type:Boolean},simple:{type:Boolean},finishStatus:{type:String,values:["wait","process","finish","error","success"],default:"finish"},processStatus:{type:String,values:["wait","process","finish","error","success"],default:"process"}}),jq={[rn]:(t,e)=>[t,e].every(ot)},Xq=se({name:"ElSteps"}),Kq=se({...Xq,props:Gq,emits:jq,setup(t,{emit:e}){const n=t,i=Ve("steps"),{children:r,addChild:a,removeChild:u}=T0(mt(),"ElStep");return Be(r,()=>{r.value.forEach((s,o)=>{s.setIndex(o)})}),Mt("ElSteps",{props:n,steps:r,addStep:a,removeStep:u}),Be(()=>n.active,(s,o)=>{e(rn,s,o)}),(s,o)=>(L(),Q("div",{class:F([y(i).b(),y(i).m(s.simple?"simple":s.direction)])},[Le(s.$slots,"default")],2))}});var Yq=Ge(Kq,[["__file","steps.vue"]]);const qq=We({title:{type:String,default:""},icon:{type:Kt},description:{type:String,default:""},status:{type:String,values:["","wait","process","finish","error","success"],default:""}}),Zq=se({name:"ElStep"}),Jq=se({...Zq,props:qq,setup(t){const e=t,n=Ve("step"),i=Y(-1),r=Y({}),a=Y(""),u=Je("ElSteps"),s=mt();ht(()=>{Be([()=>u.props.active,()=>u.props.processStatus,()=>u.props.finishStatus],([C])=>{S(C)},{immediate:!0})}),en(()=>{u.removeStep(w.uid)});const o=P(()=>e.status||a.value),c=P(()=>{const C=u.steps.value[i.value-1];return C?C.currentStatus:"wait"}),f=P(()=>u.props.alignCenter),l=P(()=>u.props.direction==="vertical"),d=P(()=>u.props.simple),h=P(()=>u.steps.value.length),p=P(()=>{var C;return((C=u.steps.value[h.value-1])==null?void 0:C.uid)===(s==null?void 0:s.uid)}),g=P(()=>d.value?"":u.props.space),m=P(()=>[n.b(),n.is(d.value?"simple":u.props.direction),n.is("flex",p.value&&!g.value&&!f.value),n.is("center",f.value&&!l.value&&!d.value)]),v=P(()=>{const C={flexBasis:ot(g.value)?`${g.value}px`:g.value?g.value:`${100/(h.value-(f.value?0:1))}%`};return l.value||p.value&&(C.maxWidth=`${100/h.value}%`),C}),b=C=>{i.value=C},_=C=>{const x=C==="wait",M={transitionDelay:`${x?"-":""}${150*i.value}ms`},E=C===u.props.processStatus||x?0:100;M.borderWidth=E&&!d.value?"1px":0,M[u.props.direction==="vertical"?"height":"width"]=`${E}%`,r.value=M},S=C=>{C>i.value?a.value=u.props.finishStatus:C===i.value&&c.value!=="error"?a.value=u.props.processStatus:a.value="wait";const x=u.steps.value[i.value-1];x&&x.calcProgress(a.value)},w=$t({uid:s.uid,currentStatus:o,setIndex:b,calcProgress:_});return u.addStep(w),(C,x)=>(L(),Q("div",{style:Qe(y(v)),class:F(y(m))},[Ee(" icon & line "),te("div",{class:F([y(n).e("head"),y(n).is(y(o))])},[y(d)?Ee("v-if",!0):(L(),Q("div",{key:0,class:F(y(n).e("line"))},[te("i",{class:F(y(n).e("line-inner")),style:Qe(r.value)},null,6)],2)),te("div",{class:F([y(n).e("icon"),y(n).is(C.icon||C.$slots.icon?"icon":"text")])},[Le(C.$slots,"icon",{},()=>[C.icon?(L(),Pe(y(et),{key:0,class:F(y(n).e("icon-inner"))},{default:ve(()=>[(L(),Pe(wt(C.icon)))]),_:1},8,["class"])):y(o)==="success"?(L(),Pe(y(et),{key:1,class:F([y(n).e("icon-inner"),y(n).is("status")])},{default:ve(()=>[oe(y(Ku))]),_:1},8,["class"])):y(o)==="error"?(L(),Pe(y(et),{key:2,class:F([y(n).e("icon-inner"),y(n).is("status")])},{default:ve(()=>[oe(y(Cr))]),_:1},8,["class"])):y(d)?Ee("v-if",!0):(L(),Q("div",{key:3,class:F(y(n).e("icon-inner"))},je(i.value+1),3))])],2)],2),Ee(" title & description "),te("div",{class:F(y(n).e("main"))},[te("div",{class:F([y(n).e("title"),y(n).is(y(o))])},[Le(C.$slots,"title",{},()=>[Et(je(C.title),1)])],2),y(d)?(L(),Q("div",{key:0,class:F(y(n).e("arrow"))},null,2)):(L(),Q("div",{key:1,class:F([y(n).e("description"),y(n).is(y(o))])},[Le(C.$slots,"description",{},()=>[Et(je(C.description),1)])],2))],2)],6))}});var _2=Ge(Jq,[["__file","item.vue"]]);const Qq=gt(Yq,{Step:_2}),eZ=hn(_2),tZ=We({modelValue:{type:[Boolean,String,Number],default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},size:{type:String,validator:ST},width:{type:[String,Number],default:""},inlinePrompt:{type:Boolean,default:!1},inactiveActionIcon:{type:Kt},activeActionIcon:{type:Kt},activeIcon:{type:Kt},inactiveIcon:{type:Kt},activeText:{type:String,default:""},inactiveText:{type:String,default:""},activeValue:{type:[Boolean,String,Number],default:!0},inactiveValue:{type:[Boolean,String,Number],default:!1},name:{type:String,default:""},validateEvent:{type:Boolean,default:!0},beforeChange:{type:we(Function)},id:String,tabindex:{type:[String,Number]},label:{type:String,default:void 0}}),nZ={[_t]:t=>Tn(t)||ct(t)||ot(t),[rn]:t=>Tn(t)||ct(t)||ot(t),[yi]:t=>Tn(t)||ct(t)||ot(t)},iZ=["onClick"],rZ=["id","aria-checked","aria-disabled","aria-label","name","true-value","false-value","disabled","tabindex","onKeydown"],sZ=["aria-hidden"],oZ=["aria-hidden"],aZ=["aria-hidden"],S2="ElSwitch",lZ=se({name:S2}),cZ=se({...lZ,props:tZ,emits:nZ,setup(t,{expose:e,emit:n}){const i=t,{formItem:r}=li(),a=Mn(),u=Ve("switch"),{inputId:s}=Mr(i,{formItemContext:r}),o=wi(P(()=>i.loading)),c=Y(i.modelValue!==!1),f=Y(),l=Y(),d=P(()=>[u.b(),u.m(a.value),u.is("disabled",o.value),u.is("checked",v.value)]),h=P(()=>[u.e("label"),u.em("label","left"),u.is("active",!v.value)]),p=P(()=>[u.e("label"),u.em("label","right"),u.is("active",v.value)]),g=P(()=>({width:yn(i.width)}));Be(()=>i.modelValue,()=>{c.value=!0});const m=P(()=>c.value?i.modelValue:!1),v=P(()=>m.value===i.activeValue);[i.activeValue,i.inactiveValue].includes(m.value)||(n(_t,i.inactiveValue),n(rn,i.inactiveValue),n(yi,i.inactiveValue)),Be(v,w=>{var C;f.value.checked=w,i.validateEvent&&((C=r==null?void 0:r.validate)==null||C.call(r,"change").catch(x=>void 0))});const b=()=>{const w=v.value?i.inactiveValue:i.activeValue;n(_t,w),n(rn,w),n(yi,w),it(()=>{f.value.checked=v.value})},_=()=>{if(o.value)return;const{beforeChange:w}=i;if(!w){b();return}const C=w();[ou(C),Tn(C)].includes(!0)||Rn(S2,"beforeChange must return type `Promise<boolean>` or `boolean`"),ou(C)?C.then(M=>{M&&b()}).catch(M=>{}):C&&b()},S=()=>{var w,C;(C=(w=f.value)==null?void 0:w.focus)==null||C.call(w)};return ht(()=>{f.value.checked=v.value}),e({focus:S,checked:v}),(w,C)=>(L(),Q("div",{class:F(y(d)),onClick:lt(_,["prevent"])},[te("input",{id:y(s),ref_key:"input",ref:f,class:F(y(u).e("input")),type:"checkbox",role:"switch","aria-checked":y(v),"aria-disabled":y(o),"aria-label":w.label,name:w.name,"true-value":w.activeValue,"false-value":w.inactiveValue,disabled:y(o),tabindex:w.tabindex,onChange:b,onKeydown:Xt(_,["enter"])},null,42,rZ),!w.inlinePrompt&&(w.inactiveIcon||w.inactiveText)?(L(),Q("span",{key:0,class:F(y(h))},[w.inactiveIcon?(L(),Pe(y(et),{key:0},{default:ve(()=>[(L(),Pe(wt(w.inactiveIcon)))]),_:1})):Ee("v-if",!0),!w.inactiveIcon&&w.inactiveText?(L(),Q("span",{key:1,"aria-hidden":y(v)},je(w.inactiveText),9,sZ)):Ee("v-if",!0)],2)):Ee("v-if",!0),te("span",{ref_key:"core",ref:l,class:F(y(u).e("core")),style:Qe(y(g))},[w.inlinePrompt?(L(),Q("div",{key:0,class:F(y(u).e("inner"))},[w.activeIcon||w.inactiveIcon?(L(),Pe(y(et),{key:0,class:F(y(u).is("icon"))},{default:ve(()=>[(L(),Pe(wt(y(v)?w.activeIcon:w.inactiveIcon)))]),_:1},8,["class"])):w.activeText||w.inactiveText?(L(),Q("span",{key:1,class:F(y(u).is("text")),"aria-hidden":!y(v)},je(y(v)?w.activeText:w.inactiveText),11,oZ)):Ee("v-if",!0)],2)):Ee("v-if",!0),te("div",{class:F(y(u).e("action"))},[w.loading?(L(),Pe(y(et),{key:0,class:F(y(u).is("loading"))},{default:ve(()=>[oe(y(So))]),_:1},8,["class"])):y(v)?Le(w.$slots,"active-action",{key:1},()=>[w.activeActionIcon?(L(),Pe(y(et),{key:0},{default:ve(()=>[(L(),Pe(wt(w.activeActionIcon)))]),_:1})):Ee("v-if",!0)]):y(v)?Ee("v-if",!0):Le(w.$slots,"inactive-action",{key:2},()=>[w.inactiveActionIcon?(L(),Pe(y(et),{key:0},{default:ve(()=>[(L(),Pe(wt(w.inactiveActionIcon)))]),_:1})):Ee("v-if",!0)])],2)],6),!w.inlinePrompt&&(w.activeIcon||w.activeText)?(L(),Q("span",{key:1,class:F(y(p))},[w.activeIcon?(L(),Pe(y(et),{key:0},{default:ve(()=>[(L(),Pe(wt(w.activeIcon)))]),_:1})):Ee("v-if",!0),!w.activeIcon&&w.activeText?(L(),Q("span",{key:1,"aria-hidden":!y(v)},je(w.activeText),9,aZ)):Ee("v-if",!0)],2)):Ee("v-if",!0)],10,iZ))}});var uZ=Ge(cZ,[["__file","switch.vue"]]);const dZ=gt(uZ),Up=function(t){var e;return(e=t.target)==null?void 0:e.closest("td")},fZ=function(t,e,n,i,r){if(!e&&!i&&(!r||Array.isArray(r)&&!r.length))return t;typeof n=="string"?n=n==="descending"?-1:1:n=n&&n<0?-1:1;const a=i?null:function(s,o){return r?(Array.isArray(r)||(r=[r]),r.map(c=>typeof c=="string"?Sn(s,c):c(s,o,t))):(e!=="$key"&&bt(s)&&"$value"in s&&(s=s.$value),[bt(s)?Sn(s,e):s])},u=function(s,o){if(i)return i(s.value,o.value);for(let c=0,f=s.key.length;c<f;c++){if(s.key[c]<o.key[c])return-1;if(s.key[c]>o.key[c])return 1}return 0};return t.map((s,o)=>({value:s,index:o,key:a?a(s,o):null})).sort((s,o)=>{let c=u(s,o);return c||(c=s.index-o.index),c*+n}).map(s=>s.value)},w2=function(t,e){let n=null;return t.columns.forEach(i=>{i.id===e&&(n=i)}),n},hZ=function(t,e){let n=null;for(let i=0;i<t.columns.length;i++){const r=t.columns[i];if(r.columnKey===e){n=r;break}}return n||Rn("ElTable",`No column matching with column-key: ${e}`),n},$S=function(t,e,n){const i=(e.className||"").match(new RegExp(`${n}-table_[^\\s]+`,"gm"));return i?w2(t,i[0]):null},Kn=(t,e)=>{if(!t)throw new Error("Row is required when get row identity");if(typeof e=="string"){if(!e.includes("."))return`${t[e]}`;const n=e.split(".");let i=t;for(const r of n)i=i[r];return`${i}`}else if(typeof e=="function")return e.call(null,t)},jo=function(t,e){const n={};return(t||[]).forEach((i,r)=>{n[Kn(i,e)]={row:i,index:r}}),n};function pZ(t,e){const n={};let i;for(i in t)n[i]=t[i];for(i in e)if(kt(e,i)){const r=e[i];typeof r<"u"&&(n[i]=r)}return n}function q0(t){return t===""||t!==void 0&&(t=Number.parseInt(t,10),Number.isNaN(t)&&(t="")),t}function C2(t){return t===""||t!==void 0&&(t=q0(t),Number.isNaN(t)&&(t=80)),t}function mZ(t){return typeof t=="number"?t:typeof t=="string"?/^\d+(?:px)?$/.test(t)?Number.parseInt(t,10):t:null}function gZ(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...i)=>e(n(...i)))}function tu(t,e,n){let i=!1;const r=t.indexOf(e),a=r!==-1,u=s=>{s==="add"?t.push(e):t.splice(r,1),i=!0,qe(e.children)&&e.children.forEach(o=>{tu(t,o,n??!a)})};return Tn(n)?n&&!a?u("add"):!n&&a&&u("remove"):u(a?"remove":"add"),i}function vZ(t,e,n="children",i="hasChildren"){const r=u=>!(Array.isArray(u)&&u.length);function a(u,s,o){e(u,s,o),s.forEach(c=>{if(c[i]){e(c,null,o+1);return}const f=c[n];r(f)||a(c,f,o+1)})}t.forEach(u=>{if(u[i]){e(u,null,0);return}const s=u[n];r(s)||a(u,s,0)})}let Gi=null;function yZ(t,e,n,i){if((Gi==null?void 0:Gi.trigger)===n)return;Gi==null||Gi();const r=i==null?void 0:i.refs.tableWrapper,a=r==null?void 0:r.dataset.prefix,u={strategy:"fixed",...t.popperOptions},s=oe(ai,{content:e,virtualTriggering:!0,virtualRef:n,appendTo:r,placement:"top",transition:"none",offset:0,hideAfter:0,...t,popperOptions:u,onHide:()=>{Gi==null||Gi()}});s.appContext={...i.appContext,...i};const o=document.createElement("div");ao(s,o),s.component.exposed.onOpen();const c=r==null?void 0:r.querySelector(`.${a}-scrollbar__wrap`);Gi=()=>{ao(null,o),c==null||c.removeEventListener("scroll",Gi),Gi=null},Gi.trigger=n,c==null||c.addEventListener("scroll",Gi)}function x2(t){return t.children?LF(t.children,x2):[t]}function HS(t,e){return t+e.colSpan}const T2=(t,e,n,i)=>{let r=0,a=t;const u=n.states.columns.value;if(i){const o=x2(i[t]);r=u.slice(0,u.indexOf(o[0])).reduce(HS,0),a=r+o.reduce(HS,0)-1}else r=t;let s;switch(e){case"left":a<n.states.fixedLeafColumnsLength.value&&(s="left");break;case"right":r>=u.length-n.states.rightFixedLeafColumnsLength.value&&(s="right");break;default:a<n.states.fixedLeafColumnsLength.value?s="left":r>=u.length-n.states.rightFixedLeafColumnsLength.value&&(s="right")}return s?{direction:s,start:r,after:a}:{}},Z0=(t,e,n,i,r,a=0)=>{const u=[],{direction:s,start:o,after:c}=T2(e,n,i,r);if(s){const f=s==="left";u.push(`${t}-fixed-column--${s}`),f&&c+a===i.states.fixedLeafColumnsLength.value-1?u.push("is-last-column"):!f&&o-a===i.states.columns.value.length-i.states.rightFixedLeafColumnsLength.value&&u.push("is-first-column")}return u};function zS(t,e){return t+(e.realWidth===null||Number.isNaN(e.realWidth)?Number(e.width):e.realWidth)}const J0=(t,e,n,i)=>{const{direction:r,start:a=0,after:u=0}=T2(t,e,n,i);if(!r)return;const s={},o=r==="left",c=n.states.columns.value;return o?s.left=c.slice(0,a).reduce(zS,0):s.right=c.slice(u+1).reverse().reduce(zS,0),s},$l=(t,e)=>{t&&(Number.isNaN(t[e])||(t[e]=`${t[e]}px`))};function bZ(t){const e=mt(),n=Y(!1),i=Y([]);return{updateExpandRows:()=>{const o=t.data.value||[],c=t.rowKey.value;if(n.value)i.value=o.slice();else if(c){const f=jo(i.value,c);i.value=o.reduce((l,d)=>{const h=Kn(d,c);return f[h]&&l.push(d),l},[])}else i.value=[]},toggleRowExpansion:(o,c)=>{tu(i.value,o,c)&&e.emit("expand-change",o,i.value.slice())},setExpandRowKeys:o=>{e.store.assertRowKey();const c=t.data.value||[],f=t.rowKey.value,l=jo(c,f);i.value=o.reduce((d,h)=>{const p=l[h];return p&&d.push(p.row),d},[])},isRowExpanded:o=>{const c=t.rowKey.value;return c?!!jo(i.value,c)[Kn(o,c)]:i.value.includes(o)},states:{expandRows:i,defaultExpandAll:n}}}function _Z(t){const e=mt(),n=Y(null),i=Y(null),r=c=>{e.store.assertRowKey(),n.value=c,u(c)},a=()=>{n.value=null},u=c=>{const{data:f,rowKey:l}=t;let d=null;l.value&&(d=(y(f)||[]).find(h=>Kn(h,l.value)===c)),i.value=d,e.emit("current-change",i.value,null)};return{setCurrentRowKey:r,restoreCurrentRowKey:a,setCurrentRowByKey:u,updateCurrentRow:c=>{const f=i.value;if(c&&c!==f){i.value=c,e.emit("current-change",i.value,f);return}!c&&f&&(i.value=null,e.emit("current-change",null,f))},updateCurrentRowData:()=>{const c=t.rowKey.value,f=t.data.value||[],l=i.value;if(!f.includes(l)&&l){if(c){const d=Kn(l,c);u(d)}else i.value=null;i.value===null&&e.emit("current-change",null,l)}else n.value&&(u(n.value),a())},states:{_currentRowKey:n,currentRow:i}}}function SZ(t){const e=Y([]),n=Y({}),i=Y(16),r=Y(!1),a=Y({}),u=Y("hasChildren"),s=Y("children"),o=mt(),c=P(()=>{if(!t.rowKey.value)return{};const v=t.data.value||[];return l(v)}),f=P(()=>{const v=t.rowKey.value,b=Object.keys(a.value),_={};return b.length&&b.forEach(S=>{if(a.value[S].length){const w={children:[]};a.value[S].forEach(C=>{const x=Kn(C,v);w.children.push(x),C[u.value]&&!_[x]&&(_[x]={children:[]})}),_[S]=w}}),_}),l=v=>{const b=t.rowKey.value,_={};return vZ(v,(S,w,C)=>{const x=Kn(S,b);Array.isArray(w)?_[x]={children:w.map(M=>Kn(M,b)),level:C}:r.value&&(_[x]={children:[],lazy:!0,level:C})},s.value,u.value),_},d=(v=!1,b=(_=>(_=o.store)==null?void 0:_.states.defaultExpandAll.value)())=>{var _;const S=c.value,w=f.value,C=Object.keys(S),x={};if(C.length){const M=y(n),E=[],A=(I,$)=>{if(v)return e.value?b||e.value.includes($):!!(b||I!=null&&I.expanded);{const H=b||e.value&&e.value.includes($);return!!(I!=null&&I.expanded||H)}};C.forEach(I=>{const $=M[I],H={...S[I]};if(H.expanded=A($,I),H.lazy){const{loaded:B=!1,loading:N=!1}=$||{};H.loaded=!!B,H.loading=!!N,E.push(I)}x[I]=H});const O=Object.keys(w);r.value&&O.length&&E.length&&O.forEach(I=>{const $=M[I],H=w[I].children;if(E.includes(I)){if(x[I].children.length!==0)throw new Error("[ElTable]children must be an empty array.");x[I].children=H}else{const{loaded:B=!1,loading:N=!1}=$||{};x[I]={lazy:!0,loaded:!!B,loading:!!N,expanded:A($,I),children:H,level:""}}})}n.value=x,(_=o.store)==null||_.updateTableScrollY()};Be(()=>e.value,()=>{d(!0)}),Be(()=>c.value,()=>{d()}),Be(()=>f.value,()=>{d()});const h=v=>{e.value=v,d()},p=(v,b)=>{o.store.assertRowKey();const _=t.rowKey.value,S=Kn(v,_),w=S&&n.value[S];if(S&&w&&"expanded"in w){const C=w.expanded;b=typeof b>"u"?!w.expanded:b,n.value[S].expanded=b,C!==b&&o.emit("expand-change",v,b),o.store.updateTableScrollY()}},g=v=>{o.store.assertRowKey();const b=t.rowKey.value,_=Kn(v,b),S=n.value[_];r.value&&S&&"loaded"in S&&!S.loaded?m(v,_,S):p(v,void 0)},m=(v,b,_)=>{const{load:S}=o.props;S&&!n.value[b].loaded&&(n.value[b].loading=!0,S(v,_,w=>{if(!Array.isArray(w))throw new TypeError("[ElTable] data must be an array");n.value[b].loading=!1,n.value[b].loaded=!0,n.value[b].expanded=!0,w.length&&(a.value[b]=w),o.emit("expand-change",v,!0)}))};return{loadData:m,loadOrToggle:g,toggleTreeExpansion:p,updateTreeExpandKeys:h,updateTreeData:d,normalize:l,states:{expandRowKeys:e,treeData:n,indent:i,lazy:r,lazyTreeNodeMap:a,lazyColumnIdentifier:u,childrenColumnName:s}}}const wZ=(t,e)=>{const n=e.sortingColumn;return!n||typeof n.sortable=="string"?t:fZ(t,e.sortProp,e.sortOrder,n.sortMethod,n.sortBy)},Af=t=>{const e=[];return t.forEach(n=>{n.children&&n.children.length>0?e.push.apply(e,Af(n.children)):e.push(n)}),e};function CZ(){var t;const e=mt(),{size:n}=Wn((t=e.proxy)==null?void 0:t.$props),i=Y(null),r=Y([]),a=Y([]),u=Y(!1),s=Y([]),o=Y([]),c=Y([]),f=Y([]),l=Y([]),d=Y([]),h=Y([]),p=Y([]),g=[],m=Y(0),v=Y(0),b=Y(0),_=Y(!1),S=Y([]),w=Y(!1),C=Y(!1),x=Y(null),M=Y({}),E=Y(null),A=Y(null),O=Y(null),I=Y(null),$=Y(null);Be(r,()=>e.state&&k(!1),{deep:!0});const H=()=>{if(!i.value)throw new Error("[ElTable] prop row-key is required")},B=Ae=>{var Te;(Te=Ae.children)==null||Te.forEach(ae=>{ae.fixed=Ae.fixed,B(ae)})},N=()=>{s.value.forEach(ie=>{B(ie)}),f.value=s.value.filter(ie=>ie.fixed===!0||ie.fixed==="left"),l.value=s.value.filter(ie=>ie.fixed==="right"),f.value.length>0&&s.value[0]&&s.value[0].type==="selection"&&!s.value[0].fixed&&(s.value[0].fixed=!0,f.value.unshift(s.value[0]));const Ae=s.value.filter(ie=>!ie.fixed);o.value=[].concat(f.value).concat(Ae).concat(l.value);const Te=Af(Ae),ae=Af(f.value),fe=Af(l.value);m.value=Te.length,v.value=ae.length,b.value=fe.length,c.value=[].concat(ae).concat(Te).concat(fe),u.value=f.value.length>0||l.value.length>0},k=(Ae,Te=!1)=>{Ae&&N(),Te?e.state.doLayout():e.state.debouncedUpdateLayout()},D=Ae=>S.value.includes(Ae),T=()=>{_.value=!1,S.value.length&&(S.value=[],e.emit("selection-change",[]))},R=()=>{let Ae;if(i.value){Ae=[];const Te=jo(S.value,i.value),ae=jo(r.value,i.value);for(const fe in Te)kt(Te,fe)&&!ae[fe]&&Ae.push(Te[fe].row)}else Ae=S.value.filter(Te=>!r.value.includes(Te));if(Ae.length){const Te=S.value.filter(ae=>!Ae.includes(ae));S.value=Te,e.emit("selection-change",Te.slice())}},V=()=>(S.value||[]).slice(),U=(Ae,Te=void 0,ae=!0)=>{if(tu(S.value,Ae,Te)){const ie=(S.value||[]).slice();ae&&e.emit("select",ie,Ae),e.emit("selection-change",ie)}},X=()=>{var Ae,Te;const ae=C.value?!_.value:!(_.value||S.value.length);_.value=ae;let fe=!1,ie=0;const ge=(Te=(Ae=e==null?void 0:e.store)==null?void 0:Ae.states)==null?void 0:Te.rowKey.value;r.value.forEach((De,me)=>{const Xe=me+ie;x.value?x.value.call(null,De,Xe)&&tu(S.value,De,ae)&&(fe=!0):tu(S.value,De,ae)&&(fe=!0),ie+=K(Kn(De,ge))}),fe&&e.emit("selection-change",S.value?S.value.slice():[]),e.emit("select-all",S.value)},W=()=>{const Ae=jo(S.value,i.value);r.value.forEach(Te=>{const ae=Kn(Te,i.value),fe=Ae[ae];fe&&(S.value[fe.index]=Te)})},j=()=>{var Ae,Te,ae;if(((Ae=r.value)==null?void 0:Ae.length)===0){_.value=!1;return}let fe;i.value&&(fe=jo(S.value,i.value));const ie=function(Xe){return fe?!!fe[Kn(Xe,i.value)]:S.value.includes(Xe)};let ge=!0,De=0,me=0;for(let Xe=0,be=(r.value||[]).length;Xe<be;Xe++){const He=(ae=(Te=e==null?void 0:e.store)==null?void 0:Te.states)==null?void 0:ae.rowKey.value,Ye=Xe+me,st=r.value[Xe],Ze=x.value&&x.value.call(null,st,Ye);if(ie(st))De++;else if(!x.value||Ze){ge=!1;break}me+=K(Kn(st,He))}De===0&&(ge=!1),_.value=ge},K=Ae=>{var Te;if(!e||!e.store)return 0;const{treeData:ae}=e.store.states;let fe=0;const ie=(Te=ae.value[Ae])==null?void 0:Te.children;return ie&&(fe+=ie.length,ie.forEach(ge=>{fe+=K(ge)})),fe},z=(Ae,Te)=>{Array.isArray(Ae)||(Ae=[Ae]);const ae={};return Ae.forEach(fe=>{M.value[fe.id]=Te,ae[fe.columnKey||fe.id]=Te}),ae},ee=(Ae,Te,ae)=>{A.value&&A.value!==Ae&&(A.value.order=null),A.value=Ae,O.value=Te,I.value=ae},ue=()=>{let Ae=y(a);Object.keys(M.value).forEach(Te=>{const ae=M.value[Te];if(!ae||ae.length===0)return;const fe=w2({columns:c.value},Te);fe&&fe.filterMethod&&(Ae=Ae.filter(ie=>ae.some(ge=>fe.filterMethod.call(null,ge,ie,fe))))}),E.value=Ae},ne=()=>{r.value=wZ(E.value,{sortingColumn:A.value,sortProp:O.value,sortOrder:I.value})},le=(Ae=void 0)=>{Ae&&Ae.filter||ue(),ne()},Me=Ae=>{const{tableHeaderRef:Te}=e.refs;if(!Te)return;const ae=Object.assign({},Te.filterPanels),fe=Object.keys(ae);if(fe.length)if(typeof Ae=="string"&&(Ae=[Ae]),Array.isArray(Ae)){const ie=Ae.map(ge=>hZ({columns:c.value},ge));fe.forEach(ge=>{const De=ie.find(me=>me.id===ge);De&&(De.filteredValue=[])}),e.store.commit("filterChange",{column:ie,values:[],silent:!0,multi:!0})}else fe.forEach(ie=>{const ge=c.value.find(De=>De.id===ie);ge&&(ge.filteredValue=[])}),M.value={},e.store.commit("filterChange",{column:{},values:[],silent:!0})},q=()=>{A.value&&(ee(null,null,null),e.store.commit("changeSortCondition",{silent:!0}))},{setExpandRowKeys:J,toggleRowExpansion:ce,updateExpandRows:pe,states:re,isRowExpanded:he}=bZ({data:r,rowKey:i}),{updateTreeExpandKeys:Ce,toggleTreeExpansion:Oe,updateTreeData:ke,loadOrToggle:G,states:Z}=SZ({data:r,rowKey:i}),{updateCurrentRowData:_e,updateCurrentRow:de,setCurrentRowKey:Re,states:Fe}=_Z({data:r,rowKey:i});return{assertRowKey:H,updateColumns:N,scheduleLayout:k,isSelected:D,clearSelection:T,cleanSelection:R,getSelectionRows:V,toggleRowSelection:U,_toggleAllSelection:X,toggleAllSelection:null,updateSelectionByRowKey:W,updateAllSelected:j,updateFilters:z,updateCurrentRow:de,updateSort:ee,execFilter:ue,execSort:ne,execQuery:le,clearFilter:Me,clearSort:q,toggleRowExpansion:ce,setExpandRowKeysAdapter:Ae=>{J(Ae),Ce(Ae)},setCurrentRowKey:Re,toggleRowExpansionAdapter:(Ae,Te)=>{c.value.some(({type:fe})=>fe==="expand")?ce(Ae,Te):Oe(Ae,Te)},isRowExpanded:he,updateExpandRows:pe,updateCurrentRowData:_e,loadOrToggle:G,updateTreeData:ke,states:{tableSize:n,rowKey:i,data:r,_data:a,isComplex:u,_columns:s,originColumns:o,columns:c,fixedColumns:f,rightFixedColumns:l,leafColumns:d,fixedLeafColumns:h,rightFixedLeafColumns:p,updateOrderFns:g,leafColumnsLength:m,fixedLeafColumnsLength:v,rightFixedLeafColumnsLength:b,isAllSelected:_,selection:S,reserveSelection:w,selectOnIndeterminate:C,selectable:x,filters:M,filteredData:E,sortingColumn:A,sortProp:O,sortOrder:I,hoverRow:$,...re,...Z,...Fe}}}function Lg(t,e){return t.map(n=>{var i;return n.id===e.id?e:((i=n.children)!=null&&i.length&&(n.children=Lg(n.children,e)),n)})}function Ig(t){t.forEach(e=>{var n,i;e.no=(n=e.getColumnIndex)==null?void 0:n.call(e),(i=e.children)!=null&&i.length&&Ig(e.children)}),t.sort((e,n)=>e.no-n.no)}function xZ(){const t=mt(),e=CZ();return{ns:Ve("table"),...e,mutations:{setData(u,s){const o=y(u._data)!==s;u.data.value=s,u._data.value=s,t.store.execQuery(),t.store.updateCurrentRowData(),t.store.updateExpandRows(),t.store.updateTreeData(t.store.states.defaultExpandAll.value),y(u.reserveSelection)?(t.store.assertRowKey(),t.store.updateSelectionByRowKey()):o?t.store.clearSelection():t.store.cleanSelection(),t.store.updateAllSelected(),t.$ready&&t.store.scheduleLayout()},insertColumn(u,s,o,c){const f=y(u._columns);let l=[];o?(o&&!o.children&&(o.children=[]),o.children.push(s),l=Lg(f,o)):(f.push(s),l=f),Ig(l),u._columns.value=l,u.updateOrderFns.push(c),s.type==="selection"&&(u.selectable.value=s.selectable,u.reserveSelection.value=s.reserveSelection),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},updateColumnOrder(u,s){var o;((o=s.getColumnIndex)==null?void 0:o.call(s))!==s.no&&(Ig(u._columns.value),t.$ready&&t.store.updateColumns())},removeColumn(u,s,o,c){const f=y(u._columns)||[];if(o)o.children.splice(o.children.findIndex(d=>d.id===s.id),1),it(()=>{var d;((d=o.children)==null?void 0:d.length)===0&&delete o.children}),u._columns.value=Lg(f,o);else{const d=f.indexOf(s);d>-1&&(f.splice(d,1),u._columns.value=f)}const l=u.updateOrderFns.indexOf(c);l>-1&&u.updateOrderFns.splice(l,1),t.$ready&&(t.store.updateColumns(),t.store.scheduleLayout())},sort(u,s){const{prop:o,order:c,init:f}=s;if(o){const l=y(u.columns).find(d=>d.property===o);l&&(l.order=c,t.store.updateSort(l,o,c),t.store.commit("changeSortCondition",{init:f}))}},changeSortCondition(u,s){const{sortingColumn:o,sortProp:c,sortOrder:f}=u,l=y(o),d=y(c),h=y(f);h===null&&(u.sortingColumn.value=null,u.sortProp.value=null);const p={filter:!0};t.store.execQuery(p),(!s||!(s.silent||s.init))&&t.emit("sort-change",{column:l,prop:d,order:h}),t.store.updateTableScrollY()},filterChange(u,s){const{column:o,values:c,silent:f}=s,l=t.store.updateFilters(o,c);t.store.execQuery(),f||t.emit("filter-change",l),t.store.updateTableScrollY()},toggleAllSelection(){t.store.toggleAllSelection()},rowSelectedChanged(u,s){t.store.toggleRowSelection(s),t.store.updateAllSelected()},setHoverRow(u,s){u.hoverRow.value=s},setCurrentRow(u,s){t.store.updateCurrentRow(s)}},commit:function(u,...s){const o=t.store.mutations;if(o[u])o[u].apply(t,[t.store.states].concat(s));else throw new Error(`Action not found: ${u}`)},updateTableScrollY:function(){it(()=>t.layout.updateScrollY.apply(t.layout))}}}const nu={rowKey:"rowKey",defaultExpandAll:"defaultExpandAll",selectOnIndeterminate:"selectOnIndeterminate",indent:"indent",lazy:"lazy",data:"data","treeProps.hasChildren":{key:"lazyColumnIdentifier",default:"hasChildren"},"treeProps.children":{key:"childrenColumnName",default:"children"}};function TZ(t,e){if(!t)throw new Error("Table is required.");const n=xZ();return n.toggleAllSelection=Oi(n._toggleAllSelection,10),Object.keys(nu).forEach(i=>{E2(M2(e,i),i,n)}),EZ(n,e),n}function EZ(t,e){Object.keys(nu).forEach(n=>{Be(()=>M2(e,n),i=>{E2(i,n,t)})})}function E2(t,e,n){let i=t,r=nu[e];typeof nu[e]=="object"&&(r=r.key,i=i||nu[e].default),n.states[r].value=i}function M2(t,e){if(e.includes(".")){const n=e.split(".");let i=t;return n.forEach(r=>{i=i[r]}),i}else return t[e]}class MZ{constructor(e){this.observers=[],this.table=null,this.store=null,this.columns=[],this.fit=!0,this.showHeader=!0,this.height=Y(null),this.scrollX=Y(!1),this.scrollY=Y(!1),this.bodyWidth=Y(null),this.fixedWidth=Y(null),this.rightFixedWidth=Y(null),this.gutterWidth=0;for(const n in e)kt(e,n)&&(ln(this[n])?this[n].value=e[n]:this[n]=e[n]);if(!this.table)throw new Error("Table is required for Table Layout");if(!this.store)throw new Error("Store is required for Table Layout")}updateScrollY(){if(this.height.value===null)return!1;const n=this.table.refs.scrollBarRef;if(this.table.vnode.el&&(n!=null&&n.wrapRef)){let i=!0;const r=this.scrollY.value;return i=n.wrapRef.scrollHeight>n.wrapRef.clientHeight,this.scrollY.value=i,r!==i}return!1}setHeight(e,n="height"){if(!Ot)return;const i=this.table.vnode.el;if(e=mZ(e),this.height.value=Number(e),!i&&(e||e===0))return it(()=>this.setHeight(e,n));typeof e=="number"?(i.style[n]=`${e}px`,this.updateElsHeight()):typeof e=="string"&&(i.style[n]=e,this.updateElsHeight())}setMaxHeight(e){this.setHeight(e,"max-height")}getFlattenColumns(){const e=[];return this.table.store.states.columns.value.forEach(i=>{i.isColumnGroup?e.push.apply(e,i.columns):e.push(i)}),e}updateElsHeight(){this.updateScrollY(),this.notifyObservers("scrollable")}headerDisplayNone(e){if(!e)return!0;let n=e;for(;n.tagName!=="DIV";){if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}updateColumnsWidth(){if(!Ot)return;const e=this.fit,n=this.table.vnode.el.clientWidth;let i=0;const r=this.getFlattenColumns(),a=r.filter(o=>typeof o.width!="number");if(r.forEach(o=>{typeof o.width=="number"&&o.realWidth&&(o.realWidth=null)}),a.length>0&&e){if(r.forEach(o=>{i+=Number(o.width||o.minWidth||80)}),i<=n){this.scrollX.value=!1;const o=n-i;if(a.length===1)a[0].realWidth=Number(a[0].minWidth||80)+o;else{const c=a.reduce((d,h)=>d+Number(h.minWidth||80),0),f=o/c;let l=0;a.forEach((d,h)=>{if(h===0)return;const p=Math.floor(Number(d.minWidth||80)*f);l+=p,d.realWidth=Number(d.minWidth||80)+p}),a[0].realWidth=Number(a[0].minWidth||80)+o-l}}else this.scrollX.value=!0,a.forEach(o=>{o.realWidth=Number(o.minWidth)});this.bodyWidth.value=Math.max(i,n),this.table.state.resizeState.value.width=this.bodyWidth.value}else r.forEach(o=>{!o.width&&!o.minWidth?o.realWidth=80:o.realWidth=Number(o.width||o.minWidth),i+=o.realWidth}),this.scrollX.value=i>n,this.bodyWidth.value=i;const u=this.store.states.fixedColumns.value;if(u.length>0){let o=0;u.forEach(c=>{o+=Number(c.realWidth||c.width)}),this.fixedWidth.value=o}const s=this.store.states.rightFixedColumns.value;if(s.length>0){let o=0;s.forEach(c=>{o+=Number(c.realWidth||c.width)}),this.rightFixedWidth.value=o}this.notifyObservers("columns")}addObserver(e){this.observers.push(e)}removeObserver(e){const n=this.observers.indexOf(e);n!==-1&&this.observers.splice(n,1)}notifyObservers(e){this.observers.forEach(i=>{var r,a;switch(e){case"columns":(r=i.state)==null||r.onColumnsChange(this);break;case"scrollable":(a=i.state)==null||a.onScrollableChange(this);break;default:throw new Error(`Table Layout don't have event ${e}.`)}})}}const{CheckboxGroup:AZ}=lr,RZ=se({name:"ElTableFilterPanel",components:{ElCheckbox:lr,ElCheckboxGroup:AZ,ElScrollbar:Es,ElTooltip:ai,ElIcon:et,ArrowDown:xs,ArrowUp:Jv},directives:{ClickOutside:ys},props:{placement:{type:String,default:"bottom-start"},store:{type:Object},column:{type:Object},upDataColumn:{type:Function}},setup(t){const e=mt(),{t:n}=Dt(),i=Ve("table-filter"),r=e==null?void 0:e.parent;r.filterPanels.value[t.column.id]||(r.filterPanels.value[t.column.id]=e);const a=Y(!1),u=Y(null),s=P(()=>t.column&&t.column.filters),o=P(()=>t.column.filterClassName?`${i.b()} ${t.column.filterClassName}`:i.b()),c=P({get:()=>{var w;return(((w=t.column)==null?void 0:w.filteredValue)||[])[0]},set:w=>{f.value&&(typeof w<"u"&&w!==null?f.value.splice(0,1,w):f.value.splice(0,1))}}),f=P({get(){return t.column?t.column.filteredValue||[]:[]},set(w){t.column&&t.upDataColumn("filteredValue",w)}}),l=P(()=>t.column?t.column.filterMultiple:!0),d=w=>w.value===c.value,h=()=>{a.value=!1},p=w=>{w.stopPropagation(),a.value=!a.value},g=()=>{a.value=!1},m=()=>{_(f.value),h()},v=()=>{f.value=[],_(f.value),h()},b=w=>{c.value=w,_(typeof w<"u"&&w!==null?f.value:[]),h()},_=w=>{t.store.commit("filterChange",{column:t.column,values:w}),t.store.updateAllSelected()};Be(a,w=>{t.column&&t.upDataColumn("filterOpened",w)},{immediate:!0});const S=P(()=>{var w,C;return(C=(w=u.value)==null?void 0:w.popperRef)==null?void 0:C.contentRef});return{tooltipVisible:a,multiple:l,filterClassName:o,filteredValue:f,filterValue:c,filters:s,handleConfirm:m,handleReset:v,handleSelect:b,isActive:d,t:n,ns:i,showFilterPanel:p,hideFilterPanel:g,popperPaneRef:S,tooltip:u}}}),PZ={key:0},OZ=["disabled"],kZ=["label","onClick"];function LZ(t,e,n,i,r,a){const u=pt("el-checkbox"),s=pt("el-checkbox-group"),o=pt("el-scrollbar"),c=pt("arrow-up"),f=pt("arrow-down"),l=pt("el-icon"),d=pt("el-tooltip"),h=wh("click-outside");return L(),Pe(d,{ref:"tooltip",visible:t.tooltipVisible,offset:0,placement:t.placement,"show-arrow":!1,"stop-popper-mouse-event":!1,teleported:"",effect:"light",pure:"","popper-class":t.filterClassName,persistent:""},{content:ve(()=>[t.multiple?(L(),Q("div",PZ,[te("div",{class:F(t.ns.e("content"))},[oe(o,{"wrap-class":t.ns.e("wrap")},{default:ve(()=>[oe(s,{modelValue:t.filteredValue,"onUpdate:modelValue":e[0]||(e[0]=p=>t.filteredValue=p),class:F(t.ns.e("checkbox-group"))},{default:ve(()=>[(L(!0),Q(tt,null,Tt(t.filters,p=>(L(),Pe(u,{key:p.value,value:p.value},{default:ve(()=>[Et(je(p.text),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue","class"])]),_:1},8,["wrap-class"])],2),te("div",{class:F(t.ns.e("bottom"))},[te("button",{class:F({[t.ns.is("disabled")]:t.filteredValue.length===0}),disabled:t.filteredValue.length===0,type:"button",onClick:e[1]||(e[1]=(...p)=>t.handleConfirm&&t.handleConfirm(...p))},je(t.t("el.table.confirmFilter")),11,OZ),te("button",{type:"button",onClick:e[2]||(e[2]=(...p)=>t.handleReset&&t.handleReset(...p))},je(t.t("el.table.resetFilter")),1)],2)])):(L(),Q("ul",{key:1,class:F(t.ns.e("list"))},[te("li",{class:F([t.ns.e("list-item"),{[t.ns.is("active")]:t.filterValue===void 0||t.filterValue===null}]),onClick:e[3]||(e[3]=p=>t.handleSelect(null))},je(t.t("el.table.clearFilter")),3),(L(!0),Q(tt,null,Tt(t.filters,p=>(L(),Q("li",{key:p.value,class:F([t.ns.e("list-item"),t.ns.is("active",t.isActive(p))]),label:p.value,onClick:g=>t.handleSelect(p.value)},je(p.text),11,kZ))),128))],2))]),default:ve(()=>[ft((L(),Q("span",{class:F([`${t.ns.namespace.value}-table__column-filter-trigger`,`${t.ns.namespace.value}-none-outline`]),onClick:e[4]||(e[4]=(...p)=>t.showFilterPanel&&t.showFilterPanel(...p))},[oe(l,null,{default:ve(()=>[t.column.filterOpened?(L(),Pe(c,{key:0})):(L(),Pe(f,{key:1}))]),_:1})],2)),[[h,t.hideFilterPanel,t.popperPaneRef]])]),_:1},8,["visible","placement","popper-class"])}var IZ=Ge(RZ,[["render",LZ],["__file","filter-panel.vue"]]);function A2(t){const e=mt();Th(()=>{n.value.addObserver(e)}),ht(()=>{i(n.value),r(n.value)}),Ss(()=>{i(n.value),r(n.value)}),yo(()=>{n.value.removeObserver(e)});const n=P(()=>{const a=t.layout;if(!a)throw new Error("Can not find table layout.");return a}),i=a=>{var u;const s=((u=t.vnode.el)==null?void 0:u.querySelectorAll("colgroup > col"))||[];if(!s.length)return;const o=a.getFlattenColumns(),c={};o.forEach(f=>{c[f.id]=f});for(let f=0,l=s.length;f<l;f++){const d=s[f],h=d.getAttribute("name"),p=c[h];p&&d.setAttribute("width",p.realWidth||p.width)}},r=a=>{var u,s;const o=((u=t.vnode.el)==null?void 0:u.querySelectorAll("colgroup > col[name=gutter]"))||[];for(let f=0,l=o.length;f<l;f++)o[f].setAttribute("width",a.scrollY.value?a.gutterWidth:"0");const c=((s=t.vnode.el)==null?void 0:s.querySelectorAll("th.gutter"))||[];for(let f=0,l=c.length;f<l;f++){const d=c[f];d.style.width=a.scrollY.value?`${a.gutterWidth}px`:"0",d.style.display=a.scrollY.value?"":"none"}};return{tableLayout:n.value,onColumnsChange:i,onScrollableChange:r}}const Wr=Symbol("ElTable");function DZ(t,e){const n=mt(),i=Je(Wr),r=g=>{g.stopPropagation()},a=(g,m)=>{!m.filters&&m.sortable?p(g,m,!1):m.filterable&&!m.sortable&&r(g),i==null||i.emit("header-click",m,g)},u=(g,m)=>{i==null||i.emit("header-contextmenu",m,g)},s=Y(null),o=Y(!1),c=Y({}),f=(g,m)=>{if(Ot&&!(m.children&&m.children.length>0)&&s.value&&t.border){o.value=!0;const v=i;e("set-drag-visible",!0);const _=(v==null?void 0:v.vnode.el).getBoundingClientRect().left,S=n.vnode.el.querySelector(`th.${m.id}`),w=S.getBoundingClientRect(),C=w.left-_+30;Zi(S,"noclick"),c.value={startMouseLeft:g.clientX,startLeft:w.right-_,startColumnLeft:w.left-_,tableLeft:_};const x=v==null?void 0:v.refs.resizeProxy;x.style.left=`${c.value.startLeft}px`,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1};const M=A=>{const O=A.clientX-c.value.startMouseLeft,I=c.value.startLeft+O;x.style.left=`${Math.max(C,I)}px`},E=()=>{if(o.value){const{startColumnLeft:A,startLeft:O}=c.value,$=Number.parseInt(x.style.left,10)-A;m.width=m.realWidth=$,v==null||v.emit("header-dragend",m.width,O-A,m,g),requestAnimationFrame(()=>{t.store.scheduleLayout(!1,!0)}),document.body.style.cursor="",o.value=!1,s.value=null,c.value={},e("set-drag-visible",!1)}document.removeEventListener("mousemove",M),document.removeEventListener("mouseup",E),document.onselectstart=null,document.ondragstart=null,setTimeout(()=>{oi(S,"noclick")},0)};document.addEventListener("mousemove",M),document.addEventListener("mouseup",E)}},l=(g,m)=>{if(m.children&&m.children.length>0)return;const v=g.target;if(!rr(v))return;const b=v==null?void 0:v.closest("th");if(!(!m||!m.resizable)&&!o.value&&t.border){const _=b.getBoundingClientRect(),S=document.body.style;_.width>12&&_.right-g.pageX<8?(S.cursor="col-resize",er(b,"is-sortable")&&(b.style.cursor="col-resize"),s.value=m):o.value||(S.cursor="",er(b,"is-sortable")&&(b.style.cursor="pointer"),s.value=null)}},d=()=>{Ot&&(document.body.style.cursor="")},h=({order:g,sortOrders:m})=>{if(g==="")return m[0];const v=m.indexOf(g||null);return m[v>m.length-2?0:v+1]},p=(g,m,v)=>{var b;g.stopPropagation();const _=m.order===v?null:v||h(m),S=(b=g.target)==null?void 0:b.closest("th");if(S&&er(S,"noclick")){oi(S,"noclick");return}if(!m.sortable)return;const w=t.store.states;let C=w.sortProp.value,x;const M=w.sortingColumn.value;(M!==m||M===m&&M.order===null)&&(M&&(M.order=null),w.sortingColumn.value=m,C=m.property),_?x=m.order=_:x=m.order=null,w.sortProp.value=C,w.sortOrder.value=x,i==null||i.store.commit("changeSortCondition")};return{handleHeaderClick:a,handleHeaderContextMenu:u,handleMouseDown:f,handleMouseMove:l,handleMouseOut:d,handleSortClick:p,handleFilterClick:r}}function NZ(t){const e=Je(Wr),n=Ve("table");return{getHeaderRowStyle:s=>{const o=e==null?void 0:e.props.headerRowStyle;return typeof o=="function"?o.call(null,{rowIndex:s}):o},getHeaderRowClass:s=>{const o=[],c=e==null?void 0:e.props.headerRowClassName;return typeof c=="string"?o.push(c):typeof c=="function"&&o.push(c.call(null,{rowIndex:s})),o.join(" ")},getHeaderCellStyle:(s,o,c,f)=>{var l;let d=(l=e==null?void 0:e.props.headerCellStyle)!=null?l:{};typeof d=="function"&&(d=d.call(null,{rowIndex:s,columnIndex:o,row:c,column:f}));const h=J0(o,f.fixed,t.store,c);return $l(h,"left"),$l(h,"right"),Object.assign({},d,h)},getHeaderCellClass:(s,o,c,f)=>{const l=Z0(n.b(),o,f.fixed,t.store,c),d=[f.id,f.order,f.headerAlign,f.className,f.labelClassName,...l];f.children||d.push("is-leaf"),f.sortable&&d.push("is-sortable");const h=e==null?void 0:e.props.headerCellClassName;return typeof h=="string"?d.push(h):typeof h=="function"&&d.push(h.call(null,{rowIndex:s,columnIndex:o,row:c,column:f})),d.push(n.e("cell")),d.filter(p=>!!p).join(" ")}}}const R2=t=>{const e=[];return t.forEach(n=>{n.children?(e.push(n),e.push.apply(e,R2(n.children))):e.push(n)}),e},FZ=t=>{let e=1;const n=(a,u)=>{if(u&&(a.level=u.level+1,e<a.level&&(e=a.level)),a.children){let s=0;a.children.forEach(o=>{n(o,a),s+=o.colSpan}),a.colSpan=s}else a.colSpan=1};t.forEach(a=>{a.level=1,n(a,void 0)});const i=[];for(let a=0;a<e;a++)i.push([]);return R2(t).forEach(a=>{a.children?(a.rowSpan=1,a.children.forEach(u=>u.isSubColumn=!0)):a.rowSpan=e-a.level+1,i[a.level-1].push(a)}),i};function BZ(t){const e=Je(Wr),n=P(()=>FZ(t.store.states.originColumns.value));return{isGroup:P(()=>{const a=n.value.length>1;return a&&e&&(e.state.isGroup.value=!0),a}),toggleAllSelection:a=>{a.stopPropagation(),e==null||e.store.commit("toggleAllSelection")},columnRows:n}}var UZ=se({name:"ElTableHeader",components:{ElCheckbox:lr},props:{fixed:{type:String,default:""},store:{required:!0,type:Object},border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t,{emit:e}){const n=mt(),i=Je(Wr),r=Ve("table"),a=Y({}),{onColumnsChange:u,onScrollableChange:s}=A2(i);ht(async()=>{await it(),await it();const{prop:C,order:x}=t.defaultSort;i==null||i.store.commit("sort",{prop:C,order:x,init:!0})});const{handleHeaderClick:o,handleHeaderContextMenu:c,handleMouseDown:f,handleMouseMove:l,handleMouseOut:d,handleSortClick:h,handleFilterClick:p}=DZ(t,e),{getHeaderRowStyle:g,getHeaderRowClass:m,getHeaderCellStyle:v,getHeaderCellClass:b}=NZ(t),{isGroup:_,toggleAllSelection:S,columnRows:w}=BZ(t);return n.state={onColumnsChange:u,onScrollableChange:s},n.filterPanels=a,{ns:r,filterPanels:a,onColumnsChange:u,onScrollableChange:s,columnRows:w,getHeaderRowClass:m,getHeaderRowStyle:g,getHeaderCellClass:b,getHeaderCellStyle:v,handleHeaderClick:o,handleHeaderContextMenu:c,handleMouseDown:f,handleMouseMove:l,handleMouseOut:d,handleSortClick:h,handleFilterClick:p,isGroup:_,toggleAllSelection:S}},render(){const{ns:t,isGroup:e,columnRows:n,getHeaderCellStyle:i,getHeaderCellClass:r,getHeaderRowClass:a,getHeaderRowStyle:u,handleHeaderClick:s,handleHeaderContextMenu:o,handleMouseDown:c,handleMouseMove:f,handleSortClick:l,handleMouseOut:d,store:h,$parent:p}=this;let g=1;return rt("thead",{class:{[t.is("group")]:e}},n.map((m,v)=>rt("tr",{class:a(v),key:v,style:u(v)},m.map((b,_)=>(b.rowSpan>g&&(g=b.rowSpan),rt("th",{class:r(v,_,m,b),colspan:b.colSpan,key:`${b.id}-thead`,rowspan:b.rowSpan,style:i(v,_,m,b),onClick:S=>s(S,b),onContextmenu:S=>o(S,b),onMousedown:S=>c(S,b),onMousemove:S=>f(S,b),onMouseout:d},[rt("div",{class:["cell",b.filteredValue&&b.filteredValue.length>0?"highlight":""]},[b.renderHeader?b.renderHeader({column:b,$index:_,store:h,_self:p}):b.label,b.sortable&&rt("span",{onClick:S=>l(S,b),class:"caret-wrapper"},[rt("i",{onClick:S=>l(S,b,"ascending"),class:"sort-caret ascending"}),rt("i",{onClick:S=>l(S,b,"descending"),class:"sort-caret descending"})]),b.filterable&&rt(IZ,{store:h,placement:b.filterPlacement||"bottom-start",column:b,upDataColumn:(S,w)=>{b[S]=w}})])]))))))}});function VZ(t){const e=Je(Wr),n=Y(""),i=Y(rt("div")),r=(p,g,m)=>{var v;const b=e,_=Up(p);let S;const w=(v=b==null?void 0:b.vnode.el)==null?void 0:v.dataset.prefix;_&&(S=$S({columns:t.store.states.columns.value},_,w),S&&(b==null||b.emit(`cell-${m}`,g,S,_,p))),b==null||b.emit(`row-${m}`,g,S,p)},a=(p,g)=>{r(p,g,"dblclick")},u=(p,g)=>{t.store.commit("setCurrentRow",g),r(p,g,"click")},s=(p,g)=>{r(p,g,"contextmenu")},o=Oi(p=>{t.store.commit("setHoverRow",p)},30),c=Oi(()=>{t.store.commit("setHoverRow",null)},30),f=p=>{const g=window.getComputedStyle(p,null),m=Number.parseInt(g.paddingLeft,10)||0,v=Number.parseInt(g.paddingRight,10)||0,b=Number.parseInt(g.paddingTop,10)||0,_=Number.parseInt(g.paddingBottom,10)||0;return{left:m,right:v,top:b,bottom:_}},l=(p,g,m)=>{let v=g.target.parentNode;for(;p>1&&(v=v==null?void 0:v.nextSibling,!(!v||v.nodeName!=="TR"));)m(v,"hover-row hover-fixed-row"),p--};return{handleDoubleClick:a,handleClick:u,handleContextMenu:s,handleMouseEnter:o,handleMouseLeave:c,handleCellMouseEnter:(p,g,m)=>{var v;const b=e,_=Up(p),S=(v=b==null?void 0:b.vnode.el)==null?void 0:v.dataset.prefix;if(_){const k=$S({columns:t.store.states.columns.value},_,S);_.rowSpan>1&&l(_.rowSpan,p,Zi);const D=b.hoverState={cell:_,column:k,row:g};b==null||b.emit("cell-mouse-enter",D.row,D.column,D.cell,p)}if(!m)return;const w=p.target.querySelector(".cell");if(!(er(w,`${S}-tooltip`)&&w.childNodes.length))return;const C=document.createRange();C.setStart(w,0),C.setEnd(w,w.childNodes.length);let x=C.getBoundingClientRect().width,M=C.getBoundingClientRect().height;x-Math.floor(x)<.001&&(x=Math.floor(x)),M-Math.floor(M)<.001&&(M=Math.floor(M));const{top:O,left:I,right:$,bottom:H}=f(w),B=I+$,N=O+H;(x+B>w.offsetWidth||M+N>w.offsetHeight||w.scrollWidth>w.offsetWidth)&&yZ(m,_.innerText||_.textContent,_,b)},handleCellMouseLeave:p=>{const g=Up(p);if(!g)return;g.rowSpan>1&&l(g.rowSpan,p,oi);const m=e==null?void 0:e.hoverState;e==null||e.emit("cell-mouse-leave",m==null?void 0:m.row,m==null?void 0:m.column,m==null?void 0:m.cell,p)},tooltipContent:n,tooltipTrigger:i}}function $Z(t){const e=Je(Wr),n=Ve("table");return{getRowStyle:(c,f)=>{const l=e==null?void 0:e.props.rowStyle;return typeof l=="function"?l.call(null,{row:c,rowIndex:f}):l||null},getRowClass:(c,f)=>{const l=[n.e("row")];e!=null&&e.props.highlightCurrentRow&&c===t.store.states.currentRow.value&&l.push("current-row"),t.stripe&&f%2===1&&l.push(n.em("row","striped"));const d=e==null?void 0:e.props.rowClassName;return typeof d=="string"?l.push(d):typeof d=="function"&&l.push(d.call(null,{row:c,rowIndex:f})),l},getCellStyle:(c,f,l,d)=>{const h=e==null?void 0:e.props.cellStyle;let p=h??{};typeof h=="function"&&(p=h.call(null,{rowIndex:c,columnIndex:f,row:l,column:d}));const g=J0(f,t==null?void 0:t.fixed,t.store);return $l(g,"left"),$l(g,"right"),Object.assign({},p,g)},getCellClass:(c,f,l,d,h)=>{const p=Z0(n.b(),f,t==null?void 0:t.fixed,t.store,void 0,h),g=[d.id,d.align,d.className,...p],m=e==null?void 0:e.props.cellClassName;return typeof m=="string"?g.push(m):typeof m=="function"&&g.push(m.call(null,{rowIndex:c,columnIndex:f,row:l,column:d})),g.push(n.e("cell")),g.filter(v=>!!v).join(" ")},getSpan:(c,f,l,d)=>{let h=1,p=1;const g=e==null?void 0:e.props.spanMethod;if(typeof g=="function"){const m=g({row:c,column:f,rowIndex:l,columnIndex:d});Array.isArray(m)?(h=m[0],p=m[1]):typeof m=="object"&&(h=m.rowspan,p=m.colspan)}return{rowspan:h,colspan:p}},getColspanRealWidth:(c,f,l)=>{if(f<1)return c[l].realWidth;const d=c.map(({realWidth:h,width:p})=>h||p).slice(l,l+f);return Number(d.reduce((h,p)=>Number(h)+Number(p),-1))}}}function HZ(t){const e=Je(Wr),n=Ve("table"),{handleDoubleClick:i,handleClick:r,handleContextMenu:a,handleMouseEnter:u,handleMouseLeave:s,handleCellMouseEnter:o,handleCellMouseLeave:c,tooltipContent:f,tooltipTrigger:l}=VZ(t),{getRowStyle:d,getRowClass:h,getCellStyle:p,getCellClass:g,getSpan:m,getColspanRealWidth:v}=$Z(t),b=P(()=>t.store.states.columns.value.findIndex(({type:x})=>x==="default")),_=(x,M)=>{const E=e.props.rowKey;return E?Kn(x,E):M},S=(x,M,E,A=!1)=>{const{tooltipEffect:O,tooltipOptions:I,store:$}=t,{indent:H,columns:B}=$.states,N=h(x,M);let k=!0;return E&&(N.push(n.em("row",`level-${E.level}`)),k=E.display),rt("tr",{style:[k?null:{display:"none"},d(x,M)],class:N,key:_(x,M),onDblclick:T=>i(T,x),onClick:T=>r(T,x),onContextmenu:T=>a(T,x),onMouseenter:()=>u(M),onMouseleave:s},B.value.map((T,R)=>{const{rowspan:V,colspan:U}=m(x,T,M,R);if(!V||!U)return null;const X=Object.assign({},T);X.realWidth=v(B.value,U,R);const W={store:t.store,_self:t.context||e,column:X,row:x,$index:M,cellIndex:R,expanded:A};R===b.value&&E&&(W.treeNode={indent:E.level*H.value,level:E.level},typeof E.expanded=="boolean"&&(W.treeNode.expanded=E.expanded,"loading"in E&&(W.treeNode.loading=E.loading),"noLazyChildren"in E&&(W.treeNode.noLazyChildren=E.noLazyChildren)));const j=`${M},${R}`,K=X.columnKey||X.rawColumnKey||"",z=w(R,T,W),ee=T.showOverflowTooltip&&BF({effect:O},I,T.showOverflowTooltip);return rt("td",{style:p(M,R,x,T),class:g(M,R,x,T,U-1),key:`${K}${j}`,rowspan:V,colspan:U,onMouseenter:ue=>o(ue,x,ee),onMouseleave:c},[z])}))},w=(x,M,E)=>M.renderCell(E);return{wrappedRowRender:(x,M)=>{const E=t.store,{isRowExpanded:A,assertRowKey:O}=E,{treeData:I,lazyTreeNodeMap:$,childrenColumnName:H,rowKey:B}=E.states,N=E.states.columns.value;if(N.some(({type:D})=>D==="expand")){const D=A(x),T=S(x,M,void 0,D),R=e.renderExpanded;return D?R?[[T,rt("tr",{key:`expanded-row__${T.key}`},[rt("td",{colspan:N.length,class:`${n.e("cell")} ${n.e("expanded-cell")}`},[R({row:x,$index:M,store:E,expanded:D})])])]]:(console.error("[Element Error]renderExpanded is required."),T):[[T]]}else if(Object.keys(I.value).length){O();const D=Kn(x,B.value);let T=I.value[D],R=null;T&&(R={expanded:T.expanded,level:T.level,display:!0},typeof T.lazy=="boolean"&&(typeof T.loaded=="boolean"&&T.loaded&&(R.noLazyChildren=!(T.children&&T.children.length)),R.loading=T.loading));const V=[S(x,M,R)];if(T){let U=0;const X=(j,K)=>{j&&j.length&&K&&j.forEach(z=>{const ee={display:K.display&&K.expanded,level:K.level+1,expanded:!1,noLazyChildren:!1,loading:!1},ue=Kn(z,B.value);if(ue==null)throw new Error("For nested data item, row-key is required.");if(T={...I.value[ue]},T&&(ee.expanded=T.expanded,T.level=T.level||ee.level,T.display=!!(T.expanded&&ee.display),typeof T.lazy=="boolean"&&(typeof T.loaded=="boolean"&&T.loaded&&(ee.noLazyChildren=!(T.children&&T.children.length)),ee.loading=T.loading)),U++,V.push(S(z,M+U,ee)),T){const ne=$.value[ue]||z[H.value];X(ne,T)}})};T.display=!0;const W=$.value[D]||x[H.value];X(W,T)}return V}else return S(x,M,void 0)},tooltipContent:f,tooltipTrigger:l}}const zZ={store:{required:!0,type:Object},stripe:Boolean,tooltipEffect:String,tooltipOptions:{type:Object},context:{default:()=>({}),type:Object},rowClassName:[String,Function],rowStyle:[Object,Function],fixed:{type:String,default:""},highlight:Boolean};var WZ=se({name:"ElTableBody",props:zZ,setup(t){const e=mt(),n=Je(Wr),i=Ve("table"),{wrappedRowRender:r,tooltipContent:a,tooltipTrigger:u}=HZ(t),{onColumnsChange:s,onScrollableChange:o}=A2(n),c=[];return Be(t.store.states.hoverRow,(f,l)=>{var d;const h=e==null?void 0:e.vnode.el,p=Array.from((h==null?void 0:h.children)||[]).filter(v=>v==null?void 0:v.classList.contains(`${i.e("row")}`));let g=f;const m=(d=p[g])==null?void 0:d.childNodes;if(m!=null&&m.length){let v=0;Array.from(m).reduce((_,S,w)=>{var C,x;return((C=m[w])==null?void 0:C.colSpan)>1&&(v=(x=m[w])==null?void 0:x.colSpan),S.nodeName!=="TD"&&v===0&&_.push(w),v>0&&v--,_},[]).forEach(_=>{for(var S;g>0;){const w=(S=p[g-1])==null?void 0:S.childNodes;if(w[_]&&w[_].nodeName==="TD"&&w[_].rowSpan>1){Zi(w[_],"hover-cell"),c.push(w[_]);break}g--}})}else c.forEach(v=>oi(v,"hover-cell")),c.length=0;!t.store.states.isComplex.value||!Ot||co(()=>{const v=p[l],b=p[f];v&&!v.classList.contains("hover-fixed-row")&&oi(v,"hover-row"),b&&Zi(b,"hover-row")})}),yo(()=>{var f;(f=Gi)==null||f()}),{ns:i,onColumnsChange:s,onScrollableChange:o,wrappedRowRender:r,tooltipContent:a,tooltipTrigger:u}},render(){const{wrappedRowRender:t,store:e}=this,n=e.states.data.value||[];return rt("tbody",{tabIndex:-1},[n.reduce((i,r)=>i.concat(t(r,i.length)),[])])}});function GZ(){const t=Je(Wr),e=t==null?void 0:t.store,n=P(()=>e.states.fixedLeafColumnsLength.value),i=P(()=>e.states.rightFixedColumns.value.length),r=P(()=>e.states.columns.value.length),a=P(()=>e.states.fixedColumns.value.length),u=P(()=>e.states.rightFixedColumns.value.length);return{leftFixedLeafCount:n,rightFixedLeafCount:i,columnsCount:r,leftFixedCount:a,rightFixedCount:u,columns:e.states.columns}}function jZ(t){const{columns:e}=GZ(),n=Ve("table");return{getCellClasses:(a,u)=>{const s=a[u],o=[n.e("cell"),s.id,s.align,s.labelClassName,...Z0(n.b(),u,s.fixed,t.store)];return s.className&&o.push(s.className),s.children||o.push(n.is("leaf")),o},getCellStyles:(a,u)=>{const s=J0(u,a.fixed,t.store);return $l(s,"left"),$l(s,"right"),s},columns:e}}var XZ=se({name:"ElTableFooter",props:{fixed:{type:String,default:""},store:{required:!0,type:Object},summaryMethod:Function,sumText:String,border:Boolean,defaultSort:{type:Object,default:()=>({prop:"",order:""})}},setup(t){const{getCellClasses:e,getCellStyles:n,columns:i}=jZ(t);return{ns:Ve("table"),getCellClasses:e,getCellStyles:n,columns:i}},render(){const{columns:t,getCellStyles:e,getCellClasses:n,summaryMethod:i,sumText:r}=this,a=this.store.states.data.value;let u=[];return i?u=i({columns:t,data:a}):t.forEach((s,o)=>{if(o===0){u[o]=r;return}const c=a.map(h=>Number(h[s.property])),f=[];let l=!0;c.forEach(h=>{if(!Number.isNaN(+h)){l=!1;const p=`${h}`.split(".")[1];f.push(p?p.length:0)}});const d=Math.max.apply(null,f);l?u[o]="":u[o]=c.reduce((h,p)=>{const g=Number(p);return Number.isNaN(+g)?h:Number.parseFloat((h+p).toFixed(Math.min(d,20)))},0)}),rt(rt("tfoot",[rt("tr",{},[...t.map((s,o)=>rt("td",{key:o,colspan:s.colSpan,rowspan:s.rowSpan,class:n(t,o),style:e(s,o)},[rt("div",{class:["cell",s.labelClassName]},[u[o]])]))])]))}});function KZ(t){return{setCurrentRow:f=>{t.commit("setCurrentRow",f)},getSelectionRows:()=>t.getSelectionRows(),toggleRowSelection:(f,l)=>{t.toggleRowSelection(f,l,!1),t.updateAllSelected()},clearSelection:()=>{t.clearSelection()},clearFilter:f=>{t.clearFilter(f)},toggleAllSelection:()=>{t.commit("toggleAllSelection")},toggleRowExpansion:(f,l)=>{t.toggleRowExpansionAdapter(f,l)},clearSort:()=>{t.clearSort()},sort:(f,l)=>{t.commit("sort",{prop:f,order:l})}}}function YZ(t,e,n,i){const r=Y(!1),a=Y(null),u=Y(!1),s=T=>{u.value=T},o=Y({width:null,height:null,headerHeight:null}),c=Y(!1),f={display:"inline-block",verticalAlign:"middle"},l=Y(),d=Y(0),h=Y(0),p=Y(0),g=Y(0),m=Y(0);Yn(()=>{e.setHeight(t.height)}),Yn(()=>{e.setMaxHeight(t.maxHeight)}),Be(()=>[t.currentRowKey,n.states.rowKey],([T,R])=>{!y(R)||!y(T)||n.setCurrentRowKey(`${T}`)},{immediate:!0}),Be(()=>t.data,T=>{i.store.commit("setData",T)},{immediate:!0,deep:!0}),Yn(()=>{t.expandRowKeys&&n.setExpandRowKeysAdapter(t.expandRowKeys)});const v=()=>{i.store.commit("setHoverRow",null),i.hoverState&&(i.hoverState=null)},b=(T,R)=>{const{pixelX:V,pixelY:U}=R;Math.abs(V)>=Math.abs(U)&&(i.refs.bodyWrapper.scrollLeft+=R.pixelX/5)},_=P(()=>t.height||t.maxHeight||n.states.fixedColumns.value.length>0||n.states.rightFixedColumns.value.length>0),S=P(()=>({width:e.bodyWidth.value?`${e.bodyWidth.value}px`:""})),w=()=>{_.value&&e.updateElsHeight(),e.updateColumnsWidth(),requestAnimationFrame(E)};ht(async()=>{await it(),n.updateColumns(),A(),requestAnimationFrame(w);const T=i.vnode.el,R=i.refs.headerWrapper;t.flexible&&T&&T.parentElement&&(T.parentElement.style.minWidth="0"),o.value={width:l.value=T.offsetWidth,height:T.offsetHeight,headerHeight:t.showHeader&&R?R.offsetHeight:null},n.states.columns.value.forEach(V=>{V.filteredValue&&V.filteredValue.length&&i.store.commit("filterChange",{column:V,values:V.filteredValue,silent:!0})}),i.$ready=!0});const C=(T,R)=>{if(!T)return;const V=Array.from(T.classList).filter(U=>!U.startsWith("is-scrolling-"));V.push(e.scrollX.value?R:"is-scrolling-none"),T.className=V.join(" ")},x=T=>{const{tableWrapper:R}=i.refs;C(R,T)},M=T=>{const{tableWrapper:R}=i.refs;return!!(R&&R.classList.contains(T))},E=function(){if(!i.refs.scrollBarRef)return;if(!e.scrollX.value){const K="is-scrolling-none";M(K)||x(K);return}const T=i.refs.scrollBarRef.wrapRef;if(!T)return;const{scrollLeft:R,offsetWidth:V,scrollWidth:U}=T,{headerWrapper:X,footerWrapper:W}=i.refs;X&&(X.scrollLeft=R),W&&(W.scrollLeft=R);const j=U-V-1;R>=j?x("is-scrolling-right"):x(R===0?"is-scrolling-left":"is-scrolling-middle")},A=()=>{i.refs.scrollBarRef&&(i.refs.scrollBarRef.wrapRef&&nn(i.refs.scrollBarRef.wrapRef,"scroll",E,{passive:!0}),t.fit?dn(i.vnode.el,O):nn(window,"resize",O),dn(i.refs.bodyWrapper,()=>{var T,R;O(),(R=(T=i.refs)==null?void 0:T.scrollBarRef)==null||R.update()}))},O=()=>{var T,R,V,U;const X=i.vnode.el;if(!i.$ready||!X)return;let W=!1;const{width:j,height:K,headerHeight:z}=o.value,ee=l.value=X.offsetWidth;j!==ee&&(W=!0);const ue=X.offsetHeight;(t.height||_.value)&&K!==ue&&(W=!0);const ne=t.tableLayout==="fixed"?i.refs.headerWrapper:(T=i.refs.tableHeaderRef)==null?void 0:T.$el;t.showHeader&&(ne==null?void 0:ne.offsetHeight)!==z&&(W=!0),d.value=((R=i.refs.tableWrapper)==null?void 0:R.scrollHeight)||0,p.value=(ne==null?void 0:ne.scrollHeight)||0,g.value=((V=i.refs.footerWrapper)==null?void 0:V.offsetHeight)||0,m.value=((U=i.refs.appendWrapper)==null?void 0:U.offsetHeight)||0,h.value=d.value-p.value-g.value-m.value,W&&(o.value={width:ee,height:ue,headerHeight:t.showHeader&&(ne==null?void 0:ne.offsetHeight)||0},w())},I=Mn(),$=P(()=>{const{bodyWidth:T,scrollY:R,gutterWidth:V}=e;return T.value?`${T.value-(R.value?V:0)}px`:""}),H=P(()=>t.maxHeight?"fixed":t.tableLayout),B=P(()=>{if(t.data&&t.data.length)return null;let T="100%";t.height&&h.value&&(T=`${h.value}px`);const R=l.value;return{width:R?`${R}px`:"",height:T}}),N=P(()=>t.height?{height:Number.isNaN(Number(t.height))?t.height:`${t.height}px`}:t.maxHeight?{maxHeight:Number.isNaN(Number(t.maxHeight))?t.maxHeight:`${t.maxHeight}px`}:{}),k=P(()=>t.height?{height:"100%"}:t.maxHeight?Number.isNaN(Number(t.maxHeight))?{maxHeight:`calc(${t.maxHeight} - ${p.value+g.value}px)`}:{maxHeight:`${t.maxHeight-p.value-g.value}px`}:{});return{isHidden:r,renderExpanded:a,setDragVisible:s,isGroup:c,handleMouseLeave:v,handleHeaderFooterMousewheel:b,tableSize:I,emptyBlockStyle:B,handleFixedMousewheel:(T,R)=>{const V=i.refs.bodyWrapper;if(Math.abs(R.spinY)>0){const U=V.scrollTop;R.pixelY<0&&U!==0&&T.preventDefault(),R.pixelY>0&&V.scrollHeight-V.clientHeight>U&&T.preventDefault(),V.scrollTop+=Math.ceil(R.pixelY/5)}else V.scrollLeft+=Math.ceil(R.pixelX/5)},resizeProxyVisible:u,bodyWidth:$,resizeState:o,doLayout:w,tableBodyStyles:S,tableLayout:H,scrollbarViewStyle:f,tableInnerStyle:N,scrollbarStyle:k}}function qZ(t){const e=Y(),n=()=>{const r=t.vnode.el.querySelector(".hidden-columns"),a={childList:!0,subtree:!0},u=t.store.states.updateOrderFns;e.value=new MutationObserver(()=>{u.forEach(s=>s())}),e.value.observe(r,a)};ht(()=>{n()}),yo(()=>{var i;(i=e.value)==null||i.disconnect()})}var ZZ={data:{type:Array,default:()=>[]},size:kn,width:[String,Number],height:[String,Number],maxHeight:[String,Number],fit:{type:Boolean,default:!0},stripe:Boolean,border:Boolean,rowKey:[String,Function],showHeader:{type:Boolean,default:!0},showSummary:Boolean,sumText:String,summaryMethod:Function,rowClassName:[String,Function],rowStyle:[Object,Function],cellClassName:[String,Function],cellStyle:[Object,Function],headerRowClassName:[String,Function],headerRowStyle:[Object,Function],headerCellClassName:[String,Function],headerCellStyle:[Object,Function],highlightCurrentRow:Boolean,currentRowKey:[String,Number],emptyText:String,expandRowKeys:Array,defaultExpandAll:Boolean,defaultSort:Object,tooltipEffect:String,tooltipOptions:Object,spanMethod:Function,selectOnIndeterminate:{type:Boolean,default:!0},indent:{type:Number,default:16},treeProps:{type:Object,default:()=>({hasChildren:"hasChildren",children:"children"})},lazy:Boolean,load:Function,style:{type:Object,default:()=>({})},className:{type:String,default:""},tableLayout:{type:String,default:"fixed"},scrollbarAlwaysOn:Boolean,flexible:Boolean,showOverflowTooltip:[Boolean,Object]};function P2(t){const e=t.tableLayout==="auto";let n=t.columns||[];e&&n.every(r=>r.width===void 0)&&(n=[]);const i=r=>{const a={key:`${t.tableLayout}_${r.id}`,style:{},name:void 0};return e?a.style={width:`${r.width}px`}:a.name=r.id,a};return rt("colgroup",{},n.map(r=>rt("col",i(r))))}P2.props=["columns","tableLayout"];const JZ=()=>{const t=Y(),e=(a,u)=>{const s=t.value;s&&s.scrollTo(a,u)},n=(a,u)=>{const s=t.value;s&&ot(u)&&["Top","Left"].includes(a)&&s[`setScroll${a}`](u)};return{scrollBarRef:t,scrollTo:e,setScrollTop:a=>n("Top",a),setScrollLeft:a=>n("Left",a)}};let QZ=1;const eJ=se({name:"ElTable",directives:{Mousewheel:Vz},components:{TableHeader:UZ,TableBody:WZ,TableFooter:XZ,ElScrollbar:Es,hColgroup:P2},props:ZZ,emits:["select","select-all","selection-change","cell-mouse-enter","cell-mouse-leave","cell-contextmenu","cell-click","cell-dblclick","row-click","row-contextmenu","row-dblclick","header-click","header-contextmenu","sort-change","filter-change","current-change","header-dragend","expand-change"],setup(t){const{t:e}=Dt(),n=Ve("table"),i=mt();Mt(Wr,i);const r=TZ(i,t);i.store=r;const a=new MZ({store:i.store,table:i,fit:t.fit,showHeader:t.showHeader});i.layout=a;const u=P(()=>(r.states.data.value||[]).length===0),{setCurrentRow:s,getSelectionRows:o,toggleRowSelection:c,clearSelection:f,clearFilter:l,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,sort:g}=KZ(r),{isHidden:m,renderExpanded:v,setDragVisible:b,isGroup:_,handleMouseLeave:S,handleHeaderFooterMousewheel:w,tableSize:C,emptyBlockStyle:x,handleFixedMousewheel:M,resizeProxyVisible:E,bodyWidth:A,resizeState:O,doLayout:I,tableBodyStyles:$,tableLayout:H,scrollbarViewStyle:B,tableInnerStyle:N,scrollbarStyle:k}=YZ(t,a,r,i),{scrollBarRef:D,scrollTo:T,setScrollLeft:R,setScrollTop:V}=JZ(),U=Oi(I,50),X=`${n.namespace.value}-table_${QZ++}`;i.tableId=X,i.state={isGroup:_,resizeState:O,doLayout:I,debouncedUpdateLayout:U};const W=P(()=>t.sumText||e("el.table.sumText")),j=P(()=>t.emptyText||e("el.table.emptyText"));return qZ(i),{ns:n,layout:a,store:r,handleHeaderFooterMousewheel:w,handleMouseLeave:S,tableId:X,tableSize:C,isHidden:m,isEmpty:u,renderExpanded:v,resizeProxyVisible:E,resizeState:O,isGroup:_,bodyWidth:A,tableBodyStyles:$,emptyBlockStyle:x,debouncedUpdateLayout:U,handleFixedMousewheel:M,setCurrentRow:s,getSelectionRows:o,toggleRowSelection:c,clearSelection:f,clearFilter:l,toggleAllSelection:d,toggleRowExpansion:h,clearSort:p,doLayout:I,sort:g,t:e,setDragVisible:b,context:i,computedSumText:W,computedEmptyText:j,tableLayout:H,scrollbarViewStyle:B,tableInnerStyle:N,scrollbarStyle:k,scrollBarRef:D,scrollTo:T,setScrollLeft:R,setScrollTop:V}}}),tJ=["data-prefix"],nJ={ref:"hiddenColumns",class:"hidden-columns"};function iJ(t,e,n,i,r,a){const u=pt("hColgroup"),s=pt("table-header"),o=pt("table-body"),c=pt("table-footer"),f=pt("el-scrollbar"),l=wh("mousewheel");return L(),Q("div",{ref:"tableWrapper",class:F([{[t.ns.m("fit")]:t.fit,[t.ns.m("striped")]:t.stripe,[t.ns.m("border")]:t.border||t.isGroup,[t.ns.m("hidden")]:t.isHidden,[t.ns.m("group")]:t.isGroup,[t.ns.m("fluid-height")]:t.maxHeight,[t.ns.m("scrollable-x")]:t.layout.scrollX.value,[t.ns.m("scrollable-y")]:t.layout.scrollY.value,[t.ns.m("enable-row-hover")]:!t.store.states.isComplex.value,[t.ns.m("enable-row-transition")]:(t.store.states.data.value||[]).length!==0&&(t.store.states.data.value||[]).length<100,"has-footer":t.showSummary},t.ns.m(t.tableSize),t.className,t.ns.b(),t.ns.m(`layout-${t.tableLayout}`)]),style:Qe(t.style),"data-prefix":t.ns.namespace.value,onMouseleave:e[0]||(e[0]=(...d)=>t.handleMouseLeave&&t.handleMouseLeave(...d))},[te("div",{class:F(t.ns.e("inner-wrapper")),style:Qe(t.tableInnerStyle)},[te("div",nJ,[Le(t.$slots,"default")],512),t.showHeader&&t.tableLayout==="fixed"?ft((L(),Q("div",{key:0,ref:"headerWrapper",class:F(t.ns.e("header-wrapper"))},[te("table",{ref:"tableHeader",class:F(t.ns.e("header")),style:Qe(t.tableBodyStyles),border:"0",cellpadding:"0",cellspacing:"0"},[oe(u,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),oe(s,{ref:"tableHeaderRef",border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["border","default-sort","store","onSetDragVisible"])],6)],2)),[[l,t.handleHeaderFooterMousewheel]]):Ee("v-if",!0),te("div",{ref:"bodyWrapper",class:F(t.ns.e("body-wrapper"))},[oe(f,{ref:"scrollBarRef","view-style":t.scrollbarViewStyle,"wrap-style":t.scrollbarStyle,always:t.scrollbarAlwaysOn},{default:ve(()=>[te("table",{ref:"tableBody",class:F(t.ns.e("body")),cellspacing:"0",cellpadding:"0",border:"0",style:Qe({width:t.bodyWidth,tableLayout:t.tableLayout})},[oe(u,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),t.showHeader&&t.tableLayout==="auto"?(L(),Pe(s,{key:0,ref:"tableHeaderRef",class:F(t.ns.e("body-header")),border:t.border,"default-sort":t.defaultSort,store:t.store,onSetDragVisible:t.setDragVisible},null,8,["class","border","default-sort","store","onSetDragVisible"])):Ee("v-if",!0),oe(o,{context:t.context,highlight:t.highlightCurrentRow,"row-class-name":t.rowClassName,"tooltip-effect":t.tooltipEffect,"tooltip-options":t.tooltipOptions,"row-style":t.rowStyle,store:t.store,stripe:t.stripe},null,8,["context","highlight","row-class-name","tooltip-effect","tooltip-options","row-style","store","stripe"]),t.showSummary&&t.tableLayout==="auto"?(L(),Pe(c,{key:1,class:F(t.ns.e("body-footer")),border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["class","border","default-sort","store","sum-text","summary-method"])):Ee("v-if",!0)],6),t.isEmpty?(L(),Q("div",{key:0,ref:"emptyBlock",style:Qe(t.emptyBlockStyle),class:F(t.ns.e("empty-block"))},[te("span",{class:F(t.ns.e("empty-text"))},[Le(t.$slots,"empty",{},()=>[Et(je(t.computedEmptyText),1)])],2)],6)):Ee("v-if",!0),t.$slots.append?(L(),Q("div",{key:1,ref:"appendWrapper",class:F(t.ns.e("append-wrapper"))},[Le(t.$slots,"append")],2)):Ee("v-if",!0)]),_:3},8,["view-style","wrap-style","always"])],2),t.showSummary&&t.tableLayout==="fixed"?ft((L(),Q("div",{key:1,ref:"footerWrapper",class:F(t.ns.e("footer-wrapper"))},[te("table",{class:F(t.ns.e("footer")),cellspacing:"0",cellpadding:"0",border:"0",style:Qe(t.tableBodyStyles)},[oe(u,{columns:t.store.states.columns.value,"table-layout":t.tableLayout},null,8,["columns","table-layout"]),oe(c,{border:t.border,"default-sort":t.defaultSort,store:t.store,"sum-text":t.computedSumText,"summary-method":t.summaryMethod},null,8,["border","default-sort","store","sum-text","summary-method"])],6)],2)),[[Nt,!t.isEmpty],[l,t.handleHeaderFooterMousewheel]]):Ee("v-if",!0),t.border||t.isGroup?(L(),Q("div",{key:2,class:F(t.ns.e("border-left-patch"))},null,2)):Ee("v-if",!0)],6),ft(te("div",{ref:"resizeProxy",class:F(t.ns.e("column-resize-proxy"))},null,2),[[Nt,t.resizeProxyVisible]])],46,tJ)}var rJ=Ge(eJ,[["render",iJ],["__file","table.vue"]]);const sJ={selection:"table-column--selection",expand:"table__expand-column"},oJ={default:{order:""},selection:{width:48,minWidth:48,realWidth:48,order:""},expand:{width:48,minWidth:48,realWidth:48,order:""},index:{width:48,minWidth:48,realWidth:48,order:""}},aJ=t=>sJ[t]||"",lJ={selection:{renderHeader({store:t,column:e}){function n(){return t.states.data.value&&t.states.data.value.length===0}return rt(lr,{disabled:n(),size:t.states.tableSize.value,indeterminate:t.states.selection.value.length>0&&!t.states.isAllSelected.value,"onUpdate:modelValue":t.toggleAllSelection,modelValue:t.states.isAllSelected.value,ariaLabel:e.label})},renderCell({row:t,column:e,store:n,$index:i}){return rt(lr,{disabled:e.selectable?!e.selectable.call(null,t,i):!1,size:n.states.tableSize.value,onChange:()=>{n.commit("rowSelectedChanged",t)},onClick:r=>r.stopPropagation(),modelValue:n.isSelected(t),ariaLabel:e.label})},sortable:!1,resizable:!1},index:{renderHeader({column:t}){return t.label||"#"},renderCell({column:t,$index:e}){let n=e+1;const i=t.index;return typeof i=="number"?n=e+i:typeof i=="function"&&(n=i(e)),rt("div",{},[n])},sortable:!1},expand:{renderHeader({column:t}){return t.label||""},renderCell({row:t,store:e,expanded:n}){const{ns:i}=e,r=[i.e("expand-icon")];return n&&r.push(i.em("expand-icon","expanded")),rt("div",{class:r,onClick:function(u){u.stopPropagation(),e.toggleRowExpansion(t)}},{default:()=>[rt(et,null,{default:()=>[rt(vi)]})]})},sortable:!1,resizable:!1}};function cJ({row:t,column:e,$index:n}){var i;const r=e.property,a=r&&pf(t,r).value;return e&&e.formatter?e.formatter(t,e,a,n):((i=a==null?void 0:a.toString)==null?void 0:i.call(a))||""}function uJ({row:t,treeNode:e,store:n},i=!1){const{ns:r}=n;if(!e)return i?[rt("span",{class:r.e("placeholder")})]:null;const a=[],u=function(s){s.stopPropagation(),!e.loading&&n.loadOrToggle(t)};if(e.indent&&a.push(rt("span",{class:r.e("indent"),style:{"padding-left":`${e.indent}px`}})),typeof e.expanded=="boolean"&&!e.noLazyChildren){const s=[r.e("expand-icon"),e.expanded?r.em("expand-icon","expanded"):""];let o=vi;e.loading&&(o=So),a.push(rt("div",{class:s,onClick:u},{default:()=>[rt(et,{class:{[r.is("loading")]:e.loading}},{default:()=>[rt(o)]})]}))}else a.push(rt("span",{class:r.e("placeholder")}));return a}function WS(t,e){return t.reduce((n,i)=>(n[i]=i,n),e)}function dJ(t,e){const n=mt();return{registerComplexWatchers:()=>{const a=["fixed"],u={realWidth:"width",realMinWidth:"minWidth"},s=WS(a,u);Object.keys(s).forEach(o=>{const c=u[o];kt(e,c)&&Be(()=>e[c],f=>{let l=f;c==="width"&&o==="realWidth"&&(l=q0(f)),c==="minWidth"&&o==="realMinWidth"&&(l=C2(f)),n.columnConfig.value[c]=l,n.columnConfig.value[o]=l;const d=c==="fixed";t.value.store.scheduleLayout(d)})})},registerNormalWatchers:()=>{const a=["label","filters","filterMultiple","filteredValue","sortable","index","formatter","className","labelClassName","filterClassName","showOverflowTooltip"],u={property:"prop",align:"realAlign",headerAlign:"realHeaderAlign"},s=WS(a,u);Object.keys(s).forEach(o=>{const c=u[o];kt(e,c)&&Be(()=>e[c],f=>{n.columnConfig.value[o]=f})})}}}function fJ(t,e,n){const i=mt(),r=Y(""),a=Y(!1),u=Y(),s=Y(),o=Ve("table");Yn(()=>{u.value=t.align?`is-${t.align}`:null,u.value}),Yn(()=>{s.value=t.headerAlign?`is-${t.headerAlign}`:u.value,s.value});const c=P(()=>{let S=i.vnode.vParent||i.parent;for(;S&&!S.tableId&&!S.columnId;)S=S.vnode.vParent||S.parent;return S}),f=P(()=>{const{store:S}=i.parent;if(!S)return!1;const{treeData:w}=S.states,C=w.value;return C&&Object.keys(C).length>0}),l=Y(q0(t.width)),d=Y(C2(t.minWidth)),h=S=>(l.value&&(S.width=l.value),d.value&&(S.minWidth=d.value),!l.value&&d.value&&(S.width=void 0),S.minWidth||(S.minWidth=80),S.realWidth=Number(S.width===void 0?S.minWidth:S.width),S),p=S=>{const w=S.type,C=lJ[w]||{};Object.keys(C).forEach(M=>{const E=C[M];M!=="className"&&E!==void 0&&(S[M]=E)});const x=aJ(w);if(x){const M=`${y(o.namespace)}-${x}`;S.className=S.className?`${S.className} ${M}`:M}return S},g=S=>{Array.isArray(S)?S.forEach(C=>w(C)):w(S);function w(C){var x;((x=C==null?void 0:C.type)==null?void 0:x.name)==="ElTableColumn"&&(C.vParent=i)}};return{columnId:r,realAlign:u,isSubColumn:a,realHeaderAlign:s,columnOrTableParent:c,setColumnWidth:h,setColumnForcedProps:p,setColumnRenders:S=>{t.renderHeader||S.type!=="selection"&&(S.renderHeader=C=>(i.columnConfig.value.label,Le(e,"header",C,()=>[S.label])));let w=S.renderCell;return S.type==="expand"?(S.renderCell=C=>rt("div",{class:"cell"},[w(C)]),n.value.renderExpanded=C=>e.default?e.default(C):e.default):(w=w||cJ,S.renderCell=C=>{let x=null;if(e.default){const $=e.default(C);x=$.some(H=>H.type!==gi)?$:w(C)}else x=w(C);const{columns:M}=n.value.store.states,E=M.value.findIndex($=>$.type==="default"),A=f.value&&C.cellIndex===E,O=uJ(C,A),I={class:"cell",style:{}};return S.showOverflowTooltip&&(I.class=`${I.class} ${y(o.namespace)}-tooltip`,I.style={width:`${(C.column.realWidth||Number(C.column.width))-1}px`}),g(x),rt("div",I,[O,x])}),S},getPropsData:(...S)=>S.reduce((w,C)=>(Array.isArray(C)&&C.forEach(x=>{w[x]=t[x]}),w),{}),getColumnElIndex:(S,w)=>Array.prototype.indexOf.call(S,w),updateColumnOrder:()=>{n.value.store.commit("updateColumnOrder",i.columnConfig.value)}}}var hJ={type:{type:String,default:"default"},label:String,className:String,labelClassName:String,property:String,prop:String,width:{type:[String,Number],default:""},minWidth:{type:[String,Number],default:""},renderHeader:Function,sortable:{type:[Boolean,String],default:!1},sortMethod:Function,sortBy:[String,Function,Array],resizable:{type:Boolean,default:!0},columnKey:String,align:String,headerAlign:String,showOverflowTooltip:{type:[Boolean,Object],default:void 0},fixed:[Boolean,String],formatter:Function,selectable:Function,reserveSelection:Boolean,filterMethod:Function,filteredValue:Array,filters:Array,filterPlacement:String,filterMultiple:{type:Boolean,default:!0},filterClassName:String,index:[Number,Function],sortOrders:{type:Array,default:()=>["ascending","descending",null],validator:t=>t.every(e=>["ascending","descending",null].includes(e))}};let pJ=1;var O2=se({name:"ElTableColumn",components:{ElCheckbox:lr},props:hJ,setup(t,{slots:e}){const n=mt(),i=Y({}),r=P(()=>{let _=n.parent;for(;_&&!_.tableId;)_=_.parent;return _}),{registerNormalWatchers:a,registerComplexWatchers:u}=dJ(r,t),{columnId:s,isSubColumn:o,realHeaderAlign:c,columnOrTableParent:f,setColumnWidth:l,setColumnForcedProps:d,setColumnRenders:h,getPropsData:p,getColumnElIndex:g,realAlign:m,updateColumnOrder:v}=fJ(t,e,r),b=f.value;s.value=`${b.tableId||b.columnId}_column_${pJ++}`,Th(()=>{o.value=r.value!==b;const _=t.type||"default",S=t.sortable===""?!0:t.sortable,w=xn(t.showOverflowTooltip)?b.props.showOverflowTooltip:t.showOverflowTooltip,C={...oJ[_],id:s.value,type:_,property:t.prop||t.property,align:m,headerAlign:c,showOverflowTooltip:w,filterable:t.filters||t.filterMethod,filteredValue:[],filterPlacement:"",filterClassName:"",isColumnGroup:!1,isSubColumn:!1,filterOpened:!1,sortable:S,index:t.index,rawColumnKey:n.vnode.key};let O=p(["columnKey","label","className","labelClassName","type","renderHeader","formatter","fixed","resizable"],["sortMethod","sortBy","sortOrders"],["selectable","reserveSelection"],["filterMethod","filters","filterMultiple","filterOpened","filteredValue","filterPlacement","filterClassName"]);O=pZ(C,O),O=gZ(h,l,d)(O),i.value=O,a(),u()}),ht(()=>{var _;const S=f.value,w=o.value?S.vnode.el.children:(_=S.refs.hiddenColumns)==null?void 0:_.children,C=()=>g(w||[],n.vnode.el);i.value.getColumnIndex=C,C()>-1&&r.value.store.commit("insertColumn",i.value,o.value?S.columnConfig.value:null,v)}),en(()=>{r.value.store.commit("removeColumn",i.value,o.value?b.columnConfig.value:null,v)}),n.columnId=s.value,n.columnConfig=i},render(){var t,e,n;try{const i=(e=(t=this.$slots).default)==null?void 0:e.call(t,{row:{},column:{},$index:-1}),r=[];if(Array.isArray(i))for(const u of i)((n=u.type)==null?void 0:n.name)==="ElTableColumn"||u.shapeFlag&2?r.push(u):u.type===tt&&Array.isArray(u.children)&&u.children.forEach(s=>{(s==null?void 0:s.patchFlag)!==1024&&!ct(s==null?void 0:s.children)&&r.push(s)});return rt("div",r)}catch{return rt("div",[])}}});const mJ=gt(rJ,{TableColumn:O2}),gJ=hn(O2);var Ou=(t=>(t.ASC="asc",t.DESC="desc",t))(Ou||{}),ku=(t=>(t.CENTER="center",t.RIGHT="right",t))(ku||{}),k2=(t=>(t.LEFT="left",t.RIGHT="right",t))(k2||{});const Dg={asc:"desc",desc:"asc"},Lu=Symbol("placeholder"),vJ=(t,e,n)=>{var i;const r={flexGrow:0,flexShrink:0,...n?{}:{flexGrow:t.flexGrow||0,flexShrink:t.flexShrink||1}};n||(r.flexShrink=1);const a={...(i=t.style)!=null?i:{},...r,flexBasis:"auto",width:t.width};return e||(t.maxWidth&&(a.maxWidth=t.maxWidth),t.minWidth&&(a.minWidth=t.minWidth)),a};function yJ(t,e,n){const i=P(()=>y(e).filter(g=>!g.hidden)),r=P(()=>y(i).filter(g=>g.fixed==="left"||g.fixed===!0)),a=P(()=>y(i).filter(g=>g.fixed==="right")),u=P(()=>y(i).filter(g=>!g.fixed)),s=P(()=>{const g=[];return y(r).forEach(m=>{g.push({...m,placeholderSign:Lu})}),y(u).forEach(m=>{g.push(m)}),y(a).forEach(m=>{g.push({...m,placeholderSign:Lu})}),g}),o=P(()=>y(r).length||y(a).length),c=P(()=>y(e).reduce((m,v)=>(m[v.key]=vJ(v,y(n),t.fixed),m),{})),f=P(()=>y(i).reduce((g,m)=>g+m.width,0)),l=g=>y(e).find(m=>m.key===g),d=g=>y(c)[g],h=(g,m)=>{g.width=m};function p(g){var m;const{key:v}=g.currentTarget.dataset;if(!v)return;const{sortState:b,sortBy:_}=t;let S=Ou.ASC;bt(b)?S=Dg[b[v]]:S=Dg[_.order],(m=t.onColumnSort)==null||m.call(t,{column:l(v),key:v,order:S})}return{columns:e,columnsStyles:c,columnsTotalWidth:f,fixedColumnsOnLeft:r,fixedColumnsOnRight:a,hasFixedColumns:o,mainColumns:s,normalColumns:u,visibleColumns:i,getColumn:l,getColumnStyle:d,updateColumnWidth:h,onColumnSorted:p}}const bJ=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,onMaybeEndReached:r})=>{const a=Y({scrollLeft:0,scrollTop:0});function u(h){var p,g,m;const{scrollTop:v}=h;(p=e.value)==null||p.scrollTo(h),(g=n.value)==null||g.scrollToTop(v),(m=i.value)==null||m.scrollToTop(v)}function s(h){a.value=h,u(h)}function o(h){a.value.scrollTop=h,u(y(a))}function c(h){var p,g;a.value.scrollLeft=h,(g=(p=e.value)==null?void 0:p.scrollTo)==null||g.call(p,y(a))}function f(h){var p;s(h),(p=t.onScroll)==null||p.call(t,h)}function l({scrollTop:h}){const{scrollTop:p}=y(a);h!==p&&o(h)}function d(h,p="auto"){var g;(g=e.value)==null||g.scrollToRow(h,p)}return Be(()=>y(a).scrollTop,(h,p)=>{h>p&&r()}),{scrollPos:a,scrollTo:s,scrollToLeft:c,scrollToTop:o,scrollToRow:d,onScroll:f,onVerticalScroll:l}},_J=(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,tableInstance:r,ns:a,isScrolling:u})=>{const s=mt(),{emit:o}=s,c=an(!1),f=Y(t.defaultExpandedRowKeys||[]),l=Y(-1),d=an(null),h=Y({}),p=Y({}),g=an({}),m=an({}),v=an({}),b=P(()=>ot(t.estimatedRowHeight));function _(A){var O;(O=t.onRowsRendered)==null||O.call(t,A),A.rowCacheEnd>y(l)&&(l.value=A.rowCacheEnd)}function S({hovered:A,rowKey:O}){if(u.value)return;r.vnode.el.querySelectorAll(`[rowkey=${O}]`).forEach(H=>{A?H.classList.add(a.is("hovered")):H.classList.remove(a.is("hovered"))})}function w({expanded:A,rowData:O,rowIndex:I,rowKey:$}){var H,B;const N=[...y(f)],k=N.indexOf($);A?k===-1&&N.push($):k>-1&&N.splice(k,1),f.value=N,o("update:expandedRowKeys",N),(H=t.onRowExpand)==null||H.call(t,{expanded:A,rowData:O,rowIndex:I,rowKey:$}),(B=t.onExpandedRowsChange)==null||B.call(t,N)}const C=Oi(()=>{var A,O,I,$;c.value=!0,h.value={...y(h),...y(p)},x(y(d),!1),p.value={},d.value=null,(A=e.value)==null||A.forceUpdate(),(O=n.value)==null||O.forceUpdate(),(I=i.value)==null||I.forceUpdate(),($=s.proxy)==null||$.$forceUpdate(),c.value=!1},0);function x(A,O=!1){y(b)&&[e,n,i].forEach(I=>{const $=y(I);$&&$.resetAfterRowIndex(A,O)})}function M(A,O,I){const $=y(d);($===null||$>I)&&(d.value=I),p.value[A]=O}function E({rowKey:A,height:O,rowIndex:I},$){$?$===k2.RIGHT?v.value[A]=O:g.value[A]=O:m.value[A]=O;const H=Math.max(...[g,v,m].map(B=>B.value[A]||0));y(h)[A]!==H&&(M(A,H,I),C())}return{expandedRowKeys:f,lastRenderedRowIndex:l,isDynamic:b,isResetting:c,rowHeights:h,resetAfterIndex:x,onRowExpanded:w,onRowHovered:S,onRowsRendered:_,onRowHeightChange:E}},SJ=(t,{expandedRowKeys:e,lastRenderedRowIndex:n,resetAfterIndex:i})=>{const r=Y({}),a=P(()=>{const s={},{data:o,rowKey:c}=t,f=y(e);if(!f||!f.length)return o;const l=[],d=new Set;f.forEach(p=>d.add(p));let h=o.slice();for(h.forEach(p=>s[p[c]]=0);h.length>0;){const p=h.shift();l.push(p),d.has(p[c])&&Array.isArray(p.children)&&p.children.length>0&&(h=[...p.children,...h],p.children.forEach(g=>s[g[c]]=s[p[c]]+1))}return r.value=s,l}),u=P(()=>{const{data:s,expandColumnKey:o}=t;return o?y(a):s});return Be(u,(s,o)=>{s!==o&&(n.value=-1,i(0,!0))}),{data:u,depthMap:r}},wJ=(t,e)=>t+e,Rf=t=>qe(t)?t.reduce(wJ,0):t,ma=(t,e,n={})=>at(t)?t(e):t??n,Qs=t=>(["width","maxWidth","minWidth","height"].forEach(e=>{t[e]=yn(t[e])}),t),L2=t=>un(t)?e=>rt(t,e):t,CJ=(t,{columnsTotalWidth:e,data:n,fixedColumnsOnLeft:i,fixedColumnsOnRight:r})=>{const a=P(()=>{const{fixed:_,width:S,vScrollbarSize:w}=t,C=S-w;return _?Math.max(Math.round(y(e)),C):C}),u=P(()=>y(a)+t.vScrollbarSize),s=P(()=>{const{height:_=0,maxHeight:S=0,footerHeight:w,hScrollbarSize:C}=t;if(S>0){const x=y(p),M=y(o),A=y(h)+x+M+C;return Math.min(A,S-w)}return _-w}),o=P(()=>{const{rowHeight:_,estimatedRowHeight:S}=t,w=y(n);return ot(S)?w.length*S:w.length*_}),c=P(()=>{const{maxHeight:_}=t,S=y(s);if(ot(_)&&_>0)return S;const w=y(o)+y(h)+y(p);return Math.min(S,w)}),f=_=>_.width,l=P(()=>Rf(y(i).map(f))),d=P(()=>Rf(y(r).map(f))),h=P(()=>Rf(t.headerHeight)),p=P(()=>{var _;return(((_=t.fixedData)==null?void 0:_.length)||0)*t.rowHeight}),g=P(()=>y(s)-y(h)-y(p)),m=P(()=>{const{style:_={},height:S,width:w}=t;return Qs({..._,height:S,width:w})}),v=P(()=>Qs({height:t.footerHeight})),b=P(()=>({top:yn(y(h)),bottom:yn(t.footerHeight),width:yn(t.width)}));return{bodyWidth:a,fixedTableHeight:c,mainTableHeight:s,leftTableWidth:l,rightTableWidth:d,headerWidth:u,rowsHeight:o,windowHeight:g,footerHeight:v,emptyStyle:b,rootStyle:m,headerHeight:h}},xJ=t=>{const e=Y(),n=Y(0),i=Y(0);let r;return ht(()=>{r=dn(e,([a])=>{const{width:u,height:s}=a.contentRect,{paddingLeft:o,paddingRight:c,paddingTop:f,paddingBottom:l}=getComputedStyle(a.target),d=Number.parseInt(o)||0,h=Number.parseInt(c)||0,p=Number.parseInt(f)||0,g=Number.parseInt(l)||0;n.value=u-d-h,i.value=s-p-g}).stop}),en(()=>{r==null||r()}),Be([n,i],([a,u])=>{var s;(s=t.onResize)==null||s.call(t,{width:a,height:u})}),{sizer:e,width:n,height:i}};function TJ(t){const e=Y(),n=Y(),i=Y(),{columns:r,columnsStyles:a,columnsTotalWidth:u,fixedColumnsOnLeft:s,fixedColumnsOnRight:o,hasFixedColumns:c,mainColumns:f,onColumnSorted:l}=yJ(t,Zt(t,"columns"),Zt(t,"fixed")),{scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:g,onScroll:m,onVerticalScroll:v,scrollPos:b}=bJ(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,onMaybeEndReached:q}),_=Ve("table-v2"),S=mt(),w=an(!1),{expandedRowKeys:C,lastRenderedRowIndex:x,isDynamic:M,isResetting:E,rowHeights:A,resetAfterIndex:O,onRowExpanded:I,onRowHeightChange:$,onRowHovered:H,onRowsRendered:B}=_J(t,{mainTableRef:e,leftTableRef:n,rightTableRef:i,tableInstance:S,ns:_,isScrolling:w}),{data:N,depthMap:k}=SJ(t,{expandedRowKeys:C,lastRenderedRowIndex:x,resetAfterIndex:O}),{bodyWidth:D,fixedTableHeight:T,mainTableHeight:R,leftTableWidth:V,rightTableWidth:U,headerWidth:X,rowsHeight:W,windowHeight:j,footerHeight:K,emptyStyle:z,rootStyle:ee,headerHeight:ue}=CJ(t,{columnsTotalWidth:u,data:N,fixedColumnsOnLeft:s,fixedColumnsOnRight:o}),ne=Y(),le=P(()=>{const J=y(N).length===0;return qe(t.fixedData)?t.fixedData.length===0&&J:J});function Me(J){const{estimatedRowHeight:ce,rowHeight:pe,rowKey:re}=t;return ce?y(A)[y(N)[J][re]]||ce:pe}function q(){const{onEndReached:J}=t;if(!J)return;const{scrollTop:ce}=y(b),pe=y(W),re=y(j),he=pe-(ce+re)+t.hScrollbarSize;y(x)>=0&&pe===ce+y(R)-y(ue)&&J(he)}return Be(()=>t.expandedRowKeys,J=>C.value=J,{deep:!0}),{columns:r,containerRef:ne,mainTableRef:e,leftTableRef:n,rightTableRef:i,isDynamic:M,isResetting:E,isScrolling:w,hasFixedColumns:c,columnsStyles:a,columnsTotalWidth:u,data:N,expandedRowKeys:C,depthMap:k,fixedColumnsOnLeft:s,fixedColumnsOnRight:o,mainColumns:f,bodyWidth:D,emptyStyle:z,rootStyle:ee,headerWidth:X,footerHeight:K,mainTableHeight:R,fixedTableHeight:T,leftTableWidth:V,rightTableWidth:U,showEmpty:le,getRowHeight:Me,onColumnSorted:l,onRowHovered:H,onRowExpanded:I,onRowsRendered:B,onRowHeightChange:$,scrollTo:d,scrollToLeft:h,scrollToTop:p,scrollToRow:g,onScroll:m,onVerticalScroll:v}}const Q0=Symbol("tableV2"),I2=String,rd={type:we(Array),required:!0},ey={type:we(Array)},D2={...ey,required:!0},EJ=String,GS={type:we(Array),default:()=>fn([])},Uo={type:Number,required:!0},N2={type:we([String,Number,Symbol]),default:"id"},jS={type:we(Object)},Xo=We({class:String,columns:rd,columnsStyles:{type:we(Object),required:!0},depth:Number,expandColumnKey:EJ,estimatedRowHeight:{...ia.estimatedRowHeight,default:void 0},isScrolling:Boolean,onRowExpand:{type:we(Function)},onRowHover:{type:we(Function)},onRowHeightChange:{type:we(Function)},rowData:{type:we(Object),required:!0},rowEventHandlers:{type:we(Object)},rowIndex:{type:Number,required:!0},rowKey:N2,style:{type:we(Object)}}),Vp={type:Number,required:!0},ty=We({class:String,columns:rd,fixedHeaderData:{type:we(Array)},headerData:{type:we(Array),required:!0},headerHeight:{type:we([Number,Array]),default:50},rowWidth:Vp,rowHeight:{type:Number,default:50},height:Vp,width:Vp}),Pf=We({columns:rd,data:D2,fixedData:ey,estimatedRowHeight:Xo.estimatedRowHeight,width:Uo,height:Uo,headerWidth:Uo,headerHeight:ty.headerHeight,bodyWidth:Uo,rowHeight:Uo,cache:r2.cache,useIsScrolling:Boolean,scrollbarAlwaysOn:ia.scrollbarAlwaysOn,scrollbarStartGap:ia.scrollbarStartGap,scrollbarEndGap:ia.scrollbarEndGap,class:I2,style:jS,containerStyle:jS,getRowHeight:{type:we(Function),required:!0},rowKey:Xo.rowKey,onRowsRendered:{type:we(Function)},onScroll:{type:we(Function)}}),MJ=We({cache:Pf.cache,estimatedRowHeight:Xo.estimatedRowHeight,rowKey:N2,headerClass:{type:we([String,Function])},headerProps:{type:we([Object,Function])},headerCellProps:{type:we([Object,Function])},headerHeight:ty.headerHeight,footerHeight:{type:Number,default:0},rowClass:{type:we([String,Function])},rowProps:{type:we([Object,Function])},rowHeight:{type:Number,default:50},cellProps:{type:we([Object,Function])},columns:rd,data:D2,dataGetter:{type:we(Function)},fixedData:ey,expandColumnKey:Xo.expandColumnKey,expandedRowKeys:GS,defaultExpandedRowKeys:GS,class:I2,fixed:Boolean,style:{type:we(Object)},width:Uo,height:Uo,maxHeight:Number,useIsScrolling:Boolean,indentSize:{type:Number,default:12},iconSize:{type:Number,default:12},hScrollbarSize:ia.hScrollbarSize,vScrollbarSize:ia.vScrollbarSize,scrollbarAlwaysOn:a2.alwaysOn,sortBy:{type:we(Object),default:()=>({})},sortState:{type:we(Object),default:void 0},onColumnSort:{type:we(Function)},onExpandedRowsChange:{type:we(Function)},onEndReached:{type:we(Function)},onRowExpand:Xo.onRowExpand,onScroll:Pf.onScroll,onRowsRendered:Pf.onRowsRendered,rowEventHandlers:Xo.rowEventHandlers}),ny=(t,{slots:e})=>{var n;const{cellData:i,style:r}=t,a=((n=i==null?void 0:i.toString)==null?void 0:n.call(i))||"",u=Le(e,"default",t,()=>[a]);return oe("div",{class:t.class,title:a,style:r},[u])};ny.displayName="ElTableV2Cell";ny.inheritAttrs=!1;const iy=(t,{slots:e})=>Le(e,"default",t,()=>{var n,i;return[oe("div",{class:t.class,title:(n=t.column)==null?void 0:n.title},[(i=t.column)==null?void 0:i.title])]});iy.displayName="ElTableV2HeaderCell";iy.inheritAttrs=!1;const AJ=We({class:String,columns:rd,columnsStyles:{type:we(Object),required:!0},headerIndex:Number,style:{type:we(Object)}}),RJ=se({name:"ElTableV2HeaderRow",props:AJ,setup(t,{slots:e}){return()=>{const{columns:n,columnsStyles:i,headerIndex:r,style:a}=t;let u=n.map((s,o)=>e.cell({columns:n,column:s,columnIndex:o,headerIndex:r,style:i[s.key]}));return e.header&&(u=e.header({cells:u.map(s=>qe(s)&&s.length===1?s[0]:s),columns:n,headerIndex:r})),oe("div",{class:t.class,style:a,role:"row"},[u])}}}),PJ="ElTableV2Header",OJ=se({name:PJ,props:ty,setup(t,{slots:e,expose:n}){const i=Ve("table-v2"),r=Y(),a=P(()=>Qs({width:t.width,height:t.height})),u=P(()=>Qs({width:t.rowWidth,height:t.height})),s=P(()=>ca(y(t.headerHeight))),o=l=>{const d=y(r);it(()=>{d!=null&&d.scroll&&d.scroll({left:l})})},c=()=>{const l=i.e("fixed-header-row"),{columns:d,fixedHeaderData:h,rowHeight:p}=t;return h==null?void 0:h.map((g,m)=>{var v;const b=Qs({height:p,width:"100%"});return(v=e.fixed)==null?void 0:v.call(e,{class:l,columns:d,rowData:g,rowIndex:-(m+1),style:b})})},f=()=>{const l=i.e("dynamic-header-row"),{columns:d}=t;return y(s).map((h,p)=>{var g;const m=Qs({width:"100%",height:h});return(g=e.dynamic)==null?void 0:g.call(e,{class:l,columns:d,headerIndex:p,style:m})})};return n({scrollToLeft:o}),()=>{if(!(t.height<=0))return oe("div",{ref:r,class:t.class,style:y(a),role:"rowgroup"},[oe("div",{style:y(u),class:i.e("header")},[f(),c()])])}}}),kJ=t=>{const{isScrolling:e}=Je(Q0),n=Y(!1),i=Y(),r=P(()=>ot(t.estimatedRowHeight)&&t.rowIndex>=0),a=(o=!1)=>{const c=y(i);if(!c)return;const{columns:f,onRowHeightChange:l,rowKey:d,rowIndex:h,style:p}=t,{height:g}=c.getBoundingClientRect();n.value=!0,it(()=>{if(o||g!==Number.parseInt(p.height)){const m=f[0],v=(m==null?void 0:m.placeholderSign)===Lu;l==null||l({rowKey:d,height:g,rowIndex:h},m&&!v&&m.fixed)}})},u=P(()=>{const{rowData:o,rowIndex:c,rowKey:f,onRowHover:l}=t,d=t.rowEventHandlers||{},h={};return Object.entries(d).forEach(([p,g])=>{at(g)&&(h[p]=m=>{g({event:m,rowData:o,rowIndex:c,rowKey:f})})}),l&&[{name:"onMouseleave",hovered:!1},{name:"onMouseenter",hovered:!0}].forEach(({name:p,hovered:g})=>{const m=h[p];h[p]=v=>{l({event:v,hovered:g,rowData:o,rowIndex:c,rowKey:f}),m==null||m(v)}}),h}),s=o=>{const{onRowExpand:c,rowData:f,rowIndex:l,rowKey:d}=t;c==null||c({expanded:o,rowData:f,rowIndex:l,rowKey:d})};return ht(()=>{y(r)&&a(!0)}),{isScrolling:e,measurable:r,measured:n,rowRef:i,eventHandlers:u,onExpand:s}},LJ="ElTableV2TableRow",IJ=se({name:LJ,props:Xo,setup(t,{expose:e,slots:n,attrs:i}){const{eventHandlers:r,isScrolling:a,measurable:u,measured:s,rowRef:o,onExpand:c}=kJ(t);return e({onExpand:c}),()=>{const{columns:f,columnsStyles:l,expandColumnKey:d,depth:h,rowData:p,rowIndex:g,style:m}=t;let v=f.map((b,_)=>{const S=qe(p.children)&&p.children.length>0&&b.key===d;return n.cell({column:b,columns:f,columnIndex:_,depth:h,style:l[b.key],rowData:p,rowIndex:g,isScrolling:y(a),expandIconProps:S?{rowData:p,rowIndex:g,onExpand:c}:void 0})});if(n.row&&(v=n.row({cells:v.map(b=>qe(b)&&b.length===1?b[0]:b),style:m,columns:f,depth:h,rowData:p,rowIndex:g,isScrolling:y(a)})),y(u)){const{height:b,..._}=m||{},S=y(s);return oe("div",xt({ref:o,class:t.class,style:S?m:_,role:"row"},i,y(r)),[v])}return oe("div",xt(i,{ref:o,class:t.class,style:m,role:"row"},y(r)),[v])}}}),DJ=t=>{const{sortOrder:e}=t;return oe(et,{size:14,class:t.class},{default:()=>[e===Ou.ASC?oe(nB,null,null):oe(eB,null,null)]})},NJ=t=>{const{expanded:e,expandable:n,onExpand:i,style:r,size:a}=t,u={onClick:n?()=>i(!e):void 0,class:t.class};return oe(et,xt(u,{size:a,style:r}),{default:()=>[oe(vi,null,null)]})},FJ="ElTableV2Grid",BJ=t=>{const e=Y(),n=Y(),i=P(()=>{const{data:g,rowHeight:m,estimatedRowHeight:v}=t;if(!v)return g.length*m}),r=P(()=>{const{fixedData:g,rowHeight:m}=t;return((g==null?void 0:g.length)||0)*m}),a=P(()=>Rf(t.headerHeight)),u=P(()=>{const{height:g}=t;return Math.max(0,g-y(a)-y(r))}),s=P(()=>y(a)+y(r)>0),o=({data:g,rowIndex:m})=>g[m][t.rowKey];function c({rowCacheStart:g,rowCacheEnd:m,rowVisibleStart:v,rowVisibleEnd:b}){var _;(_=t.onRowsRendered)==null||_.call(t,{rowCacheStart:g,rowCacheEnd:m,rowVisibleStart:v,rowVisibleEnd:b})}function f(g,m){var v;(v=n.value)==null||v.resetAfterRowIndex(g,m)}function l(g,m){const v=y(e),b=y(n);!v||!b||(bt(g)?(v.scrollToLeft(g.scrollLeft),b.scrollTo(g)):(v.scrollToLeft(g),b.scrollTo({scrollLeft:g,scrollTop:m})))}function d(g){var m;(m=y(n))==null||m.scrollTo({scrollTop:g})}function h(g,m){var v;(v=y(n))==null||v.scrollToItem(g,1,m)}function p(){var g,m;(g=y(n))==null||g.$forceUpdate(),(m=y(e))==null||m.$forceUpdate()}return{bodyRef:n,forceUpdate:p,fixedRowHeight:r,gridHeight:u,hasHeader:s,headerHeight:a,headerRef:e,totalHeight:i,itemKey:o,onItemRendered:c,resetAfterRowIndex:f,scrollTo:l,scrollToTop:d,scrollToRow:h}},ry=se({name:FJ,props:Pf,setup(t,{slots:e,expose:n}){const{ns:i}=Je(Q0),{bodyRef:r,fixedRowHeight:a,gridHeight:u,hasHeader:s,headerRef:o,headerHeight:c,totalHeight:f,forceUpdate:l,itemKey:d,onItemRendered:h,resetAfterRowIndex:p,scrollTo:g,scrollToTop:m,scrollToRow:v}=BJ(t);n({forceUpdate:l,totalHeight:f,scrollTo:g,scrollToTop:m,scrollToRow:v,resetAfterRowIndex:p});const b=()=>t.bodyWidth;return()=>{const{cache:_,columns:S,data:w,fixedData:C,useIsScrolling:x,scrollbarAlwaysOn:M,scrollbarEndGap:E,scrollbarStartGap:A,style:O,rowHeight:I,bodyWidth:$,estimatedRowHeight:H,headerWidth:B,height:N,width:k,getRowHeight:D,onScroll:T}=t,R=ot(H),V=R?C7:b7,U=y(c);return oe("div",{role:"table",class:[i.e("table"),t.class],style:O},[oe(V,{ref:r,data:w,useIsScrolling:x,itemKey:d,columnCache:0,columnWidth:R?b:$,totalColumn:1,totalRow:w.length,rowCache:_,rowHeight:R?D:I,width:k,height:y(u),class:i.e("body"),role:"rowgroup",scrollbarStartGap:A,scrollbarEndGap:E,scrollbarAlwaysOn:M,onScroll:T,onItemRendered:h,perfMode:!1},{default:X=>{var W;const j=w[X.rowIndex];return(W=e.row)==null?void 0:W.call(e,{...X,columns:S,rowData:j})}}),y(s)&&oe(OJ,{ref:o,class:i.e("header-wrapper"),columns:S,headerData:w,headerHeight:t.headerHeight,fixedHeaderData:C,rowWidth:B,rowHeight:I,width:k,height:Math.min(U+y(a),N)},{dynamic:e.header,fixed:e.row})])}}});function UJ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!un(t)}const VJ=(t,{slots:e})=>{const{mainTableRef:n,...i}=t;return oe(ry,xt({ref:n},i),UJ(e)?e:{default:()=>[e]})};function $J(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!un(t)}const HJ=(t,{slots:e})=>{if(!t.columns.length)return;const{leftTableRef:n,...i}=t;return oe(ry,xt({ref:n},i),$J(e)?e:{default:()=>[e]})};function zJ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!un(t)}const WJ=(t,{slots:e})=>{if(!t.columns.length)return;const{rightTableRef:n,...i}=t;return oe(ry,xt({ref:n},i),zJ(e)?e:{default:()=>[e]})};function GJ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!un(t)}const jJ=(t,{slots:e})=>{const{columns:n,columnsStyles:i,depthMap:r,expandColumnKey:a,expandedRowKeys:u,estimatedRowHeight:s,hasFixedColumns:o,rowData:c,rowIndex:f,style:l,isScrolling:d,rowProps:h,rowClass:p,rowKey:g,rowEventHandlers:m,ns:v,onRowHovered:b,onRowExpanded:_}=t,S=ma(p,{columns:n,rowData:c,rowIndex:f},""),w=ma(h,{columns:n,rowData:c,rowIndex:f}),C=c[g],x=r[C]||0,M=!!a,E=f<0,A=[v.e("row"),S,{[v.e(`row-depth-${x}`)]:M&&f>=0,[v.is("expanded")]:M&&u.includes(C),[v.is("fixed")]:!x&&E,[v.is("customized")]:!!e.row}],O=o?b:void 0,I={...w,columns:n,columnsStyles:i,class:A,depth:x,expandColumnKey:a,estimatedRowHeight:E?void 0:s,isScrolling:d,rowIndex:f,rowData:c,rowKey:C,rowEventHandlers:m,style:l};return oe(IJ,xt(I,{onRowExpand:_,onMouseenter:B=>{O==null||O({hovered:!0,rowKey:C,event:B,rowData:c,rowIndex:f})},onMouseleave:B=>{O==null||O({hovered:!1,rowKey:C,event:B,rowData:c,rowIndex:f})},rowkey:C}),GJ(e)?e:{default:()=>[e]})},Ng=({columns:t,column:e,columnIndex:n,depth:i,expandIconProps:r,isScrolling:a,rowData:u,rowIndex:s,style:o,expandedRowKeys:c,ns:f,cellProps:l,expandColumnKey:d,indentSize:h,iconSize:p,rowKey:g},{slots:m})=>{const v=Qs(o);if(e.placeholderSign===Lu)return oe("div",{class:f.em("row-cell","placeholder"),style:v},null);const{cellRenderer:b,dataKey:_,dataGetter:S}=e,w=at(S)?S({columns:t,column:e,columnIndex:n,rowData:u,rowIndex:s}):Sn(u,_??""),C=ma(l,{cellData:w,columns:t,column:e,columnIndex:n,rowIndex:s,rowData:u}),x={class:f.e("cell-text"),columns:t,column:e,columnIndex:n,cellData:w,isScrolling:a,rowData:u,rowIndex:s},M=L2(b),E=M?M(x):Le(m,"default",x,()=>[oe(ny,x,null)]),A=[f.e("row-cell"),e.class,e.align===ku.CENTER&&f.is("align-center"),e.align===ku.RIGHT&&f.is("align-right")],O=s>=0&&d&&e.key===d,I=s>=0&&c.includes(u[g]);let $;const H=`margin-inline-start: ${i*h}px;`;return O&&(bt(r)?$=oe(NJ,xt(r,{class:[f.e("expand-icon"),f.is("expanded",I)],size:p,expanded:I,style:H,expandable:!0}),null):$=oe("div",{style:[H,`width: ${p}px; height: ${p}px;`].join(" ")},null)),oe("div",xt({class:A,style:v},C,{role:"cell"}),[$,E])};Ng.inheritAttrs=!1;function XJ(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!un(t)}const KJ=({columns:t,columnsStyles:e,headerIndex:n,style:i,headerClass:r,headerProps:a,ns:u},{slots:s})=>{const o={columns:t,headerIndex:n},c=[u.e("header-row"),ma(r,o,""),{[u.is("customized")]:!!s.header}],f={...ma(a,o),columnsStyles:e,class:c,columns:t,headerIndex:n,style:i};return oe(RJ,f,XJ(s)?s:{default:()=>[s]})},XS=(t,{slots:e})=>{const{column:n,ns:i,style:r,onColumnSorted:a}=t,u=Qs(r);if(n.placeholderSign===Lu)return oe("div",{class:i.em("header-row-cell","placeholder"),style:u},null);const{headerCellRenderer:s,headerClass:o,sortable:c}=n,f={...t,class:i.e("header-cell-text")},l=L2(s),d=l?l(f):Le(e,"default",f,()=>[oe(iy,f,null)]),{sortBy:h,sortState:p,headerCellProps:g}=t;let m,v;if(p){const S=p[n.key];m=!!Dg[S],v=m?S:Ou.ASC}else m=n.key===h.key,v=m?h.order:Ou.ASC;const b=[i.e("header-cell"),ma(o,t,""),n.align===ku.CENTER&&i.is("align-center"),n.align===ku.RIGHT&&i.is("align-right"),c&&i.is("sortable")],_={...ma(g,t),onClick:n.sortable?a:void 0,class:b,style:u,"data-key":n.key};return oe("div",xt(_,{role:"columnheader"}),[d,c&&oe(DJ,{class:[i.e("sort-icon"),m&&i.is("sorting")],sortOrder:v},null)])},F2=(t,{slots:e})=>{var n;return oe("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};F2.displayName="ElTableV2Footer";const B2=(t,{slots:e})=>{const n=Le(e,"default",{},()=>[oe(HM,null,null)]);return oe("div",{class:t.class,style:t.style},[n])};B2.displayName="ElTableV2Empty";const U2=(t,{slots:e})=>{var n;return oe("div",{class:t.class,style:t.style},[(n=e.default)==null?void 0:n.call(e)])};U2.displayName="ElTableV2Overlay";function Cc(t){return typeof t=="function"||Object.prototype.toString.call(t)==="[object Object]"&&!un(t)}const YJ="ElTableV2",qJ=se({name:YJ,props:MJ,setup(t,{slots:e,expose:n}){const i=Ve("table-v2"),{columnsStyles:r,fixedColumnsOnLeft:a,fixedColumnsOnRight:u,mainColumns:s,mainTableHeight:o,fixedTableHeight:c,leftTableWidth:f,rightTableWidth:l,data:d,depthMap:h,expandedRowKeys:p,hasFixedColumns:g,mainTableRef:m,leftTableRef:v,rightTableRef:b,isDynamic:_,isResetting:S,isScrolling:w,bodyWidth:C,emptyStyle:x,rootStyle:M,headerWidth:E,footerHeight:A,showEmpty:O,scrollTo:I,scrollToLeft:$,scrollToTop:H,scrollToRow:B,getRowHeight:N,onColumnSorted:k,onRowHeightChange:D,onRowHovered:T,onRowExpanded:R,onRowsRendered:V,onScroll:U,onVerticalScroll:X}=TJ(t);return n({scrollTo:I,scrollToLeft:$,scrollToTop:H,scrollToRow:B}),Mt(Q0,{ns:i,isResetting:S,isScrolling:w}),()=>{const{cache:W,cellProps:j,estimatedRowHeight:K,expandColumnKey:z,fixedData:ee,headerHeight:ue,headerClass:ne,headerProps:le,headerCellProps:Me,sortBy:q,sortState:J,rowHeight:ce,rowClass:pe,rowEventHandlers:re,rowKey:he,rowProps:Ce,scrollbarAlwaysOn:Oe,indentSize:ke,iconSize:G,useIsScrolling:Z,vScrollbarSize:_e,width:de}=t,Re=y(d),Fe={cache:W,class:i.e("main"),columns:y(s),data:Re,fixedData:ee,estimatedRowHeight:K,bodyWidth:y(C)+_e,headerHeight:ue,headerWidth:y(E),height:y(o),mainTableRef:m,rowKey:he,rowHeight:ce,scrollbarAlwaysOn:Oe,scrollbarStartGap:2,scrollbarEndGap:_e,useIsScrolling:Z,width:de,getRowHeight:N,onRowsRendered:V,onScroll:U},ye=y(f),Ne=y(c),Ae={cache:W,class:i.e("left"),columns:y(a),data:Re,estimatedRowHeight:K,leftTableRef:v,rowHeight:ce,bodyWidth:ye,headerWidth:ye,headerHeight:ue,height:Ne,rowKey:he,scrollbarAlwaysOn:Oe,scrollbarStartGap:2,scrollbarEndGap:_e,useIsScrolling:Z,width:ye,getRowHeight:N,onScroll:X},ae=y(l)+_e,fe={cache:W,class:i.e("right"),columns:y(u),data:Re,estimatedRowHeight:K,rightTableRef:b,rowHeight:ce,bodyWidth:ae,headerWidth:ae,headerHeight:ue,height:Ne,rowKey:he,scrollbarAlwaysOn:Oe,scrollbarStartGap:2,scrollbarEndGap:_e,width:ae,style:`--${y(i.namespace)}-table-scrollbar-size: ${_e}px`,useIsScrolling:Z,getRowHeight:N,onScroll:X},ie=y(r),ge={ns:i,depthMap:y(h),columnsStyles:ie,expandColumnKey:z,expandedRowKeys:y(p),estimatedRowHeight:K,hasFixedColumns:y(g),rowProps:Ce,rowClass:pe,rowKey:he,rowEventHandlers:re,onRowHovered:T,onRowExpanded:R,onRowHeightChange:D},De={cellProps:j,expandColumnKey:z,indentSize:ke,iconSize:G,rowKey:he,expandedRowKeys:y(p),ns:i},me={ns:i,headerClass:ne,headerProps:le,columnsStyles:ie},Xe={ns:i,sortBy:q,sortState:J,headerCellProps:Me,onColumnSorted:k},be={row:st=>oe(jJ,xt(st,ge),{row:e.row,cell:Ze=>{let At;return e.cell?oe(Ng,xt(Ze,De,{style:ie[Ze.column.key]}),Cc(At=e.cell(Ze))?At:{default:()=>[At]}):oe(Ng,xt(Ze,De,{style:ie[Ze.column.key]}),null)}}),header:st=>oe(KJ,xt(st,me),{header:e.header,cell:Ze=>{let At;return e["header-cell"]?oe(XS,xt(Ze,Xe,{style:ie[Ze.column.key]}),Cc(At=e["header-cell"](Ze))?At:{default:()=>[At]}):oe(XS,xt(Ze,Xe,{style:ie[Ze.column.key]}),null)}})},He=[t.class,i.b(),i.e("root"),{[i.is("dynamic")]:y(_)}],Ye={class:i.e("footer"),style:y(A)};return oe("div",{class:He,style:y(M)},[oe(VJ,Fe,Cc(be)?be:{default:()=>[be]}),oe(HJ,Ae,Cc(be)?be:{default:()=>[be]}),oe(WJ,fe,Cc(be)?be:{default:()=>[be]}),e.footer&&oe(F2,Ye,{default:e.footer}),y(O)&&oe(B2,{class:i.e("empty"),style:y(x)},{default:e.empty}),e.overlay&&oe(U2,{class:i.e("overlay")},{default:e.overlay})])}}}),ZJ=We({disableWidth:Boolean,disableHeight:Boolean,onResize:{type:we(Function)}}),JJ=se({name:"ElAutoResizer",props:ZJ,setup(t,{slots:e}){const n=Ve("auto-resizer"),{height:i,width:r,sizer:a}=xJ(t),u={width:"100%",height:"100%"};return()=>{var s;return oe("div",{ref:a,class:n.b(),style:u},[(s=e.default)==null?void 0:s.call(e,{height:i.value,width:r.value})])}}}),QJ=gt(qJ),eQ=gt(JJ),Jh=Symbol("tabsRootContextKey"),tQ=We({tabs:{type:we(Array),default:()=>fn([])}}),V2="ElTabBar",nQ=se({name:V2}),iQ=se({...nQ,props:tQ,setup(t,{expose:e}){const n=t,i=mt(),r=Je(Jh);r||Rn(V2,"<el-tabs><el-tab-bar /></el-tabs>");const a=Ve("tabs"),u=Y(),s=Y(),o=()=>{let f=0,l=0;const d=["top","bottom"].includes(r.props.tabPosition)?"width":"height",h=d==="width"?"x":"y",p=h==="x"?"left":"top";return n.tabs.every(g=>{var m,v;const b=(v=(m=i.parent)==null?void 0:m.refs)==null?void 0:v[`tab-${g.uid}`];if(!b)return!1;if(!g.active)return!0;f=b[`offset${Ir(p)}`],l=b[`client${Ir(d)}`];const _=window.getComputedStyle(b);return d==="width"&&(n.tabs.length>1&&(l-=Number.parseFloat(_.paddingLeft)+Number.parseFloat(_.paddingRight)),f+=Number.parseFloat(_.paddingLeft)),!1}),{[d]:`${l}px`,transform:`translate${Ir(h)}(${f}px)`}},c=()=>s.value=o();return Be(()=>n.tabs,async()=>{await it(),c()},{immediate:!0}),dn(u,()=>c()),e({ref:u,update:c}),(f,l)=>(L(),Q("div",{ref_key:"barRef",ref:u,class:F([y(a).e("active-bar"),y(a).is(y(r).props.tabPosition)]),style:Qe(s.value)},null,6))}});var rQ=Ge(iQ,[["__file","tab-bar.vue"]]);const sQ=We({panes:{type:we(Array),default:()=>fn([])},currentName:{type:[String,Number],default:""},editable:Boolean,type:{type:String,values:["card","border-card",""],default:""},stretch:Boolean}),oQ={tabClick:(t,e,n)=>n instanceof Event,tabRemove:(t,e)=>e instanceof Event},KS="ElTabNav",aQ=se({name:KS,props:sQ,emits:oQ,setup(t,{expose:e,emit:n}){const i=mt(),r=Je(Jh);r||Rn(KS,"<el-tabs><tab-nav /></el-tabs>");const a=Ve("tabs"),u=nk(),s=pk(),o=Y(),c=Y(),f=Y(),l=Y(),d=Y(!1),h=Y(0),p=Y(!1),g=Y(!0),m=P(()=>["top","bottom"].includes(r.props.tabPosition)?"width":"height"),v=P(()=>({transform:`translate${m.value==="width"?"X":"Y"}(-${h.value}px)`})),b=()=>{if(!o.value)return;const E=o.value[`offset${Ir(m.value)}`],A=h.value;if(!A)return;const O=A>E?A-E:0;h.value=O},_=()=>{if(!o.value||!c.value)return;const E=c.value[`offset${Ir(m.value)}`],A=o.value[`offset${Ir(m.value)}`],O=h.value;if(E-O<=A)return;const I=E-O>A*2?O+A:E-A;h.value=I},S=async()=>{const E=c.value;if(!d.value||!f.value||!o.value||!E)return;await it();const A=f.value.querySelector(".is-active");if(!A)return;const O=o.value,I=["top","bottom"].includes(r.props.tabPosition),$=A.getBoundingClientRect(),H=O.getBoundingClientRect(),B=I?E.offsetWidth-H.width:E.offsetHeight-H.height,N=h.value;let k=N;I?($.left<H.left&&(k=N-(H.left-$.left)),$.right>H.right&&(k=N+$.right-H.right)):($.top<H.top&&(k=N-(H.top-$.top)),$.bottom>H.bottom&&(k=N+($.bottom-H.bottom))),k=Math.max(k,0),h.value=Math.min(k,B)},w=()=>{var E;if(!c.value||!o.value)return;t.stretch&&((E=l.value)==null||E.update());const A=c.value[`offset${Ir(m.value)}`],O=o.value[`offset${Ir(m.value)}`],I=h.value;O<A?(d.value=d.value||{},d.value.prev=I,d.value.next=I+O<A,A-I<O&&(h.value=A-O)):(d.value=!1,I>0&&(h.value=0))},C=E=>{const A=E.code,{up:O,down:I,left:$,right:H}=nt;if(![O,I,$,H].includes(A))return;const B=Array.from(E.currentTarget.querySelectorAll("[role=tab]:not(.is-disabled)")),N=B.indexOf(E.target);let k;A===$||A===O?N===0?k=B.length-1:k=N-1:N<B.length-1?k=N+1:k=0,B[k].focus({preventScroll:!0}),B[k].click(),x()},x=()=>{g.value&&(p.value=!0)},M=()=>p.value=!1;return Be(u,E=>{E==="hidden"?g.value=!1:E==="visible"&&setTimeout(()=>g.value=!0,50)}),Be(s,E=>{E?setTimeout(()=>g.value=!0,50):g.value=!1}),dn(f,w),ht(()=>setTimeout(()=>S(),0)),Ss(()=>w()),e({scrollToActiveTab:S,removeFocus:M}),Be(()=>t.panes,()=>i.update(),{flush:"post",deep:!0}),()=>{const E=d.value?[oe("span",{class:[a.e("nav-prev"),a.is("disabled",!d.value.prev)],onClick:b},[oe(et,null,{default:()=>[oe(uo,null,null)]})]),oe("span",{class:[a.e("nav-next"),a.is("disabled",!d.value.next)],onClick:_},[oe(et,null,{default:()=>[oe(vi,null,null)]})])]:null,A=t.panes.map((O,I)=>{var $,H,B,N;const k=O.uid,D=O.props.disabled,T=(H=($=O.props.name)!=null?$:O.index)!=null?H:`${I}`,R=!D&&(O.isClosable||t.editable);O.index=`${I}`;const V=R?oe(et,{class:"is-icon-close",onClick:W=>n("tabRemove",O,W)},{default:()=>[oe(Cr,null,null)]}):null,U=((N=(B=O.slots).label)==null?void 0:N.call(B))||O.props.label,X=!D&&O.active?0:-1;return oe("div",{ref:`tab-${k}`,class:[a.e("item"),a.is(r.props.tabPosition),a.is("active",O.active),a.is("disabled",D),a.is("closable",R),a.is("focus",p.value)],id:`tab-${T}`,key:`tab-${k}`,"aria-controls":`pane-${T}`,role:"tab","aria-selected":O.active,tabindex:X,onFocus:()=>x(),onBlur:()=>M(),onClick:W=>{M(),n("tabClick",O,T,W)},onKeydown:W=>{R&&(W.code===nt.delete||W.code===nt.backspace)&&n("tabRemove",O,W)}},[U,V])});return oe("div",{ref:f,class:[a.e("nav-wrap"),a.is("scrollable",!!d.value),a.is(r.props.tabPosition)]},[E,oe("div",{class:a.e("nav-scroll"),ref:o},[oe("div",{class:[a.e("nav"),a.is(r.props.tabPosition),a.is("stretch",t.stretch&&["top","bottom"].includes(r.props.tabPosition))],ref:c,style:v.value,role:"tablist",onKeydown:C},[t.type?null:oe(rQ,{ref:l,tabs:[...t.panes]},null),A])])])}}}),lQ=We({type:{type:String,values:["card","border-card",""],default:""},closable:Boolean,addable:Boolean,modelValue:{type:[String,Number]},editable:Boolean,tabPosition:{type:String,values:["top","right","bottom","left"],default:"top"},beforeLeave:{type:we(Function),default:()=>!0},stretch:Boolean}),$p=t=>ct(t)||ot(t),cQ={[_t]:t=>$p(t),tabClick:(t,e)=>e instanceof Event,tabChange:t=>$p(t),edit:(t,e)=>["remove","add"].includes(e),tabRemove:t=>$p(t),tabAdd:()=>!0},uQ=se({name:"ElTabs",props:lQ,emits:cQ,setup(t,{emit:e,slots:n,expose:i}){var r;const a=Ve("tabs"),{children:u,addChild:s,removeChild:o}=T0(mt(),"ElTabPane"),c=Y(),f=Y((r=t.modelValue)!=null?r:"0"),l=async(g,m=!1)=>{var v,b,_;if(!(f.value===g||xn(g)))try{await((v=t.beforeLeave)==null?void 0:v.call(t,g,f.value))!==!1&&(f.value=g,m&&(e(_t,g),e("tabChange",g)),(_=(b=c.value)==null?void 0:b.removeFocus)==null||_.call(b))}catch{}},d=(g,m,v)=>{g.props.disabled||(l(m,!0),e("tabClick",g,v))},h=(g,m)=>{g.props.disabled||xn(g.props.name)||(m.stopPropagation(),e("edit",g.props.name,"remove"),e("tabRemove",g.props.name))},p=()=>{e("edit",void 0,"add"),e("tabAdd")};return Be(()=>t.modelValue,g=>l(g)),Be(f,async()=>{var g;await it(),(g=c.value)==null||g.scrollToActiveTab()}),Mt(Jh,{props:t,currentName:f,registerPane:s,unregisterPane:o}),i({currentName:f}),()=>{const g=n["add-icon"],m=t.editable||t.addable?oe("span",{class:a.e("new-tab"),tabindex:"0",onClick:p,onKeydown:_=>{_.code===nt.enter&&p()}},[g?Le(n,"add-icon"):oe(et,{class:a.is("icon-plus")},{default:()=>[oe(gT,null,null)]})]):null,v=oe("div",{class:[a.e("header"),a.is(t.tabPosition)]},[m,oe(aQ,{ref:c,currentName:f.value,editable:t.editable,type:t.type,panes:u.value,stretch:t.stretch,onTabClick:d,onTabRemove:h},null)]),b=oe("div",{class:a.e("content")},[Le(n,"default")]);return oe("div",{class:[a.b(),a.m(t.tabPosition),{[a.m("card")]:t.type==="card",[a.m("border-card")]:t.type==="border-card"}]},[...t.tabPosition!=="bottom"?[v,b]:[b,v]])}}}),dQ=We({label:{type:String,default:""},name:{type:[String,Number]},closable:Boolean,disabled:Boolean,lazy:Boolean}),fQ=["id","aria-hidden","aria-labelledby"],$2="ElTabPane",hQ=se({name:$2}),pQ=se({...hQ,props:dQ,setup(t){const e=t,n=mt(),i=Un(),r=Je(Jh);r||Rn($2,"usage: <el-tabs><el-tab-pane /></el-tabs/>");const a=Ve("tab-pane"),u=Y(),s=P(()=>e.closable||r.props.closable),o=xb(()=>{var h;return r.currentName.value===((h=e.name)!=null?h:u.value)}),c=Y(o.value),f=P(()=>{var h;return(h=e.name)!=null?h:u.value}),l=xb(()=>!e.lazy||c.value||o.value);Be(o,h=>{h&&(c.value=!0)});const d=$t({uid:n.uid,slots:i,props:e,paneName:f,active:o,index:u,isClosable:s});return ht(()=>{r.registerPane(d)}),yo(()=>{r.unregisterPane(d.uid)}),(h,p)=>y(l)?ft((L(),Q("div",{key:0,id:`pane-${y(f)}`,class:F(y(a).b()),role:"tabpanel","aria-hidden":!y(o),"aria-labelledby":`tab-${y(f)}`},[Le(h.$slots,"default")],10,fQ)),[[Nt,y(o)]]):Ee("v-if",!0)}});var H2=Ge(pQ,[["__file","tab-pane.vue"]]);const mQ=gt(uQ,{TabPane:H2}),gQ=hn(H2),vQ=We({type:{type:String,values:["primary","success","info","warning","danger",""],default:""},size:{type:String,values:zr,default:""},truncated:{type:Boolean},lineClamp:{type:[String,Number]},tag:{type:String,default:"span"}}),yQ=se({name:"ElText"}),bQ=se({...yQ,props:vQ,setup(t){const e=t,n=Mn(),i=Ve("text"),r=P(()=>[i.b(),i.m(e.type),i.m(n.value),i.is("truncated",e.truncated),i.is("line-clamp",!xn(e.lineClamp))]);return(a,u)=>(L(),Pe(wt(a.tag),{class:F(y(r)),style:Qe({"-webkit-line-clamp":a.lineClamp})},{default:ve(()=>[Le(a.$slots,"default")]),_:3},8,["class","style"]))}});var _Q=Ge(bQ,[["__file","text.vue"]]);const SQ=gt(_Q),wQ=We({format:{type:String,default:"HH:mm"},modelValue:String,disabled:Boolean,editable:{type:Boolean,default:!0},effect:{type:String,default:"light"},clearable:{type:Boolean,default:!0},size:kn,placeholder:String,start:{type:String,default:"09:00"},end:{type:String,default:"18:00"},step:{type:String,default:"00:30"},minTime:String,maxTime:String,name:String,prefixIcon:{type:we([String,Object]),default:()=>mT},clearIcon:{type:we([String,Object]),default:()=>_o},...ac}),rs=t=>{const e=(t||"").split(":");if(e.length>=2){let n=Number.parseInt(e[0],10);const i=Number.parseInt(e[1],10),r=t.toUpperCase();return r.includes("AM")&&n===12?n=0:r.includes("PM")&&n!==12&&(n+=12),{hours:n,minutes:i}}return null},Hp=(t,e)=>{const n=rs(t);if(!n)return-1;const i=rs(e);if(!i)return-1;const r=n.minutes+n.hours*60,a=i.minutes+i.hours*60;return r===a?0:r>a?1:-1},YS=t=>`${t}`.padStart(2,"0"),il=t=>`${YS(t.hours)}:${YS(t.minutes)}`,CQ=(t,e)=>{const n=rs(t);if(!n)return"";const i=rs(e);if(!i)return"";const r={hours:n.hours,minutes:n.minutes};return r.minutes+=i.minutes,r.hours+=i.hours,r.hours+=Math.floor(r.minutes/60),r.minutes=r.minutes%60,il(r)},xQ=se({name:"ElTimeSelect"}),TQ=se({...xQ,props:wQ,emits:["change","blur","focus","update:modelValue"],setup(t,{expose:e}){const n=t;yt.extend(k0);const{Option:i}=pa,r=Ve("input"),a=Y(),u=wi(),{lang:s}=Dt(),o=P(()=>n.modelValue),c=P(()=>{const v=rs(n.start);return v?il(v):null}),f=P(()=>{const v=rs(n.end);return v?il(v):null}),l=P(()=>{const v=rs(n.step);return v?il(v):null}),d=P(()=>{const v=rs(n.minTime||"");return v?il(v):null}),h=P(()=>{const v=rs(n.maxTime||"");return v?il(v):null}),p=P(()=>{const v=[];if(n.start&&n.end&&n.step){let b=c.value,_;for(;b&&f.value&&Hp(b,f.value)<=0;)_=yt(b,"HH:mm").locale(s.value).format(n.format),v.push({value:_,disabled:Hp(b,d.value||"-1:-1")<=0||Hp(b,h.value||"100:100")>=0}),b=CQ(b,l.value)}return v});return e({blur:()=>{var v,b;(b=(v=a.value)==null?void 0:v.blur)==null||b.call(v)},focus:()=>{var v,b;(b=(v=a.value)==null?void 0:v.focus)==null||b.call(v)}}),(v,b)=>(L(),Pe(y(pa),{ref_key:"select",ref:a,"model-value":y(o),disabled:y(u),clearable:v.clearable,"clear-icon":v.clearIcon,size:v.size,effect:v.effect,placeholder:v.placeholder,"default-first-option":"",filterable:v.editable,"empty-values":v.emptyValues,"value-on-clear":v.valueOnClear,"onUpdate:modelValue":b[0]||(b[0]=_=>v.$emit("update:modelValue",_)),onChange:b[1]||(b[1]=_=>v.$emit("change",_)),onBlur:b[2]||(b[2]=_=>v.$emit("blur",_)),onFocus:b[3]||(b[3]=_=>v.$emit("focus",_))},{prefix:ve(()=>[v.prefixIcon?(L(),Pe(y(et),{key:0,class:F(y(r).e("prefix-icon"))},{default:ve(()=>[(L(),Pe(wt(v.prefixIcon)))]),_:1},8,["class"])):Ee("v-if",!0)]),default:ve(()=>[(L(!0),Q(tt,null,Tt(y(p),_=>(L(),Pe(y(i),{key:_.value,label:_.value,value:_.value,disabled:_.disabled},null,8,["label","value","disabled"]))),128))]),_:1},8,["model-value","disabled","clearable","clear-icon","size","effect","placeholder","filterable","empty-values","value-on-clear"]))}});var Of=Ge(TQ,[["__file","time-select.vue"]]);Of.install=t=>{t.component(Of.name,Of)};const EQ=Of,MQ=EQ,AQ=se({name:"ElTimeline",setup(t,{slots:e}){const n=Ve("timeline");return Mt("timeline",e),()=>rt("ul",{class:[n.b()]},[Le(e,"default")])}}),RQ=We({timestamp:{type:String,default:""},hideTimestamp:{type:Boolean,default:!1},center:{type:Boolean,default:!1},placement:{type:String,values:["top","bottom"],default:"bottom"},type:{type:String,values:["primary","success","warning","danger","info"],default:""},color:{type:String,default:""},size:{type:String,values:["normal","large"],default:"normal"},icon:{type:Kt},hollow:{type:Boolean,default:!1}}),PQ=se({name:"ElTimelineItem"}),OQ=se({...PQ,props:RQ,setup(t){const e=t,n=Ve("timeline-item"),i=P(()=>[n.e("node"),n.em("node",e.size||""),n.em("node",e.type||""),n.is("hollow",e.hollow)]);return(r,a)=>(L(),Q("li",{class:F([y(n).b(),{[y(n).e("center")]:r.center}])},[te("div",{class:F(y(n).e("tail"))},null,2),r.$slots.dot?Ee("v-if",!0):(L(),Q("div",{key:0,class:F(y(i)),style:Qe({backgroundColor:r.color})},[r.icon?(L(),Pe(y(et),{key:0,class:F(y(n).e("icon"))},{default:ve(()=>[(L(),Pe(wt(r.icon)))]),_:1},8,["class"])):Ee("v-if",!0)],6)),r.$slots.dot?(L(),Q("div",{key:1,class:F(y(n).e("dot"))},[Le(r.$slots,"dot")],2)):Ee("v-if",!0),te("div",{class:F(y(n).e("wrapper"))},[!r.hideTimestamp&&r.placement==="top"?(L(),Q("div",{key:0,class:F([y(n).e("timestamp"),y(n).is("top")])},je(r.timestamp),3)):Ee("v-if",!0),te("div",{class:F(y(n).e("content"))},[Le(r.$slots,"default")],2),!r.hideTimestamp&&r.placement==="bottom"?(L(),Q("div",{key:1,class:F([y(n).e("timestamp"),y(n).is("bottom")])},je(r.timestamp),3)):Ee("v-if",!0)],2)],2))}});var z2=Ge(OQ,[["__file","timeline-item.vue"]]);const kQ=gt(AQ,{TimelineItem:z2}),LQ=hn(z2),W2=We({nowrap:Boolean});var G2=(t=>(t.top="top",t.bottom="bottom",t.left="left",t.right="right",t))(G2||{});const IQ=Object.values(G2),sy=We({width:{type:Number,default:10},height:{type:Number,default:10},style:{type:we(Object),default:null}}),DQ=We({side:{type:we(String),values:IQ,required:!0}}),NQ=["absolute","fixed"],FQ=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],oy=We({ariaLabel:String,arrowPadding:{type:we(Number),default:5},effect:{type:String,default:""},contentClass:String,placement:{type:we(String),values:FQ,default:"bottom"},reference:{type:we(Object),default:null},offset:{type:Number,default:8},strategy:{type:we(String),values:NQ,default:"absolute"},showArrow:{type:Boolean,default:!1}}),ay=We({delayDuration:{type:Number,default:300},defaultOpen:Boolean,open:{type:Boolean,default:void 0},onOpenChange:{type:we(Function)},"onUpdate:open":{type:we(Function)}}),La={type:we(Function)},ly=We({onBlur:La,onClick:La,onFocus:La,onMouseDown:La,onMouseEnter:La,onMouseLeave:La}),BQ=We({...ay,...sy,...ly,...oy,alwaysOn:Boolean,fullTransition:Boolean,transitionProps:{type:we(Object),default:null},teleported:Boolean,to:{type:we(String),default:"body"}}),Qh=Symbol("tooltipV2"),j2=Symbol("tooltipV2Content"),zp="tooltip_v2.open",UQ=se({name:"ElTooltipV2Root"}),VQ=se({...UQ,props:ay,setup(t,{expose:e}){const n=t,i=Y(n.defaultOpen),r=Y(null),a=P({get:()=>ua(n.open)?i.value:n.open,set:m=>{var v;i.value=m,(v=n["onUpdate:open"])==null||v.call(n,m)}}),u=P(()=>ot(n.delayDuration)&&n.delayDuration>0),{start:s,stop:o}=aa(()=>{a.value=!0},P(()=>n.delayDuration),{immediate:!1}),c=Ve("tooltip-v2"),f=Jn(),l=()=>{o(),a.value=!0},d=()=>{y(u)?s():l()},h=l,p=()=>{o(),a.value=!1};return Be(a,m=>{var v;m&&(document.dispatchEvent(new CustomEvent(zp)),h()),(v=n.onOpenChange)==null||v.call(n,m)}),ht(()=>{document.addEventListener(zp,p)}),en(()=>{o(),document.removeEventListener(zp,p)}),Mt(Qh,{contentId:f,triggerRef:r,ns:c,onClose:p,onDelayOpen:d,onOpen:h}),e({onOpen:h,onClose:p}),(m,v)=>Le(m.$slots,"default",{open:y(a)})}});var $Q=Ge(VQ,[["__file","root.vue"]]);const HQ=se({name:"ElTooltipV2Arrow"}),zQ=se({...HQ,props:{...sy,...DQ},setup(t){const e=t,{ns:n}=Je(Qh),{arrowRef:i}=Je(j2),r=P(()=>{const{style:a,width:u,height:s}=e,o=n.namespace.value;return{[`--${o}-tooltip-v2-arrow-width`]:`${u}px`,[`--${o}-tooltip-v2-arrow-height`]:`${s}px`,[`--${o}-tooltip-v2-arrow-border-width`]:`${u/2}px`,[`--${o}-tooltip-v2-arrow-cover-width`]:u/2-1,...a||{}}});return(a,u)=>(L(),Q("span",{ref_key:"arrowRef",ref:i,style:Qe(y(r)),class:F(y(n).e("arrow"))},null,6))}});var qS=Ge(zQ,[["__file","arrow.vue"]]);const WQ=We({style:{type:we([String,Object,Array]),default:()=>({})}}),GQ=se({name:"ElVisuallyHidden"}),jQ=se({...GQ,props:WQ,setup(t){const e=t,n=P(()=>[e.style,{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}]);return(i,r)=>(L(),Q("span",xt(i.$attrs,{style:y(n)}),[Le(i.$slots,"default")],16))}});var XQ=Ge(jQ,[["__file","visual-hidden.vue"]]);const KQ=["data-side"],YQ=se({name:"ElTooltipV2Content"}),qQ=se({...YQ,props:{...oy,...W2},setup(t){const e=t,{triggerRef:n,contentId:i}=Je(Qh),r=Y(e.placement),a=Y(e.strategy),u=Y(null),{referenceRef:s,contentRef:o,middlewareData:c,x:f,y:l,update:d}=CU({placement:r,strategy:a,middleware:P(()=>{const _=[WT(e.offset)];return e.showArrow&&_.push(xU({arrowRef:u})),_})}),h=oc().nextZIndex(),p=Ve("tooltip-v2"),g=P(()=>r.value.split("-")[0]),m=P(()=>({position:y(a),top:`${y(l)||0}px`,left:`${y(f)||0}px`,zIndex:h})),v=P(()=>{if(!e.showArrow)return{};const{arrow:_}=y(c);return{[`--${p.namespace.value}-tooltip-v2-arrow-x`]:`${_==null?void 0:_.x}px`||"",[`--${p.namespace.value}-tooltip-v2-arrow-y`]:`${_==null?void 0:_.y}px`||""}}),b=P(()=>[p.e("content"),p.is("dark",e.effect==="dark"),p.is(y(a)),e.contentClass]);return Be(u,()=>d()),Be(()=>e.placement,_=>r.value=_),ht(()=>{Be(()=>e.reference||n.value,_=>{s.value=_||void 0},{immediate:!0})}),Mt(j2,{arrowRef:u}),(_,S)=>(L(),Q("div",{ref_key:"contentRef",ref:o,style:Qe(y(m)),"data-tooltip-v2-root":""},[_.nowrap?Ee("v-if",!0):(L(),Q("div",{key:0,"data-side":y(g),class:F(y(b))},[Le(_.$slots,"default",{contentStyle:y(m),contentClass:y(b)}),oe(y(XQ),{id:y(i),role:"tooltip"},{default:ve(()=>[_.ariaLabel?(L(),Q(tt,{key:0},[Et(je(_.ariaLabel),1)],64)):Le(_.$slots,"default",{key:1})]),_:3},8,["id"]),Le(_.$slots,"arrow",{style:Qe(y(v)),side:y(g)})],10,KQ))],4))}});var ZS=Ge(qQ,[["__file","content.vue"]]);const ZQ=We({setRef:{type:we(Function),required:!0},onlyChild:Boolean});var JQ=se({props:ZQ,setup(t,{slots:e}){const n=Y(),i=Fh(n,r=>{r?t.setRef(r.nextElementSibling):t.setRef(null)});return()=>{var r;const[a]=((r=e.default)==null?void 0:r.call(e))||[],u=t.onlyChild?bB(a.children):a.children;return oe(tt,{ref:i},[u])}}});const QQ=se({name:"ElTooltipV2Trigger"}),eee=se({...QQ,props:{...W2,...ly},setup(t){const e=t,{onClose:n,onOpen:i,onDelayOpen:r,triggerRef:a,contentId:u}=Je(Qh);let s=!1;const o=b=>{a.value=b},c=()=>{s=!1},f=vn(e.onMouseEnter,r),l=vn(e.onMouseLeave,n),d=vn(e.onMouseDown,()=>{n(),s=!0,document.addEventListener("mouseup",c,{once:!0})}),h=vn(e.onFocus,()=>{s||i()}),p=vn(e.onBlur,n),g=vn(e.onClick,b=>{b.detail===0&&n()}),m={blur:p,click:g,focus:h,mousedown:d,mouseenter:f,mouseleave:l},v=(b,_,S)=>{b&&Object.entries(_).forEach(([w,C])=>{b[S](w,C)})};return Be(a,(b,_)=>{v(b,m,"addEventListener"),v(_,m,"removeEventListener"),b&&b.setAttribute("aria-describedby",u.value)}),en(()=>{v(a.value,m,"removeEventListener"),document.removeEventListener("mouseup",c)}),(b,_)=>b.nowrap?(L(),Pe(y(JQ),{key:0,"set-ref":o,"only-child":""},{default:ve(()=>[Le(b.$slots,"default")]),_:3})):(L(),Q("button",xt({key:1,ref_key:"triggerRef",ref:a},b.$attrs),[Le(b.$slots,"default")],16))}});var tee=Ge(eee,[["__file","trigger.vue"]]);const nee=se({name:"ElTooltipV2"}),iee=se({...nee,props:BQ,setup(t){const n=Wn(t),i=$t(os(n,Object.keys(sy))),r=$t(os(n,Object.keys(oy))),a=$t(os(n,Object.keys(ay))),u=$t(os(n,Object.keys(ly)));return(s,o)=>(L(),Pe($Q,ss(Tl(a)),{default:ve(({open:c})=>[oe(tee,xt(u,{nowrap:""}),{default:ve(()=>[Le(s.$slots,"trigger")]),_:3},16),(L(),Pe(ec,{to:s.to,disabled:!s.teleported},[s.fullTransition?(L(),Pe(An,ss(xt({key:0},s.transitionProps)),{default:ve(()=>[s.alwaysOn||c?(L(),Pe(ZS,ss(xt({key:0},r)),{arrow:ve(({style:f,side:l})=>[s.showArrow?(L(),Pe(qS,xt({key:0},i,{style:f,side:l}),null,16,["style","side"])):Ee("v-if",!0)]),default:ve(()=>[Le(s.$slots,"default")]),_:3},16)):Ee("v-if",!0)]),_:2},1040)):(L(),Q(tt,{key:1},[s.alwaysOn||c?(L(),Pe(ZS,ss(xt({key:0},r)),{arrow:ve(({style:f,side:l})=>[s.showArrow?(L(),Pe(qS,xt({key:0},i,{style:f,side:l}),null,16,["style","side"])):Ee("v-if",!0)]),default:ve(()=>[Le(s.$slots,"default")]),_:3},16)):Ee("v-if",!0)],64))],8,["to","disabled"]))]),_:3},16))}});var ree=Ge(iee,[["__file","tooltip.vue"]]);const see=gt(ree),X2="left-check-change",K2="right-check-change",rl=We({data:{type:we(Array),default:()=>[]},titles:{type:we(Array),default:()=>[]},buttonTexts:{type:we(Array),default:()=>[]},filterPlaceholder:String,filterMethod:{type:we(Function)},leftDefaultChecked:{type:we(Array),default:()=>[]},rightDefaultChecked:{type:we(Array),default:()=>[]},renderContent:{type:we(Function)},modelValue:{type:we(Array),default:()=>[]},format:{type:we(Object),default:()=>({})},filterable:Boolean,props:{type:we(Object),default:()=>fn({label:"label",key:"key",disabled:"disabled"})},targetOrder:{type:String,values:["original","push","unshift"],default:"original"},validateEvent:{type:Boolean,default:!0}}),Fg=(t,e)=>[t,e].every(qe)||qe(t)&&In(e),oee={[rn]:(t,e,n)=>[t,n].every(qe)&&["left","right"].includes(e),[_t]:t=>qe(t),[X2]:Fg,[K2]:Fg},Bg="checked-change",aee=We({data:rl.data,optionRender:{type:we(Function)},placeholder:String,title:String,filterable:Boolean,format:rl.format,filterMethod:rl.filterMethod,defaultChecked:rl.leftDefaultChecked,props:rl.props}),lee={[Bg]:Fg},sd=t=>{const e={label:"label",key:"key",disabled:"disabled"};return P(()=>({...e,...t.props}))},cee=(t,e,n)=>{const i=sd(t),r=P(()=>t.data.filter(f=>at(t.filterMethod)?t.filterMethod(e.query,f):String(f[i.value.label]||f[i.value.key]).toLowerCase().includes(e.query.toLowerCase()))),a=P(()=>r.value.filter(f=>!f[i.value.disabled])),u=P(()=>{const f=e.checked.length,l=t.data.length,{noChecked:d,hasChecked:h}=t.format;return d&&h?f>0?h.replace(/\${checked}/g,f.toString()).replace(/\${total}/g,l.toString()):d.replace(/\${total}/g,l.toString()):`${f}/${l}`}),s=P(()=>{const f=e.checked.length;return f>0&&f<a.value.length}),o=()=>{const f=a.value.map(l=>l[i.value.key]);e.allChecked=f.length>0&&f.every(l=>e.checked.includes(l))},c=f=>{e.checked=f?a.value.map(l=>l[i.value.key]):[]};return Be(()=>e.checked,(f,l)=>{if(o(),e.checkChangeByUser){const d=f.concat(l).filter(h=>!f.includes(h)||!l.includes(h));n(Bg,f,d)}else n(Bg,f),e.checkChangeByUser=!0}),Be(a,()=>{o()}),Be(()=>t.data,()=>{const f=[],l=r.value.map(d=>d[i.value.key]);e.checked.forEach(d=>{l.includes(d)&&f.push(d)}),e.checkChangeByUser=!1,e.checked=f}),Be(()=>t.defaultChecked,(f,l)=>{if(l&&f.length===l.length&&f.every(p=>l.includes(p)))return;const d=[],h=a.value.map(p=>p[i.value.key]);f.forEach(p=>{h.includes(p)&&d.push(p)}),e.checkChangeByUser=!1,e.checked=d},{immediate:!0}),{filteredData:r,checkableData:a,checkedSummary:u,isIndeterminate:s,updateAllChecked:o,handleAllCheckedChange:c}},uee=(t,e)=>({onSourceCheckedChange:(r,a)=>{t.leftChecked=r,a&&e(X2,r,a)},onTargetCheckedChange:(r,a)=>{t.rightChecked=r,a&&e(K2,r,a)}}),dee=t=>{const e=sd(t),n=P(()=>t.data.reduce((a,u)=>(a[u[e.value.key]]=u)&&a,{})),i=P(()=>t.data.filter(a=>!t.modelValue.includes(a[e.value.key]))),r=P(()=>t.targetOrder==="original"?t.data.filter(a=>t.modelValue.includes(a[e.value.key])):t.modelValue.reduce((a,u)=>{const s=n.value[u];return s&&a.push(s),a},[]));return{sourceData:i,targetData:r}},fee=(t,e,n)=>{const i=sd(t),r=(s,o,c)=>{n(_t,s),n(rn,s,o,c)};return{addToLeft:()=>{const s=t.modelValue.slice();e.rightChecked.forEach(o=>{const c=s.indexOf(o);c>-1&&s.splice(c,1)}),r(s,"left",e.rightChecked)},addToRight:()=>{let s=t.modelValue.slice();const o=t.data.filter(c=>{const f=c[i.value.key];return e.leftChecked.includes(f)&&!t.modelValue.includes(f)}).map(c=>c[i.value.key]);s=t.targetOrder==="unshift"?o.concat(s):s.concat(o),t.targetOrder==="original"&&(s=t.data.filter(c=>s.includes(c[i.value.key])).map(c=>c[i.value.key])),r(s,"right",e.leftChecked)}}},hee=se({name:"ElTransferPanel"}),pee=se({...hee,props:aee,emits:lee,setup(t,{expose:e,emit:n}){const i=t,r=Un(),a=({option:_})=>_,{t:u}=Dt(),s=Ve("transfer"),o=$t({checked:[],allChecked:!1,query:"",checkChangeByUser:!0}),c=sd(i),{filteredData:f,checkedSummary:l,isIndeterminate:d,handleAllCheckedChange:h}=cee(i,o,n),p=P(()=>!Ki(o.query)&&Ki(f.value)),g=P(()=>!Ki(r.default()[0].children)),{checked:m,allChecked:v,query:b}=Wn(o);return e({query:b}),(_,S)=>(L(),Q("div",{class:F(y(s).b("panel"))},[te("p",{class:F(y(s).be("panel","header"))},[oe(y(lr),{modelValue:y(v),"onUpdate:modelValue":S[0]||(S[0]=w=>ln(v)?v.value=w:null),indeterminate:y(d),"validate-event":!1,onChange:y(h)},{default:ve(()=>[Et(je(_.title)+" ",1),te("span",null,je(y(l)),1)]),_:1},8,["modelValue","indeterminate","onChange"])],2),te("div",{class:F([y(s).be("panel","body"),y(s).is("with-footer",y(g))])},[_.filterable?(L(),Pe(y(ri),{key:0,modelValue:y(b),"onUpdate:modelValue":S[1]||(S[1]=w=>ln(b)?b.value=w:null),class:F(y(s).be("panel","filter")),size:"default",placeholder:_.placeholder,"prefix-icon":y(J3),clearable:"","validate-event":!1},null,8,["modelValue","class","placeholder","prefix-icon"])):Ee("v-if",!0),ft(oe(y(QE),{modelValue:y(m),"onUpdate:modelValue":S[2]||(S[2]=w=>ln(m)?m.value=w:null),"validate-event":!1,class:F([y(s).is("filterable",_.filterable),y(s).be("panel","list")])},{default:ve(()=>[(L(!0),Q(tt,null,Tt(y(f),w=>(L(),Pe(y(lr),{key:w[y(c).key],class:F(y(s).be("panel","item")),value:w[y(c).key],disabled:w[y(c).disabled],"validate-event":!1},{default:ve(()=>{var C;return[oe(a,{option:(C=_.optionRender)==null?void 0:C.call(_,w)},null,8,["option"])]}),_:2},1032,["class","value","disabled"]))),128))]),_:1},8,["modelValue","class"]),[[Nt,!y(p)&&!y(Ki)(_.data)]]),ft(te("p",{class:F(y(s).be("panel","empty"))},je(y(p)?y(u)("el.transfer.noMatch"):y(u)("el.transfer.noData")),3),[[Nt,y(p)||y(Ki)(_.data)]])],2),y(g)?(L(),Q("p",{key:0,class:F(y(s).be("panel","footer"))},[Le(_.$slots,"default")],2)):Ee("v-if",!0)],2))}});var JS=Ge(pee,[["__file","transfer-panel.vue"]]);const mee={key:0},gee={key:0},vee=se({name:"ElTransfer"}),yee=se({...vee,props:rl,emits:oee,setup(t,{expose:e,emit:n}){const i=t,r=Un(),{t:a}=Dt(),u=Ve("transfer"),{formItem:s}=li(),o=$t({leftChecked:[],rightChecked:[]}),c=sd(i),{sourceData:f,targetData:l}=dee(i),{onSourceCheckedChange:d,onTargetCheckedChange:h}=uee(o,n),{addToLeft:p,addToRight:g}=fee(i,o,n),m=Y(),v=Y(),b=M=>{switch(M){case"left":m.value.query="";break;case"right":v.value.query="";break}},_=P(()=>i.buttonTexts.length===2),S=P(()=>i.titles[0]||a("el.transfer.titles.0")),w=P(()=>i.titles[1]||a("el.transfer.titles.1")),C=P(()=>i.filterPlaceholder||a("el.transfer.filterPlaceholder"));Be(()=>i.modelValue,()=>{var M;i.validateEvent&&((M=s==null?void 0:s.validate)==null||M.call(s,"change").catch(E=>void 0))});const x=P(()=>M=>i.renderContent?i.renderContent(rt,M):r.default?r.default({option:M}):rt("span",M[c.value.label]||M[c.value.key]));return e({clearQuery:b,leftPanel:m,rightPanel:v}),(M,E)=>(L(),Q("div",{class:F(y(u).b())},[oe(JS,{ref_key:"leftPanel",ref:m,data:y(f),"option-render":y(x),placeholder:y(C),title:y(S),filterable:M.filterable,format:M.format,"filter-method":M.filterMethod,"default-checked":M.leftDefaultChecked,props:i.props,onCheckedChange:y(d)},{default:ve(()=>[Le(M.$slots,"left-footer")]),_:3},8,["data","option-render","placeholder","title","filterable","format","filter-method","default-checked","props","onCheckedChange"]),te("div",{class:F(y(u).e("buttons"))},[oe(y(Dn),{type:"primary",class:F([y(u).e("button"),y(u).is("with-texts",y(_))]),disabled:y(Ki)(o.rightChecked),onClick:y(p)},{default:ve(()=>[oe(y(et),null,{default:ve(()=>[oe(y(uo))]),_:1}),y(xn)(M.buttonTexts[0])?Ee("v-if",!0):(L(),Q("span",mee,je(M.buttonTexts[0]),1))]),_:1},8,["class","disabled","onClick"]),oe(y(Dn),{type:"primary",class:F([y(u).e("button"),y(u).is("with-texts",y(_))]),disabled:y(Ki)(o.leftChecked),onClick:y(g)},{default:ve(()=>[y(xn)(M.buttonTexts[1])?Ee("v-if",!0):(L(),Q("span",gee,je(M.buttonTexts[1]),1)),oe(y(et),null,{default:ve(()=>[oe(y(vi))]),_:1})]),_:1},8,["class","disabled","onClick"])],2),oe(JS,{ref_key:"rightPanel",ref:v,data:y(l),"option-render":y(x),placeholder:y(C),filterable:M.filterable,format:M.format,"filter-method":M.filterMethod,title:y(w),"default-checked":M.rightDefaultChecked,props:i.props,onCheckedChange:y(h)},{default:ve(()=>[Le(M.$slots,"right-footer")]),_:3},8,["data","option-render","placeholder","filterable","format","filter-method","title","default-checked","props","onCheckedChange"])],2))}});var bee=Ge(yee,[["__file","transfer.vue"]]);const _ee=gt(bee),bl="$treeNodeId",QS=function(t,e){!e||e[bl]||Object.defineProperty(e,bl,{value:t.id,enumerable:!1,configurable:!1,writable:!1})},cy=function(t,e){return t?e[t]:e[bl]},Ug=(t,e,n)=>{const i=t.value.currentNode;n();const r=t.value.currentNode;i!==r&&e("current-change",r?r.data:null,r)},Vg=t=>{let e=!0,n=!0,i=!0;for(let r=0,a=t.length;r<a;r++){const u=t[r];(u.checked!==!0||u.indeterminate)&&(e=!1,u.disabled||(i=!1)),(u.checked!==!1||u.indeterminate)&&(n=!1)}return{all:e,none:n,allWithoutDisable:i,half:!e&&!n}},Bc=function(t){if(t.childNodes.length===0||t.loading)return;const{all:e,none:n,half:i}=Vg(t.childNodes);e?(t.checked=!0,t.indeterminate=!1):i?(t.checked=!1,t.indeterminate=!0):n&&(t.checked=!1,t.indeterminate=!1);const r=t.parent;!r||r.level===0||t.store.checkStrictly||Bc(r)},Ld=function(t,e){const n=t.store.props,i=t.data||{},r=n[e];if(typeof r=="function")return r(i,t);if(typeof r=="string")return i[r];if(typeof r>"u"){const a=i[e];return a===void 0?"":a}};let See=0,$g=class kf{constructor(e){this.id=See++,this.text=null,this.checked=!1,this.indeterminate=!1,this.data=null,this.expanded=!1,this.parent=null,this.visible=!0,this.isCurrent=!1,this.canFocus=!1;for(const n in e)kt(e,n)&&(this[n]=e[n]);this.level=0,this.loaded=!1,this.childNodes=[],this.loading=!1,this.parent&&(this.level=this.parent.level+1)}initialize(){const e=this.store;if(!e)throw new Error("[Node]store is required!");e.registerNode(this);const n=e.props;if(n&&typeof n.isLeaf<"u"){const a=Ld(this,"isLeaf");typeof a=="boolean"&&(this.isLeafByUser=a)}if(e.lazy!==!0&&this.data?(this.setData(this.data),e.defaultExpandAll&&(this.expanded=!0,this.canFocus=!0)):this.level>0&&e.lazy&&e.defaultExpandAll&&this.expand(),Array.isArray(this.data)||QS(this,this.data),!this.data)return;const i=e.defaultExpandedKeys,r=e.key;r&&i&&i.includes(this.key)&&this.expand(null,e.autoExpandParent),r&&e.currentNodeKey!==void 0&&this.key===e.currentNodeKey&&(e.currentNode=this,e.currentNode.isCurrent=!0),e.lazy&&e._initDefaultCheckedNode(this),this.updateLeafState(),this.parent&&(this.level===1||this.parent.expanded===!0)&&(this.canFocus=!0)}setData(e){Array.isArray(e)||QS(this,e),this.data=e,this.childNodes=[];let n;this.level===0&&Array.isArray(this.data)?n=this.data:n=Ld(this,"children")||[];for(let i=0,r=n.length;i<r;i++)this.insertChild({data:n[i]})}get label(){return Ld(this,"label")}get key(){const e=this.store.key;return this.data?this.data[e]:null}get disabled(){return Ld(this,"disabled")}get nextSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return e.childNodes[n+1]}return null}get previousSibling(){const e=this.parent;if(e){const n=e.childNodes.indexOf(this);if(n>-1)return n>0?e.childNodes[n-1]:null}return null}contains(e,n=!0){return(this.childNodes||[]).some(i=>i===e||n&&i.contains(e))}remove(){const e=this.parent;e&&e.removeChild(this)}insertChild(e,n,i){if(!e)throw new Error("InsertChild error: child is required.");if(!(e instanceof kf)){if(!i){const r=this.getChildren(!0);r.includes(e.data)||(typeof n>"u"||n<0?r.push(e.data):r.splice(n,0,e.data))}Object.assign(e,{parent:this,store:this.store}),e=$t(new kf(e)),e instanceof kf&&e.initialize()}e.level=this.level+1,typeof n>"u"||n<0?this.childNodes.push(e):this.childNodes.splice(n,0,e),this.updateLeafState()}insertBefore(e,n){let i;n&&(i=this.childNodes.indexOf(n)),this.insertChild(e,i)}insertAfter(e,n){let i;n&&(i=this.childNodes.indexOf(n),i!==-1&&(i+=1)),this.insertChild(e,i)}removeChild(e){const n=this.getChildren()||[],i=n.indexOf(e.data);i>-1&&n.splice(i,1);const r=this.childNodes.indexOf(e);r>-1&&(this.store&&this.store.deregisterNode(e),e.parent=null,this.childNodes.splice(r,1)),this.updateLeafState()}removeChildByData(e){let n=null;for(let i=0;i<this.childNodes.length;i++)if(this.childNodes[i].data===e){n=this.childNodes[i];break}n&&this.removeChild(n)}expand(e,n){const i=()=>{if(n){let r=this.parent;for(;r.level>0;)r.expanded=!0,r=r.parent}this.expanded=!0,e&&e(),this.childNodes.forEach(r=>{r.canFocus=!0})};this.shouldLoadData()?this.loadData(r=>{Array.isArray(r)&&(this.checked?this.setChecked(!0,!0):this.store.checkStrictly||Bc(this),i())}):i()}doCreateChildren(e,n={}){e.forEach(i=>{this.insertChild(Object.assign({data:i},n),void 0,!0)})}collapse(){this.expanded=!1,this.childNodes.forEach(e=>{e.canFocus=!1})}shouldLoadData(){return this.store.lazy===!0&&this.store.load&&!this.loaded}updateLeafState(){if(this.store.lazy===!0&&this.loaded!==!0&&typeof this.isLeafByUser<"u"){this.isLeaf=this.isLeafByUser;return}const e=this.childNodes;if(!this.store.lazy||this.store.lazy===!0&&this.loaded===!0){this.isLeaf=!e||e.length===0;return}this.isLeaf=!1}setChecked(e,n,i,r){if(this.indeterminate=e==="half",this.checked=e===!0,this.store.checkStrictly)return;if(!(this.shouldLoadData()&&!this.store.checkDescendants)){const{all:u,allWithoutDisable:s}=Vg(this.childNodes);!this.isLeaf&&!u&&s&&(this.checked=!1,e=!1);const o=()=>{if(n){const c=this.childNodes;for(let d=0,h=c.length;d<h;d++){const p=c[d];r=r||e!==!1;const g=p.disabled?p.checked:r;p.setChecked(g,n,!0,r)}const{half:f,all:l}=Vg(c);l||(this.checked=l,this.indeterminate=f)}};if(this.shouldLoadData()){this.loadData(()=>{o(),Bc(this)},{checked:e!==!1});return}else o()}const a=this.parent;!a||a.level===0||i||Bc(a)}getChildren(e=!1){if(this.level===0)return this.data;const n=this.data;if(!n)return null;const i=this.store.props;let r="children";return i&&(r=i.children||"children"),n[r]===void 0&&(n[r]=null),e&&!n[r]&&(n[r]=[]),n[r]}updateChildren(){const e=this.getChildren()||[],n=this.childNodes.map(a=>a.data),i={},r=[];e.forEach((a,u)=>{const s=a[bl];!!s&&n.findIndex(c=>c[bl]===s)>=0?i[s]={index:u,data:a}:r.push({index:u,data:a})}),this.store.lazy||n.forEach(a=>{i[a[bl]]||this.removeChildByData(a)}),r.forEach(({index:a,data:u})=>{this.insertChild({data:u},a)}),this.updateLeafState()}loadData(e,n={}){if(this.store.lazy===!0&&this.store.load&&!this.loaded&&(!this.loading||Object.keys(n).length)){this.loading=!0;const i=a=>{this.childNodes=[],this.doCreateChildren(a,n),this.loaded=!0,this.loading=!1,this.updateLeafState(),e&&e.call(this,a)},r=()=>{this.loading=!1};this.store.load(this,i,r)}else e&&e.call(this)}eachNode(e){const n=[this];for(;n.length;){const i=n.shift();n.unshift(...i.childNodes),e(i)}}reInitChecked(){this.store.checkStrictly||Bc(this)}};class wee{constructor(e){this.currentNode=null,this.currentNodeKey=null;for(const n in e)kt(e,n)&&(this[n]=e[n]);this.nodesMap={}}initialize(){if(this.root=new $g({data:this.data,store:this}),this.root.initialize(),this.lazy&&this.load){const e=this.load;e(this.root,n=>{this.root.doCreateChildren(n),this._initDefaultCheckedNodes()})}else this._initDefaultCheckedNodes()}filter(e){const n=this.filterNodeMethod,i=this.lazy,r=function(a){const u=a.root?a.root.childNodes:a.childNodes;if(u.forEach(s=>{s.visible=n.call(s,e,s.data,s),r(s)}),!a.visible&&u.length){let s=!0;s=!u.some(o=>o.visible),a.root?a.root.visible=s===!1:a.visible=s===!1}e&&a.visible&&!a.isLeaf&&(!i||a.loaded)&&a.expand()};r(this)}setData(e){e!==this.root.data?(this.root.setData(e),this._initDefaultCheckedNodes()):this.root.updateChildren()}getNode(e){if(e instanceof $g)return e;const n=bt(e)?cy(this.key,e):e;return this.nodesMap[n]||null}insertBefore(e,n){const i=this.getNode(n);i.parent.insertBefore({data:e},i)}insertAfter(e,n){const i=this.getNode(n);i.parent.insertAfter({data:e},i)}remove(e){const n=this.getNode(e);n&&n.parent&&(n===this.currentNode&&(this.currentNode=null),n.parent.removeChild(n))}append(e,n){const i=ua(n)?this.root:this.getNode(n);i&&i.insertChild({data:e})}_initDefaultCheckedNodes(){const e=this.defaultCheckedKeys||[],n=this.nodesMap;e.forEach(i=>{const r=n[i];r&&r.setChecked(!0,!this.checkStrictly)})}_initDefaultCheckedNode(e){(this.defaultCheckedKeys||[]).includes(e.key)&&e.setChecked(!0,!this.checkStrictly)}setDefaultCheckedKey(e){e!==this.defaultCheckedKeys&&(this.defaultCheckedKeys=e,this._initDefaultCheckedNodes())}registerNode(e){const n=this.key;!e||!e.data||(n?e.key!==void 0&&(this.nodesMap[e.key]=e):this.nodesMap[e.id]=e)}deregisterNode(e){!this.key||!e||!e.data||(e.childNodes.forEach(i=>{this.deregisterNode(i)}),delete this.nodesMap[e.key])}getCheckedNodes(e=!1,n=!1){const i=[],r=function(a){(a.root?a.root.childNodes:a.childNodes).forEach(s=>{(s.checked||n&&s.indeterminate)&&(!e||e&&s.isLeaf)&&i.push(s.data),r(s)})};return r(this),i}getCheckedKeys(e=!1){return this.getCheckedNodes(e).map(n=>(n||{})[this.key])}getHalfCheckedNodes(){const e=[],n=function(i){(i.root?i.root.childNodes:i.childNodes).forEach(a=>{a.indeterminate&&e.push(a.data),n(a)})};return n(this),e}getHalfCheckedKeys(){return this.getHalfCheckedNodes().map(e=>(e||{})[this.key])}_getAllNodes(){const e=[],n=this.nodesMap;for(const i in n)kt(n,i)&&e.push(n[i]);return e}updateChildren(e,n){const i=this.nodesMap[e];if(!i)return;const r=i.childNodes;for(let a=r.length-1;a>=0;a--){const u=r[a];this.remove(u.data)}for(let a=0,u=n.length;a<u;a++){const s=n[a];this.append(s,i.data)}}_setCheckedKeys(e,n=!1,i){const r=this._getAllNodes().sort((o,c)=>o.level-c.level),a=Object.create(null),u=Object.keys(i);r.forEach(o=>o.setChecked(!1,!1));const s=o=>{o.childNodes.forEach(c=>{var f;a[c.data[e]]=!0,(f=c.childNodes)!=null&&f.length&&s(c)})};for(let o=0,c=r.length;o<c;o++){const f=r[o],l=f.data[e].toString();if(!u.includes(l)){f.checked&&!a[l]&&f.setChecked(!1,!1);continue}if(f.childNodes.length&&s(f),f.isLeaf||this.checkStrictly){f.setChecked(!0,!1);continue}if(f.setChecked(!0,!0),n){f.setChecked(!1,!1);const h=function(p){p.childNodes.forEach(m=>{m.isLeaf||m.setChecked(!1,!1),h(m)})};h(f)}}}setCheckedNodes(e,n=!1){const i=this.key,r={};e.forEach(a=>{r[(a||{})[i]]=!0}),this._setCheckedKeys(i,n,r)}setCheckedKeys(e,n=!1){this.defaultCheckedKeys=e;const i=this.key,r={};e.forEach(a=>{r[a]=!0}),this._setCheckedKeys(i,n,r)}setDefaultExpandedKeys(e){e=e||[],this.defaultExpandedKeys=e,e.forEach(n=>{const i=this.getNode(n);i&&i.expand(null,this.autoExpandParent)})}setChecked(e,n,i){const r=this.getNode(e);r&&r.setChecked(!!n,i)}getCurrentNode(){return this.currentNode}setCurrentNode(e){const n=this.currentNode;n&&(n.isCurrent=!1),this.currentNode=e,this.currentNode.isCurrent=!0}setUserCurrentNode(e,n=!0){const i=e[this.key],r=this.nodesMap[i];this.setCurrentNode(r),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0)}setCurrentNodeKey(e,n=!0){if(e==null){this.currentNode&&(this.currentNode.isCurrent=!1),this.currentNode=null;return}const i=this.getNode(e);i&&(this.setCurrentNode(i),n&&this.currentNode.level>1&&this.currentNode.parent.expand(null,!0))}}const Cee=se({name:"ElTreeNodeContent",props:{node:{type:Object,required:!0},renderContent:Function},setup(t){const e=Ve("tree"),n=Je("NodeInstance"),i=Je("RootTree");return()=>{const r=t.node,{data:a,store:u}=r;return t.renderContent?t.renderContent(rt,{_self:n,node:r,data:a,store:u}):Le(i.ctx.slots,"default",{node:r,data:a},()=>[rt("span",{class:e.be("node","label")},[r.label])])}}});var xee=Ge(Cee,[["__file","tree-node-content.vue"]]);function Y2(t){const e=Je("TreeNodeMap",null),n={treeNodeExpand:i=>{t.node!==i&&t.node.collapse()},children:[]};return e&&e.children.push(n),Mt("TreeNodeMap",n),{broadcastExpanded:i=>{if(t.accordion)for(const r of n.children)r.treeNodeExpand(i)}}}const q2=Symbol("dragEvents");function Tee({props:t,ctx:e,el$:n,dropIndicator$:i,store:r}){const a=Ve("tree"),u=Y({showDropIndicator:!1,draggingNode:null,dropNode:null,allowDrop:!0,dropType:null});return Mt(q2,{treeNodeDragStart:({event:f,treeNode:l})=>{if(typeof t.allowDrag=="function"&&!t.allowDrag(l.node))return f.preventDefault(),!1;f.dataTransfer.effectAllowed="move";try{f.dataTransfer.setData("text/plain","")}catch{}u.value.draggingNode=l,e.emit("node-drag-start",l.node,f)},treeNodeDragOver:({event:f,treeNode:l})=>{const d=l,h=u.value.dropNode;h&&h.node.id!==d.node.id&&oi(h.$el,a.is("drop-inner"));const p=u.value.draggingNode;if(!p||!d)return;let g=!0,m=!0,v=!0,b=!0;typeof t.allowDrop=="function"&&(g=t.allowDrop(p.node,d.node,"prev"),b=m=t.allowDrop(p.node,d.node,"inner"),v=t.allowDrop(p.node,d.node,"next")),f.dataTransfer.dropEffect=m||g||v?"move":"none",(g||m||v)&&(h==null?void 0:h.node.id)!==d.node.id&&(h&&e.emit("node-drag-leave",p.node,h.node,f),e.emit("node-drag-enter",p.node,d.node,f)),g||m||v?u.value.dropNode=d:u.value.dropNode=null,d.node.nextSibling===p.node&&(v=!1),d.node.previousSibling===p.node&&(g=!1),d.node.contains(p.node,!1)&&(m=!1),(p.node===d.node||p.node.contains(d.node))&&(g=!1,m=!1,v=!1);const _=d.$el.querySelector(`.${a.be("node","content")}`).getBoundingClientRect(),S=n.value.getBoundingClientRect();let w;const C=g?m?.25:v?.45:1:-1,x=v?m?.75:g?.55:0:1;let M=-9999;const E=f.clientY-_.top;E<_.height*C?w="before":E>_.height*x?w="after":m?w="inner":w="none";const A=d.$el.querySelector(`.${a.be("node","expand-icon")}`).getBoundingClientRect(),O=i.value;w==="before"?M=A.top-S.top:w==="after"&&(M=A.bottom-S.top),O.style.top=`${M}px`,O.style.left=`${A.right-S.left}px`,w==="inner"?Zi(d.$el,a.is("drop-inner")):oi(d.$el,a.is("drop-inner")),u.value.showDropIndicator=w==="before"||w==="after",u.value.allowDrop=u.value.showDropIndicator||b,u.value.dropType=w,e.emit("node-drag-over",p.node,d.node,f)},treeNodeDragEnd:f=>{const{draggingNode:l,dropType:d,dropNode:h}=u.value;if(f.preventDefault(),f.dataTransfer.dropEffect="move",l&&h){const p={data:l.node.data};d!=="none"&&l.node.remove(),d==="before"?h.node.parent.insertBefore(p,h.node):d==="after"?h.node.parent.insertAfter(p,h.node):d==="inner"&&h.node.insertChild(p),d!=="none"&&(r.value.registerNode(p),r.value.key&&l.node.eachNode(g=>{var m;(m=r.value.nodesMap[g.data[r.value.key]])==null||m.setChecked(g.checked,!r.value.checkStrictly)})),oi(h.$el,a.is("drop-inner")),e.emit("node-drag-end",l.node,h.node,d,f),d!=="none"&&e.emit("node-drop",l.node,h.node,d,f)}l&&!h&&e.emit("node-drag-end",l.node,null,d,f),u.value.showDropIndicator=!1,u.value.draggingNode=null,u.value.dropNode=null,u.value.allowDrop=!0}}),{dragState:u}}const Eee=se({name:"ElTreeNode",components:{ElCollapseTransition:Kh,ElCheckbox:lr,NodeContent:xee,ElIcon:et,Loading:So},props:{node:{type:$g,default:()=>({})},props:{type:Object,default:()=>({})},accordion:Boolean,renderContent:Function,renderAfterExpand:Boolean,showCheckbox:{type:Boolean,default:!1}},emits:["node-expand"],setup(t,e){const n=Ve("tree"),{broadcastExpanded:i}=Y2(t),r=Je("RootTree"),a=Y(!1),u=Y(!1),s=Y(null),o=Y(null),c=Y(null),f=Je(q2),l=mt();Mt("NodeInstance",l),t.node.expanded&&(a.value=!0,u.value=!0);const d=r.props.props.children||"children";Be(()=>{const E=t.node.data[d];return E&&[...E]},()=>{t.node.updateChildren()}),Be(()=>t.node.indeterminate,E=>{g(t.node.checked,E)}),Be(()=>t.node.checked,E=>{g(E,t.node.indeterminate)}),Be(()=>t.node.childNodes.length,()=>t.node.reInitChecked()),Be(()=>t.node.expanded,E=>{it(()=>a.value=E),E&&(u.value=!0)});const h=E=>cy(r.props.nodeKey,E.data),p=E=>{const A=t.props.class;if(!A)return{};let O;if(at(A)){const{data:I}=E;O=A(I,E)}else O=A;return ct(O)?{[O]:!0}:O},g=(E,A)=>{(s.value!==E||o.value!==A)&&r.ctx.emit("check-change",t.node.data,E,A),s.value=E,o.value=A},m=E=>{Ug(r.store,r.ctx.emit,()=>r.store.value.setCurrentNode(t.node)),r.currentNode.value=t.node,r.props.expandOnClickNode&&b(),r.props.checkOnClickNode&&!t.node.disabled&&_(null,{target:{checked:!t.node.checked}}),r.ctx.emit("node-click",t.node.data,t.node,l,E)},v=E=>{r.instance.vnode.props.onNodeContextmenu&&(E.stopPropagation(),E.preventDefault()),r.ctx.emit("node-contextmenu",E,t.node.data,t.node,l)},b=()=>{t.node.isLeaf||(a.value?(r.ctx.emit("node-collapse",t.node.data,t.node,l),t.node.collapse()):(t.node.expand(),e.emit("node-expand",t.node.data,t.node,l)))},_=(E,A)=>{t.node.setChecked(A.target.checked,!r.props.checkStrictly),it(()=>{const O=r.store.value;r.ctx.emit("check",t.node.data,{checkedNodes:O.getCheckedNodes(),checkedKeys:O.getCheckedKeys(),halfCheckedNodes:O.getHalfCheckedNodes(),halfCheckedKeys:O.getHalfCheckedKeys()})})};return{ns:n,node$:c,tree:r,expanded:a,childNodeRendered:u,oldChecked:s,oldIndeterminate:o,getNodeKey:h,getNodeClass:p,handleSelectChange:g,handleClick:m,handleContextMenu:v,handleExpandIconClick:b,handleCheckChange:_,handleChildNodeExpand:(E,A,O)=>{i(A),r.ctx.emit("node-expand",E,A,O)},handleDragStart:E=>{r.props.draggable&&f.treeNodeDragStart({event:E,treeNode:t})},handleDragOver:E=>{E.preventDefault(),r.props.draggable&&f.treeNodeDragOver({event:E,treeNode:{$el:c.value,node:t.node}})},handleDrop:E=>{E.preventDefault()},handleDragEnd:E=>{r.props.draggable&&f.treeNodeDragEnd(E)},CaretRight:pT}}}),Mee=["aria-expanded","aria-disabled","aria-checked","draggable","data-key"],Aee=["aria-expanded"];function Ree(t,e,n,i,r,a){const u=pt("el-icon"),s=pt("el-checkbox"),o=pt("loading"),c=pt("node-content"),f=pt("el-tree-node"),l=pt("el-collapse-transition");return ft((L(),Q("div",{ref:"node$",class:F([t.ns.b("node"),t.ns.is("expanded",t.expanded),t.ns.is("current",t.node.isCurrent),t.ns.is("hidden",!t.node.visible),t.ns.is("focusable",!t.node.disabled),t.ns.is("checked",!t.node.disabled&&t.node.checked),t.getNodeClass(t.node)]),role:"treeitem",tabindex:"-1","aria-expanded":t.expanded,"aria-disabled":t.node.disabled,"aria-checked":t.node.checked,draggable:t.tree.props.draggable,"data-key":t.getNodeKey(t.node),onClick:e[1]||(e[1]=lt((...d)=>t.handleClick&&t.handleClick(...d),["stop"])),onContextmenu:e[2]||(e[2]=(...d)=>t.handleContextMenu&&t.handleContextMenu(...d)),onDragstart:e[3]||(e[3]=lt((...d)=>t.handleDragStart&&t.handleDragStart(...d),["stop"])),onDragover:e[4]||(e[4]=lt((...d)=>t.handleDragOver&&t.handleDragOver(...d),["stop"])),onDragend:e[5]||(e[5]=lt((...d)=>t.handleDragEnd&&t.handleDragEnd(...d),["stop"])),onDrop:e[6]||(e[6]=lt((...d)=>t.handleDrop&&t.handleDrop(...d),["stop"]))},[te("div",{class:F(t.ns.be("node","content")),style:Qe({paddingLeft:(t.node.level-1)*t.tree.props.indent+"px"})},[t.tree.props.icon||t.CaretRight?(L(),Pe(u,{key:0,class:F([t.ns.be("node","expand-icon"),t.ns.is("leaf",t.node.isLeaf),{expanded:!t.node.isLeaf&&t.expanded}]),onClick:lt(t.handleExpandIconClick,["stop"])},{default:ve(()=>[(L(),Pe(wt(t.tree.props.icon||t.CaretRight)))]),_:1},8,["class","onClick"])):Ee("v-if",!0),t.showCheckbox?(L(),Pe(s,{key:1,"model-value":t.node.checked,indeterminate:t.node.indeterminate,disabled:!!t.node.disabled,onClick:e[0]||(e[0]=lt(()=>{},["stop"])),onChange:t.handleCheckChange},null,8,["model-value","indeterminate","disabled","onChange"])):Ee("v-if",!0),t.node.loading?(L(),Pe(u,{key:2,class:F([t.ns.be("node","loading-icon"),t.ns.is("loading")])},{default:ve(()=>[oe(o)]),_:1},8,["class"])):Ee("v-if",!0),oe(c,{node:t.node,"render-content":t.renderContent},null,8,["node","render-content"])],6),oe(l,null,{default:ve(()=>[!t.renderAfterExpand||t.childNodeRendered?ft((L(),Q("div",{key:0,class:F(t.ns.be("node","children")),role:"group","aria-expanded":t.expanded},[(L(!0),Q(tt,null,Tt(t.node.childNodes,d=>(L(),Pe(f,{key:t.getNodeKey(d),"render-content":t.renderContent,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,node:d,accordion:t.accordion,props:t.props,onNodeExpand:t.handleChildNodeExpand},null,8,["render-content","render-after-expand","show-checkbox","node","accordion","props","onNodeExpand"]))),128))],10,Aee)),[[Nt,t.expanded]]):Ee("v-if",!0)]),_:1})],42,Mee)),[[Nt,t.node.visible]])}var Pee=Ge(Eee,[["render",Ree],["__file","tree-node.vue"]]);function Oee({el$:t},e){const n=Ve("tree"),i=an([]),r=an([]);ht(()=>{u()}),Ss(()=>{i.value=Array.from(t.value.querySelectorAll("[role=treeitem]")),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"))}),Be(r,s=>{s.forEach(o=>{o.setAttribute("tabindex","-1")})}),nn(t,"keydown",s=>{const o=s.target;if(!o.className.includes(n.b("node")))return;const c=s.code;i.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`));const f=i.value.indexOf(o);let l;if([nt.up,nt.down].includes(c)){if(s.preventDefault(),c===nt.up){l=f===-1?0:f!==0?f-1:i.value.length-1;const h=l;for(;!e.value.getNode(i.value[l].dataset.key).canFocus;){if(l--,l===h){l=-1;break}l<0&&(l=i.value.length-1)}}else{l=f===-1?0:f<i.value.length-1?f+1:0;const h=l;for(;!e.value.getNode(i.value[l].dataset.key).canFocus;){if(l++,l===h){l=-1;break}l>=i.value.length&&(l=0)}}l!==-1&&i.value[l].focus()}[nt.left,nt.right].includes(c)&&(s.preventDefault(),o.click());const d=o.querySelector('[type="checkbox"]');[nt.enter,nt.space].includes(c)&&d&&(s.preventDefault(),d.click())});const u=()=>{var s;i.value=Array.from(t.value.querySelectorAll(`.${n.is("focusable")}[role=treeitem]`)),r.value=Array.from(t.value.querySelectorAll("input[type=checkbox]"));const o=t.value.querySelectorAll(`.${n.is("checked")}[role=treeitem]`);if(o.length){o[0].setAttribute("tabindex","0");return}(s=i.value[0])==null||s.setAttribute("tabindex","0")}}const kee=se({name:"ElTree",components:{ElTreeNode:Pee},props:{data:{type:Array,default:()=>[]},emptyText:{type:String},renderAfterExpand:{type:Boolean,default:!0},nodeKey:String,checkStrictly:Boolean,defaultExpandAll:Boolean,expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:Boolean,checkDescendants:{type:Boolean,default:!1},autoExpandParent:{type:Boolean,default:!0},defaultCheckedKeys:Array,defaultExpandedKeys:Array,currentNodeKey:[String,Number],renderContent:Function,showCheckbox:{type:Boolean,default:!1},draggable:{type:Boolean,default:!1},allowDrag:Function,allowDrop:Function,props:{type:Object,default:()=>({children:"children",label:"label",disabled:"disabled"})},lazy:{type:Boolean,default:!1},highlightCurrent:Boolean,load:Function,filterNodeMethod:Function,accordion:Boolean,indent:{type:Number,default:18},icon:{type:Kt}},emits:["check-change","current-change","node-click","node-contextmenu","node-collapse","node-expand","check","node-drag-start","node-drag-end","node-drop","node-drag-leave","node-drag-enter","node-drag-over"],setup(t,e){const{t:n}=Dt(),i=Ve("tree"),r=Y(new wee({key:t.nodeKey,data:t.data,lazy:t.lazy,props:t.props,load:t.load,currentNodeKey:t.currentNodeKey,checkStrictly:t.checkStrictly,checkDescendants:t.checkDescendants,defaultCheckedKeys:t.defaultCheckedKeys,defaultExpandedKeys:t.defaultExpandedKeys,autoExpandParent:t.autoExpandParent,defaultExpandAll:t.defaultExpandAll,filterNodeMethod:t.filterNodeMethod}));r.value.initialize();const a=Y(r.value.root),u=Y(null),s=Y(null),o=Y(null),{broadcastExpanded:c}=Y2(t),{dragState:f}=Tee({props:t,ctx:e,el$:s,dropIndicator$:o,store:r});Oee({el$:s},r);const l=P(()=>{const{childNodes:k}=a.value;return!k||k.length===0||k.every(({visible:D})=>!D)});Be(()=>t.currentNodeKey,k=>{r.value.setCurrentNodeKey(k)}),Be(()=>t.defaultCheckedKeys,k=>{r.value.setDefaultCheckedKey(k)}),Be(()=>t.defaultExpandedKeys,k=>{r.value.setDefaultExpandedKeys(k)}),Be(()=>t.data,k=>{r.value.setData(k)},{deep:!0}),Be(()=>t.checkStrictly,k=>{r.value.checkStrictly=k});const d=k=>{if(!t.filterNodeMethod)throw new Error("[Tree] filterNodeMethod is required when filter");r.value.filter(k)},h=k=>cy(t.nodeKey,k.data),p=k=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getNodePath");const D=r.value.getNode(k);if(!D)return[];const T=[D.data];let R=D.parent;for(;R&&R!==a.value;)T.push(R.data),R=R.parent;return T.reverse()},g=(k,D)=>r.value.getCheckedNodes(k,D),m=k=>r.value.getCheckedKeys(k),v=()=>{const k=r.value.getCurrentNode();return k?k.data:null},b=()=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in getCurrentKey");const k=v();return k?k[t.nodeKey]:null},_=(k,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedNodes");r.value.setCheckedNodes(k,D)},S=(k,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCheckedKeys");r.value.setCheckedKeys(k,D)},w=(k,D,T)=>{r.value.setChecked(k,D,T)},C=()=>r.value.getHalfCheckedNodes(),x=()=>r.value.getHalfCheckedKeys(),M=(k,D=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentNode");Ug(r,e.emit,()=>r.value.setUserCurrentNode(k,D))},E=(k,D=!0)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in setCurrentKey");Ug(r,e.emit,()=>r.value.setCurrentNodeKey(k,D))},A=k=>r.value.getNode(k),O=k=>{r.value.remove(k)},I=(k,D)=>{r.value.append(k,D)},$=(k,D)=>{r.value.insertBefore(k,D)},H=(k,D)=>{r.value.insertAfter(k,D)},B=(k,D,T)=>{c(D),e.emit("node-expand",k,D,T)},N=(k,D)=>{if(!t.nodeKey)throw new Error("[Tree] nodeKey is required in updateKeyChild");r.value.updateChildren(k,D)};return Mt("RootTree",{ctx:e,props:t,store:r,root:a,currentNode:u,instance:mt()}),Mt(Vr,void 0),{ns:i,store:r,root:a,currentNode:u,dragState:f,el$:s,dropIndicator$:o,isEmpty:l,filter:d,getNodeKey:h,getNodePath:p,getCheckedNodes:g,getCheckedKeys:m,getCurrentNode:v,getCurrentKey:b,setCheckedNodes:_,setCheckedKeys:S,setChecked:w,getHalfCheckedNodes:C,getHalfCheckedKeys:x,setCurrentNode:M,setCurrentKey:E,t:n,getNode:A,remove:O,append:I,insertBefore:$,insertAfter:H,handleNodeExpand:B,updateKeyChildren:N}}});function Lee(t,e,n,i,r,a){const u=pt("el-tree-node");return L(),Q("div",{ref:"el$",class:F([t.ns.b(),t.ns.is("dragging",!!t.dragState.draggingNode),t.ns.is("drop-not-allow",!t.dragState.allowDrop),t.ns.is("drop-inner",t.dragState.dropType==="inner"),{[t.ns.m("highlight-current")]:t.highlightCurrent}]),role:"tree"},[(L(!0),Q(tt,null,Tt(t.root.childNodes,s=>(L(),Pe(u,{key:t.getNodeKey(s),node:s,props:t.props,accordion:t.accordion,"render-after-expand":t.renderAfterExpand,"show-checkbox":t.showCheckbox,"render-content":t.renderContent,onNodeExpand:t.handleNodeExpand},null,8,["node","props","accordion","render-after-expand","show-checkbox","render-content","onNodeExpand"]))),128)),t.isEmpty?(L(),Q("div",{key:0,class:F(t.ns.e("empty-block"))},[Le(t.$slots,"empty",{},()=>{var s;return[te("span",{class:F(t.ns.e("empty-text"))},je((s=t.emptyText)!=null?s:t.t("el.tree.emptyText")),3)]})],2)):Ee("v-if",!0),ft(te("div",{ref:"dropIndicator$",class:F(t.ns.e("drop-indicator"))},null,2),[[Nt,t.dragState.showDropIndicator]])],2)}var Lf=Ge(kee,[["render",Lee],["__file","tree.vue"]]);Lf.install=t=>{t.component(Lf.name,Lf)};const hh=Lf,Iee=hh,Dee=(t,{attrs:e,emit:n},{select:i,tree:r,key:a})=>{const u=Ve("tree-select");return Be(()=>t.data,()=>{t.filterable&&it(()=>{var o,c;(c=r.value)==null||c.filter((o=i.value)==null?void 0:o.states.inputValue)})},{flush:"post"}),{...os(Wn(t),Object.keys(pa.props)),...e,"onUpdate:modelValue":o=>n(_t,o),valueKey:a,popperClass:P(()=>{const o=[u.e("popper")];return t.popperClass&&o.push(t.popperClass),o.join(" ")}),filterMethod:(o="")=>{var c;t.filterMethod?t.filterMethod(o):t.remoteMethod?t.remoteMethod(o):(c=r.value)==null||c.filter(o)}}},Nee=se({extends:sh,setup(t,e){const n=sh.setup(t,e);delete n.selectOptionClick;const i=mt().proxy;return it(()=>{n.select.states.cachedOptions.get(i.value)||n.select.onOptionCreate(i)}),n},methods:{selectOptionClick(){this.$el.parentElement.click()}}});function Hg(t){return t||t===0}function uy(t){return Array.isArray(t)&&t.length}function xc(t){return Array.isArray(t)?t:Hg(t)?[t]:[]}function If(t,e,n,i,r){for(let a=0;a<t.length;a++){const u=t[a];if(e(u,a,t,r))return i?i(u,a,t,r):u;{const s=n(u);if(uy(s)){const o=If(s,e,n,i,u);if(o)return o}}}}function zg(t,e,n,i){for(let r=0;r<t.length;r++){const a=t[r];e(a,r,t,i);const u=n(a);uy(u)&&zg(u,e,n,a)}}const Fee=(t,{attrs:e,slots:n,emit:i},{select:r,tree:a,key:u})=>{Be(()=>t.modelValue,()=>{t.showCheckbox&&it(()=>{const l=a.value;l&&!si(l.getCheckedKeys(),xc(t.modelValue))&&l.setCheckedKeys(xc(t.modelValue))})},{immediate:!0,deep:!0});const s=P(()=>({value:u.value,label:"label",children:"children",disabled:"disabled",isLeaf:"isLeaf",...t.props})),o=(l,d)=>{var h;const p=s.value[l];return at(p)?p(d,(h=a.value)==null?void 0:h.getNode(o("value",d))):d[p]},c=xc(t.modelValue).map(l=>If(t.data||[],d=>o("value",d)===l,d=>o("children",d),(d,h,p,g)=>g&&o("value",g))).filter(l=>Hg(l)),f=P(()=>{if(!t.renderAfterExpand&&!t.lazy)return[];const l=[];return zg(t.data.concat(t.cacheData),d=>{const h=o("value",d);l.push({value:h,currentLabel:o("label",d),isDisabled:o("disabled",d)})},d=>o("children",d)),l});return{...os(Wn(t),Object.keys(hh.props)),...e,nodeKey:u,expandOnClickNode:P(()=>!t.checkStrictly&&t.expandOnClickNode),defaultExpandedKeys:P(()=>t.defaultExpandedKeys?t.defaultExpandedKeys.concat(c):c),renderContent:(l,{node:d,data:h,store:p})=>l(Nee,{value:o("value",h),label:o("label",h),disabled:o("disabled",h)},t.renderContent?()=>t.renderContent(l,{node:d,data:h,store:p}):n.default?()=>n.default({node:d,data:h,store:p}):void 0),filterNodeMethod:(l,d,h)=>t.filterNodeMethod?t.filterNodeMethod(l,d,h):l?new RegExp(qv(l),"i").test(o("label",d)||""):!0,onNodeClick:(l,d,h)=>{var p,g,m,v;if((p=e.onNodeClick)==null||p.call(e,l,d,h),!(t.showCheckbox&&t.checkOnClickNode)){if(!t.showCheckbox&&(t.checkStrictly||d.isLeaf)){if(!o("disabled",l)){const b=(g=r.value)==null?void 0:g.states.options.get(o("value",l));(m=r.value)==null||m.handleOptionSelect(b)}}else t.expandOnClickNode&&h.proxy.handleExpandIconClick();(v=r.value)==null||v.focus()}},onCheck:(l,d)=>{var h;if(!t.showCheckbox)return;const p=o("value",l),g={};zg([a.value.store.root],_=>g[_.key]=_,_=>_.childNodes);const m=d.checkedKeys,v=t.multiple?xc(t.modelValue).filter(_=>!(_ in g)&&!m.includes(_)):[],b=v.concat(m);if(t.checkStrictly)i(_t,t.multiple?b:b.includes(p)?p:void 0);else if(t.multiple)i(_t,v.concat(a.value.getCheckedKeys(!0)));else{const _=If([l],C=>!uy(o("children",C))&&!o("disabled",C),C=>o("children",C)),S=_?o("value",_):void 0,w=Hg(t.modelValue)&&!!If([l],C=>o("value",C)===t.modelValue,C=>o("children",C));i(_t,S===t.modelValue||w?void 0:S)}it(()=>{var _;const S=xc(t.modelValue);a.value.setCheckedKeys(S),(_=e.onCheck)==null||_.call(e,l,{checkedKeys:a.value.getCheckedKeys(),checkedNodes:a.value.getCheckedNodes(),halfCheckedKeys:a.value.getHalfCheckedKeys(),halfCheckedNodes:a.value.getHalfCheckedNodes()})}),(h=r.value)==null||h.focus()},cacheOptions:f}};var Bee=se({props:{data:{type:Array,default:()=>[]}},setup(t){const e=Je(id);return Be(()=>t.data,()=>{var n;t.data.forEach(r=>{e.states.cachedOptions.has(r.value)||e.states.cachedOptions.set(r.value,r)});const i=((n=e.selectRef)==null?void 0:n.querySelectorAll("input"))||[];Array.from(i).includes(document.activeElement)||e.setSelected()},{flush:"post",immediate:!0}),()=>{}}});const Uee=se({name:"ElTreeSelect",inheritAttrs:!1,props:{...pa.props,...hh.props,cacheData:{type:Array,default:()=>[]}},setup(t,e){const{slots:n,expose:i}=e,r=Y(),a=Y(),u=P(()=>t.nodeKey||t.valueKey||"value"),s=Dee(t,e,{select:r,tree:a,key:u}),{cacheOptions:o,...c}=Fee(t,e,{select:r,tree:a,key:u}),f=$t({});return i(f),ht(()=>{Object.assign(f,{...os(a.value,["filter","updateKeyChildren","getCheckedNodes","setCheckedNodes","getCheckedKeys","setCheckedKeys","setChecked","getHalfCheckedNodes","getHalfCheckedKeys","getCurrentKey","getCurrentNode","setCurrentKey","setCurrentNode","getNode","remove","append","insertBefore","insertAfter"]),...os(r.value,["focus","blur"])})}),()=>rt(pa,$t({...s,ref:l=>r.value=l}),{...n,default:()=>[rt(Bee,{data:o.value}),rt(hh,$t({...c,ref:l=>a.value=l}))]})}});var Df=Ge(Uee,[["__file","tree-select.vue"]]);Df.install=t=>{t.component(Df.name,Df)};const Vee=Df,$ee=Vee,dy=Symbol(),Hee={key:-1,level:-1,data:{}};var Uc=(t=>(t.KEY="id",t.LABEL="label",t.CHILDREN="children",t.DISABLED="disabled",t))(Uc||{}),Wg=(t=>(t.ADD="add",t.DELETE="delete",t))(Wg||{});const Z2={type:Number,default:26},zee=We({data:{type:we(Array),default:()=>fn([])},emptyText:{type:String},height:{type:Number,default:200},props:{type:we(Object),default:()=>fn({children:"children",label:"label",disabled:"disabled",value:"id"})},highlightCurrent:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},defaultCheckedKeys:{type:we(Array),default:()=>fn([])},checkStrictly:{type:Boolean,default:!1},defaultExpandedKeys:{type:we(Array),default:()=>fn([])},indent:{type:Number,default:16},itemSize:Z2,icon:{type:Kt},expandOnClickNode:{type:Boolean,default:!0},checkOnClickNode:{type:Boolean,default:!1},currentNodeKey:{type:we([String,Number])},accordion:{type:Boolean,default:!1},filterMethod:{type:we(Function)},perfMode:{type:Boolean,default:!0}}),Wee=We({node:{type:we(Object),default:()=>fn(Hee)},expanded:{type:Boolean,default:!1},checked:{type:Boolean,default:!1},indeterminate:{type:Boolean,default:!1},showCheckbox:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},current:{type:Boolean,default:!1},hiddenExpandIcon:{type:Boolean,default:!1},itemSize:Z2}),Gee=We({node:{type:we(Object),required:!0}}),J2="node-click",Q2="node-expand",eA="node-collapse",tA="current-change",nA="check",iA="check-change",rA="node-contextmenu",jee={[J2]:(t,e,n)=>t&&e&&n,[Q2]:(t,e)=>t&&e,[eA]:(t,e)=>t&&e,[tA]:(t,e)=>t&&e,[nA]:(t,e)=>t&&e,[iA]:(t,e)=>t&&typeof e=="boolean",[rA]:(t,e,n)=>t&&e&&n},Xee={click:(t,e)=>!!(t&&e),toggle:t=>!!t,check:(t,e)=>t&&typeof e=="boolean"};function Kee(t,e){const n=Y(new Set),i=Y(new Set),{emit:r}=mt();Be([()=>e.value,()=>t.defaultCheckedKeys],()=>it(()=>{b(t.defaultCheckedKeys)}),{immediate:!0});const a=()=>{if(!e.value||!t.showCheckbox||t.checkStrictly)return;const{levelTreeNodeMap:_,maxLevel:S}=e.value,w=n.value,C=new Set;for(let x=S-1;x>=1;--x){const M=_.get(x);M&&M.forEach(E=>{const A=E.children;if(A){let O=!0,I=!1;for(const $ of A){const H=$.key;if(w.has(H))I=!0;else if(C.has(H)){O=!1,I=!0;break}else O=!1}O?w.add(E.key):I?(C.add(E.key),w.delete(E.key)):(w.delete(E.key),C.delete(E.key))}})}i.value=C},u=_=>n.value.has(_.key),s=_=>i.value.has(_.key),o=(_,S,w=!0)=>{const C=n.value,x=(M,E)=>{C[E?Wg.ADD:Wg.DELETE](M.key);const A=M.children;!t.checkStrictly&&A&&A.forEach(O=>{O.disabled||x(O,E)})};x(_,S),a(),w&&c(_,S)},c=(_,S)=>{const{checkedNodes:w,checkedKeys:C}=p(),{halfCheckedNodes:x,halfCheckedKeys:M}=g();r(nA,_.data,{checkedKeys:C,checkedNodes:w,halfCheckedKeys:M,halfCheckedNodes:x}),r(iA,_.data,S)};function f(_=!1){return p(_).checkedKeys}function l(_=!1){return p(_).checkedNodes}function d(){return g().halfCheckedKeys}function h(){return g().halfCheckedNodes}function p(_=!1){const S=[],w=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:C}=e.value;n.value.forEach(x=>{const M=C.get(x);M&&(!_||_&&M.isLeaf)&&(w.push(x),S.push(M.data))})}return{checkedKeys:w,checkedNodes:S}}function g(){const _=[],S=[];if(e!=null&&e.value&&t.showCheckbox){const{treeNodeMap:w}=e.value;i.value.forEach(C=>{const x=w.get(C);x&&(S.push(C),_.push(x.data))})}return{halfCheckedNodes:_,halfCheckedKeys:S}}function m(_){n.value.clear(),i.value.clear(),it(()=>{b(_)})}function v(_,S){if(e!=null&&e.value&&t.showCheckbox){const w=e.value.treeNodeMap.get(_);w&&o(w,S,!1)}}function b(_){if(e!=null&&e.value){const{treeNodeMap:S}=e.value;if(t.showCheckbox&&S&&_)for(const w of _){const C=S.get(w);C&&!u(C)&&o(C,!0,!1)}}}return{updateCheckedKeys:a,toggleCheckbox:o,isChecked:u,isIndeterminate:s,getCheckedKeys:f,getCheckedNodes:l,getHalfCheckedKeys:d,getHalfCheckedNodes:h,setChecked:v,setCheckedKeys:m}}function Yee(t,e){const n=Y(new Set([])),i=Y(new Set([])),r=P(()=>at(t.filterMethod));function a(s){var o;if(!r.value)return;const c=new Set,f=i.value,l=n.value,d=[],h=((o=e.value)==null?void 0:o.treeNodes)||[],p=t.filterMethod;l.clear();function g(m){m.forEach(v=>{d.push(v),p!=null&&p(s,v.data)?d.forEach(_=>{c.add(_.key)}):v.isLeaf&&l.add(v.key);const b=v.children;if(b&&g(b),!v.isLeaf){if(!c.has(v.key))l.add(v.key);else if(b){let _=!0;for(const S of b)if(!l.has(S.key)){_=!1;break}_?f.add(v.key):f.delete(v.key)}}d.pop()})}return g(h),c}function u(s){return i.value.has(s.key)}return{hiddenExpandIconKeySet:i,hiddenNodeKeySet:n,doFilter:a,isForceHiddenExpandIcon:u}}function qee(t,e){const n=Y(new Set(t.defaultExpandedKeys)),i=Y(),r=an();Be(()=>t.currentNodeKey,ee=>{i.value=ee},{immediate:!0}),Be(()=>t.data,ee=>{K(ee)},{immediate:!0});const{isIndeterminate:a,isChecked:u,toggleCheckbox:s,getCheckedKeys:o,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:l,setChecked:d,setCheckedKeys:h}=Kee(t,r),{doFilter:p,hiddenNodeKeySet:g,isForceHiddenExpandIcon:m}=Yee(t,r),v=P(()=>{var ee;return((ee=t.props)==null?void 0:ee.value)||Uc.KEY}),b=P(()=>{var ee;return((ee=t.props)==null?void 0:ee.children)||Uc.CHILDREN}),_=P(()=>{var ee;return((ee=t.props)==null?void 0:ee.disabled)||Uc.DISABLED}),S=P(()=>{var ee;return((ee=t.props)==null?void 0:ee.label)||Uc.LABEL}),w=P(()=>{const ee=n.value,ue=g.value,ne=[],le=r.value&&r.value.treeNodes||[];function Me(){const q=[];for(let J=le.length-1;J>=0;--J)q.push(le[J]);for(;q.length;){const J=q.pop();if(J&&(ue.has(J.key)||ne.push(J),ee.has(J.key))){const ce=J.children;if(ce){const pe=ce.length;for(let re=pe-1;re>=0;--re)q.push(ce[re])}}}}return Me(),ne}),C=P(()=>w.value.length>0);function x(ee){const ue=new Map,ne=new Map;let le=1;function Me(J,ce=1,pe=void 0){var re;const he=[];for(const Ce of J){const Oe=A(Ce),ke={level:ce,key:Oe,data:Ce};ke.label=I(Ce),ke.parent=pe;const G=E(Ce);ke.disabled=O(Ce),ke.isLeaf=!G||G.length===0,G&&G.length&&(ke.children=Me(G,ce+1,ke)),he.push(ke),ue.set(Oe,ke),ne.has(ce)||ne.set(ce,[]),(re=ne.get(ce))==null||re.push(ke)}return ce>le&&(le=ce),he}const q=Me(ee);return{treeNodeMap:ue,levelTreeNodeMap:ne,maxLevel:le,treeNodes:q}}function M(ee){const ue=p(ee);ue&&(n.value=ue)}function E(ee){return ee[b.value]}function A(ee){return ee?ee[v.value]:""}function O(ee){return ee[_.value]}function I(ee){return ee[S.value]}function $(ee){n.value.has(ee.key)?T(ee):D(ee)}function H(ee){n.value=new Set(ee)}function B(ee,ue){e(J2,ee.data,ee,ue),N(ee),t.expandOnClickNode&&$(ee),t.showCheckbox&&t.checkOnClickNode&&!ee.disabled&&s(ee,!u(ee),!0)}function N(ee){U(ee)||(i.value=ee.key,e(tA,ee.data,ee))}function k(ee,ue){s(ee,ue)}function D(ee){const ue=n.value;if(r.value&&t.accordion){const{treeNodeMap:ne}=r.value;ue.forEach(le=>{const Me=ne.get(le);ee&&ee.level===(Me==null?void 0:Me.level)&&ue.delete(le)})}ue.add(ee.key),e(Q2,ee.data,ee)}function T(ee){n.value.delete(ee.key),e(eA,ee.data,ee)}function R(ee){return n.value.has(ee.key)}function V(ee){return!!ee.disabled}function U(ee){const ue=i.value;return ue!==void 0&&ue===ee.key}function X(){var ee,ue;if(i.value)return(ue=(ee=r.value)==null?void 0:ee.treeNodeMap.get(i.value))==null?void 0:ue.data}function W(){return i.value}function j(ee){i.value=ee}function K(ee){it(()=>r.value=x(ee))}function z(ee){var ue;const ne=bt(ee)?A(ee):ee;return(ue=r.value)==null?void 0:ue.treeNodeMap.get(ne)}return{tree:r,flattenTree:w,isNotEmpty:C,getKey:A,getChildren:E,toggleExpand:$,toggleCheckbox:s,isExpanded:R,isChecked:u,isIndeterminate:a,isDisabled:V,isCurrent:U,isForceHiddenExpandIcon:m,handleNodeClick:B,handleNodeCheck:k,getCurrentNode:X,getCurrentKey:W,setCurrentKey:j,getCheckedKeys:o,getCheckedNodes:c,getHalfCheckedKeys:f,getHalfCheckedNodes:l,setChecked:d,setCheckedKeys:h,filter:M,setData:K,getNode:z,expandNode:D,collapseNode:T,setExpandedKeys:H}}var Zee=se({name:"ElTreeNodeContent",props:Gee,setup(t){const e=Je(dy),n=Ve("tree");return()=>{const i=t.node,{data:r}=i;return e!=null&&e.ctx.slots.default?e.ctx.slots.default({node:i,data:r}):rt("span",{class:n.be("node","label")},[i==null?void 0:i.label])}}});const Jee=["aria-expanded","aria-disabled","aria-checked","data-key","onClick"],Qee=se({name:"ElTreeNode"}),ete=se({...Qee,props:Wee,emits:Xee,setup(t,{emit:e}){const n=t,i=Je(dy),r=Ve("tree"),a=P(()=>{var l;return(l=i==null?void 0:i.props.indent)!=null?l:16}),u=P(()=>{var l;return(l=i==null?void 0:i.props.icon)!=null?l:pT}),s=l=>{e("click",n.node,l)},o=()=>{e("toggle",n.node)},c=l=>{e("check",n.node,l)},f=l=>{var d,h,p,g;(p=(h=(d=i==null?void 0:i.instance)==null?void 0:d.vnode)==null?void 0:h.props)!=null&&p.onNodeContextmenu&&(l.stopPropagation(),l.preventDefault()),i==null||i.ctx.emit(rA,l,(g=n.node)==null?void 0:g.data,n.node)};return(l,d)=>{var h,p,g;return L(),Q("div",{ref:"node$",class:F([y(r).b("node"),y(r).is("expanded",l.expanded),y(r).is("current",l.current),y(r).is("focusable",!l.disabled),y(r).is("checked",!l.disabled&&l.checked)]),role:"treeitem",tabindex:"-1","aria-expanded":l.expanded,"aria-disabled":l.disabled,"aria-checked":l.checked,"data-key":(h=l.node)==null?void 0:h.key,onClick:lt(s,["stop"]),onContextmenu:f},[te("div",{class:F(y(r).be("node","content")),style:Qe({paddingLeft:`${(l.node.level-1)*y(a)}px`,height:l.itemSize+"px"})},[y(u)?(L(),Pe(y(et),{key:0,class:F([y(r).is("leaf",!!((p=l.node)!=null&&p.isLeaf)),y(r).is("hidden",l.hiddenExpandIcon),{expanded:!((g=l.node)!=null&&g.isLeaf)&&l.expanded},y(r).be("node","expand-icon")]),onClick:lt(o,["stop"])},{default:ve(()=>[(L(),Pe(wt(y(u))))]),_:1},8,["class","onClick"])):Ee("v-if",!0),l.showCheckbox?(L(),Pe(y(lr),{key:1,"model-value":l.checked,indeterminate:l.indeterminate,disabled:l.disabled,onChange:c,onClick:d[0]||(d[0]=lt(()=>{},["stop"]))},null,8,["model-value","indeterminate","disabled"])):Ee("v-if",!0),oe(y(Zee),{node:l.node},null,8,["node"])],6)],42,Jee)}}});var tte=Ge(ete,[["__file","tree-node.vue"]]);const nte=se({name:"ElTreeV2"}),ite=se({...nte,props:zee,emits:jee,setup(t,{expose:e,emit:n}){const i=t,r=Un(),a=P(()=>i.itemSize);Mt(dy,{ctx:{emit:n,slots:r},props:i,instance:mt()}),Mt(Vr,void 0);const{t:u}=Dt(),s=Ve("tree"),{flattenTree:o,isNotEmpty:c,toggleExpand:f,isExpanded:l,isIndeterminate:d,isChecked:h,isDisabled:p,isCurrent:g,isForceHiddenExpandIcon:m,handleNodeClick:v,handleNodeCheck:b,toggleCheckbox:_,getCurrentNode:S,getCurrentKey:w,setCurrentKey:C,getCheckedKeys:x,getCheckedNodes:M,getHalfCheckedKeys:E,getHalfCheckedNodes:A,setChecked:O,setCheckedKeys:I,filter:$,setData:H,getNode:B,expandNode:N,collapseNode:k,setExpandedKeys:D}=qee(i,n);return e({toggleCheckbox:_,getCurrentNode:S,getCurrentKey:w,setCurrentKey:C,getCheckedKeys:x,getCheckedNodes:M,getHalfCheckedKeys:E,getHalfCheckedNodes:A,setChecked:O,setCheckedKeys:I,filter:$,setData:H,getNode:B,expandNode:N,collapseNode:k,setExpandedKeys:D}),(T,R)=>{var V;return L(),Q("div",{class:F([y(s).b(),{[y(s).m("highlight-current")]:T.highlightCurrent}]),role:"tree"},[y(c)?(L(),Pe(y(c2),{key:0,"class-name":y(s).b("virtual-list"),data:y(o),total:y(o).length,height:T.height,"item-size":y(a),"perf-mode":T.perfMode},{default:ve(({data:U,index:X,style:W})=>[(L(),Pe(tte,{key:U[X].key,style:Qe(W),node:U[X],expanded:y(l)(U[X]),"show-checkbox":T.showCheckbox,checked:y(h)(U[X]),indeterminate:y(d)(U[X]),"item-size":y(a),disabled:y(p)(U[X]),current:y(g)(U[X]),"hidden-expand-icon":y(m)(U[X]),onClick:y(v),onToggle:y(f),onCheck:y(b)},null,8,["style","node","expanded","show-checkbox","checked","indeterminate","item-size","disabled","current","hidden-expand-icon","onClick","onToggle","onCheck"]))]),_:1},8,["class-name","data","total","height","item-size","perf-mode"])):(L(),Q("div",{key:1,class:F(y(s).e("empty-block"))},[te("span",{class:F(y(s).e("empty-text"))},je((V=T.emptyText)!=null?V:y(u)("el.tree.emptyText")),3)],2))],2)}}});var rte=Ge(ite,[["__file","tree.vue"]]);const ste=gt(rte),sA=Symbol("uploadContextKey"),ote="ElUpload";class ate extends Error{constructor(e,n,i,r){super(e),this.name="UploadAjaxError",this.status=n,this.method=i,this.url=r}}function ew(t,e,n){let i;return n.response?i=`${n.response.error||n.response}`:n.responseText?i=`${n.responseText}`:i=`fail to ${e.method} ${t} ${n.status}`,new ate(i,n.status,e.method,t)}function lte(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const cte=t=>{typeof XMLHttpRequest>"u"&&Rn(ote,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,n=t.action;e.upload&&e.upload.addEventListener("progress",a=>{const u=a;u.percent=a.total>0?a.loaded/a.total*100:0,t.onProgress(u)});const i=new FormData;if(t.data)for(const[a,u]of Object.entries(t.data))qe(u)&&u.length?i.append(a,...u):i.append(a,u);i.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(ew(n,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(ew(n,t,e));t.onSuccess(lte(e))}),e.open(t.method,n,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const r=t.headers||{};if(r instanceof Headers)r.forEach((a,u)=>e.setRequestHeader(u,a));else for(const[a,u]of Object.entries(r))In(u)||e.setRequestHeader(a,String(u));return e.send(i),e},oA=["text","picture","picture-card"];let ute=1;const Gg=()=>Date.now()+ute++,aA=We({action:{type:String,default:"#"},headers:{type:we(Object)},method:{type:String,default:"post"},data:{type:we([Object,Function,Promise]),default:()=>fn({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},fileList:{type:we(Array),default:()=>fn([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:oA,default:"text"},httpRequest:{type:we(Function),default:cte},disabled:Boolean,limit:Number}),dte=We({...aA,beforeUpload:{type:we(Function),default:Gt},beforeRemove:{type:we(Function)},onRemove:{type:we(Function),default:Gt},onChange:{type:we(Function),default:Gt},onPreview:{type:we(Function),default:Gt},onSuccess:{type:we(Function),default:Gt},onProgress:{type:we(Function),default:Gt},onError:{type:we(Function),default:Gt},onExceed:{type:we(Function),default:Gt},crossorigin:{type:we(String)}}),fte=We({files:{type:we(Array),default:()=>fn([])},disabled:{type:Boolean,default:!1},handlePreview:{type:we(Function),default:Gt},listType:{type:String,values:oA,default:"text"},crossorigin:{type:we(String)}}),hte={remove:t=>!!t},pte=["onKeydown"],mte=["src","crossorigin"],gte=["onClick"],vte=["title"],yte=["onClick"],bte=["onClick"],_te=se({name:"ElUploadList"}),Ste=se({..._te,props:fte,emits:hte,setup(t,{emit:e}){const n=t,{t:i}=Dt(),r=Ve("upload"),a=Ve("icon"),u=Ve("list"),s=wi(),o=Y(!1),c=P(()=>[r.b("list"),r.bm("list",n.listType),r.is("disabled",n.disabled)]),f=l=>{e("remove",l)};return(l,d)=>(L(),Pe(dx,{tag:"ul",class:F(y(c)),name:y(u).b()},{default:ve(()=>[(L(!0),Q(tt,null,Tt(l.files,h=>(L(),Q("li",{key:h.uid||h.name,class:F([y(r).be("list","item"),y(r).is(h.status),{focusing:o.value}]),tabindex:"0",onKeydown:Xt(p=>!y(s)&&f(h),["delete"]),onFocus:d[0]||(d[0]=p=>o.value=!0),onBlur:d[1]||(d[1]=p=>o.value=!1),onClick:d[2]||(d[2]=p=>o.value=!1)},[Le(l.$slots,"default",{file:h},()=>[l.listType==="picture"||h.status!=="uploading"&&l.listType==="picture-card"?(L(),Q("img",{key:0,class:F(y(r).be("list","item-thumbnail")),src:h.url,crossorigin:l.crossorigin,alt:""},null,10,mte)):Ee("v-if",!0),h.status==="uploading"||l.listType!=="picture-card"?(L(),Q("div",{key:1,class:F(y(r).be("list","item-info"))},[te("a",{class:F(y(r).be("list","item-name")),onClick:lt(p=>l.handlePreview(h),["prevent"])},[oe(y(et),{class:F(y(a).m("document"))},{default:ve(()=>[oe(y(A3))]),_:1},8,["class"]),te("span",{class:F(y(r).be("list","item-file-name")),title:h.name},je(h.name),11,vte)],10,gte),h.status==="uploading"?(L(),Pe(y(e2),{key:0,type:l.listType==="picture-card"?"circle":"line","stroke-width":l.listType==="picture-card"?6:2,percentage:Number(h.percentage),style:Qe(l.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):Ee("v-if",!0)],2)):Ee("v-if",!0),te("label",{class:F(y(r).be("list","item-status-label"))},[l.listType==="text"?(L(),Pe(y(et),{key:0,class:F([y(a).m("upload-success"),y(a).m("circle-check")])},{default:ve(()=>[oe(y(Qv))]),_:1},8,["class"])):["picture-card","picture"].includes(l.listType)?(L(),Pe(y(et),{key:1,class:F([y(a).m("upload-success"),y(a).m("check")])},{default:ve(()=>[oe(y(Ku))]),_:1},8,["class"])):Ee("v-if",!0)],2),y(s)?Ee("v-if",!0):(L(),Pe(y(et),{key:2,class:F(y(a).m("close")),onClick:p=>f(h)},{default:ve(()=>[oe(y(Cr))]),_:2},1032,["class","onClick"])),Ee(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),Ee(" This is a bug which needs to be fixed "),Ee(" TODO: Fix the incorrect navigation interaction "),y(s)?Ee("v-if",!0):(L(),Q("i",{key:3,class:F(y(a).m("close-tip"))},je(y(i)("el.upload.deleteTip")),3)),l.listType==="picture-card"?(L(),Q("span",{key:4,class:F(y(r).be("list","item-actions"))},[te("span",{class:F(y(r).be("list","item-preview")),onClick:p=>l.handlePreview(h)},[oe(y(et),{class:F(y(a).m("zoom-in"))},{default:ve(()=>[oe(y(yT))]),_:1},8,["class"])],10,yte),y(s)?Ee("v-if",!0):(L(),Q("span",{key:0,class:F(y(r).be("list","item-delete")),onClick:p=>f(h)},[oe(y(et),{class:F(y(a).m("delete"))},{default:ve(()=>[oe(y(E3))]),_:1},8,["class"])],10,bte))],2)):Ee("v-if",!0)])],42,pte))),128)),Le(l.$slots,"append")]),_:3},8,["class","name"]))}});var tw=Ge(Ste,[["__file","upload-list.vue"]]);const wte=We({disabled:{type:Boolean,default:!1}}),Cte={file:t=>qe(t)},xte=["onDrop","onDragover"],lA="ElUploadDrag",Tte=se({name:lA}),Ete=se({...Tte,props:wte,emits:Cte,setup(t,{emit:e}){Je(sA)||Rn(lA,"usage: <el-upload><el-upload-dragger /></el-upload>");const i=Ve("upload"),r=Y(!1),a=wi(),u=o=>{if(a.value)return;r.value=!1,o.stopPropagation();const c=Array.from(o.dataTransfer.files);e("file",c)},s=()=>{a.value||(r.value=!0)};return(o,c)=>(L(),Q("div",{class:F([y(i).b("dragger"),y(i).is("dragover",r.value)]),onDrop:lt(u,["prevent"]),onDragover:lt(s,["prevent"]),onDragleave:c[0]||(c[0]=lt(f=>r.value=!1,["prevent"]))},[Le(o.$slots,"default")],42,xte))}});var Mte=Ge(Ete,[["__file","upload-dragger.vue"]]);const Ate=We({...aA,beforeUpload:{type:we(Function),default:Gt},onRemove:{type:we(Function),default:Gt},onStart:{type:we(Function),default:Gt},onSuccess:{type:we(Function),default:Gt},onProgress:{type:we(Function),default:Gt},onError:{type:we(Function),default:Gt},onExceed:{type:we(Function),default:Gt}}),Rte=["onKeydown"],Pte=["name","multiple","accept"],Ote=se({name:"ElUploadContent",inheritAttrs:!1}),kte=se({...Ote,props:Ate,setup(t,{expose:e}){const n=t,i=Ve("upload"),r=wi(),a=an({}),u=an(),s=g=>{if(g.length===0)return;const{autoUpload:m,limit:v,fileList:b,multiple:_,onStart:S,onExceed:w}=n;if(v&&b.length+g.length>v){w(g,b);return}_||(g=g.slice(0,1));for(const C of g){const x=C;x.uid=Gg(),S(x),m&&o(x)}},o=async g=>{if(u.value.value="",!n.beforeUpload)return f(g);let m,v={};try{const _=n.data,S=n.beforeUpload(g);v=Uf(n.data)?qf(n.data):n.data,m=await S,Uf(n.data)&&si(_,v)&&(v=qf(n.data))}catch{m=!1}if(m===!1){n.onRemove(g);return}let b=g;m instanceof Blob&&(m instanceof File?b=m:b=new File([m],g.name,{type:g.type})),f(Object.assign(b,{uid:g.uid}),v)},c=async(g,m)=>at(g)?g(m):g,f=async(g,m)=>{const{headers:v,data:b,method:_,withCredentials:S,name:w,action:C,onProgress:x,onSuccess:M,onError:E,httpRequest:A}=n;try{m=await c(m??b,g)}catch{n.onRemove(g);return}const{uid:O}=g,I={headers:v||{},withCredentials:S,file:g,data:m,method:_,filename:w,action:C,onProgress:H=>{x(H,g)},onSuccess:H=>{M(H,g),delete a.value[O]},onError:H=>{E(H,g),delete a.value[O]}},$=A(I);a.value[O]=$,$ instanceof Promise&&$.then(I.onSuccess,I.onError)},l=g=>{const m=g.target.files;m&&s(Array.from(m))},d=()=>{r.value||(u.value.value="",u.value.click())},h=()=>{d()};return e({abort:g=>{e3(a.value).filter(g?([v])=>String(g.uid)===v:()=>!0).forEach(([v,b])=>{b instanceof XMLHttpRequest&&b.abort(),delete a.value[v]})},upload:o}),(g,m)=>(L(),Q("div",{class:F([y(i).b(),y(i).m(g.listType),y(i).is("drag",g.drag)]),tabindex:"0",onClick:d,onKeydown:Xt(lt(h,["self"]),["enter","space"])},[g.drag?(L(),Pe(Mte,{key:0,disabled:y(r),onFile:s},{default:ve(()=>[Le(g.$slots,"default")]),_:3},8,["disabled"])):Le(g.$slots,"default",{key:1}),te("input",{ref_key:"inputRef",ref:u,class:F(y(i).e("input")),name:g.name,multiple:g.multiple,accept:g.accept,type:"file",onChange:l,onClick:m[0]||(m[0]=lt(()=>{},["stop"]))},null,42,Pte)],42,Rte))}});var nw=Ge(kte,[["__file","upload-content.vue"]]);const iw="ElUpload",rw=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Lte=(t,e)=>{const n=Cx(t,"fileList",void 0,{passive:!0}),i=d=>n.value.find(h=>h.uid===d.uid);function r(d){var h;(h=e.value)==null||h.abort(d)}function a(d=["ready","uploading","success","fail"]){n.value=n.value.filter(h=>!d.includes(h.status))}const u=(d,h)=>{const p=i(h);p&&(console.error(d),p.status="fail",n.value.splice(n.value.indexOf(p),1),t.onError(d,p,n.value),t.onChange(p,n.value))},s=(d,h)=>{const p=i(h);p&&(t.onProgress(d,p,n.value),p.status="uploading",p.percentage=Math.round(d.percent))},o=(d,h)=>{const p=i(h);p&&(p.status="success",p.response=d,t.onSuccess(d,p,n.value),t.onChange(p,n.value))},c=d=>{In(d.uid)&&(d.uid=Gg());const h={name:d.name,percentage:0,status:"ready",size:d.size,raw:d,uid:d.uid};if(t.listType==="picture-card"||t.listType==="picture")try{h.url=URL.createObjectURL(d)}catch(p){p.message,t.onError(p,h,n.value)}n.value=[...n.value,h],t.onChange(h,n.value)},f=async d=>{const h=d instanceof File?i(d):d;h||Rn(iw,"file to be removed not found");const p=g=>{r(g);const m=n.value;m.splice(m.indexOf(g),1),t.onRemove(g,m),rw(g)};t.beforeRemove?await t.beforeRemove(h,n.value)!==!1&&p(h):p(h)};function l(){n.value.filter(({status:d})=>d==="ready").forEach(({raw:d})=>{var h;return d&&((h=e.value)==null?void 0:h.upload(d))})}return Be(()=>t.listType,d=>{d!=="picture-card"&&d!=="picture"||(n.value=n.value.map(h=>{const{raw:p,url:g}=h;if(!g&&p)try{h.url=URL.createObjectURL(p)}catch(m){t.onError(m,h,n.value)}return h}))}),Be(n,d=>{for(const h of d)h.uid||(h.uid=Gg()),h.status||(h.status="success")},{immediate:!0,deep:!0}),{uploadFiles:n,abort:r,clearFiles:a,handleError:u,handleProgress:s,handleStart:c,handleSuccess:o,handleRemove:f,submit:l,revokeFileObjectURL:rw}},Ite=se({name:"ElUpload"}),Dte=se({...Ite,props:dte,setup(t,{expose:e}){const n=t,i=wi(),r=an(),{abort:a,submit:u,clearFiles:s,uploadFiles:o,handleStart:c,handleError:f,handleRemove:l,handleSuccess:d,handleProgress:h,revokeFileObjectURL:p}=Lte(n,r),g=P(()=>n.listType==="picture-card"),m=P(()=>({...n,fileList:o.value,onStart:c,onProgress:h,onSuccess:d,onError:f,onRemove:l}));return en(()=>{o.value.forEach(p)}),Mt(sA,{accept:Zt(n,"accept")}),e({abort:a,submit:u,clearFiles:s,handleStart:c,handleRemove:l}),(v,b)=>(L(),Q("div",null,[y(g)&&v.showFileList?(L(),Pe(tw,{key:0,disabled:y(i),"list-type":v.listType,files:y(o),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:y(l)},ps({append:ve(()=>[oe(nw,xt({ref_key:"uploadRef",ref:r},y(m)),{default:ve(()=>[v.$slots.trigger?Le(v.$slots,"trigger",{key:0}):Ee("v-if",!0),!v.$slots.trigger&&v.$slots.default?Le(v.$slots,"default",{key:1}):Ee("v-if",!0)]),_:3},16)]),_:2},[v.$slots.file?{name:"default",fn:ve(({file:_})=>[Le(v.$slots,"file",{file:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Ee("v-if",!0),!y(g)||y(g)&&!v.showFileList?(L(),Pe(nw,xt({key:1,ref_key:"uploadRef",ref:r},y(m)),{default:ve(()=>[v.$slots.trigger?Le(v.$slots,"trigger",{key:0}):Ee("v-if",!0),!v.$slots.trigger&&v.$slots.default?Le(v.$slots,"default",{key:1}):Ee("v-if",!0)]),_:3},16)):Ee("v-if",!0),v.$slots.trigger?Le(v.$slots,"default",{key:2}):Ee("v-if",!0),Le(v.$slots,"tip"),!y(g)&&v.showFileList?(L(),Pe(tw,{key:3,disabled:y(i),"list-type":v.listType,files:y(o),crossorigin:v.crossorigin,"handle-preview":v.onPreview,onRemove:y(l)},ps({_:2},[v.$slots.file?{name:"default",fn:ve(({file:_})=>[Le(v.$slots,"file",{file:_})])}:void 0]),1032,["disabled","list-type","files","crossorigin","handle-preview","onRemove"])):Ee("v-if",!0)]))}});var Nte=Ge(Dte,[["__file","upload.vue"]]);const Fte=gt(Nte),Bte=We({zIndex:{type:Number,default:9},rotate:{type:Number,default:-22},width:Number,height:Number,image:String,content:{type:we([String,Array]),default:"Element Plus"},font:{type:we(Object)},gap:{type:we(Array),default:()=>[100,100]},offset:{type:we(Array)}});function Ute(t){return t.replace(/([A-Z])/g,"-$1").toLowerCase()}function Vte(t){return Object.keys(t).map(e=>`${Ute(e)}: ${t[e]};`).join(" ")}function $te(){return window.devicePixelRatio||1}const Hte=(t,e)=>{let n=!1;return t.removedNodes.length&&e&&(n=Array.from(t.removedNodes).includes(e)),t.type==="attributes"&&t.target===e&&(n=!0),n},cA=3;function Wp(t,e,n=1){const i=document.createElement("canvas"),r=i.getContext("2d"),a=t*n,u=e*n;return i.setAttribute("width",`${a}px`),i.setAttribute("height",`${u}px`),r.save(),[r,i,a,u]}function zte(){function t(e,n,i,r,a,u,s,o){const[c,f,l,d]=Wp(r,a,i);if(e instanceof HTMLImageElement)c.drawImage(e,0,0,l,d);else{const{color:V,fontSize:U,fontStyle:X,fontWeight:W,fontFamily:j,textAlign:K,textBaseline:z}=u,ee=Number(U)*i;c.font=`${X} normal ${W} ${ee}px/${a}px ${j}`,c.fillStyle=V,c.textAlign=K,c.textBaseline=z;const ue=Array.isArray(e)?e:[e];ue==null||ue.forEach((ne,le)=>{c.fillText(ne??"",l/2,le*(ee+cA*i))})}const h=Math.PI/180*Number(n),p=Math.max(r,a),[g,m,v]=Wp(p,p,i);g.translate(v/2,v/2),g.rotate(h),l>0&&d>0&&g.drawImage(f,-l/2,-d/2);function b(V,U){const X=V*Math.cos(h)-U*Math.sin(h),W=V*Math.sin(h)+U*Math.cos(h);return[X,W]}let _=0,S=0,w=0,C=0;const x=l/2,M=d/2;[[0-x,0-M],[0+x,0-M],[0+x,0+M],[0-x,0+M]].forEach(([V,U])=>{const[X,W]=b(V,U);_=Math.min(_,X),S=Math.max(S,X),w=Math.min(w,W),C=Math.max(C,W)});const A=_+v/2,O=w+v/2,I=S-_,$=C-w,H=s*i,B=o*i,N=(I+H)*2,k=$+B,[D,T]=Wp(N,k);function R(V=0,U=0){D.drawImage(m,A,O,I,$,V,U,I,$)}return R(),R(I+H,-$/2-B/2),R(I+H,+$/2+B/2),[T.toDataURL(),N/i,k/i]}return t}const Wte=se({name:"ElWatermark"}),Gte=se({...Wte,props:Bte,setup(t){const e=t,n={position:"relative"},i=P(()=>{var A,O;return(O=(A=e.font)==null?void 0:A.color)!=null?O:"rgba(0,0,0,.15)"}),r=P(()=>{var A,O;return(O=(A=e.font)==null?void 0:A.fontSize)!=null?O:16}),a=P(()=>{var A,O;return(O=(A=e.font)==null?void 0:A.fontWeight)!=null?O:"normal"}),u=P(()=>{var A,O;return(O=(A=e.font)==null?void 0:A.fontStyle)!=null?O:"normal"}),s=P(()=>{var A,O;return(O=(A=e.font)==null?void 0:A.fontFamily)!=null?O:"sans-serif"}),o=P(()=>{var A,O;return(O=(A=e.font)==null?void 0:A.textAlign)!=null?O:"center"}),c=P(()=>{var A,O;return(O=(A=e.font)==null?void 0:A.textBaseline)!=null?O:"top"}),f=P(()=>e.gap[0]),l=P(()=>e.gap[1]),d=P(()=>f.value/2),h=P(()=>l.value/2),p=P(()=>{var A,O;return(O=(A=e.offset)==null?void 0:A[0])!=null?O:d.value}),g=P(()=>{var A,O;return(O=(A=e.offset)==null?void 0:A[1])!=null?O:h.value}),m=()=>{const A={zIndex:e.zIndex,position:"absolute",left:0,top:0,width:"100%",height:"100%",pointerEvents:"none",backgroundRepeat:"repeat"};let O=p.value-d.value,I=g.value-h.value;return O>0&&(A.left=`${O}px`,A.width=`calc(100% - ${O}px)`,O=0),I>0&&(A.top=`${I}px`,A.height=`calc(100% - ${I}px)`,I=0),A.backgroundPosition=`${O}px ${I}px`,A},v=an(null),b=an(),_=Y(!1),S=()=>{b.value&&(b.value.remove(),b.value=void 0)},w=(A,O)=>{var I;v.value&&b.value&&(_.value=!0,b.value.setAttribute("style",Vte({...m(),backgroundImage:`url('${A}')`,backgroundSize:`${Math.floor(O)}px`})),(I=v.value)==null||I.append(b.value),setTimeout(()=>{_.value=!1}))},C=A=>{let O=120,I=64;const $=e.image,H=e.content,B=e.width,N=e.height;if(!$&&A.measureText){A.font=`${Number(r.value)}px ${s.value}`;const k=Array.isArray(H)?H:[H],D=k.map(T=>{const R=A.measureText(T);return[R.width,R.fontBoundingBoxAscent!==void 0?R.fontBoundingBoxAscent+R.fontBoundingBoxDescent:R.actualBoundingBoxAscent+R.actualBoundingBoxDescent]});O=Math.ceil(Math.max(...D.map(T=>T[0]))),I=Math.ceil(Math.max(...D.map(T=>T[1])))*k.length+(k.length-1)*cA}return[B??O,N??I]},x=zte(),M=()=>{const O=document.createElement("canvas").getContext("2d"),I=e.image,$=e.content,H=e.rotate;if(O){b.value||(b.value=document.createElement("div"));const B=$te(),[N,k]=C(O),D=T=>{const[R,V]=x(T||"",H,B,N,k,{color:i.value,fontSize:r.value,fontStyle:u.value,fontWeight:a.value,fontFamily:s.value,textAlign:o.value,textBaseline:c.value},f.value,l.value);w(R,V)};if(I){const T=new Image;T.onload=()=>{D(T)},T.onerror=()=>{D($)},T.crossOrigin="anonymous",T.referrerPolicy="no-referrer",T.src=I}else D($)}};return ht(()=>{M()}),Be(()=>e,()=>{M()},{deep:!0,flush:"post"}),en(()=>{S()}),wx(v,A=>{_.value||A.forEach(O=>{Hte(O,b.value)&&(S(),M())})},{attributes:!0,subtree:!0,childList:!0}),(A,O)=>(L(),Q("div",{ref_key:"containerRef",ref:v,style:Qe([n])},[Le(A.$slots,"default")],4))}});var jte=Ge(Gte,[["__file","watermark.vue"]]);const Xte=gt(jte),Kte=We({zIndex:{type:Number,default:1001},visible:Boolean,fill:{type:String,default:"rgba(0,0,0,0.5)"},pos:{type:we(Object)},targetAreaClickable:{type:Boolean,default:!0}}),Yte=(t,e,n,i,r)=>{const a=Y(null),u=()=>{let l;return ct(t.value)?l=document.querySelector(t.value):at(t.value)?l=t.value():l=t.value,l},s=()=>{const l=u();if(!l||!e.value){a.value=null;return}!qte(l)&&e.value&&l.scrollIntoView(r.value);const{left:d,top:h,width:p,height:g}=l.getBoundingClientRect();a.value={left:d,top:h,width:p,height:g,radius:0}};ht(()=>{Be([e,t],()=>{s()},{immediate:!0}),window.addEventListener("resize",s)}),en(()=>{window.removeEventListener("resize",s)});const o=l=>{var d;return(d=qe(n.value.offset)?n.value.offset[l]:n.value.offset)!=null?d:6},c=P(()=>{var l;if(!a.value)return a.value;const d=o(0),h=o(1),p=((l=n.value)==null?void 0:l.radius)||2;return{left:a.value.left-d,top:a.value.top-h,width:a.value.width+d*2,height:a.value.height+h*2,radius:p}}),f=P(()=>{const l=u();return!i.value||!l||!window.DOMRect?l||void 0:{getBoundingClientRect(){var d,h,p,g;return window.DOMRect.fromRect({width:((d=c.value)==null?void 0:d.width)||0,height:((h=c.value)==null?void 0:h.height)||0,x:((p=c.value)==null?void 0:p.left)||0,y:((g=c.value)==null?void 0:g.top)||0})}}});return{mergedPosInfo:c,triggerTarget:f}},ep=Symbol("ElTour");function qte(t){const e=window.innerWidth||document.documentElement.clientWidth,n=window.innerHeight||document.documentElement.clientHeight,{top:i,right:r,bottom:a,left:u}=t.getBoundingClientRect();return i>=0&&u>=0&&r<=e&&a<=n}const Zte=(t,e,n,i,r,a,u,s)=>{const o=Y(),c=Y(),f=Y({}),l={x:o,y:c,placement:i,strategy:r,middlewareData:f},d=P(()=>{const v=[WT(y(a)),SU(),_U(),Jte()];return y(s)&&y(n)&&v.push(QT({element:y(n)})),v}),h=async()=>{if(!Ot)return;const v=y(t),b=y(e);if(!v||!b)return;const _=await eE(v,b,{placement:y(i),strategy:y(r),middleware:y(d)});Pl(l).forEach(S=>{l[S].value=_[S]})},p=P(()=>{if(!y(t))return{position:"fixed",top:"50%",left:"50%",transform:"translate3d(-50%, -50%, 0)",maxWidth:"100vw",zIndex:y(u)};const{overflow:v}=y(f);return{position:y(r),zIndex:y(u),top:y(c)!=null?`${y(c)}px`:"",left:y(o)!=null?`${y(o)}px`:"",maxWidth:v!=null&&v.maxWidth?`${v==null?void 0:v.maxWidth}px`:""}}),g=P(()=>{if(!y(s))return{};const{arrow:v}=y(f);return{left:(v==null?void 0:v.x)!=null?`${v==null?void 0:v.x}px`:"",top:(v==null?void 0:v.y)!=null?`${v==null?void 0:v.y}px`:""}});let m;return ht(()=>{const v=y(t),b=y(e);v&&b&&(m=bU(v,b,h)),Yn(()=>{h()})}),en(()=>{m&&m()}),{update:h,contentStyle:p,arrowStyle:g}},Jte=()=>({name:"overflow",async fn(t){const e=await S0(t);let n=0;return e.left>0&&(n=e.left),e.right>0&&(n=e.right),{data:{maxWidth:t.rects.floating.width-n}}}}),Qte={style:{width:"100%",height:"100%"}},ene=["d"],tne=se({name:"ElTourMask",inheritAttrs:!1}),nne=se({...tne,props:Kte,setup(t){const e=t,{ns:n}=Je(ep),i=P(()=>{var s,o;return(o=(s=e.pos)==null?void 0:s.radius)!=null?o:2}),r=P(()=>{const s=i.value,o=`a${s},${s} 0 0 1`;return{topRight:`${o} ${s},${s}`,bottomRight:`${o} ${-s},${s}`,bottomLeft:`${o} ${-s},${-s}`,topLeft:`${o} ${s},${-s}`}}),a=P(()=>{const s=window.innerWidth,o=window.innerHeight,c=r.value,f=`M${s},0 L0,0 L0,${o} L${s},${o} L${s},0 Z`,l=i.value;return e.pos?`${f} M${e.pos.left+l},${e.pos.top} h${e.pos.width-l*2} ${c.topRight} v${e.pos.height-l*2} ${c.bottomRight} h${-e.pos.width+l*2} ${c.bottomLeft} v${-e.pos.height+l*2} ${c.topLeft} z`:f}),u=P(()=>({fill:e.fill,pointerEvents:"auto",cursor:"auto"}));return l0(Zt(e,"visible"),{ns:n}),(s,o)=>s.visible?(L(),Q("div",xt({key:0,class:y(n).e("mask"),style:{position:"fixed",left:0,right:0,top:0,bottom:0,zIndex:s.zIndex,pointerEvents:s.pos&&s.targetAreaClickable?"none":"auto"}},s.$attrs),[(L(),Q("svg",Qte,[te("path",{class:F(y(n).e("hollow")),style:Qe(y(u)),d:y(a)},null,14,ene)]))],16)):Ee("v-if",!0)}});var ine=Ge(nne,[["__file","mask.vue"]]);const rne=["absolute","fixed"],sne=["top-start","top-end","top","bottom-start","bottom-end","bottom","left-start","left-end","left","right-start","right-end","right"],fy=We({placement:{type:we(String),values:sne,default:"bottom"},reference:{type:we(Object),default:null},strategy:{type:we(String),values:rne,default:"absolute"},offset:{type:Number,default:10},showArrow:Boolean,zIndex:{type:Number,default:2001}}),one={close:()=>!0},ane=["data-side"],lne=se({name:"ElTourContent"}),cne=se({...lne,props:fy,emits:one,setup(t,{emit:e}){const n=t,i=Y(n.placement),r=Y(n.strategy),a=Y(null),u=Y(null);Be(()=>n.placement,()=>{i.value=n.placement});const{contentStyle:s,arrowStyle:o}=Zte(Zt(n,"reference"),a,u,i,r,Zt(n,"offset"),Zt(n,"zIndex"),Zt(n,"showArrow")),c=P(()=>i.value.split("-")[0]),{ns:f}=Je(ep),l=()=>{e("close")},d=h=>{h.detail.focusReason==="pointer"&&h.preventDefault()};return(h,p)=>(L(),Q("div",{ref_key:"contentRef",ref:a,style:Qe(y(s)),class:F(y(f).e("content")),"data-side":y(c),tabindex:"-1"},[oe(y(nd),{loop:"",trapped:"","focus-start-el":"container","focus-trap-el":a.value||void 0,onReleaseRequested:l,onFocusoutPrevented:d},{default:ve(()=>[Le(h.$slots,"default")]),_:3},8,["focus-trap-el"]),h.showArrow?(L(),Q("span",{key:0,ref_key:"arrowRef",ref:u,style:Qe(y(o)),class:F(y(f).e("arrow"))},null,6)):Ee("v-if",!0)],14,ane))}});var une=Ge(cne,[["__file","content.vue"]]),dne=se({name:"ElTourSteps",props:{current:{type:Number,default:0}},emits:["update-total"],setup(t,{slots:e,emit:n}){let i=0;return()=>{var r,a;const u=(r=e.default)==null?void 0:r.call(e),s=[];let o=0;function c(f){qe(f)&&f.forEach(l=>{var d;((d=(l==null?void 0:l.type)||{})==null?void 0:d.name)==="ElTourStep"&&(s.push(l),o+=1)})}return u.length&&c(io((a=u[0])==null?void 0:a.children)),i!==o&&(i=o,n("update-total",o)),s.length?s[t.current]:null}}});const fne=We({modelValue:Boolean,current:{type:Number,default:0},showArrow:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeIcon:{type:Kt},placement:fy.placement,contentStyle:{type:we([Object])},mask:{type:we([Boolean,Object]),default:!0},gap:{type:we(Object),default:()=>({offset:6,radius:2})},zIndex:{type:Number},scrollIntoViewOptions:{type:we([Boolean,Object]),default:()=>({block:"center"})},type:{type:we(String)},appendTo:{type:we([String,Object]),default:"body"},closeOnPressEscape:{type:Boolean,default:!0},targetAreaClickable:{type:Boolean,default:!0}}),hne={[_t]:t=>Tn(t),"update:current":t=>ot(t),close:t=>ot(t),finish:()=>!0,change:t=>ot(t)},pne=se({name:"ElTour"}),mne=se({...pne,props:fne,emits:hne,setup(t,{emit:e}){const n=t,i=Ve("tour"),r=Y(0),a=Y(),u=Cx(n,"current",e,{passive:!0}),s=P(()=>{var E;return(E=a.value)==null?void 0:E.target}),o=P(()=>[i.b(),m.value==="primary"?i.m("primary"):""]),c=P(()=>{var E;return((E=a.value)==null?void 0:E.placement)||n.placement}),f=P(()=>{var E,A;return(A=(E=a.value)==null?void 0:E.contentStyle)!=null?A:n.contentStyle}),l=P(()=>{var E,A;return(A=(E=a.value)==null?void 0:E.mask)!=null?A:n.mask}),d=P(()=>!!l.value&&n.modelValue),h=P(()=>Tn(l.value)?void 0:l.value),p=P(()=>{var E,A;return!!s.value&&((A=(E=a.value)==null?void 0:E.showArrow)!=null?A:n.showArrow)}),g=P(()=>{var E,A;return(A=(E=a.value)==null?void 0:E.scrollIntoViewOptions)!=null?A:n.scrollIntoViewOptions}),m=P(()=>{var E,A;return(A=(E=a.value)==null?void 0:E.type)!=null?A:n.type}),{nextZIndex:v}=oc(),b=v(),_=P(()=>{var E;return(E=n.zIndex)!=null?E:b}),{mergedPosInfo:S,triggerTarget:w}=Yte(s,Zt(n,"modelValue"),Zt(n,"gap"),l,g);Be(()=>n.modelValue,E=>{E||(u.value=0)});const C=()=>{n.closeOnPressEscape&&(e("update:modelValue",!1),e("close",u.value))},x=E=>{r.value=E},M=Un();return Mt(ep,{currentStep:a,current:u,total:r,showClose:Zt(n,"showClose"),closeIcon:Zt(n,"closeIcon"),mergedType:m,ns:i,slots:M,updateModelValue(E){e("update:modelValue",E)},onClose(){e("close",u.value)},onFinish(){e("finish")},onChange(){e("change",u.value)}}),(E,A)=>{var O,I;return L(),Q(tt,null,[(L(),Pe(ec,{to:E.appendTo},[te("div",xt({class:y(o)},E.$attrs),[oe(ine,{visible:y(d),fill:(O=y(h))==null?void 0:O.color,style:Qe((I=y(h))==null?void 0:I.style),pos:y(S),"z-index":y(_),"target-area-clickable":E.targetAreaClickable},null,8,["visible","fill","style","pos","z-index","target-area-clickable"]),E.modelValue?(L(),Pe(une,{key:y(u),reference:y(w),placement:y(c),"show-arrow":y(p),"z-index":y(_),style:Qe(y(f)),onClose:C},{default:ve(()=>[oe(y(dne),{current:y(u),onUpdateTotal:x},{default:ve(()=>[Le(E.$slots,"default")]),_:3},8,["current"])]),_:3},8,["reference","placement","show-arrow","z-index","style"])):Ee("v-if",!0)],16)],8,["to"])),Ee(" just for IDE "),Ee("v-if",!0)],64)}}});var gne=Ge(mne,[["__file","tour.vue"]]);const vne=We({target:{type:we([String,Object,Function])},title:String,description:String,showClose:{type:Boolean,default:void 0},closeIcon:{type:Kt},showArrow:{type:Boolean,default:void 0},placement:fy.placement,mask:{type:we([Boolean,Object]),default:void 0},contentStyle:{type:we([Object])},prevButtonProps:{type:we(Object)},nextButtonProps:{type:we(Object)},scrollIntoViewOptions:{type:we([Boolean,Object]),default:void 0},type:{type:we(String)}}),yne={close:()=>!0},bne=se({name:"ElTourStep"}),_ne=se({...bne,props:vne,emits:yne,setup(t,{emit:e}){const n=t,{Close:i}=n0,{t:r}=Dt(),{currentStep:a,current:u,total:s,showClose:o,closeIcon:c,mergedType:f,ns:l,slots:d,updateModelValue:h,onClose:p,onFinish:g,onChange:m}=Je(ep);Be(n,M=>{a.value=M},{immediate:!0});const v=P(()=>{var M;return(M=n.showClose)!=null?M:o.value}),b=P(()=>{var M,E;return(E=(M=n.closeIcon)!=null?M:c.value)!=null?E:i}),_=M=>{if(M)return WF(M,["children","onClick"])},S=()=>{var M,E;u.value-=1,(M=n.prevButtonProps)!=null&&M.onClick&&((E=n.prevButtonProps)==null||E.onClick()),m()},w=()=>{var M;u.value>=s.value-1?C():u.value+=1,(M=n.nextButtonProps)!=null&&M.onClick&&n.nextButtonProps.onClick(),m()},C=()=>{x(),g()},x=()=>{h(!1),p(),e("close")};return(M,E)=>(L(),Q(tt,null,[y(v)?(L(),Q("button",{key:0,"aria-label":"Close",class:F(y(l).e("closebtn")),type:"button",onClick:x},[oe(y(et),{class:F(y(l).e("close"))},{default:ve(()=>[(L(),Pe(wt(y(b))))]),_:1},8,["class"])],2)):Ee("v-if",!0),te("header",{class:F([y(l).e("header"),{"show-close":y(o)}])},[Le(M.$slots,"header",{},()=>[te("span",{role:"heading",class:F(y(l).e("title"))},je(M.title),3)])],2),te("div",{class:F(y(l).e("body"))},[Le(M.$slots,"default",{},()=>[te("span",null,je(M.description),1)])],2),te("footer",{class:F(y(l).e("footer"))},[te("div",{class:F(y(l).b("indicators"))},[y(d).indicators?(L(),Pe(wt(y(d).indicators),{key:0,current:y(u),total:y(s)},null,8,["current","total"])):(L(!0),Q(tt,{key:1},Tt(y(s),(A,O)=>(L(),Q("span",{key:A,class:F([y(l).b("indicator"),O===y(u)?"is-active":""])},null,2))),128))],2),te("div",{class:F(y(l).b("buttons"))},[y(u)>0?(L(),Pe(y(Dn),xt({key:0,size:"small",type:y(f)},_(M.prevButtonProps),{onClick:S}),{default:ve(()=>{var A,O;return[Et(je((O=(A=M.prevButtonProps)==null?void 0:A.children)!=null?O:y(r)("el.tour.previous")),1)]}),_:1},16,["type"])):Ee("v-if",!0),y(u)<=y(s)-1?(L(),Pe(y(Dn),xt({key:1,size:"small",type:y(f)==="primary"?"default":"primary"},_(M.nextButtonProps),{onClick:w}),{default:ve(()=>{var A,O;return[Et(je((O=(A=M.nextButtonProps)==null?void 0:A.children)!=null?O:y(u)===y(s)-1?y(r)("el.tour.finish"):y(r)("el.tour.next")),1)]}),_:1},16,["type"])):Ee("v-if",!0)],2)],2)],64))}});var uA=Ge(_ne,[["__file","step.vue"]]);const Sne=gt(gne,{TourStep:uA}),wne=hn(uA),Cne=We({container:{type:we([String,Object])},offset:{type:Number,default:0},bound:{type:Number,default:15},duration:{type:Number,default:300},marker:{type:Boolean,default:!0},type:{type:we(String),default:"default"},direction:{type:we(String),default:"vertical"}}),xne={change:t=>ct(t),click:(t,e)=>t instanceof MouseEvent&&(ct(e)||xn(e))},dA=Symbol("anchor"),Tne=se({name:"ElAnchor"}),Ene=se({...Tne,props:Cne,emits:xne,setup(t,{expose:e,emit:n}){const i=t,r=Y(""),a=Y(null),u=Y(null),s=Y(),o={};let c=!1,f=0;const l=Ve("anchor"),d=P(()=>[l.b(),i.type==="underline"?l.m("underline"):"",l.m(i.direction)]),h=M=>{o[M.href]=M.el},p=M=>{delete o[M]},g=M=>{r.value!==M&&(r.value=M,n("change",M))};let m=null;const v=M=>{if(!s.value)return;const E=bd(M);if(!E)return;m&&m(),c=!0;const A=h_(E,s.value),O=Vm(E,A),I=A.scrollHeight-A.clientHeight,$=Math.min(O-i.offset,I);m=i3(s.value,f,$,i.duration,()=>{setTimeout(()=>{c=!1},20)})},b=M=>{M&&(g(M),v(M))},_=(M,E)=>{n("click",M,E),b(E)},S=_B(()=>{s.value&&(f=p_(s.value));const M=w();c||xn(M)||g(M)}),w=()=>{if(!s.value)return;const M=p_(s.value),E=[];for(const A of Object.keys(o)){const O=bd(A);if(!O)continue;const I=h_(O,s.value),$=Vm(O,I);E.push({top:$-i.offset-i.bound,href:A})}E.sort((A,O)=>A.top-O.top);for(let A=0;A<E.length;A++){const O=E[A],I=E[A+1];if(A===0&&M===0)return"";if(O.top<=M&&(!I||I.top>M))return O.href}},C=()=>{const M=bd(i.container);!M||Dh(M)?s.value=window:s.value=M};nn(s,"scroll",S);const x=P(()=>{if(!a.value||!u.value||!r.value)return{};const M=o[r.value];if(!M)return{};const E=a.value.getBoundingClientRect(),A=u.value.getBoundingClientRect(),O=M.getBoundingClientRect();return i.direction==="horizontal"?{left:`${O.left-E.left}px`,width:`${O.width}px`,opacity:1}:{top:`${O.top-E.top+(O.height-A.height)/2}px`,opacity:1}});return ht(()=>{C();const M=decodeURIComponent(window.location.hash);bd(M)?b(M):S()}),Be(()=>i.container,()=>{C()}),Mt(dA,{ns:l,direction:i.direction,currentAnchor:r,addLink:h,removeLink:p,handleClick:_}),e({scrollTo:b}),(M,E)=>(L(),Q("div",{ref_key:"anchorRef",ref:a,class:F(y(d))},[M.marker?(L(),Q("div",{key:0,ref_key:"markerRef",ref:u,class:F(y(l).e("marker")),style:Qe(y(x))},null,6)):Ee("v-if",!0),te("div",{class:F(y(l).e("list"))},[Le(M.$slots,"default")],2)],2))}});var Mne=Ge(Ene,[["__file","anchor.vue"]]);const Ane=We({title:String,href:String}),Rne=["href"],Pne=se({name:"ElAnchorLink"}),One=se({...Pne,props:Ane,setup(t){const e=t,n=Y(null),{ns:i,direction:r,currentAnchor:a,addLink:u,removeLink:s,handleClick:o}=Je(dA),c=P(()=>[i.e("link"),i.is("active",a.value===e.href)]),f=l=>{o(l,e.href)};return Be(()=>e.href,(l,d)=>{it(()=>{d&&s(d),l&&u({href:l,el:n.value})})}),ht(()=>{const{href:l}=e;l&&u({href:l,el:n.value})}),en(()=>{const{href:l}=e;l&&s(l)}),(l,d)=>(L(),Q("div",{class:F(y(i).e("item"))},[te("a",{ref_key:"linkRef",ref:n,class:F(y(c)),href:l.href,onClick:f},[Le(l.$slots,"default",{},()=>[Et(je(l.title),1)])],10,Rne),l.$slots["sub-link"]&&y(r)==="vertical"?(L(),Q("div",{key:0,class:F(y(i).e("list"))},[Le(l.$slots,"sub-link")],2)):Ee("v-if",!0)],2))}});var fA=Ge(One,[["__file","anchor-link.vue"]]);const kne=gt(Mne,{AnchorLink:fA}),Lne=hn(fA),Ine=We({options:{type:we(Array),default:()=>[]},modelValue:{type:[String,Number,Boolean],default:void 0},block:Boolean,size:kn,disabled:Boolean,validateEvent:{type:Boolean,default:!0},id:String,name:String,ariaLabel:String}),Dne={[_t]:t=>ct(t)||ot(t),[rn]:t=>ct(t)||ot(t)},Nne=["id","aria-label","aria-labelledby"],Fne=["name","disabled","checked","onChange"],Bne=se({name:"ElSegmented"}),Une=se({...Bne,props:Ine,emits:Dne,setup(t,{emit:e}){const n=t,i=Ve("segmented"),r=Jn(),a=Mn(),u=wi(),{formItem:s}=li(),{inputId:o,isLabeledByFormItem:c}=Mr(n,{formItemContext:s}),f=Y(null),l=QO(),d=$t({isInit:!1,width:0,translateX:0,disabled:!1,focusVisible:!1}),h=E=>{const A=p(E);e(_t,A),e(rn,A)},p=E=>bt(E)?E.value:E,g=E=>bt(E)?E.label:E,m=E=>!!(u.value||bt(E)&&E.disabled),v=E=>n.modelValue===p(E),b=E=>n.options.find(A=>p(A)===E),_=E=>[i.e("item"),i.is("selected",v(E)),i.is("disabled",m(E))],S=()=>{if(!f.value)return;const E=f.value.querySelector(".is-selected"),A=f.value.querySelector(".is-selected input");if(!E||!A){d.width=0,d.translateX=0,d.disabled=!1,d.focusVisible=!1;return}const O=E.getBoundingClientRect();d.isInit=!0,d.width=O.width,d.translateX=E.offsetLeft,d.disabled=m(b(n.modelValue));try{d.focusVisible=A.matches(":focus-visible")}catch{}},w=P(()=>[i.b(),i.m(a.value),i.is("block",n.block)]),C=P(()=>({width:`${d.width}px`,transform:`translateX(${d.translateX}px)`,display:d.isInit?"block":"none"})),x=P(()=>[i.e("item-selected"),i.is("disabled",d.disabled),i.is("focus-visible",d.focusVisible)]),M=P(()=>n.name||r.value);return dn(f,S),Be(l,S),Be(()=>n.modelValue,()=>{var E;S(),n.validateEvent&&((E=s==null?void 0:s.validate)==null||E.call(s,"change").catch(A=>void 0))},{flush:"post"}),(E,A)=>(L(),Q("div",{id:y(o),ref_key:"segmentedRef",ref:f,class:F(y(w)),role:"radiogroup","aria-label":y(c)?void 0:E.ariaLabel||"segmented","aria-labelledby":y(c)?y(s).labelId:void 0},[te("div",{class:F(y(i).e("group"))},[te("div",{style:Qe(y(C)),class:F(y(x))},null,6),(L(!0),Q(tt,null,Tt(E.options,(O,I)=>(L(),Q("label",{key:I,class:F(_(O))},[te("input",{class:F(y(i).e("item-input")),type:"radio",name:y(M),disabled:m(O),checked:v(O),onChange:$=>h(O)},null,42,Fne),te("div",{class:F(y(i).e("item-label"))},[Le(E.$slots,"default",{item:O},()=>[Et(je(g(O)),1)])],2)],2))),128))],2)],10,Nne))}});var Vne=Ge(Une,[["__file","segmented.vue"]]);const $ne=gt(Vne);var Hne=[$U,JU,xH,eQ,OH,BH,yE,JH,QH,Dn,TE,b5,x5,W5,G5,i6,z8,c6,lr,c8,QE,S6,U6,V6,O6,gW,LU,AW,RW,PW,OW,kW,JG,cj,uj,Ej,LM,Vj,O9,k9,L9,HM,GV,jV,et,TX,zM,ri,WM,UX,sK,oK,aK,lK,mK,SY,MY,NY,mE,e2,oM,T8,x8,QY,r7,g6,Es,pa,sh,XK,z7,Z7,J7,Aq,Lq,b2,Wq,Qq,eZ,dZ,mJ,gJ,QJ,mQ,gQ,Tu,SQ,Zz,MQ,kQ,LQ,ai,see,_ee,Iee,$ee,ste,Fte,Xte,Sne,wne,kne,Lne,$ne];const mr="ElInfiniteScroll",zne=50,Wne=200,Gne=0,jne={delay:{type:Number,default:Wne},distance:{type:Number,default:Gne},disabled:{type:Boolean,default:!1},immediate:{type:Boolean,default:!0}},hy=(t,e)=>Object.entries(jne).reduce((n,[i,r])=>{var a,u;const{type:s,default:o}=r,c=t.getAttribute(`infinite-scroll-${i}`);let f=(u=(a=e[c])!=null?a:c)!=null?u:o;return f=f==="false"?!1:f,f=s(f),n[i]=Number.isNaN(f)?o:f,n},{}),hA=t=>{const{observer:e}=t[mr];e&&(e.disconnect(),delete t[mr].observer)},Xne=(t,e)=>{const{container:n,containerEl:i,instance:r,observer:a,lastScrollTop:u}=t[mr],{disabled:s,distance:o}=hy(t,r),{clientHeight:c,scrollHeight:f,scrollTop:l}=i,d=l-u;if(t[mr].lastScrollTop=l,a||s||d<0)return;let h=!1;if(n===t)h=f-(c+l)<=o;else{const{clientTop:p,scrollHeight:g}=t,m=Vm(t,i);h=l+c>=m+p+g-o}h&&e.call(r)};function Gp(t,e){const{containerEl:n,instance:i}=t[mr],{disabled:r}=hy(t,i);r||n.clientHeight===0||(n.scrollHeight<=n.clientHeight?e.call(i):hA(t))}const Kne={async mounted(t,e){const{instance:n,value:i}=e;at(i)||Rn(mr,"'v-infinite-scroll' binding value must be a function"),await it();const{delay:r,immediate:a}=hy(t,n),u=Zv(t,!0),s=u===window?document.documentElement:u,o=Qo(Xne.bind(null,t,i),r);if(u){if(t[mr]={instance:n,container:u,containerEl:s,delay:r,cb:i,onScroll:o,lastScrollTop:s.scrollTop},a){const c=new MutationObserver(Qo(Gp.bind(null,t,i),zne));t[mr].observer=c,c.observe(t,{childList:!0,subtree:!0}),Gp(t,i)}u.addEventListener("scroll",o)}},unmounted(t){const{container:e,onScroll:n}=t[mr];e==null||e.removeEventListener("scroll",n),hA(t)},async updated(t){if(!t[mr])await it();else{const{containerEl:e,cb:n,observer:i}=t[mr];e.clientHeight&&i&&Gp(t,n)}}},jg=Kne;jg.install=t=>{t.directive("InfiniteScroll",jg)};const Yne=jg;function qne(t){let e;const n=Y(!1),i=$t({...t,originalPosition:"",originalOverflow:"",visible:!1});function r(d){i.text=d}function a(){const d=i.parent,h=l.ns;if(!d.vLoadingAddClassList){let p=d.getAttribute("loading-number");p=Number.parseInt(p)-1,p?d.setAttribute("loading-number",p.toString()):(oi(d,h.bm("parent","relative")),d.removeAttribute("loading-number")),oi(d,h.bm("parent","hidden"))}u(),f.unmount()}function u(){var d,h;(h=(d=l.$el)==null?void 0:d.parentNode)==null||h.removeChild(l.$el)}function s(){var d;t.beforeClose&&!t.beforeClose()||(n.value=!0,clearTimeout(e),e=window.setTimeout(o,400),i.visible=!1,(d=t.closed)==null||d.call(t))}function o(){if(!n.value)return;const d=i.parent;n.value=!1,d.vLoadingAddClassList=void 0,a()}const f=gx(se({name:"ElLoading",setup(d,{expose:h}){const{ns:p,zIndex:g}=Wh("loading");return h({ns:p,zIndex:g}),()=>{const m=i.spinner||i.svg,v=rt("svg",{class:"circular",viewBox:i.svgViewBox?i.svgViewBox:"0 0 50 50",...m?{innerHTML:m}:{}},[rt("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),b=i.text?rt("p",{class:p.b("text")},[i.text]):void 0;return rt(An,{name:p.b("fade"),onAfterLeave:o},{default:ve(()=>[ft(oe("div",{style:{backgroundColor:i.background||""},class:[p.b("mask"),i.customClass,i.fullscreen?"is-fullscreen":""]},[rt("div",{class:p.b("spinner")},[v,b])]),[[Nt,i.visible]])])})}}})),l=f.mount(document.createElement("div"));return{...Wn(i),setText:r,removeElLoadingChild:u,close:s,handleAfterLeave:o,vm:l,get $el(){return l.$el}}}let Id;const Xg=function(t={}){if(!Ot)return;const e=Zne(t);if(e.fullscreen&&Id)return Id;const n=qne({...e,closed:()=>{var r;(r=e.closed)==null||r.call(e),e.fullscreen&&(Id=void 0)}});Jne(e,e.parent,n),sw(e,e.parent,n),e.parent.vLoadingAddClassList=()=>sw(e,e.parent,n);let i=e.parent.getAttribute("loading-number");return i?i=`${Number.parseInt(i)+1}`:i="1",e.parent.setAttribute("loading-number",i),e.parent.appendChild(n.$el),it(()=>n.visible.value=e.visible),e.fullscreen&&(Id=n),n},Zne=t=>{var e,n,i,r;let a;return ct(t.target)?a=(e=document.querySelector(t.target))!=null?e:document.body:a=t.target||document.body,{parent:a===document.body||t.body?document.body:a,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:a===document.body&&((n=t.fullscreen)!=null?n:!0),lock:(i=t.lock)!=null?i:!1,customClass:t.customClass||"",visible:(r=t.visible)!=null?r:!0,target:a}},Jne=async(t,e,n)=>{const{nextZIndex:i}=n.vm.zIndex||n.vm._.exposed.zIndex,r={};if(t.fullscreen)n.originalPosition.value=Zs(document.body,"position"),n.originalOverflow.value=Zs(document.body,"overflow"),r.zIndex=i();else if(t.parent===document.body){n.originalPosition.value=Zs(document.body,"position"),await it();for(const a of["top","left"]){const u=a==="top"?"scrollTop":"scrollLeft";r[a]=`${t.target.getBoundingClientRect()[a]+document.body[u]+document.documentElement[u]-Number.parseInt(Zs(document.body,`margin-${a}`),10)}px`}for(const a of["height","width"])r[a]=`${t.target.getBoundingClientRect()[a]}px`}else n.originalPosition.value=Zs(e,"position");for(const[a,u]of Object.entries(r))n.$el.style[a]=u},sw=(t,e,n)=>{const i=n.vm.ns||n.vm._.exposed.ns;["absolute","fixed","sticky"].includes(n.originalPosition.value)?oi(e,i.bm("parent","relative")):Zi(e,i.bm("parent","relative")),t.fullscreen&&t.lock?Zi(e,i.bm("parent","hidden")):oi(e,i.bm("parent","hidden"))},Nf=Symbol("ElLoading"),ow=(t,e)=>{var n,i,r,a;const u=e.instance,s=d=>bt(e.value)?e.value[d]:void 0,o=d=>{const h=ct(d)&&(u==null?void 0:u[d])||d;return h&&Y(h)},c=d=>o(s(d)||t.getAttribute(`element-loading-${mo(d)}`)),f=(n=s("fullscreen"))!=null?n:e.modifiers.fullscreen,l={text:c("text"),svg:c("svg"),svgViewBox:c("svgViewBox"),spinner:c("spinner"),background:c("background"),customClass:c("customClass"),fullscreen:f,target:(i=s("target"))!=null?i:f?void 0:t,body:(r=s("body"))!=null?r:e.modifiers.body,lock:(a=s("lock"))!=null?a:e.modifiers.lock};t[Nf]={options:l,instance:Xg(l)}},Qne=(t,e)=>{for(const n of Object.keys(e))ln(e[n])&&(e[n].value=t[n])},aw={mounted(t,e){e.value&&ow(t,e)},updated(t,e){const n=t[Nf];e.oldValue!==e.value&&(e.value&&!e.oldValue?ow(t,e):e.value&&e.oldValue?bt(e.value)&&Qne(e.value,n.options):n==null||n.instance.close())},unmounted(t){var e;(e=t[Nf])==null||e.instance.close(),t[Nf]=null}},eie={install(t){t.directive("loading",aw),t.config.globalProperties.$loading=Xg},directive:aw,service:Xg},pA=["success","info","warning","error"],ti=fn({customClass:"",center:!1,dangerouslyUseHTMLString:!1,duration:3e3,icon:void 0,id:"",message:"",onClose:void 0,showClose:!1,type:"info",plain:!1,offset:16,zIndex:0,grouping:!1,repeatNum:1,appendTo:Ot?document.body:void 0}),tie=We({customClass:{type:String,default:ti.customClass},center:{type:Boolean,default:ti.center},dangerouslyUseHTMLString:{type:Boolean,default:ti.dangerouslyUseHTMLString},duration:{type:Number,default:ti.duration},icon:{type:Kt,default:ti.icon},id:{type:String,default:ti.id},message:{type:we([String,Object,Function]),default:ti.message},onClose:{type:we(Function),default:ti.onClose},showClose:{type:Boolean,default:ti.showClose},type:{type:String,values:pA,default:ti.type},plain:{type:Boolean,default:ti.plain},offset:{type:Number,default:ti.offset},zIndex:{type:Number,default:ti.zIndex},grouping:{type:Boolean,default:ti.grouping},repeatNum:{type:Number,default:ti.repeatNum}}),nie={destroy:()=>!0},br=_1([]),iie=t=>{const e=br.findIndex(r=>r.id===t),n=br[e];let i;return e>0&&(i=br[e-1]),{current:n,prev:i}},rie=t=>{const{prev:e}=iie(t);return e?e.vm.exposed.bottom.value:0},sie=(t,e)=>br.findIndex(i=>i.id===t)>0?16:e,oie=["id"],aie=["innerHTML"],lie=se({name:"ElMessage"}),cie=se({...lie,props:tie,emits:nie,setup(t,{expose:e}){const n=t,{Close:i}=i0,{ns:r,zIndex:a}=Wh("message"),{currentZIndex:u,nextZIndex:s}=a,o=Y(),c=Y(!1),f=Y(0);let l;const d=P(()=>n.type?n.type==="error"?"danger":n.type:"info"),h=P(()=>{const x=n.type;return{[r.bm("icon",x)]:x&&fo[x]}}),p=P(()=>n.icon||fo[n.type]||""),g=P(()=>rie(n.id)),m=P(()=>sie(n.id,n.offset)+g.value),v=P(()=>f.value+m.value),b=P(()=>({top:`${m.value}px`,zIndex:u.value}));function _(){n.duration!==0&&({stop:l}=aa(()=>{w()},n.duration))}function S(){l==null||l()}function w(){c.value=!1}function C({code:x}){x===nt.esc&&w()}return ht(()=>{_(),s(),c.value=!0}),Be(()=>n.repeatNum,()=>{S(),_()}),nn(document,"keydown",C),dn(o,()=>{f.value=o.value.getBoundingClientRect().height}),e({visible:c,bottom:v,close:w}),(x,M)=>(L(),Pe(An,{name:y(r).b("fade"),onBeforeLeave:x.onClose,onAfterLeave:M[0]||(M[0]=E=>x.$emit("destroy")),persisted:""},{default:ve(()=>[ft(te("div",{id:x.id,ref_key:"messageRef",ref:o,class:F([y(r).b(),{[y(r).m(x.type)]:x.type},y(r).is("center",x.center),y(r).is("closable",x.showClose),y(r).is("plain",x.plain),x.customClass]),style:Qe(y(b)),role:"alert",onMouseenter:S,onMouseleave:_},[x.repeatNum>1?(L(),Pe(y(yE),{key:0,value:x.repeatNum,type:y(d),class:F(y(r).e("badge"))},null,8,["value","type","class"])):Ee("v-if",!0),y(p)?(L(),Pe(y(et),{key:1,class:F([y(r).e("icon"),y(h)])},{default:ve(()=>[(L(),Pe(wt(y(p))))]),_:1},8,["class"])):Ee("v-if",!0),Le(x.$slots,"default",{},()=>[x.dangerouslyUseHTMLString?(L(),Q(tt,{key:1},[Ee(" Caution here, message could've been compromised, never use user's input as message "),te("p",{class:F(y(r).e("content")),innerHTML:x.message},null,10,aie)],2112)):(L(),Q("p",{key:0,class:F(y(r).e("content"))},je(x.message),3))]),x.showClose?(L(),Pe(y(et),{key:2,class:F(y(r).e("closeBtn")),onClick:lt(w,["stop"])},{default:ve(()=>[oe(y(i))]),_:1},8,["class","onClick"])):Ee("v-if",!0)],46,oie),[[Nt,c.value]])]),_:3},8,["name","onBeforeLeave"]))}});var uie=Ge(cie,[["__file","message.vue"]]);let die=1;const mA=t=>{const e=!t||ct(t)||un(t)||at(t)?{message:t}:t,n={...ti,...e};if(!n.appendTo)n.appendTo=document.body;else if(ct(n.appendTo)){let i=document.querySelector(n.appendTo);rr(i)||(i=document.body),n.appendTo=i}return n},fie=t=>{const e=br.indexOf(t);if(e===-1)return;br.splice(e,1);const{handler:n}=t;n.close()},hie=({appendTo:t,...e},n)=>{const i=`message_${die++}`,r=e.onClose,a=document.createElement("div"),u={...e,id:i,onClose:()=>{r==null||r(),fie(f)},onDestroy:()=>{ao(null,a)}},s=oe(uie,u,at(u.message)||un(u.message)?{default:at(u.message)?u.message:()=>u.message}:null);s.appContext=n||Hl._context,ao(s,a),t.appendChild(a.firstElementChild);const o=s.component,f={id:i,vnode:s,vm:o,handler:{close:()=>{o.exposed.visible.value=!1}},props:s.component.props};return f},Hl=(t={},e)=>{if(!Ot)return{close:()=>{}};if(ot(Jm.max)&&br.length>=Jm.max)return{close:()=>{}};const n=mA(t);if(n.grouping&&br.length){const r=br.find(({vnode:a})=>{var u;return((u=a.props)==null?void 0:u.message)===n.message});if(r)return r.props.repeatNum+=1,r.props.type=n.type,r.handler}const i=hie(n,e);return br.push(i),i.handler};pA.forEach(t=>{Hl[t]=(e={},n)=>{const i=mA(e);return Hl({...i,type:t},n)}});function pie(t){for(const e of br)(!t||t===e.props.type)&&e.handler.close()}Hl.closeAll=pie;Hl._context=null;const Kg=_T(Hl,"$message"),mie=se({name:"ElMessageBox",directives:{TrapFocus:Lz},components:{ElButton:Dn,ElFocusTrap:nd,ElInput:ri,ElOverlay:U0,ElIcon:et,...i0},inheritAttrs:!1,props:{buttonSize:{type:String,validator:ST},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,overflow:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(t,{emit:e}){const{locale:n,zIndex:i,ns:r,size:a}=Wh("message-box",P(()=>t.buttonSize)),{t:u}=n,{nextZIndex:s}=i,o=Y(!1),c=$t({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:s()}),f=P(()=>{const N=c.type;return{[r.bm("icon",N)]:N&&fo[N]}}),l=Jn(),d=Jn(),h=P(()=>c.icon||fo[c.type]||""),p=P(()=>!!c.message),g=Y(),m=Y(),v=Y(),b=Y(),_=Y(),S=P(()=>c.confirmButtonClass);Be(()=>c.inputValue,async N=>{await it(),t.boxType==="prompt"&&N!==null&&I()},{immediate:!0}),Be(()=>o.value,N=>{var k,D;N&&(t.boxType!=="prompt"&&(c.autofocus?v.value=(D=(k=_.value)==null?void 0:k.$el)!=null?D:g.value:v.value=g.value),c.zIndex=s()),t.boxType==="prompt"&&(N?it().then(()=>{var T;b.value&&b.value.$el&&(c.autofocus?v.value=(T=$())!=null?T:g.value:v.value=g.value)}):(c.editorErrorMessage="",c.validateError=!1))});const w=P(()=>t.draggable),C=P(()=>t.overflow);wT(g,m,w,C),ht(async()=>{await it(),t.closeOnHashChange&&window.addEventListener("hashchange",x)}),en(()=>{t.closeOnHashChange&&window.removeEventListener("hashchange",x)});function x(){o.value&&(o.value=!1,it(()=>{c.action&&e("action",c.action)}))}const M=()=>{t.closeOnClickModal&&O(c.distinguishCancelAndClose?"close":"cancel")},E=v0(M),A=N=>{if(c.inputType!=="textarea")return N.preventDefault(),O("confirm")},O=N=>{var k;t.boxType==="prompt"&&N==="confirm"&&!I()||(c.action=N,c.beforeClose?(k=c.beforeClose)==null||k.call(c,N,c,x):x())},I=()=>{if(t.boxType==="prompt"){const N=c.inputPattern;if(N&&!N.test(c.inputValue||""))return c.editorErrorMessage=c.inputErrorMessage||u("el.messagebox.error"),c.validateError=!0,!1;const k=c.inputValidator;if(typeof k=="function"){const D=k(c.inputValue);if(D===!1)return c.editorErrorMessage=c.inputErrorMessage||u("el.messagebox.error"),c.validateError=!0,!1;if(typeof D=="string")return c.editorErrorMessage=D,c.validateError=!0,!1}}return c.editorErrorMessage="",c.validateError=!1,!0},$=()=>{const N=b.value.$refs;return N.input||N.textarea},H=()=>{O("close")},B=()=>{t.closeOnPressEscape&&H()};return t.lockScroll&&l0(o),{...Wn(c),ns:r,overlayEvent:E,visible:o,hasMessage:p,typeClass:f,contentId:l,inputId:d,btnSize:a,iconComponent:h,confirmButtonClasses:S,rootRef:g,focusStartRef:v,headerRef:m,inputRef:b,confirmRef:_,doClose:x,handleClose:H,onCloseRequested:B,handleWrapperClick:M,handleInputEnter:A,handleAction:O,t:u}}}),gie=["aria-label","aria-describedby"],vie=["aria-label"],yie=["id"];function bie(t,e,n,i,r,a){const u=pt("el-icon"),s=pt("close"),o=pt("el-input"),c=pt("el-button"),f=pt("el-focus-trap"),l=pt("el-overlay");return L(),Pe(An,{name:"fade-in-linear",onAfterLeave:e[11]||(e[11]=d=>t.$emit("vanish")),persisted:""},{default:ve(()=>[ft(oe(l,{"z-index":t.zIndex,"overlay-class":[t.ns.is("message-box"),t.modalClass],mask:t.modal},{default:ve(()=>[te("div",{role:"dialog","aria-label":t.title,"aria-modal":"true","aria-describedby":t.showInput?void 0:t.contentId,class:F(`${t.ns.namespace.value}-overlay-message-box`),onClick:e[8]||(e[8]=(...d)=>t.overlayEvent.onClick&&t.overlayEvent.onClick(...d)),onMousedown:e[9]||(e[9]=(...d)=>t.overlayEvent.onMousedown&&t.overlayEvent.onMousedown(...d)),onMouseup:e[10]||(e[10]=(...d)=>t.overlayEvent.onMouseup&&t.overlayEvent.onMouseup(...d))},[oe(f,{loop:"",trapped:t.visible,"focus-trap-el":t.rootRef,"focus-start-el":t.focusStartRef,onReleaseRequested:t.onCloseRequested},{default:ve(()=>[te("div",{ref:"rootRef",class:F([t.ns.b(),t.customClass,t.ns.is("draggable",t.draggable),{[t.ns.m("center")]:t.center}]),style:Qe(t.customStyle),tabindex:"-1",onClick:e[7]||(e[7]=lt(()=>{},["stop"]))},[t.title!==null&&t.title!==void 0?(L(),Q("div",{key:0,ref:"headerRef",class:F([t.ns.e("header"),{"show-close":t.showClose}])},[te("div",{class:F(t.ns.e("title"))},[t.iconComponent&&t.center?(L(),Pe(u,{key:0,class:F([t.ns.e("status"),t.typeClass])},{default:ve(()=>[(L(),Pe(wt(t.iconComponent)))]),_:1},8,["class"])):Ee("v-if",!0),te("span",null,je(t.title),1)],2),t.showClose?(L(),Q("button",{key:0,type:"button",class:F(t.ns.e("headerbtn")),"aria-label":t.t("el.messagebox.close"),onClick:e[0]||(e[0]=d=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel")),onKeydown:e[1]||(e[1]=Xt(lt(d=>t.handleAction(t.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[oe(u,{class:F(t.ns.e("close"))},{default:ve(()=>[oe(s)]),_:1},8,["class"])],42,vie)):Ee("v-if",!0)],2)):Ee("v-if",!0),te("div",{id:t.contentId,class:F(t.ns.e("content"))},[te("div",{class:F(t.ns.e("container"))},[t.iconComponent&&!t.center&&t.hasMessage?(L(),Pe(u,{key:0,class:F([t.ns.e("status"),t.typeClass])},{default:ve(()=>[(L(),Pe(wt(t.iconComponent)))]),_:1},8,["class"])):Ee("v-if",!0),t.hasMessage?(L(),Q("div",{key:1,class:F(t.ns.e("message"))},[Le(t.$slots,"default",{},()=>[t.dangerouslyUseHTMLString?(L(),Pe(wt(t.showInput?"label":"p"),{key:1,for:t.showInput?t.inputId:void 0,innerHTML:t.message},null,8,["for","innerHTML"])):(L(),Pe(wt(t.showInput?"label":"p"),{key:0,for:t.showInput?t.inputId:void 0},{default:ve(()=>[Et(je(t.dangerouslyUseHTMLString?"":t.message),1)]),_:1},8,["for"]))])],2)):Ee("v-if",!0)],2),ft(te("div",{class:F(t.ns.e("input"))},[oe(o,{id:t.inputId,ref:"inputRef",modelValue:t.inputValue,"onUpdate:modelValue":e[2]||(e[2]=d=>t.inputValue=d),type:t.inputType,placeholder:t.inputPlaceholder,"aria-invalid":t.validateError,class:F({invalid:t.validateError}),onKeydown:Xt(t.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),te("div",{class:F(t.ns.e("errormsg")),style:Qe({visibility:t.editorErrorMessage?"visible":"hidden"})},je(t.editorErrorMessage),7)],2),[[Nt,t.showInput]])],10,yie),te("div",{class:F(t.ns.e("btns"))},[t.showCancelButton?(L(),Pe(c,{key:0,loading:t.cancelButtonLoading,class:F([t.cancelButtonClass]),round:t.roundButton,size:t.btnSize,onClick:e[3]||(e[3]=d=>t.handleAction("cancel")),onKeydown:e[4]||(e[4]=Xt(lt(d=>t.handleAction("cancel"),["prevent"]),["enter"]))},{default:ve(()=>[Et(je(t.cancelButtonText||t.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):Ee("v-if",!0),ft(oe(c,{ref:"confirmRef",type:"primary",loading:t.confirmButtonLoading,class:F([t.confirmButtonClasses]),round:t.roundButton,disabled:t.confirmButtonDisabled,size:t.btnSize,onClick:e[5]||(e[5]=d=>t.handleAction("confirm")),onKeydown:e[6]||(e[6]=Xt(lt(d=>t.handleAction("confirm"),["prevent"]),["enter"]))},{default:ve(()=>[Et(je(t.confirmButtonText||t.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[Nt,t.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,gie)]),_:3},8,["z-index","overlay-class","mask"]),[[Nt,t.visible]])]),_:3})}var _ie=Ge(mie,[["render",bie],["__file","index.vue"]]);const Iu=new Map,Sie=t=>{let e=document.body;return t.appendTo&&(ct(t.appendTo)&&(e=document.querySelector(t.appendTo)),rr(t.appendTo)&&(e=t.appendTo),rr(e)||(e=document.body)),e},wie=(t,e,n=null)=>{const i=oe(_ie,t,at(t.message)||un(t.message)?{default:at(t.message)?t.message:()=>t.message}:null);return i.appContext=n,ao(i,e),Sie(t).appendChild(e.firstElementChild),i.component},Cie=()=>document.createElement("div"),xie=(t,e)=>{const n=Cie();t.onVanish=()=>{ao(null,n),Iu.delete(r)},t.onAction=a=>{const u=Iu.get(r);let s;t.showInput?s={value:r.inputValue,action:a}:s=a,t.callback?t.callback(s,i.proxy):a==="cancel"||a==="close"?t.distinguishCancelAndClose&&a!=="cancel"?u.reject("close"):u.reject("cancel"):u.resolve(s)};const i=wie(t,n,e),r=i.proxy;for(const a in t)kt(t,a)&&!kt(r.$props,a)&&(r[a]=t[a]);return r.visible=!0,r};function cc(t,e=null){if(!Ot)return Promise.reject();let n;return ct(t)||un(t)?t={message:t}:n=t.callback,new Promise((i,r)=>{const a=xie(t,e??cc._context);Iu.set(a,{options:t,callback:n,resolve:i,reject:r})})}const Tie=["alert","confirm","prompt"],Eie={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Tie.forEach(t=>{cc[t]=Mie(t)});function Mie(t){return(e,n,i,r)=>{let a="";return bt(n)?(i=n,a=""):xn(n)?a="":a=n,cc(Object.assign({title:a,message:e,type:"",...Eie[t]},i,{boxType:t}),r)}}cc.close=()=>{Iu.forEach((t,e)=>{e.doClose()}),Iu.clear()};cc._context=null;const Ws=cc;Ws.install=t=>{Ws._context=t._context,t.config.globalProperties.$msgbox=Ws,t.config.globalProperties.$messageBox=Ws,t.config.globalProperties.$alert=Ws.alert,t.config.globalProperties.$confirm=Ws.confirm,t.config.globalProperties.$prompt=Ws.prompt};const Aie=Ws,gA=["success","info","warning","error"],Rie=We({customClass:{type:String,default:""},dangerouslyUseHTMLString:{type:Boolean,default:!1},duration:{type:Number,default:4500},icon:{type:Kt},id:{type:String,default:""},message:{type:we([String,Object]),default:""},offset:{type:Number,default:0},onClick:{type:we(Function),default:()=>{}},onClose:{type:we(Function),required:!0},position:{type:String,values:["top-right","top-left","bottom-right","bottom-left"],default:"top-right"},showClose:{type:Boolean,default:!0},title:{type:String,default:""},type:{type:String,values:[...gA,""],default:""},zIndex:Number}),Pie={destroy:()=>!0},Oie=["id"],kie=["textContent"],Lie={key:0},Iie=["innerHTML"],Die=se({name:"ElNotification"}),Nie=se({...Die,props:Rie,emits:Pie,setup(t,{expose:e}){const n=t,{ns:i,zIndex:r}=Wh("notification"),{nextZIndex:a,currentZIndex:u}=r,{Close:s}=n0,o=Y(!1);let c;const f=P(()=>{const _=n.type;return _&&fo[n.type]?i.m(_):""}),l=P(()=>n.type&&fo[n.type]||n.icon),d=P(()=>n.position.endsWith("right")?"right":"left"),h=P(()=>n.position.startsWith("top")?"top":"bottom"),p=P(()=>{var _;return{[h.value]:`${n.offset}px`,zIndex:(_=n.zIndex)!=null?_:u.value}});function g(){n.duration>0&&({stop:c}=aa(()=>{o.value&&v()},n.duration))}function m(){c==null||c()}function v(){o.value=!1}function b({code:_}){_===nt.delete||_===nt.backspace?m():_===nt.esc?o.value&&v():g()}return ht(()=>{g(),a(),o.value=!0}),nn(document,"keydown",b),e({visible:o,close:v}),(_,S)=>(L(),Pe(An,{name:y(i).b("fade"),onBeforeLeave:_.onClose,onAfterLeave:S[1]||(S[1]=w=>_.$emit("destroy")),persisted:""},{default:ve(()=>[ft(te("div",{id:_.id,class:F([y(i).b(),_.customClass,y(d)]),style:Qe(y(p)),role:"alert",onMouseenter:m,onMouseleave:g,onClick:S[0]||(S[0]=(...w)=>_.onClick&&_.onClick(...w))},[y(l)?(L(),Pe(y(et),{key:0,class:F([y(i).e("icon"),y(f)])},{default:ve(()=>[(L(),Pe(wt(y(l))))]),_:1},8,["class"])):Ee("v-if",!0),te("div",{class:F(y(i).e("group"))},[te("h2",{class:F(y(i).e("title")),textContent:je(_.title)},null,10,kie),ft(te("div",{class:F(y(i).e("content")),style:Qe(_.title?void 0:{margin:0})},[Le(_.$slots,"default",{},()=>[_.dangerouslyUseHTMLString?(L(),Q(tt,{key:1},[Ee(" Caution here, message could've been compromised, never use user's input as message "),te("p",{innerHTML:_.message},null,8,Iie)],2112)):(L(),Q("p",Lie,je(_.message),1))])],6),[[Nt,_.message]]),_.showClose?(L(),Pe(y(et),{key:0,class:F(y(i).e("closeBtn")),onClick:lt(v,["stop"])},{default:ve(()=>[oe(y(s))]),_:1},8,["class","onClick"])):Ee("v-if",!0)],2)],46,Oie),[[Nt,o.value]])]),_:3},8,["name","onBeforeLeave"]))}});var Fie=Ge(Nie,[["__file","notification.vue"]]);const ph={"top-left":[],"top-right":[],"bottom-left":[],"bottom-right":[]},Yg=16;let Bie=1;const zl=function(t={},e=null){if(!Ot)return{close:()=>{}};(typeof t=="string"||un(t))&&(t={message:t});const n=t.position||"top-right";let i=t.offset||0;ph[n].forEach(({vm:f})=>{var l;i+=(((l=f.el)==null?void 0:l.offsetHeight)||0)+Yg}),i+=Yg;const r=`notification_${Bie++}`,a=t.onClose,u={...t,offset:i,id:r,onClose:()=>{Uie(r,n,a)}};let s=document.body;rr(t.appendTo)?s=t.appendTo:ct(t.appendTo)&&(s=document.querySelector(t.appendTo)),rr(s)||(s=document.body);const o=document.createElement("div"),c=oe(Fie,u,un(u.message)?{default:()=>u.message}:null);return c.appContext=e??zl._context,c.props.onDestroy=()=>{ao(null,o)},ao(c,o),ph[n].push({vm:c}),s.appendChild(o.firstElementChild),{close:()=>{c.component.exposed.visible.value=!1}}};gA.forEach(t=>{zl[t]=(e={})=>((typeof e=="string"||un(e))&&(e={message:e}),zl({...e,type:t}))});function Uie(t,e,n){const i=ph[e],r=i.findIndex(({vm:c})=>{var f;return((f=c.component)==null?void 0:f.props.id)===t});if(r===-1)return;const{vm:a}=i[r];if(!a)return;n==null||n(a);const u=a.el.offsetHeight,s=e.split("-")[0];i.splice(r,1);const o=i.length;if(!(o<1))for(let c=r;c<o;c++){const{el:f,component:l}=i[c].vm,d=Number.parseInt(f.style[s],10)-u-Yg;l.props.offset=d}}function Vie(){for(const t of Object.values(ph))t.forEach(({vm:e})=>{e.component.exposed.visible.value=!1})}zl.closeAll=Vie;zl._context=null;const $ie=_T(zl,"$notify");var Hie=[Yne,eie,Kg,Aie,$ie,QM],zie=DU([...Hne,...Hie]);/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const py="152",Ia={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Da={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},Wie=0,lw=1,Gie=2,vA=1,jie=2,ns=3,bs=0,Ri=1,vr=2,so=0,_l=1,cw=2,uw=3,dw=4,Xie=5,sl=100,Kie=101,Yie=102,fw=103,hw=104,qie=200,Zie=201,Jie=202,Qie=203,yA=204,bA=205,ere=206,tre=207,nre=208,ire=209,rre=210,sre=0,ore=1,are=2,qg=3,lre=4,cre=5,ure=6,dre=7,my=0,fre=1,hre=2,us=0,pre=1,mre=2,gre=3,vre=4,yre=5,_A=300,Wl=301,Gl=302,Zg=303,Jg=304,tp=306,jl=1e3,Yi=1001,Xl=1002,zn=1003,Qg=1004,Ff=1005,ni=1006,SA=1007,ga=1008,va=1009,bre=1010,_re=1011,wA=1012,Sre=1013,Ko=1014,eo=1015,Du=1016,wre=1017,Cre=1018,Sl=1020,xre=1021,qi=1023,Tre=1024,Ere=1025,ra=1026,Kl=1027,Mre=1028,Are=1029,Rre=1030,Pre=1031,Ore=1033,jp=33776,Xp=33777,Kp=33778,Yp=33779,pw=35840,mw=35841,gw=35842,vw=35843,kre=36196,yw=37492,bw=37496,_w=37808,Sw=37809,ww=37810,Cw=37811,xw=37812,Tw=37813,Ew=37814,Mw=37815,Aw=37816,Rw=37817,Pw=37818,Ow=37819,kw=37820,Lw=37821,qp=36492,Lre=36283,Iw=36284,Dw=36285,Nw=36286,Nu=2300,Yl=2301,Zp=2302,Fw=2400,Bw=2401,Uw=2402,Ire=2500,Dre=0,CA=1,ev=2,xA=3e3,ds=3001,Nre=3200,Fre=3201,gy=0,Bre=1,sa="",Ft="srgb",$r="srgb-linear",TA="display-p3",Jp=7680,Ure=519,tv=35044,Vw="300 es",nv=1035;class Ma{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const i=this._listeners;i[e]===void 0&&(i[e]=[]),i[e].indexOf(n)===-1&&i[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const i=this._listeners;return i[e]!==void 0&&i[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const r=this._listeners[e];if(r!==void 0){const a=r.indexOf(n);a!==-1&&r.splice(a,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const i=this._listeners[e.type];if(i!==void 0){e.target=this;const r=i.slice(0);for(let a=0,u=r.length;a<u;a++)r[a].call(this,e);e.target=null}}}const Qn=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let $w=1234567;const iu=Math.PI/180,ql=180/Math.PI;function Sr(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,i=Math.random()*4294967295|0;return(Qn[t&255]+Qn[t>>8&255]+Qn[t>>16&255]+Qn[t>>24&255]+"-"+Qn[e&255]+Qn[e>>8&255]+"-"+Qn[e>>16&15|64]+Qn[e>>24&255]+"-"+Qn[n&63|128]+Qn[n>>8&255]+"-"+Qn[n>>16&255]+Qn[n>>24&255]+Qn[i&255]+Qn[i>>8&255]+Qn[i>>16&255]+Qn[i>>24&255]).toLowerCase()}function jn(t,e,n){return Math.max(e,Math.min(n,t))}function vy(t,e){return(t%e+e)%e}function Vre(t,e,n,i,r){return i+(t-e)*(r-i)/(n-e)}function $re(t,e,n){return t!==e?(n-t)/(e-t):0}function ru(t,e,n){return(1-n)*t+n*e}function Hre(t,e,n,i){return ru(t,e,1-Math.exp(-n*i))}function zre(t,e=1){return e-Math.abs(vy(t,e*2)-e)}function Wre(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function Gre(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function jre(t,e){return t+Math.floor(Math.random()*(e-t+1))}function Xre(t,e){return t+Math.random()*(e-t)}function Kre(t){return t*(.5-Math.random())}function Yre(t){t!==void 0&&($w=t);let e=$w+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function qre(t){return t*iu}function Zre(t){return t*ql}function iv(t){return(t&t-1)===0&&t!==0}function EA(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function MA(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Jre(t,e,n,i,r){const a=Math.cos,u=Math.sin,s=a(n/2),o=u(n/2),c=a((e+i)/2),f=u((e+i)/2),l=a((e-i)/2),d=u((e-i)/2),h=a((i-e)/2),p=u((i-e)/2);switch(r){case"XYX":t.set(s*f,o*l,o*d,s*c);break;case"YZY":t.set(o*d,s*f,o*l,s*c);break;case"ZXZ":t.set(o*l,o*d,s*f,s*c);break;case"XZX":t.set(s*f,o*p,o*h,s*c);break;case"YXY":t.set(o*h,s*f,o*p,s*c);break;case"ZYZ":t.set(o*p,o*h,s*f,s*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+r)}}function as(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function pn(t,e){switch(e.constructor){case Float32Array:return t;case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Qre={DEG2RAD:iu,RAD2DEG:ql,generateUUID:Sr,clamp:jn,euclideanModulo:vy,mapLinear:Vre,inverseLerp:$re,lerp:ru,damp:Hre,pingpong:zre,smoothstep:Wre,smootherstep:Gre,randInt:jre,randFloat:Xre,randFloatSpread:Kre,seededRandom:Yre,degToRad:qre,radToDeg:Zre,isPowerOfTwo:iv,ceilPowerOfTwo:EA,floorPowerOfTwo:MA,setQuaternionFromProperEuler:Jre,normalize:pn,denormalize:as};class Ut{constructor(e=0,n=0){Ut.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,i=this.y,r=e.elements;return this.x=r[0]*n+r[3]*i+r[6],this.y=r[1]*n+r[4]*i+r[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(jn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y;return n*n+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const i=Math.cos(n),r=Math.sin(n),a=this.x-e.x,u=this.y-e.y;return this.x=a*i-u*r+e.x,this.y=a*r+u*i+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Jt{constructor(){Jt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(e,n,i,r,a,u,s,o,c){const f=this.elements;return f[0]=e,f[1]=r,f[2]=s,f[3]=n,f[4]=a,f[5]=o,f[6]=i,f[7]=u,f[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],this}extractBasis(e,n,i){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),i.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,u=i[0],s=i[3],o=i[6],c=i[1],f=i[4],l=i[7],d=i[2],h=i[5],p=i[8],g=r[0],m=r[3],v=r[6],b=r[1],_=r[4],S=r[7],w=r[2],C=r[5],x=r[8];return a[0]=u*g+s*b+o*w,a[3]=u*m+s*_+o*C,a[6]=u*v+s*S+o*x,a[1]=c*g+f*b+l*w,a[4]=c*m+f*_+l*C,a[7]=c*v+f*S+l*x,a[2]=d*g+h*b+p*w,a[5]=d*m+h*_+p*C,a[8]=d*v+h*S+p*x,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],u=e[4],s=e[5],o=e[6],c=e[7],f=e[8];return n*u*f-n*s*c-i*a*f+i*s*o+r*a*c-r*u*o}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],u=e[4],s=e[5],o=e[6],c=e[7],f=e[8],l=f*u-s*c,d=s*o-f*a,h=c*a-u*o,p=n*l+i*d+r*h;if(p===0)return this.set(0,0,0,0,0,0,0,0,0);const g=1/p;return e[0]=l*g,e[1]=(r*c-f*i)*g,e[2]=(s*i-r*u)*g,e[3]=d*g,e[4]=(f*n-r*o)*g,e[5]=(r*a-s*n)*g,e[6]=h*g,e[7]=(i*o-c*n)*g,e[8]=(u*n-i*a)*g,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,i,r,a,u,s){const o=Math.cos(a),c=Math.sin(a);return this.set(i*o,i*c,-i*(o*u+c*s)+u+e,-r*c,r*o,-r*(-c*u+o*s)+s+n,0,0,1),this}scale(e,n){return this.premultiply(Qp.makeScale(e,n)),this}rotate(e){return this.premultiply(Qp.makeRotation(-e)),this}translate(e,n){return this.premultiply(Qp.makeTranslation(e,n)),this}makeTranslation(e,n){return this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,i,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<9;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<9;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const Qp=new Jt;function AA(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}function Fu(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}const Hw={};function su(t){t in Hw||(Hw[t]=!0,console.warn(t))}function wl(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function em(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}const ese=new Jt().fromArray([.8224621,.0331941,.0170827,.177538,.9668058,.0723974,-1e-7,1e-7,.9105199]),tse=new Jt().fromArray([1.2249401,-.0420569,-.0196376,-.2249404,1.0420571,-.0786361,1e-7,0,1.0982735]);function nse(t){return t.convertSRGBToLinear().applyMatrix3(tse)}function ise(t){return t.applyMatrix3(ese).convertLinearToSRGB()}const rse={[$r]:t=>t,[Ft]:t=>t.convertSRGBToLinear(),[TA]:nse},sse={[$r]:t=>t,[Ft]:t=>t.convertLinearToSRGB(),[TA]:ise},ur={enabled:!0,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return $r},set workingColorSpace(t){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const i=rse[e],r=sse[n];if(i===void 0||r===void 0)throw new Error(`Unsupported color space conversion, "${e}" to "${n}".`);return r(i(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this.workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this.workingColorSpace)}};let Na;class RA{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Na===void 0&&(Na=Fu("canvas")),Na.width=e.width,Na.height=e.height;const i=Na.getContext("2d");e instanceof ImageData?i.putImageData(e,0,0):i.drawImage(e,0,0,e.width,e.height),n=Na}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Fu("canvas");n.width=e.width,n.height=e.height;const i=n.getContext("2d");i.drawImage(e,0,0,e.width,e.height);const r=i.getImageData(0,0,e.width,e.height),a=r.data;for(let u=0;u<a.length;u++)a[u]=wl(a[u]/255)*255;return i.putImageData(r,0,0),n}else if(e.data){const n=e.data.slice(0);for(let i=0;i<n.length;i++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[i]=Math.floor(wl(n[i]/255)*255):n[i]=wl(n[i]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}class PA{constructor(e=null){this.isSource=!0,this.uuid=Sr(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const i={uuid:this.uuid,url:""},r=this.data;if(r!==null){let a;if(Array.isArray(r)){a=[];for(let u=0,s=r.length;u<s;u++)r[u].isDataTexture?a.push(tm(r[u].image)):a.push(tm(r[u]))}else a=tm(r);i.url=a}return n||(e.images[this.uuid]=i),i}}function tm(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?RA.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let ose=0;class Zn extends Ma{constructor(e=Zn.DEFAULT_IMAGE,n=Zn.DEFAULT_MAPPING,i=Yi,r=Yi,a=ni,u=ga,s=qi,o=va,c=Zn.DEFAULT_ANISOTROPY,f=sa){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:ose++}),this.uuid=Sr(),this.name="",this.source=new PA(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=i,this.wrapT=r,this.magFilter=a,this.minFilter=u,this.anisotropy=c,this.format=s,this.internalFormat=null,this.type=o,this.offset=new Ut(0,0),this.repeat=new Ut(1,1),this.center=new Ut(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Jt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof f=="string"?this.colorSpace=f:(su("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=f===ds?Ft:sa),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const i={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(i.userData=this.userData),n||(e.textures[this.uuid]=i),i}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==_A)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case jl:e.x=e.x-Math.floor(e.x);break;case Yi:e.x=e.x<0?0:1;break;case Xl:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case jl:e.y=e.y-Math.floor(e.y);break;case Yi:e.y=e.y<0?0:1;break;case Xl:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return su("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Ft?ds:xA}set encoding(e){su("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===ds?Ft:sa}}Zn.DEFAULT_IMAGE=null;Zn.DEFAULT_MAPPING=_A;Zn.DEFAULT_ANISOTROPY=1;class mn{constructor(e=0,n=0,i=0,r=1){mn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=i,this.w=r}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,i,r){return this.x=e,this.y=n,this.z=i,this.w=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=this.w,u=e.elements;return this.x=u[0]*n+u[4]*i+u[8]*r+u[12]*a,this.y=u[1]*n+u[5]*i+u[9]*r+u[13]*a,this.z=u[2]*n+u[6]*i+u[10]*r+u[14]*a,this.w=u[3]*n+u[7]*i+u[11]*r+u[15]*a,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,i,r,a;const o=e.elements,c=o[0],f=o[4],l=o[8],d=o[1],h=o[5],p=o[9],g=o[2],m=o[6],v=o[10];if(Math.abs(f-d)<.01&&Math.abs(l-g)<.01&&Math.abs(p-m)<.01){if(Math.abs(f+d)<.1&&Math.abs(l+g)<.1&&Math.abs(p+m)<.1&&Math.abs(c+h+v-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,S=(h+1)/2,w=(v+1)/2,C=(f+d)/4,x=(l+g)/4,M=(p+m)/4;return _>S&&_>w?_<.01?(i=0,r=.707106781,a=.707106781):(i=Math.sqrt(_),r=C/i,a=x/i):S>w?S<.01?(i=.707106781,r=0,a=.707106781):(r=Math.sqrt(S),i=C/r,a=M/r):w<.01?(i=.707106781,r=.707106781,a=0):(a=Math.sqrt(w),i=x/a,r=M/a),this.set(i,r,a,n),this}let b=Math.sqrt((m-p)*(m-p)+(l-g)*(l-g)+(d-f)*(d-f));return Math.abs(b)<.001&&(b=1),this.x=(m-p)/b,this.y=(l-g)/b,this.z=(d-f)/b,this.w=Math.acos((c+h+v-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this.w=e.w+(n.w-e.w)*i,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class ya extends Ma{constructor(e=1,n=1,i={}){super(),this.isWebGLRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new mn(0,0,e,n),this.scissorTest=!1,this.viewport=new mn(0,0,e,n);const r={width:e,height:n,depth:1};i.encoding!==void 0&&(su("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),i.colorSpace=i.encoding===ds?Ft:sa),this.texture=new Zn(r,i.mapping,i.wrapS,i.wrapT,i.magFilter,i.minFilter,i.format,i.type,i.anisotropy,i.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=i.generateMipmaps!==void 0?i.generateMipmaps:!1,this.texture.internalFormat=i.internalFormat!==void 0?i.internalFormat:null,this.texture.minFilter=i.minFilter!==void 0?i.minFilter:ni,this.depthBuffer=i.depthBuffer!==void 0?i.depthBuffer:!0,this.stencilBuffer=i.stencilBuffer!==void 0?i.stencilBuffer:!1,this.depthTexture=i.depthTexture!==void 0?i.depthTexture:null,this.samples=i.samples!==void 0?i.samples:0}setSize(e,n,i=1){(this.width!==e||this.height!==n||this.depth!==i)&&(this.width=e,this.height=n,this.depth=i,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=i,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new PA(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class OA extends Zn{constructor(e=null,n=1,i=1,r=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=zn,this.minFilter=zn,this.wrapR=Yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class ase extends Zn{constructor(e=null,n=1,i=1,r=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:i,depth:r},this.magFilter=zn,this.minFilter=zn,this.wrapR=Yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Hr{constructor(e=0,n=0,i=0,r=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=i,this._w=r}static slerpFlat(e,n,i,r,a,u,s){let o=i[r+0],c=i[r+1],f=i[r+2],l=i[r+3];const d=a[u+0],h=a[u+1],p=a[u+2],g=a[u+3];if(s===0){e[n+0]=o,e[n+1]=c,e[n+2]=f,e[n+3]=l;return}if(s===1){e[n+0]=d,e[n+1]=h,e[n+2]=p,e[n+3]=g;return}if(l!==g||o!==d||c!==h||f!==p){let m=1-s;const v=o*d+c*h+f*p+l*g,b=v>=0?1:-1,_=1-v*v;if(_>Number.EPSILON){const w=Math.sqrt(_),C=Math.atan2(w,v*b);m=Math.sin(m*C)/w,s=Math.sin(s*C)/w}const S=s*b;if(o=o*m+d*S,c=c*m+h*S,f=f*m+p*S,l=l*m+g*S,m===1-s){const w=1/Math.sqrt(o*o+c*c+f*f+l*l);o*=w,c*=w,f*=w,l*=w}}e[n]=o,e[n+1]=c,e[n+2]=f,e[n+3]=l}static multiplyQuaternionsFlat(e,n,i,r,a,u){const s=i[r],o=i[r+1],c=i[r+2],f=i[r+3],l=a[u],d=a[u+1],h=a[u+2],p=a[u+3];return e[n]=s*p+f*l+o*h-c*d,e[n+1]=o*p+f*d+c*l-s*h,e[n+2]=c*p+f*h+s*d-o*l,e[n+3]=f*p-s*l-o*d-c*h,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,i,r){return this._x=e,this._y=n,this._z=i,this._w=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const i=e._x,r=e._y,a=e._z,u=e._order,s=Math.cos,o=Math.sin,c=s(i/2),f=s(r/2),l=s(a/2),d=o(i/2),h=o(r/2),p=o(a/2);switch(u){case"XYZ":this._x=d*f*l+c*h*p,this._y=c*h*l-d*f*p,this._z=c*f*p+d*h*l,this._w=c*f*l-d*h*p;break;case"YXZ":this._x=d*f*l+c*h*p,this._y=c*h*l-d*f*p,this._z=c*f*p-d*h*l,this._w=c*f*l+d*h*p;break;case"ZXY":this._x=d*f*l-c*h*p,this._y=c*h*l+d*f*p,this._z=c*f*p+d*h*l,this._w=c*f*l-d*h*p;break;case"ZYX":this._x=d*f*l-c*h*p,this._y=c*h*l+d*f*p,this._z=c*f*p-d*h*l,this._w=c*f*l+d*h*p;break;case"YZX":this._x=d*f*l+c*h*p,this._y=c*h*l+d*f*p,this._z=c*f*p-d*h*l,this._w=c*f*l-d*h*p;break;case"XZY":this._x=d*f*l-c*h*p,this._y=c*h*l-d*f*p,this._z=c*f*p+d*h*l,this._w=c*f*l+d*h*p;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+u)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const i=n/2,r=Math.sin(i);return this._x=e.x*r,this._y=e.y*r,this._z=e.z*r,this._w=Math.cos(i),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,i=n[0],r=n[4],a=n[8],u=n[1],s=n[5],o=n[9],c=n[2],f=n[6],l=n[10],d=i+s+l;if(d>0){const h=.5/Math.sqrt(d+1);this._w=.25/h,this._x=(f-o)*h,this._y=(a-c)*h,this._z=(u-r)*h}else if(i>s&&i>l){const h=2*Math.sqrt(1+i-s-l);this._w=(f-o)/h,this._x=.25*h,this._y=(r+u)/h,this._z=(a+c)/h}else if(s>l){const h=2*Math.sqrt(1+s-i-l);this._w=(a-c)/h,this._x=(r+u)/h,this._y=.25*h,this._z=(o+f)/h}else{const h=2*Math.sqrt(1+l-i-s);this._w=(u-r)/h,this._x=(a+c)/h,this._y=(o+f)/h,this._z=.25*h}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let i=e.dot(n)+1;return i<Number.EPSILON?(i=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=i):(this._x=0,this._y=-e.z,this._z=e.y,this._w=i)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=i),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(jn(this.dot(e),-1,1)))}rotateTowards(e,n){const i=this.angleTo(e);if(i===0)return this;const r=Math.min(1,n/i);return this.slerp(e,r),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const i=e._x,r=e._y,a=e._z,u=e._w,s=n._x,o=n._y,c=n._z,f=n._w;return this._x=i*f+u*s+r*c-a*o,this._y=r*f+u*o+a*s-i*c,this._z=a*f+u*c+i*o-r*s,this._w=u*f-i*s-r*o-a*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const i=this._x,r=this._y,a=this._z,u=this._w;let s=u*e._w+i*e._x+r*e._y+a*e._z;if(s<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,s=-s):this.copy(e),s>=1)return this._w=u,this._x=i,this._y=r,this._z=a,this;const o=1-s*s;if(o<=Number.EPSILON){const h=1-n;return this._w=h*u+n*this._w,this._x=h*i+n*this._x,this._y=h*r+n*this._y,this._z=h*a+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(o),f=Math.atan2(c,s),l=Math.sin((1-n)*f)/c,d=Math.sin(n*f)/c;return this._w=u*l+this._w*d,this._x=i*l+this._x*d,this._y=r*l+this._y*d,this._z=a*l+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,i){return this.copy(e).slerp(n,i)}random(){const e=Math.random(),n=Math.sqrt(1-e),i=Math.sqrt(e),r=2*Math.PI*Math.random(),a=2*Math.PI*Math.random();return this.set(n*Math.cos(r),i*Math.sin(a),i*Math.cos(a),n*Math.sin(r))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class $e{constructor(e=0,n=0,i=0){$e.prototype.isVector3=!0,this.x=e,this.y=n,this.z=i}set(e,n,i){return i===void 0&&(i=this.z),this.x=e,this.y=n,this.z=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(zw.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(zw.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[3]*i+a[6]*r,this.y=a[1]*n+a[4]*i+a[7]*r,this.z=a[2]*n+a[5]*i+a[8]*r,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,i=this.y,r=this.z,a=e.elements,u=1/(a[3]*n+a[7]*i+a[11]*r+a[15]);return this.x=(a[0]*n+a[4]*i+a[8]*r+a[12])*u,this.y=(a[1]*n+a[5]*i+a[9]*r+a[13])*u,this.z=(a[2]*n+a[6]*i+a[10]*r+a[14])*u,this}applyQuaternion(e){const n=this.x,i=this.y,r=this.z,a=e.x,u=e.y,s=e.z,o=e.w,c=o*n+u*r-s*i,f=o*i+s*n-a*r,l=o*r+a*i-u*n,d=-a*n-u*i-s*r;return this.x=c*o+d*-a+f*-s-l*-u,this.y=f*o+d*-u+l*-a-c*-s,this.z=l*o+d*-s+c*-u-f*-a,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,i=this.y,r=this.z,a=e.elements;return this.x=a[0]*n+a[4]*i+a[8]*r,this.y=a[1]*n+a[5]*i+a[9]*r,this.z=a[2]*n+a[6]*i+a[10]*r,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const i=this.length();return this.divideScalar(i||1).multiplyScalar(Math.max(e,Math.min(n,i)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,i){return this.x=e.x+(n.x-e.x)*i,this.y=e.y+(n.y-e.y)*i,this.z=e.z+(n.z-e.z)*i,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const i=e.x,r=e.y,a=e.z,u=n.x,s=n.y,o=n.z;return this.x=r*o-a*s,this.y=a*u-i*o,this.z=i*s-r*u,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const i=e.dot(this)/n;return this.copy(e).multiplyScalar(i)}projectOnPlane(e){return nm.copy(this).projectOnVector(e),this.sub(nm)}reflect(e){return this.sub(nm.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const i=this.dot(e)/n;return Math.acos(jn(i,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,i=this.y-e.y,r=this.z-e.z;return n*n+i*i+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,i){const r=Math.sin(n)*e;return this.x=r*Math.sin(i),this.y=Math.cos(n)*e,this.z=r*Math.cos(i),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,i){return this.x=e*Math.sin(n),this.y=i,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),i=this.setFromMatrixColumn(e,1).length(),r=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=i,this.z=r,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,i=Math.sqrt(1-e**2);return this.x=i*Math.cos(n),this.y=i*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const nm=new $e,zw=new Hr;class Rs{constructor(e=new $e(1/0,1/0,1/0),n=new $e(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n+=3)this.expandByPoint(Yr.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,i=e.count;n<i;n++)this.expandByPoint(Yr.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,i=e.length;n<i;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const i=Yr.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(i),this.max.copy(e).add(i),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Fa.copy(e.boundingBox),Fa.applyMatrix4(e.matrixWorld),this.union(Fa);else{const r=e.geometry;if(r!==void 0)if(n&&r.attributes!==void 0&&r.attributes.position!==void 0){const a=r.attributes.position;for(let u=0,s=a.count;u<s;u++)Yr.fromBufferAttribute(a,u).applyMatrix4(e.matrixWorld),this.expandByPoint(Yr)}else r.boundingBox===null&&r.computeBoundingBox(),Fa.copy(r.boundingBox),Fa.applyMatrix4(e.matrixWorld),this.union(Fa)}const i=e.children;for(let r=0,a=i.length;r<a;r++)this.expandByObject(i[r],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,Yr),Yr.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,i;return e.normal.x>0?(n=e.normal.x*this.min.x,i=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,i=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,i+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,i+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,i+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,i+=e.normal.z*this.min.z),n<=-e.constant&&i>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Tc),Dd.subVectors(this.max,Tc),Ba.subVectors(e.a,Tc),Ua.subVectors(e.b,Tc),Va.subVectors(e.c,Tc),Ds.subVectors(Ua,Ba),Ns.subVectors(Va,Ua),Po.subVectors(Ba,Va);let n=[0,-Ds.z,Ds.y,0,-Ns.z,Ns.y,0,-Po.z,Po.y,Ds.z,0,-Ds.x,Ns.z,0,-Ns.x,Po.z,0,-Po.x,-Ds.y,Ds.x,0,-Ns.y,Ns.x,0,-Po.y,Po.x,0];return!im(n,Ba,Ua,Va,Dd)||(n=[1,0,0,0,1,0,0,0,1],!im(n,Ba,Ua,Va,Dd))?!1:(Nd.crossVectors(Ds,Ns),n=[Nd.x,Nd.y,Nd.z],im(n,Ba,Ua,Va,Dd))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Yr).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(Yr).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Kr[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Kr[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Kr[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Kr[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Kr[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Kr[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Kr[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Kr[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Kr),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Kr=[new $e,new $e,new $e,new $e,new $e,new $e,new $e,new $e],Yr=new $e,Fa=new Rs,Ba=new $e,Ua=new $e,Va=new $e,Ds=new $e,Ns=new $e,Po=new $e,Tc=new $e,Dd=new $e,Nd=new $e,Oo=new $e;function im(t,e,n,i,r){for(let a=0,u=t.length-3;a<=u;a+=3){Oo.fromArray(t,a);const s=r.x*Math.abs(Oo.x)+r.y*Math.abs(Oo.y)+r.z*Math.abs(Oo.z),o=e.dot(Oo),c=n.dot(Oo),f=i.dot(Oo);if(Math.max(-Math.max(o,c,f),Math.min(o,c,f))>s)return!1}return!0}const lse=new Rs,Ec=new $e,rm=new $e;class Ps{constructor(e=new $e,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const i=this.center;n!==void 0?i.copy(n):lse.setFromPoints(e).getCenter(i);let r=0;for(let a=0,u=e.length;a<u;a++)r=Math.max(r,i.distanceToSquared(e[a]));return this.radius=Math.sqrt(r),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const i=this.center.distanceToSquared(e);return n.copy(e),i>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;Ec.subVectors(e,this.center);const n=Ec.lengthSq();if(n>this.radius*this.radius){const i=Math.sqrt(n),r=(i-this.radius)*.5;this.center.addScaledVector(Ec,r/i),this.radius+=r}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(rm.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint(Ec.copy(e.center).add(rm)),this.expandByPoint(Ec.copy(e.center).sub(rm))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const qr=new $e,sm=new $e,Fd=new $e,Fs=new $e,om=new $e,Bd=new $e,am=new $e;class yy{constructor(e=new $e,n=new $e(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,qr)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const i=n.dot(this.direction);return i<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,i)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=qr.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(qr.copy(this.origin).addScaledVector(this.direction,n),qr.distanceToSquared(e))}distanceSqToSegment(e,n,i,r){sm.copy(e).add(n).multiplyScalar(.5),Fd.copy(n).sub(e).normalize(),Fs.copy(this.origin).sub(sm);const a=e.distanceTo(n)*.5,u=-this.direction.dot(Fd),s=Fs.dot(this.direction),o=-Fs.dot(Fd),c=Fs.lengthSq(),f=Math.abs(1-u*u);let l,d,h,p;if(f>0)if(l=u*o-s,d=u*s-o,p=a*f,l>=0)if(d>=-p)if(d<=p){const g=1/f;l*=g,d*=g,h=l*(l+u*d+2*s)+d*(u*l+d+2*o)+c}else d=a,l=Math.max(0,-(u*d+s)),h=-l*l+d*(d+2*o)+c;else d=-a,l=Math.max(0,-(u*d+s)),h=-l*l+d*(d+2*o)+c;else d<=-p?(l=Math.max(0,-(-u*a+s)),d=l>0?-a:Math.min(Math.max(-a,-o),a),h=-l*l+d*(d+2*o)+c):d<=p?(l=0,d=Math.min(Math.max(-a,-o),a),h=d*(d+2*o)+c):(l=Math.max(0,-(u*a+s)),d=l>0?a:Math.min(Math.max(-a,-o),a),h=-l*l+d*(d+2*o)+c);else d=u>0?-a:a,l=Math.max(0,-(u*d+s)),h=-l*l+d*(d+2*o)+c;return i&&i.copy(this.origin).addScaledVector(this.direction,l),r&&r.copy(sm).addScaledVector(Fd,d),h}intersectSphere(e,n){qr.subVectors(e.center,this.origin);const i=qr.dot(this.direction),r=qr.dot(qr)-i*i,a=e.radius*e.radius;if(r>a)return null;const u=Math.sqrt(a-r),s=i-u,o=i+u;return o<0?null:s<0?this.at(o,n):this.at(s,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const i=-(this.origin.dot(e.normal)+e.constant)/n;return i>=0?i:null}intersectPlane(e,n){const i=this.distanceToPlane(e);return i===null?null:this.at(i,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let i,r,a,u,s,o;const c=1/this.direction.x,f=1/this.direction.y,l=1/this.direction.z,d=this.origin;return c>=0?(i=(e.min.x-d.x)*c,r=(e.max.x-d.x)*c):(i=(e.max.x-d.x)*c,r=(e.min.x-d.x)*c),f>=0?(a=(e.min.y-d.y)*f,u=(e.max.y-d.y)*f):(a=(e.max.y-d.y)*f,u=(e.min.y-d.y)*f),i>u||a>r||((a>i||isNaN(i))&&(i=a),(u<r||isNaN(r))&&(r=u),l>=0?(s=(e.min.z-d.z)*l,o=(e.max.z-d.z)*l):(s=(e.max.z-d.z)*l,o=(e.min.z-d.z)*l),i>o||s>r)||((s>i||i!==i)&&(i=s),(o<r||r!==r)&&(r=o),r<0)?null:this.at(i>=0?i:r,n)}intersectsBox(e){return this.intersectBox(e,qr)!==null}intersectTriangle(e,n,i,r,a){om.subVectors(n,e),Bd.subVectors(i,e),am.crossVectors(om,Bd);let u=this.direction.dot(am),s;if(u>0){if(r)return null;s=1}else if(u<0)s=-1,u=-u;else return null;Fs.subVectors(this.origin,e);const o=s*this.direction.dot(Bd.crossVectors(Fs,Bd));if(o<0)return null;const c=s*this.direction.dot(om.cross(Fs));if(c<0||o+c>u)return null;const f=-s*Fs.dot(am);return f<0?null:this.at(f/u,a)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Yt{constructor(){Yt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(e,n,i,r,a,u,s,o,c,f,l,d,h,p,g,m){const v=this.elements;return v[0]=e,v[4]=n,v[8]=i,v[12]=r,v[1]=a,v[5]=u,v[9]=s,v[13]=o,v[2]=c,v[6]=f,v[10]=l,v[14]=d,v[3]=h,v[7]=p,v[11]=g,v[15]=m,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Yt().fromArray(this.elements)}copy(e){const n=this.elements,i=e.elements;return n[0]=i[0],n[1]=i[1],n[2]=i[2],n[3]=i[3],n[4]=i[4],n[5]=i[5],n[6]=i[6],n[7]=i[7],n[8]=i[8],n[9]=i[9],n[10]=i[10],n[11]=i[11],n[12]=i[12],n[13]=i[13],n[14]=i[14],n[15]=i[15],this}copyPosition(e){const n=this.elements,i=e.elements;return n[12]=i[12],n[13]=i[13],n[14]=i[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,i){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),i.setFromMatrixColumn(this,2),this}makeBasis(e,n,i){return this.set(e.x,n.x,i.x,0,e.y,n.y,i.y,0,e.z,n.z,i.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,i=e.elements,r=1/$a.setFromMatrixColumn(e,0).length(),a=1/$a.setFromMatrixColumn(e,1).length(),u=1/$a.setFromMatrixColumn(e,2).length();return n[0]=i[0]*r,n[1]=i[1]*r,n[2]=i[2]*r,n[3]=0,n[4]=i[4]*a,n[5]=i[5]*a,n[6]=i[6]*a,n[7]=0,n[8]=i[8]*u,n[9]=i[9]*u,n[10]=i[10]*u,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,i=e.x,r=e.y,a=e.z,u=Math.cos(i),s=Math.sin(i),o=Math.cos(r),c=Math.sin(r),f=Math.cos(a),l=Math.sin(a);if(e.order==="XYZ"){const d=u*f,h=u*l,p=s*f,g=s*l;n[0]=o*f,n[4]=-o*l,n[8]=c,n[1]=h+p*c,n[5]=d-g*c,n[9]=-s*o,n[2]=g-d*c,n[6]=p+h*c,n[10]=u*o}else if(e.order==="YXZ"){const d=o*f,h=o*l,p=c*f,g=c*l;n[0]=d+g*s,n[4]=p*s-h,n[8]=u*c,n[1]=u*l,n[5]=u*f,n[9]=-s,n[2]=h*s-p,n[6]=g+d*s,n[10]=u*o}else if(e.order==="ZXY"){const d=o*f,h=o*l,p=c*f,g=c*l;n[0]=d-g*s,n[4]=-u*l,n[8]=p+h*s,n[1]=h+p*s,n[5]=u*f,n[9]=g-d*s,n[2]=-u*c,n[6]=s,n[10]=u*o}else if(e.order==="ZYX"){const d=u*f,h=u*l,p=s*f,g=s*l;n[0]=o*f,n[4]=p*c-h,n[8]=d*c+g,n[1]=o*l,n[5]=g*c+d,n[9]=h*c-p,n[2]=-c,n[6]=s*o,n[10]=u*o}else if(e.order==="YZX"){const d=u*o,h=u*c,p=s*o,g=s*c;n[0]=o*f,n[4]=g-d*l,n[8]=p*l+h,n[1]=l,n[5]=u*f,n[9]=-s*f,n[2]=-c*f,n[6]=h*l+p,n[10]=d-g*l}else if(e.order==="XZY"){const d=u*o,h=u*c,p=s*o,g=s*c;n[0]=o*f,n[4]=-l,n[8]=c*f,n[1]=d*l+g,n[5]=u*f,n[9]=h*l-p,n[2]=p*l-h,n[6]=s*f,n[10]=g*l+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(cse,e,use)}lookAt(e,n,i){const r=this.elements;return Li.subVectors(e,n),Li.lengthSq()===0&&(Li.z=1),Li.normalize(),Bs.crossVectors(i,Li),Bs.lengthSq()===0&&(Math.abs(i.z)===1?Li.x+=1e-4:Li.z+=1e-4,Li.normalize(),Bs.crossVectors(i,Li)),Bs.normalize(),Ud.crossVectors(Li,Bs),r[0]=Bs.x,r[4]=Ud.x,r[8]=Li.x,r[1]=Bs.y,r[5]=Ud.y,r[9]=Li.y,r[2]=Bs.z,r[6]=Ud.z,r[10]=Li.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const i=e.elements,r=n.elements,a=this.elements,u=i[0],s=i[4],o=i[8],c=i[12],f=i[1],l=i[5],d=i[9],h=i[13],p=i[2],g=i[6],m=i[10],v=i[14],b=i[3],_=i[7],S=i[11],w=i[15],C=r[0],x=r[4],M=r[8],E=r[12],A=r[1],O=r[5],I=r[9],$=r[13],H=r[2],B=r[6],N=r[10],k=r[14],D=r[3],T=r[7],R=r[11],V=r[15];return a[0]=u*C+s*A+o*H+c*D,a[4]=u*x+s*O+o*B+c*T,a[8]=u*M+s*I+o*N+c*R,a[12]=u*E+s*$+o*k+c*V,a[1]=f*C+l*A+d*H+h*D,a[5]=f*x+l*O+d*B+h*T,a[9]=f*M+l*I+d*N+h*R,a[13]=f*E+l*$+d*k+h*V,a[2]=p*C+g*A+m*H+v*D,a[6]=p*x+g*O+m*B+v*T,a[10]=p*M+g*I+m*N+v*R,a[14]=p*E+g*$+m*k+v*V,a[3]=b*C+_*A+S*H+w*D,a[7]=b*x+_*O+S*B+w*T,a[11]=b*M+_*I+S*N+w*R,a[15]=b*E+_*$+S*k+w*V,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],i=e[4],r=e[8],a=e[12],u=e[1],s=e[5],o=e[9],c=e[13],f=e[2],l=e[6],d=e[10],h=e[14],p=e[3],g=e[7],m=e[11],v=e[15];return p*(+a*o*l-r*c*l-a*s*d+i*c*d+r*s*h-i*o*h)+g*(+n*o*h-n*c*d+a*u*d-r*u*h+r*c*f-a*o*f)+m*(+n*c*l-n*s*h-a*u*l+i*u*h+a*s*f-i*c*f)+v*(-r*s*f-n*o*l+n*s*d+r*u*l-i*u*d+i*o*f)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,i){const r=this.elements;return e.isVector3?(r[12]=e.x,r[13]=e.y,r[14]=e.z):(r[12]=e,r[13]=n,r[14]=i),this}invert(){const e=this.elements,n=e[0],i=e[1],r=e[2],a=e[3],u=e[4],s=e[5],o=e[6],c=e[7],f=e[8],l=e[9],d=e[10],h=e[11],p=e[12],g=e[13],m=e[14],v=e[15],b=l*m*c-g*d*c+g*o*h-s*m*h-l*o*v+s*d*v,_=p*d*c-f*m*c-p*o*h+u*m*h+f*o*v-u*d*v,S=f*g*c-p*l*c+p*s*h-u*g*h-f*s*v+u*l*v,w=p*l*o-f*g*o-p*s*d+u*g*d+f*s*m-u*l*m,C=n*b+i*_+r*S+a*w;if(C===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const x=1/C;return e[0]=b*x,e[1]=(g*d*a-l*m*a-g*r*h+i*m*h+l*r*v-i*d*v)*x,e[2]=(s*m*a-g*o*a+g*r*c-i*m*c-s*r*v+i*o*v)*x,e[3]=(l*o*a-s*d*a-l*r*c+i*d*c+s*r*h-i*o*h)*x,e[4]=_*x,e[5]=(f*m*a-p*d*a+p*r*h-n*m*h-f*r*v+n*d*v)*x,e[6]=(p*o*a-u*m*a-p*r*c+n*m*c+u*r*v-n*o*v)*x,e[7]=(u*d*a-f*o*a+f*r*c-n*d*c-u*r*h+n*o*h)*x,e[8]=S*x,e[9]=(p*l*a-f*g*a-p*i*h+n*g*h+f*i*v-n*l*v)*x,e[10]=(u*g*a-p*s*a+p*i*c-n*g*c-u*i*v+n*s*v)*x,e[11]=(f*s*a-u*l*a-f*i*c+n*l*c+u*i*h-n*s*h)*x,e[12]=w*x,e[13]=(f*g*r-p*l*r+p*i*d-n*g*d-f*i*m+n*l*m)*x,e[14]=(p*s*r-u*g*r-p*i*o+n*g*o+u*i*m-n*s*m)*x,e[15]=(u*l*r-f*s*r+f*i*o-n*l*o-u*i*d+n*s*d)*x,this}scale(e){const n=this.elements,i=e.x,r=e.y,a=e.z;return n[0]*=i,n[4]*=r,n[8]*=a,n[1]*=i,n[5]*=r,n[9]*=a,n[2]*=i,n[6]*=r,n[10]*=a,n[3]*=i,n[7]*=r,n[11]*=a,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],i=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],r=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,i,r))}makeTranslation(e,n,i){return this.set(1,0,0,e,0,1,0,n,0,0,1,i,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),i=Math.sin(e);return this.set(1,0,0,0,0,n,-i,0,0,i,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,0,i,0,0,1,0,0,-i,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),i=Math.sin(e);return this.set(n,-i,0,0,i,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const i=Math.cos(n),r=Math.sin(n),a=1-i,u=e.x,s=e.y,o=e.z,c=a*u,f=a*s;return this.set(c*u+i,c*s-r*o,c*o+r*s,0,c*s+r*o,f*s+i,f*o-r*u,0,c*o-r*s,f*o+r*u,a*o*o+i,0,0,0,0,1),this}makeScale(e,n,i){return this.set(e,0,0,0,0,n,0,0,0,0,i,0,0,0,0,1),this}makeShear(e,n,i,r,a,u){return this.set(1,i,a,0,e,1,u,0,n,r,1,0,0,0,0,1),this}compose(e,n,i){const r=this.elements,a=n._x,u=n._y,s=n._z,o=n._w,c=a+a,f=u+u,l=s+s,d=a*c,h=a*f,p=a*l,g=u*f,m=u*l,v=s*l,b=o*c,_=o*f,S=o*l,w=i.x,C=i.y,x=i.z;return r[0]=(1-(g+v))*w,r[1]=(h+S)*w,r[2]=(p-_)*w,r[3]=0,r[4]=(h-S)*C,r[5]=(1-(d+v))*C,r[6]=(m+b)*C,r[7]=0,r[8]=(p+_)*x,r[9]=(m-b)*x,r[10]=(1-(d+g))*x,r[11]=0,r[12]=e.x,r[13]=e.y,r[14]=e.z,r[15]=1,this}decompose(e,n,i){const r=this.elements;let a=$a.set(r[0],r[1],r[2]).length();const u=$a.set(r[4],r[5],r[6]).length(),s=$a.set(r[8],r[9],r[10]).length();this.determinant()<0&&(a=-a),e.x=r[12],e.y=r[13],e.z=r[14],dr.copy(this);const c=1/a,f=1/u,l=1/s;return dr.elements[0]*=c,dr.elements[1]*=c,dr.elements[2]*=c,dr.elements[4]*=f,dr.elements[5]*=f,dr.elements[6]*=f,dr.elements[8]*=l,dr.elements[9]*=l,dr.elements[10]*=l,n.setFromRotationMatrix(dr),i.x=a,i.y=u,i.z=s,this}makePerspective(e,n,i,r,a,u){const s=this.elements,o=2*a/(n-e),c=2*a/(i-r),f=(n+e)/(n-e),l=(i+r)/(i-r),d=-(u+a)/(u-a),h=-2*u*a/(u-a);return s[0]=o,s[4]=0,s[8]=f,s[12]=0,s[1]=0,s[5]=c,s[9]=l,s[13]=0,s[2]=0,s[6]=0,s[10]=d,s[14]=h,s[3]=0,s[7]=0,s[11]=-1,s[15]=0,this}makeOrthographic(e,n,i,r,a,u){const s=this.elements,o=1/(n-e),c=1/(i-r),f=1/(u-a),l=(n+e)*o,d=(i+r)*c,h=(u+a)*f;return s[0]=2*o,s[4]=0,s[8]=0,s[12]=-l,s[1]=0,s[5]=2*c,s[9]=0,s[13]=-d,s[2]=0,s[6]=0,s[10]=-2*f,s[14]=-h,s[3]=0,s[7]=0,s[11]=0,s[15]=1,this}equals(e){const n=this.elements,i=e.elements;for(let r=0;r<16;r++)if(n[r]!==i[r])return!1;return!0}fromArray(e,n=0){for(let i=0;i<16;i++)this.elements[i]=e[i+n];return this}toArray(e=[],n=0){const i=this.elements;return e[n]=i[0],e[n+1]=i[1],e[n+2]=i[2],e[n+3]=i[3],e[n+4]=i[4],e[n+5]=i[5],e[n+6]=i[6],e[n+7]=i[7],e[n+8]=i[8],e[n+9]=i[9],e[n+10]=i[10],e[n+11]=i[11],e[n+12]=i[12],e[n+13]=i[13],e[n+14]=i[14],e[n+15]=i[15],e}}const $a=new $e,dr=new Yt,cse=new $e(0,0,0),use=new $e(1,1,1),Bs=new $e,Ud=new $e,Li=new $e,Ww=new Yt,Gw=new Hr;class np{constructor(e=0,n=0,i=0,r=np.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=i,this._order=r}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,i,r=this._order){return this._x=e,this._y=n,this._z=i,this._order=r,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,i=!0){const r=e.elements,a=r[0],u=r[4],s=r[8],o=r[1],c=r[5],f=r[9],l=r[2],d=r[6],h=r[10];switch(n){case"XYZ":this._y=Math.asin(jn(s,-1,1)),Math.abs(s)<.9999999?(this._x=Math.atan2(-f,h),this._z=Math.atan2(-u,a)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-jn(f,-1,1)),Math.abs(f)<.9999999?(this._y=Math.atan2(s,h),this._z=Math.atan2(o,c)):(this._y=Math.atan2(-l,a),this._z=0);break;case"ZXY":this._x=Math.asin(jn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-l,h),this._z=Math.atan2(-u,c)):(this._y=0,this._z=Math.atan2(o,a));break;case"ZYX":this._y=Math.asin(-jn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(d,h),this._z=Math.atan2(o,a)):(this._x=0,this._z=Math.atan2(-u,c));break;case"YZX":this._z=Math.asin(jn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-f,c),this._y=Math.atan2(-l,a)):(this._x=0,this._y=Math.atan2(s,h));break;case"XZY":this._z=Math.asin(-jn(u,-1,1)),Math.abs(u)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(s,a)):(this._x=Math.atan2(-f,h),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,i===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,i){return Ww.makeRotationFromQuaternion(e),this.setFromRotationMatrix(Ww,n,i)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return Gw.setFromEuler(this),this.setFromQuaternion(Gw,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}np.DEFAULT_ORDER="XYZ";class kA{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let dse=0;const jw=new $e,Ha=new Hr,Zr=new Yt,Vd=new $e,Mc=new $e,fse=new $e,hse=new Hr,Xw=new $e(1,0,0),Kw=new $e(0,1,0),Yw=new $e(0,0,1),pse={type:"added"},qw={type:"removed"};class Cn extends Ma{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:dse++}),this.uuid=Sr(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Cn.DEFAULT_UP.clone();const e=new $e,n=new np,i=new Hr,r=new $e(1,1,1);function a(){i.setFromEuler(n,!1)}function u(){n.setFromQuaternion(i,void 0,!1)}n._onChange(a),i._onChange(u),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:i},scale:{configurable:!0,enumerable:!0,value:r},modelViewMatrix:{value:new Yt},normalMatrix:{value:new Jt}}),this.matrix=new Yt,this.matrixWorld=new Yt,this.matrixAutoUpdate=Cn.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Cn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new kA,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Ha.setFromAxisAngle(e,n),this.quaternion.multiply(Ha),this}rotateOnWorldAxis(e,n){return Ha.setFromAxisAngle(e,n),this.quaternion.premultiply(Ha),this}rotateX(e){return this.rotateOnAxis(Xw,e)}rotateY(e){return this.rotateOnAxis(Kw,e)}rotateZ(e){return this.rotateOnAxis(Yw,e)}translateOnAxis(e,n){return jw.copy(e).applyQuaternion(this.quaternion),this.position.add(jw.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(Xw,e)}translateY(e){return this.translateOnAxis(Kw,e)}translateZ(e){return this.translateOnAxis(Yw,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Zr.copy(this.matrixWorld).invert())}lookAt(e,n,i){e.isVector3?Vd.copy(e):Vd.set(e,n,i);const r=this.parent;this.updateWorldMatrix(!0,!1),Mc.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Zr.lookAt(Mc,Vd,this.up):Zr.lookAt(Vd,Mc,this.up),this.quaternion.setFromRotationMatrix(Zr),r&&(Zr.extractRotation(r.matrixWorld),Ha.setFromRotationMatrix(Zr),this.quaternion.premultiply(Ha.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(pse)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let i=0;i<arguments.length;i++)this.remove(arguments[i]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(qw)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){for(let e=0;e<this.children.length;e++){const n=this.children[e];n.parent=null,n.dispatchEvent(qw)}return this.children.length=0,this}attach(e){return this.updateWorldMatrix(!0,!1),Zr.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Zr.multiply(e.parent.matrixWorld)),e.applyMatrix4(Zr),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let i=0,r=this.children.length;i<r;i++){const u=this.children[i].getObjectByProperty(e,n);if(u!==void 0)return u}}getObjectsByProperty(e,n){let i=[];this[e]===n&&i.push(this);for(let r=0,a=this.children.length;r<a;r++){const u=this.children[r].getObjectsByProperty(e,n);u.length>0&&(i=i.concat(u))}return i}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mc,e,fse),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Mc,hse,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let i=0,r=n.length;i<r;i++)n[i].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let i=0,r=n.length;i<r;i++){const a=n[i];(a.matrixWorldAutoUpdate===!0||e===!0)&&a.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const i=this.parent;if(e===!0&&i!==null&&i.matrixWorldAutoUpdate===!0&&i.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const r=this.children;for(let a=0,u=r.length;a<u;a++){const s=r[a];s.matrixWorldAutoUpdate===!0&&s.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",i={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},i.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const r={};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.castShadow===!0&&(r.castShadow=!0),this.receiveShadow===!0&&(r.receiveShadow=!0),this.visible===!1&&(r.visible=!1),this.frustumCulled===!1&&(r.frustumCulled=!1),this.renderOrder!==0&&(r.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(r.userData=this.userData),r.layers=this.layers.mask,r.matrix=this.matrix.toArray(),r.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(r.matrixAutoUpdate=!1),this.isInstancedMesh&&(r.type="InstancedMesh",r.count=this.count,r.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(r.instanceColor=this.instanceColor.toJSON()));function a(s,o){return s[o.uuid]===void 0&&(s[o.uuid]=o.toJSON(e)),o.uuid}if(this.isScene)this.background&&(this.background.isColor?r.background=this.background.toJSON():this.background.isTexture&&(r.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(r.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){r.geometry=a(e.geometries,this.geometry);const s=this.geometry.parameters;if(s!==void 0&&s.shapes!==void 0){const o=s.shapes;if(Array.isArray(o))for(let c=0,f=o.length;c<f;c++){const l=o[c];a(e.shapes,l)}else a(e.shapes,o)}}if(this.isSkinnedMesh&&(r.bindMode=this.bindMode,r.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(a(e.skeletons,this.skeleton),r.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const s=[];for(let o=0,c=this.material.length;o<c;o++)s.push(a(e.materials,this.material[o]));r.material=s}else r.material=a(e.materials,this.material);if(this.children.length>0){r.children=[];for(let s=0;s<this.children.length;s++)r.children.push(this.children[s].toJSON(e).object)}if(this.animations.length>0){r.animations=[];for(let s=0;s<this.animations.length;s++){const o=this.animations[s];r.animations.push(a(e.animations,o))}}if(n){const s=u(e.geometries),o=u(e.materials),c=u(e.textures),f=u(e.images),l=u(e.shapes),d=u(e.skeletons),h=u(e.animations),p=u(e.nodes);s.length>0&&(i.geometries=s),o.length>0&&(i.materials=o),c.length>0&&(i.textures=c),f.length>0&&(i.images=f),l.length>0&&(i.shapes=l),d.length>0&&(i.skeletons=d),h.length>0&&(i.animations=h),p.length>0&&(i.nodes=p)}return i.object=r,i;function u(s){const o=[];for(const c in s){const f=s[c];delete f.metadata,o.push(f)}return o}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations,this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let i=0;i<e.children.length;i++){const r=e.children[i];this.add(r.clone())}return this}}Cn.DEFAULT_UP=new $e(0,1,0);Cn.DEFAULT_MATRIX_AUTO_UPDATE=!0;Cn.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const fr=new $e,Jr=new $e,lm=new $e,Qr=new $e,za=new $e,Wa=new $e,Zw=new $e,cm=new $e,um=new $e,dm=new $e;let $d=!1;class gr{constructor(e=new $e,n=new $e,i=new $e){this.a=e,this.b=n,this.c=i}static getNormal(e,n,i,r){r.subVectors(i,n),fr.subVectors(e,n),r.cross(fr);const a=r.lengthSq();return a>0?r.multiplyScalar(1/Math.sqrt(a)):r.set(0,0,0)}static getBarycoord(e,n,i,r,a){fr.subVectors(r,n),Jr.subVectors(i,n),lm.subVectors(e,n);const u=fr.dot(fr),s=fr.dot(Jr),o=fr.dot(lm),c=Jr.dot(Jr),f=Jr.dot(lm),l=u*c-s*s;if(l===0)return a.set(-2,-1,-1);const d=1/l,h=(c*o-s*f)*d,p=(u*f-s*o)*d;return a.set(1-h-p,p,h)}static containsPoint(e,n,i,r){return this.getBarycoord(e,n,i,r,Qr),Qr.x>=0&&Qr.y>=0&&Qr.x+Qr.y<=1}static getUV(e,n,i,r,a,u,s,o){return $d===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),$d=!0),this.getInterpolation(e,n,i,r,a,u,s,o)}static getInterpolation(e,n,i,r,a,u,s,o){return this.getBarycoord(e,n,i,r,Qr),o.setScalar(0),o.addScaledVector(a,Qr.x),o.addScaledVector(u,Qr.y),o.addScaledVector(s,Qr.z),o}static isFrontFacing(e,n,i,r){return fr.subVectors(i,n),Jr.subVectors(e,n),fr.cross(Jr).dot(r)<0}set(e,n,i){return this.a.copy(e),this.b.copy(n),this.c.copy(i),this}setFromPointsAndIndices(e,n,i,r){return this.a.copy(e[n]),this.b.copy(e[i]),this.c.copy(e[r]),this}setFromAttributeAndIndices(e,n,i,r){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,i),this.c.fromBufferAttribute(e,r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return fr.subVectors(this.c,this.b),Jr.subVectors(this.a,this.b),fr.cross(Jr).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return gr.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return gr.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,i,r,a){return $d===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),$d=!0),gr.getInterpolation(e,this.a,this.b,this.c,n,i,r,a)}getInterpolation(e,n,i,r,a){return gr.getInterpolation(e,this.a,this.b,this.c,n,i,r,a)}containsPoint(e){return gr.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return gr.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const i=this.a,r=this.b,a=this.c;let u,s;za.subVectors(r,i),Wa.subVectors(a,i),cm.subVectors(e,i);const o=za.dot(cm),c=Wa.dot(cm);if(o<=0&&c<=0)return n.copy(i);um.subVectors(e,r);const f=za.dot(um),l=Wa.dot(um);if(f>=0&&l<=f)return n.copy(r);const d=o*l-f*c;if(d<=0&&o>=0&&f<=0)return u=o/(o-f),n.copy(i).addScaledVector(za,u);dm.subVectors(e,a);const h=za.dot(dm),p=Wa.dot(dm);if(p>=0&&h<=p)return n.copy(a);const g=h*c-o*p;if(g<=0&&c>=0&&p<=0)return s=c/(c-p),n.copy(i).addScaledVector(Wa,s);const m=f*p-h*l;if(m<=0&&l-f>=0&&h-p>=0)return Zw.subVectors(a,r),s=(l-f)/(l-f+(h-p)),n.copy(r).addScaledVector(Zw,s);const v=1/(m+g+d);return u=g*v,s=d*v,n.copy(i).addScaledVector(za,u).addScaledVector(Wa,s)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let mse=0;class wr extends Ma{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:mse++}),this.uuid=Sr(),this.name="",this.type="Material",this.blending=_l,this.side=bs,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=yA,this.blendDst=bA,this.blendEquation=sl,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=qg,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=Ure,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=Jp,this.stencilZFail=Jp,this.stencilZPass=Jp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const i=e[n];if(i===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const r=this[n];if(r===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}r&&r.isColor?r.set(i):r&&r.isVector3&&i&&i.isVector3?r.copy(i):this[n]=i}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const i={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.color&&this.color.isColor&&(i.color=this.color.getHex()),this.roughness!==void 0&&(i.roughness=this.roughness),this.metalness!==void 0&&(i.metalness=this.metalness),this.sheen!==void 0&&(i.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(i.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(i.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(i.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(i.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(i.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(i.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(i.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(i.shininess=this.shininess),this.clearcoat!==void 0&&(i.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(i.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(i.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(i.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,i.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(i.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(i.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(i.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(i.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(i.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(i.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(i.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(i.lightMap=this.lightMap.toJSON(e).uuid,i.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(i.aoMap=this.aoMap.toJSON(e).uuid,i.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(i.bumpMap=this.bumpMap.toJSON(e).uuid,i.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(i.normalMap=this.normalMap.toJSON(e).uuid,i.normalMapType=this.normalMapType,i.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(i.displacementMap=this.displacementMap.toJSON(e).uuid,i.displacementScale=this.displacementScale,i.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(i.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(i.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(i.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(i.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(i.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(i.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(i.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(i.combine=this.combine)),this.envMapIntensity!==void 0&&(i.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(i.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(i.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(i.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(i.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(i.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(i.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(i.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(i.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(i.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(i.size=this.size),this.shadowSide!==null&&(i.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(i.sizeAttenuation=this.sizeAttenuation),this.blending!==_l&&(i.blending=this.blending),this.side!==bs&&(i.side=this.side),this.vertexColors&&(i.vertexColors=!0),this.opacity<1&&(i.opacity=this.opacity),this.transparent===!0&&(i.transparent=this.transparent),i.depthFunc=this.depthFunc,i.depthTest=this.depthTest,i.depthWrite=this.depthWrite,i.colorWrite=this.colorWrite,i.stencilWrite=this.stencilWrite,i.stencilWriteMask=this.stencilWriteMask,i.stencilFunc=this.stencilFunc,i.stencilRef=this.stencilRef,i.stencilFuncMask=this.stencilFuncMask,i.stencilFail=this.stencilFail,i.stencilZFail=this.stencilZFail,i.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(i.rotation=this.rotation),this.polygonOffset===!0&&(i.polygonOffset=!0),this.polygonOffsetFactor!==0&&(i.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(i.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(i.linewidth=this.linewidth),this.dashSize!==void 0&&(i.dashSize=this.dashSize),this.gapSize!==void 0&&(i.gapSize=this.gapSize),this.scale!==void 0&&(i.scale=this.scale),this.dithering===!0&&(i.dithering=!0),this.alphaTest>0&&(i.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(i.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(i.premultipliedAlpha=this.premultipliedAlpha),this.forceSinglePass===!0&&(i.forceSinglePass=this.forceSinglePass),this.wireframe===!0&&(i.wireframe=this.wireframe),this.wireframeLinewidth>1&&(i.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(i.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(i.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(i.flatShading=this.flatShading),this.visible===!1&&(i.visible=!1),this.toneMapped===!1&&(i.toneMapped=!1),this.fog===!1&&(i.fog=!1),Object.keys(this.userData).length>0&&(i.userData=this.userData);function r(a){const u=[];for(const s in a){const o=a[s];delete o.metadata,u.push(o)}return u}if(n){const a=r(e.textures),u=r(e.images);a.length>0&&(i.textures=a),u.length>0&&(i.images=u)}return i}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let i=null;if(n!==null){const r=n.length;i=new Array(r);for(let a=0;a!==r;++a)i[a]=n[a].clone()}return this.clippingPlanes=i,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const LA={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},hr={h:0,s:0,l:0},Hd={h:0,s:0,l:0};function fm(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}class Vt{constructor(e,n,i){return this.isColor=!0,this.r=1,this.g=1,this.b=1,n===void 0&&i===void 0?this.set(e):this.setRGB(e,n,i)}set(e){return e&&e.isColor?this.copy(e):typeof e=="number"?this.setHex(e):typeof e=="string"&&this.setStyle(e),this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Ft){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,ur.toWorkingColorSpace(this,n),this}setRGB(e,n,i,r=ur.workingColorSpace){return this.r=e,this.g=n,this.b=i,ur.toWorkingColorSpace(this,r),this}setHSL(e,n,i,r=ur.workingColorSpace){if(e=vy(e,1),n=jn(n,0,1),i=jn(i,0,1),n===0)this.r=this.g=this.b=i;else{const a=i<=.5?i*(1+n):i+n-i*n,u=2*i-a;this.r=fm(u,a,e+1/3),this.g=fm(u,a,e),this.b=fm(u,a,e-1/3)}return ur.toWorkingColorSpace(this,r),this}setStyle(e,n=Ft){function i(a){a!==void 0&&parseFloat(a)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let r;if(r=/^(\w+)\(([^\)]*)\)/.exec(e)){let a;const u=r[1],s=r[2];switch(u){case"rgb":case"rgba":if(a=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(a[4]),this.setRGB(Math.min(255,parseInt(a[1],10))/255,Math.min(255,parseInt(a[2],10))/255,Math.min(255,parseInt(a[3],10))/255,n);if(a=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(a[4]),this.setRGB(Math.min(100,parseInt(a[1],10))/100,Math.min(100,parseInt(a[2],10))/100,Math.min(100,parseInt(a[3],10))/100,n);break;case"hsl":case"hsla":if(a=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(s))return i(a[4]),this.setHSL(parseFloat(a[1])/360,parseFloat(a[2])/100,parseFloat(a[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(r=/^\#([A-Fa-f\d]+)$/.exec(e)){const a=r[1],u=a.length;if(u===3)return this.setRGB(parseInt(a.charAt(0),16)/15,parseInt(a.charAt(1),16)/15,parseInt(a.charAt(2),16)/15,n);if(u===6)return this.setHex(parseInt(a,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Ft){const i=LA[e.toLowerCase()];return i!==void 0?this.setHex(i,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=wl(e.r),this.g=wl(e.g),this.b=wl(e.b),this}copyLinearToSRGB(e){return this.r=em(e.r),this.g=em(e.g),this.b=em(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Ft){return ur.fromWorkingColorSpace(ei.copy(this),e),Math.round(jn(ei.r*255,0,255))*65536+Math.round(jn(ei.g*255,0,255))*256+Math.round(jn(ei.b*255,0,255))}getHexString(e=Ft){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=ur.workingColorSpace){ur.fromWorkingColorSpace(ei.copy(this),n);const i=ei.r,r=ei.g,a=ei.b,u=Math.max(i,r,a),s=Math.min(i,r,a);let o,c;const f=(s+u)/2;if(s===u)o=0,c=0;else{const l=u-s;switch(c=f<=.5?l/(u+s):l/(2-u-s),u){case i:o=(r-a)/l+(r<a?6:0);break;case r:o=(a-i)/l+2;break;case a:o=(i-r)/l+4;break}o/=6}return e.h=o,e.s=c,e.l=f,e}getRGB(e,n=ur.workingColorSpace){return ur.fromWorkingColorSpace(ei.copy(this),n),e.r=ei.r,e.g=ei.g,e.b=ei.b,e}getStyle(e=Ft){ur.fromWorkingColorSpace(ei.copy(this),e);const n=ei.r,i=ei.g,r=ei.b;return e!==Ft?`color(${e} ${n.toFixed(3)} ${i.toFixed(3)} ${r.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(i*255)},${Math.round(r*255)})`}offsetHSL(e,n,i){return this.getHSL(hr),hr.h+=e,hr.s+=n,hr.l+=i,this.setHSL(hr.h,hr.s,hr.l),this}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,i){return this.r=e.r+(n.r-e.r)*i,this.g=e.g+(n.g-e.g)*i,this.b=e.b+(n.b-e.b)*i,this}lerpHSL(e,n){this.getHSL(hr),e.getHSL(Hd);const i=ru(hr.h,Hd.h,n),r=ru(hr.s,Hd.s,n),a=ru(hr.l,Hd.l,n);return this.setHSL(i,r,a),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,i=this.g,r=this.b,a=e.elements;return this.r=a[0]*n+a[3]*i+a[6]*r,this.g=a[1]*n+a[4]*i+a[7]*r,this.b=a[2]*n+a[5]*i+a[8]*r,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}const ei=new Vt;Vt.NAMES=LA;class Yo extends wr{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Vt(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=my,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const Pn=new $e,zd=new Ut;class bi{constructor(e,n,i=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=i,this.usage=tv,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this}copyAt(e,n,i){e*=this.itemSize,i*=n.itemSize;for(let r=0,a=this.itemSize;r<a;r++)this.array[e+r]=n.array[i+r];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,i=this.count;n<i;n++)zd.fromBufferAttribute(this,n),zd.applyMatrix3(e),this.setXY(n,zd.x,zd.y);else if(this.itemSize===3)for(let n=0,i=this.count;n<i;n++)Pn.fromBufferAttribute(this,n),Pn.applyMatrix3(e),this.setXYZ(n,Pn.x,Pn.y,Pn.z);return this}applyMatrix4(e){for(let n=0,i=this.count;n<i;n++)Pn.fromBufferAttribute(this,n),Pn.applyMatrix4(e),this.setXYZ(n,Pn.x,Pn.y,Pn.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)Pn.fromBufferAttribute(this,n),Pn.applyNormalMatrix(e),this.setXYZ(n,Pn.x,Pn.y,Pn.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)Pn.fromBufferAttribute(this,n),Pn.transformDirection(e),this.setXYZ(n,Pn.x,Pn.y,Pn.z);return this}set(e,n=0){return this.array.set(e,n),this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=as(n,this.array)),n}setX(e,n){return this.normalized&&(n=pn(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=as(n,this.array)),n}setY(e,n){return this.normalized&&(n=pn(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=as(n,this.array)),n}setZ(e,n){return this.normalized&&(n=pn(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=as(n,this.array)),n}setW(e,n){return this.normalized&&(n=pn(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,i){return e*=this.itemSize,this.normalized&&(n=pn(n,this.array),i=pn(i,this.array)),this.array[e+0]=n,this.array[e+1]=i,this}setXYZ(e,n,i,r){return e*=this.itemSize,this.normalized&&(n=pn(n,this.array),i=pn(i,this.array),r=pn(r,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e*=this.itemSize,this.normalized&&(n=pn(n,this.array),i=pn(i,this.array),r=pn(r,this.array),a=pn(a,this.array)),this.array[e+0]=n,this.array[e+1]=i,this.array[e+2]=r,this.array[e+3]=a,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==tv&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class IA extends bi{constructor(e,n,i){super(new Uint16Array(e),n,i)}}class DA extends bi{constructor(e,n,i){super(new Uint32Array(e),n,i)}}class fs extends bi{constructor(e,n,i){super(new Float32Array(e),n,i)}}let gse=0;const Wi=new Yt,hm=new Cn,Ga=new $e,Ii=new Rs,Ac=new Rs,$n=new $e;class Gr extends Ma{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:gse++}),this.uuid=Sr(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(AA(e)?DA:IA)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,i=0){this.groups.push({start:e,count:n,materialIndex:i})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const i=this.attributes.normal;if(i!==void 0){const a=new Jt().getNormalMatrix(e);i.applyNormalMatrix(a),i.needsUpdate=!0}const r=this.attributes.tangent;return r!==void 0&&(r.transformDirection(e),r.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Wi.makeRotationFromQuaternion(e),this.applyMatrix4(Wi),this}rotateX(e){return Wi.makeRotationX(e),this.applyMatrix4(Wi),this}rotateY(e){return Wi.makeRotationY(e),this.applyMatrix4(Wi),this}rotateZ(e){return Wi.makeRotationZ(e),this.applyMatrix4(Wi),this}translate(e,n,i){return Wi.makeTranslation(e,n,i),this.applyMatrix4(Wi),this}scale(e,n,i){return Wi.makeScale(e,n,i),this.applyMatrix4(Wi),this}lookAt(e){return hm.lookAt(e),hm.updateMatrix(),this.applyMatrix4(hm.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Ga).negate(),this.translate(Ga.x,Ga.y,Ga.z),this}setFromPoints(e){const n=[];for(let i=0,r=e.length;i<r;i++){const a=e[i];n.push(a.x,a.y,a.z||0)}return this.setAttribute("position",new fs(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Rs);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new $e(-1/0,-1/0,-1/0),new $e(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let i=0,r=n.length;i<r;i++){const a=n[i];Ii.setFromBufferAttribute(a),this.morphTargetsRelative?($n.addVectors(this.boundingBox.min,Ii.min),this.boundingBox.expandByPoint($n),$n.addVectors(this.boundingBox.max,Ii.max),this.boundingBox.expandByPoint($n)):(this.boundingBox.expandByPoint(Ii.min),this.boundingBox.expandByPoint(Ii.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Ps);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new $e,1/0);return}if(e){const i=this.boundingSphere.center;if(Ii.setFromBufferAttribute(e),n)for(let a=0,u=n.length;a<u;a++){const s=n[a];Ac.setFromBufferAttribute(s),this.morphTargetsRelative?($n.addVectors(Ii.min,Ac.min),Ii.expandByPoint($n),$n.addVectors(Ii.max,Ac.max),Ii.expandByPoint($n)):(Ii.expandByPoint(Ac.min),Ii.expandByPoint(Ac.max))}Ii.getCenter(i);let r=0;for(let a=0,u=e.count;a<u;a++)$n.fromBufferAttribute(e,a),r=Math.max(r,i.distanceToSquared($n));if(n)for(let a=0,u=n.length;a<u;a++){const s=n[a],o=this.morphTargetsRelative;for(let c=0,f=s.count;c<f;c++)$n.fromBufferAttribute(s,c),o&&(Ga.fromBufferAttribute(e,c),$n.add(Ga)),r=Math.max(r,i.distanceToSquared($n))}this.boundingSphere.radius=Math.sqrt(r),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const i=e.array,r=n.position.array,a=n.normal.array,u=n.uv.array,s=r.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new bi(new Float32Array(4*s),4));const o=this.getAttribute("tangent").array,c=[],f=[];for(let A=0;A<s;A++)c[A]=new $e,f[A]=new $e;const l=new $e,d=new $e,h=new $e,p=new Ut,g=new Ut,m=new Ut,v=new $e,b=new $e;function _(A,O,I){l.fromArray(r,A*3),d.fromArray(r,O*3),h.fromArray(r,I*3),p.fromArray(u,A*2),g.fromArray(u,O*2),m.fromArray(u,I*2),d.sub(l),h.sub(l),g.sub(p),m.sub(p);const $=1/(g.x*m.y-m.x*g.y);isFinite($)&&(v.copy(d).multiplyScalar(m.y).addScaledVector(h,-g.y).multiplyScalar($),b.copy(h).multiplyScalar(g.x).addScaledVector(d,-m.x).multiplyScalar($),c[A].add(v),c[O].add(v),c[I].add(v),f[A].add(b),f[O].add(b),f[I].add(b))}let S=this.groups;S.length===0&&(S=[{start:0,count:i.length}]);for(let A=0,O=S.length;A<O;++A){const I=S[A],$=I.start,H=I.count;for(let B=$,N=$+H;B<N;B+=3)_(i[B+0],i[B+1],i[B+2])}const w=new $e,C=new $e,x=new $e,M=new $e;function E(A){x.fromArray(a,A*3),M.copy(x);const O=c[A];w.copy(O),w.sub(x.multiplyScalar(x.dot(O))).normalize(),C.crossVectors(M,O);const $=C.dot(f[A])<0?-1:1;o[A*4]=w.x,o[A*4+1]=w.y,o[A*4+2]=w.z,o[A*4+3]=$}for(let A=0,O=S.length;A<O;++A){const I=S[A],$=I.start,H=I.count;for(let B=$,N=$+H;B<N;B+=3)E(i[B+0]),E(i[B+1]),E(i[B+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let i=this.getAttribute("normal");if(i===void 0)i=new bi(new Float32Array(n.count*3),3),this.setAttribute("normal",i);else for(let d=0,h=i.count;d<h;d++)i.setXYZ(d,0,0,0);const r=new $e,a=new $e,u=new $e,s=new $e,o=new $e,c=new $e,f=new $e,l=new $e;if(e)for(let d=0,h=e.count;d<h;d+=3){const p=e.getX(d+0),g=e.getX(d+1),m=e.getX(d+2);r.fromBufferAttribute(n,p),a.fromBufferAttribute(n,g),u.fromBufferAttribute(n,m),f.subVectors(u,a),l.subVectors(r,a),f.cross(l),s.fromBufferAttribute(i,p),o.fromBufferAttribute(i,g),c.fromBufferAttribute(i,m),s.add(f),o.add(f),c.add(f),i.setXYZ(p,s.x,s.y,s.z),i.setXYZ(g,o.x,o.y,o.z),i.setXYZ(m,c.x,c.y,c.z)}else for(let d=0,h=n.count;d<h;d+=3)r.fromBufferAttribute(n,d+0),a.fromBufferAttribute(n,d+1),u.fromBufferAttribute(n,d+2),f.subVectors(u,a),l.subVectors(r,a),f.cross(l),i.setXYZ(d+0,f.x,f.y,f.z),i.setXYZ(d+1,f.x,f.y,f.z),i.setXYZ(d+2,f.x,f.y,f.z);this.normalizeNormals(),i.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeGeometries() instead."),this}normalizeNormals(){const e=this.attributes.normal;for(let n=0,i=e.count;n<i;n++)$n.fromBufferAttribute(e,n),$n.normalize(),e.setXYZ(n,$n.x,$n.y,$n.z)}toNonIndexed(){function e(s,o){const c=s.array,f=s.itemSize,l=s.normalized,d=new c.constructor(o.length*f);let h=0,p=0;for(let g=0,m=o.length;g<m;g++){s.isInterleavedBufferAttribute?h=o[g]*s.data.stride+s.offset:h=o[g]*f;for(let v=0;v<f;v++)d[p++]=c[h++]}return new bi(d,f,l)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Gr,i=this.index.array,r=this.attributes;for(const s in r){const o=r[s],c=e(o,i);n.setAttribute(s,c)}const a=this.morphAttributes;for(const s in a){const o=[],c=a[s];for(let f=0,l=c.length;f<l;f++){const d=c[f],h=e(d,i);o.push(h)}n.morphAttributes[s]=o}n.morphTargetsRelative=this.morphTargetsRelative;const u=this.groups;for(let s=0,o=u.length;s<o;s++){const c=u[s];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const o=this.parameters;for(const c in o)o[c]!==void 0&&(e[c]=o[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const i=this.attributes;for(const o in i){const c=i[o];e.data.attributes[o]=c.toJSON(e.data)}const r={};let a=!1;for(const o in this.morphAttributes){const c=this.morphAttributes[o],f=[];for(let l=0,d=c.length;l<d;l++){const h=c[l];f.push(h.toJSON(e.data))}f.length>0&&(r[o]=f,a=!0)}a&&(e.data.morphAttributes=r,e.data.morphTargetsRelative=this.morphTargetsRelative);const u=this.groups;u.length>0&&(e.data.groups=JSON.parse(JSON.stringify(u)));const s=this.boundingSphere;return s!==null&&(e.data.boundingSphere={center:s.center.toArray(),radius:s.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const i=e.index;i!==null&&this.setIndex(i.clone(n));const r=e.attributes;for(const c in r){const f=r[c];this.setAttribute(c,f.clone(n))}const a=e.morphAttributes;for(const c in a){const f=[],l=a[c];for(let d=0,h=l.length;d<h;d++)f.push(l[d].clone(n));this.morphAttributes[c]=f}this.morphTargetsRelative=e.morphTargetsRelative;const u=e.groups;for(let c=0,f=u.length;c<f;c++){const l=u[c];this.addGroup(l.start,l.count,l.materialIndex)}const s=e.boundingBox;s!==null&&(this.boundingBox=s.clone());const o=e.boundingSphere;return o!==null&&(this.boundingSphere=o.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const Jw=new Yt,Pr=new yy,Wd=new Ps,Qw=new $e,ja=new $e,Xa=new $e,Ka=new $e,pm=new $e,Gd=new $e,jd=new Ut,Xd=new Ut,Kd=new Ut,eC=new $e,tC=new $e,nC=new $e,Yd=new $e,qd=new $e;class Ei extends Cn{constructor(e=new Gr,n=new Yo){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,u=r.length;a<u;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}getVertexPosition(e,n){const i=this.geometry,r=i.attributes.position,a=i.morphAttributes.position,u=i.morphTargetsRelative;n.fromBufferAttribute(r,e);const s=this.morphTargetInfluences;if(a&&s){Gd.set(0,0,0);for(let o=0,c=a.length;o<c;o++){const f=s[o],l=a[o];f!==0&&(pm.fromBufferAttribute(l,e),u?Gd.addScaledVector(pm,f):Gd.addScaledVector(pm.sub(n),f))}n.add(Gd)}return n}raycast(e,n){const i=this.geometry,r=this.material,a=this.matrixWorld;r!==void 0&&(i.boundingSphere===null&&i.computeBoundingSphere(),Wd.copy(i.boundingSphere),Wd.applyMatrix4(a),Pr.copy(e.ray).recast(e.near),!(Wd.containsPoint(Pr.origin)===!1&&(Pr.intersectSphere(Wd,Qw)===null||Pr.origin.distanceToSquared(Qw)>(e.far-e.near)**2))&&(Jw.copy(a).invert(),Pr.copy(e.ray).applyMatrix4(Jw),!(i.boundingBox!==null&&Pr.intersectsBox(i.boundingBox)===!1)&&this._computeIntersections(e,n)))}_computeIntersections(e,n){let i;const r=this.geometry,a=this.material,u=r.index,s=r.attributes.position,o=r.attributes.uv,c=r.attributes.uv1,f=r.attributes.normal,l=r.groups,d=r.drawRange;if(u!==null)if(Array.isArray(a))for(let h=0,p=l.length;h<p;h++){const g=l[h],m=a[g.materialIndex],v=Math.max(g.start,d.start),b=Math.min(u.count,Math.min(g.start+g.count,d.start+d.count));for(let _=v,S=b;_<S;_+=3){const w=u.getX(_),C=u.getX(_+1),x=u.getX(_+2);i=Zd(this,m,e,Pr,o,c,f,w,C,x),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=g.materialIndex,n.push(i))}}else{const h=Math.max(0,d.start),p=Math.min(u.count,d.start+d.count);for(let g=h,m=p;g<m;g+=3){const v=u.getX(g),b=u.getX(g+1),_=u.getX(g+2);i=Zd(this,a,e,Pr,o,c,f,v,b,_),i&&(i.faceIndex=Math.floor(g/3),n.push(i))}}else if(s!==void 0)if(Array.isArray(a))for(let h=0,p=l.length;h<p;h++){const g=l[h],m=a[g.materialIndex],v=Math.max(g.start,d.start),b=Math.min(s.count,Math.min(g.start+g.count,d.start+d.count));for(let _=v,S=b;_<S;_+=3){const w=_,C=_+1,x=_+2;i=Zd(this,m,e,Pr,o,c,f,w,C,x),i&&(i.faceIndex=Math.floor(_/3),i.face.materialIndex=g.materialIndex,n.push(i))}}else{const h=Math.max(0,d.start),p=Math.min(s.count,d.start+d.count);for(let g=h,m=p;g<m;g+=3){const v=g,b=g+1,_=g+2;i=Zd(this,a,e,Pr,o,c,f,v,b,_),i&&(i.faceIndex=Math.floor(g/3),n.push(i))}}}}function vse(t,e,n,i,r,a,u,s){let o;if(e.side===Ri?o=i.intersectTriangle(u,a,r,!0,s):o=i.intersectTriangle(r,a,u,e.side===bs,s),o===null)return null;qd.copy(s),qd.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(qd);return c<n.near||c>n.far?null:{distance:c,point:qd.clone(),object:t}}function Zd(t,e,n,i,r,a,u,s,o,c){t.getVertexPosition(s,ja),t.getVertexPosition(o,Xa),t.getVertexPosition(c,Ka);const f=vse(t,e,n,i,ja,Xa,Ka,Yd);if(f){r&&(jd.fromBufferAttribute(r,s),Xd.fromBufferAttribute(r,o),Kd.fromBufferAttribute(r,c),f.uv=gr.getInterpolation(Yd,ja,Xa,Ka,jd,Xd,Kd,new Ut)),a&&(jd.fromBufferAttribute(a,s),Xd.fromBufferAttribute(a,o),Kd.fromBufferAttribute(a,c),f.uv1=gr.getInterpolation(Yd,ja,Xa,Ka,jd,Xd,Kd,new Ut),f.uv2=f.uv1),u&&(eC.fromBufferAttribute(u,s),tC.fromBufferAttribute(u,o),nC.fromBufferAttribute(u,c),f.normal=gr.getInterpolation(Yd,ja,Xa,Ka,eC,tC,nC,new $e),f.normal.dot(i.direction)>0&&f.normal.multiplyScalar(-1));const l={a:s,b:o,c,normal:new $e,materialIndex:0};gr.getNormal(ja,Xa,Ka,l.normal),f.face=l}return f}class od extends Gr{constructor(e=1,n=1,i=1,r=1,a=1,u=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:i,widthSegments:r,heightSegments:a,depthSegments:u};const s=this;r=Math.floor(r),a=Math.floor(a),u=Math.floor(u);const o=[],c=[],f=[],l=[];let d=0,h=0;p("z","y","x",-1,-1,i,n,e,u,a,0),p("z","y","x",1,-1,i,n,-e,u,a,1),p("x","z","y",1,1,e,i,n,r,u,2),p("x","z","y",1,-1,e,i,-n,r,u,3),p("x","y","z",1,-1,e,n,i,r,a,4),p("x","y","z",-1,-1,e,n,-i,r,a,5),this.setIndex(o),this.setAttribute("position",new fs(c,3)),this.setAttribute("normal",new fs(f,3)),this.setAttribute("uv",new fs(l,2));function p(g,m,v,b,_,S,w,C,x,M,E){const A=S/x,O=w/M,I=S/2,$=w/2,H=C/2,B=x+1,N=M+1;let k=0,D=0;const T=new $e;for(let R=0;R<N;R++){const V=R*O-$;for(let U=0;U<B;U++){const X=U*A-I;T[g]=X*b,T[m]=V*_,T[v]=H,c.push(T.x,T.y,T.z),T[g]=0,T[m]=0,T[v]=C>0?1:-1,f.push(T.x,T.y,T.z),l.push(U/x),l.push(1-R/M),k+=1}}for(let R=0;R<M;R++)for(let V=0;V<x;V++){const U=d+V+B*R,X=d+V+B*(R+1),W=d+(V+1)+B*(R+1),j=d+(V+1)+B*R;o.push(U,X,j),o.push(X,W,j),D+=6}s.addGroup(h,D,E),h+=D,d+=k}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new od(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function Zl(t){const e={};for(const n in t){e[n]={};for(const i in t[n]){const r=t[n][i];r&&(r.isColor||r.isMatrix3||r.isMatrix4||r.isVector2||r.isVector3||r.isVector4||r.isTexture||r.isQuaternion)?r.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][i]=null):e[n][i]=r.clone():Array.isArray(r)?e[n][i]=r.slice():e[n][i]=r}}return e}function pi(t){const e={};for(let n=0;n<t.length;n++){const i=Zl(t[n]);for(const r in i)e[r]=i[r]}return e}function yse(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function NA(t){return t.getRenderTarget()===null?t.outputColorSpace:$r}const bse={clone:Zl,merge:pi};var _se=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,Sse=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ba extends wr{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=_se,this.fragmentShader=Sse,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=Zl(e.uniforms),this.uniformsGroups=yse(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const r in this.uniforms){const u=this.uniforms[r].value;u&&u.isTexture?n.uniforms[r]={type:"t",value:u.toJSON(e).uuid}:u&&u.isColor?n.uniforms[r]={type:"c",value:u.getHex()}:u&&u.isVector2?n.uniforms[r]={type:"v2",value:u.toArray()}:u&&u.isVector3?n.uniforms[r]={type:"v3",value:u.toArray()}:u&&u.isVector4?n.uniforms[r]={type:"v4",value:u.toArray()}:u&&u.isMatrix3?n.uniforms[r]={type:"m3",value:u.toArray()}:u&&u.isMatrix4?n.uniforms[r]={type:"m4",value:u.toArray()}:n.uniforms[r]={value:u}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const i={};for(const r in this.extensions)this.extensions[r]===!0&&(i[r]=!0);return Object.keys(i).length>0&&(n.extensions=i),n}}class FA extends Cn{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Yt,this.projectionMatrix=new Yt,this.projectionMatrixInverse=new Yt}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(-n[8],-n[9],-n[10]).normalize()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}class mi extends FA{constructor(e=50,n=1,i=.1,r=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=i,this.far=r,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=ql*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(iu*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return ql*2*Math.atan(Math.tan(iu*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,i,r,a,u){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(iu*.5*this.fov)/this.zoom,i=2*n,r=this.aspect*i,a=-.5*r;const u=this.view;if(this.view!==null&&this.view.enabled){const o=u.fullWidth,c=u.fullHeight;a+=u.offsetX*r/o,n-=u.offsetY*i/c,r*=u.width/o,i*=u.height/c}const s=this.filmOffset;s!==0&&(a+=e*s/this.getFilmWidth()),this.projectionMatrix.makePerspective(a,a+r,n,n-i,e,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}}const Ya=-90,qa=1;class wse extends Cn{constructor(e,n,i){super(),this.type="CubeCamera",this.renderTarget=i;const r=new mi(Ya,qa,e,n);r.layers=this.layers,r.up.set(0,1,0),r.lookAt(1,0,0),this.add(r);const a=new mi(Ya,qa,e,n);a.layers=this.layers,a.up.set(0,1,0),a.lookAt(-1,0,0),this.add(a);const u=new mi(Ya,qa,e,n);u.layers=this.layers,u.up.set(0,0,-1),u.lookAt(0,1,0),this.add(u);const s=new mi(Ya,qa,e,n);s.layers=this.layers,s.up.set(0,0,1),s.lookAt(0,-1,0),this.add(s);const o=new mi(Ya,qa,e,n);o.layers=this.layers,o.up.set(0,1,0),o.lookAt(0,0,1),this.add(o);const c=new mi(Ya,qa,e,n);c.layers=this.layers,c.up.set(0,1,0),c.lookAt(0,0,-1),this.add(c)}update(e,n){this.parent===null&&this.updateMatrixWorld();const i=this.renderTarget,[r,a,u,s,o,c]=this.children,f=e.getRenderTarget(),l=e.toneMapping,d=e.xr.enabled;e.toneMapping=us,e.xr.enabled=!1;const h=i.texture.generateMipmaps;i.texture.generateMipmaps=!1,e.setRenderTarget(i,0),e.render(n,r),e.setRenderTarget(i,1),e.render(n,a),e.setRenderTarget(i,2),e.render(n,u),e.setRenderTarget(i,3),e.render(n,s),e.setRenderTarget(i,4),e.render(n,o),i.texture.generateMipmaps=h,e.setRenderTarget(i,5),e.render(n,c),e.setRenderTarget(f),e.toneMapping=l,e.xr.enabled=d,i.texture.needsPMREMUpdate=!0}}class BA extends Zn{constructor(e,n,i,r,a,u,s,o,c,f){e=e!==void 0?e:[],n=n!==void 0?n:Wl,super(e,n,i,r,a,u,s,o,c,f),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class Cse extends ya{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const i={width:e,height:e,depth:1},r=[i,i,i,i,i,i];n.encoding!==void 0&&(su("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===ds?Ft:sa),this.texture=new BA(r,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:ni}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const i={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},r=new od(5,5,5),a=new ba({name:"CubemapFromEquirect",uniforms:Zl(i.uniforms),vertexShader:i.vertexShader,fragmentShader:i.fragmentShader,side:Ri,blending:so});a.uniforms.tEquirect.value=n;const u=new Ei(r,a),s=n.minFilter;return n.minFilter===ga&&(n.minFilter=ni),new wse(1,10,this).update(e,u),n.minFilter=s,u.geometry.dispose(),u.material.dispose(),this}clear(e,n,i,r){const a=e.getRenderTarget();for(let u=0;u<6;u++)e.setRenderTarget(this,u),e.clear(n,i,r);e.setRenderTarget(a)}}const mm=new $e,xse=new $e,Tse=new Jt;class Io{constructor(e=new $e(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,i,r){return this.normal.set(e,n,i),this.constant=r,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,i){const r=mm.subVectors(i,n).cross(xse.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(r,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const i=e.delta(mm),r=this.normal.dot(i);if(r===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const a=-(e.start.dot(this.normal)+this.constant)/r;return a<0||a>1?null:n.copy(e.start).addScaledVector(i,a)}intersectsLine(e){const n=this.distanceToPoint(e.start),i=this.distanceToPoint(e.end);return n<0&&i>0||i<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const i=n||Tse.getNormalMatrix(e),r=this.coplanarPoint(mm).applyMatrix4(e),a=this.normal.applyMatrix3(i).normalize();return this.constant=-r.dot(a),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}}const ko=new Ps,Jd=new $e;class by{constructor(e=new Io,n=new Io,i=new Io,r=new Io,a=new Io,u=new Io){this.planes=[e,n,i,r,a,u]}set(e,n,i,r,a,u){const s=this.planes;return s[0].copy(e),s[1].copy(n),s[2].copy(i),s[3].copy(r),s[4].copy(a),s[5].copy(u),this}copy(e){const n=this.planes;for(let i=0;i<6;i++)n[i].copy(e.planes[i]);return this}setFromProjectionMatrix(e){const n=this.planes,i=e.elements,r=i[0],a=i[1],u=i[2],s=i[3],o=i[4],c=i[5],f=i[6],l=i[7],d=i[8],h=i[9],p=i[10],g=i[11],m=i[12],v=i[13],b=i[14],_=i[15];return n[0].setComponents(s-r,l-o,g-d,_-m).normalize(),n[1].setComponents(s+r,l+o,g+d,_+m).normalize(),n[2].setComponents(s+a,l+c,g+h,_+v).normalize(),n[3].setComponents(s-a,l-c,g-h,_-v).normalize(),n[4].setComponents(s-u,l-f,g-p,_-b).normalize(),n[5].setComponents(s+u,l+f,g+p,_+b).normalize(),this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),ko.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),ko.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(ko)}intersectsSprite(e){return ko.center.set(0,0,0),ko.radius=.7071067811865476,ko.applyMatrix4(e.matrixWorld),this.intersectsSphere(ko)}intersectsSphere(e){const n=this.planes,i=e.center,r=-e.radius;for(let a=0;a<6;a++)if(n[a].distanceToPoint(i)<r)return!1;return!0}intersectsBox(e){const n=this.planes;for(let i=0;i<6;i++){const r=n[i];if(Jd.x=r.normal.x>0?e.max.x:e.min.x,Jd.y=r.normal.y>0?e.max.y:e.min.y,Jd.z=r.normal.z>0?e.max.z:e.min.z,r.distanceToPoint(Jd)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let i=0;i<6;i++)if(n[i].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function UA(){let t=null,e=!1,n=null,i=null;function r(a,u){n(a,u),i=t.requestAnimationFrame(r)}return{start:function(){e!==!0&&n!==null&&(i=t.requestAnimationFrame(r),e=!0)},stop:function(){t.cancelAnimationFrame(i),e=!1},setAnimationLoop:function(a){n=a},setContext:function(a){t=a}}}function Ese(t,e){const n=e.isWebGL2,i=new WeakMap;function r(c,f){const l=c.array,d=c.usage,h=t.createBuffer();t.bindBuffer(f,h),t.bufferData(f,l,d),c.onUploadCallback();let p;if(l instanceof Float32Array)p=t.FLOAT;else if(l instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)p=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else p=t.UNSIGNED_SHORT;else if(l instanceof Int16Array)p=t.SHORT;else if(l instanceof Uint32Array)p=t.UNSIGNED_INT;else if(l instanceof Int32Array)p=t.INT;else if(l instanceof Int8Array)p=t.BYTE;else if(l instanceof Uint8Array)p=t.UNSIGNED_BYTE;else if(l instanceof Uint8ClampedArray)p=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+l);return{buffer:h,type:p,bytesPerElement:l.BYTES_PER_ELEMENT,version:c.version}}function a(c,f,l){const d=f.array,h=f.updateRange;t.bindBuffer(l,c),h.count===-1?t.bufferSubData(l,0,d):(n?t.bufferSubData(l,h.offset*d.BYTES_PER_ELEMENT,d,h.offset,h.count):t.bufferSubData(l,h.offset*d.BYTES_PER_ELEMENT,d.subarray(h.offset,h.offset+h.count)),h.count=-1),f.onUploadCallback()}function u(c){return c.isInterleavedBufferAttribute&&(c=c.data),i.get(c)}function s(c){c.isInterleavedBufferAttribute&&(c=c.data);const f=i.get(c);f&&(t.deleteBuffer(f.buffer),i.delete(c))}function o(c,f){if(c.isGLBufferAttribute){const d=i.get(c);(!d||d.version<c.version)&&i.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const l=i.get(c);l===void 0?i.set(c,r(c,f)):l.version<c.version&&(a(l.buffer,c,f),l.version=c.version)}return{get:u,remove:s,update:o}}class _y extends Gr{constructor(e=1,n=1,i=1,r=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:i,heightSegments:r};const a=e/2,u=n/2,s=Math.floor(i),o=Math.floor(r),c=s+1,f=o+1,l=e/s,d=n/o,h=[],p=[],g=[],m=[];for(let v=0;v<f;v++){const b=v*d-u;for(let _=0;_<c;_++){const S=_*l-a;p.push(S,-b,0),g.push(0,0,1),m.push(_/s),m.push(1-v/o)}}for(let v=0;v<o;v++)for(let b=0;b<s;b++){const _=b+c*v,S=b+c*(v+1),w=b+1+c*(v+1),C=b+1+c*v;h.push(_,S,C),h.push(S,w,C)}this.setIndex(h),this.setAttribute("position",new fs(p,3)),this.setAttribute("normal",new fs(g,3)),this.setAttribute("uv",new fs(m,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new _y(e.width,e.height,e.widthSegments,e.heightSegments)}}var Mse=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,Ase=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Rse=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,Pse=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,Ose=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,kse=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,Lse="vec3 transformed = vec3( position );",Ise=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,Dse=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,Nse=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,Fse=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,Bse=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,Use=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,Vse=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,$se=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,Hse=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,zse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Wse=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Gse=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,jse=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Xse=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Kse=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Yse=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,qse=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Zse=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Jse=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,Qse="gl_FragColor = linearToOutputTexel( gl_FragColor );",eoe=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,toe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,noe=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,ioe=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,roe=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,soe=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,ooe=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,aoe=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,loe=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,coe=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,uoe=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,doe=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,foe=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,hoe=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,poe=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,moe=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,goe=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,voe=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,yoe=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,boe=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,_oe=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,Soe=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif`,woe=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,Coe=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,xoe=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,Toe=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,Eoe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,Moe=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,Aoe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,Roe=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,Poe=`#ifdef USE_MAP
	diffuseColor *= texture2D( map, vMapUv );
#endif`,Ooe=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,koe=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,Loe=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,Ioe=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,Doe=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,Noe=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,Foe=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,Boe=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,Uoe=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,Voe=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#ifdef USE_NORMALMAP_TANGENTSPACE
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal, vNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 geometryNormal = normal;`,$oe=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,Hoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,zoe=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Woe=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Goe=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,joe=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,Xoe=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Koe=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Yoe=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,qoe=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Zoe=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Joe=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Qoe=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,eae=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,tae=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,nae=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,iae=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,rae=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,sae=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,oae=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,aae=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,lae=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,cae=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,uae=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,dae=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,fae=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,hae=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,pae=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,mae=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,gae=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,vae=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,yae=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,bae=`#ifdef USE_UV
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,_ae=`#ifdef USE_UV
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,Sae=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const wae=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,Cae=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,xae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Tae=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Eae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,Mae=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Aae=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,Rae=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,Pae=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,Oae=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,kae=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,Lae=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,Iae=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Dae=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Nae=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,Fae=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Bae=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Uae=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Vae=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,$ae=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Hae=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,zae=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Wae=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Gae=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,jae=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Xae=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Kae=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Yae=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,qae=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Zae=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Jae=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Qae=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ele=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,tle=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,Wt={alphamap_fragment:Mse,alphamap_pars_fragment:Ase,alphatest_fragment:Rse,alphatest_pars_fragment:Pse,aomap_fragment:Ose,aomap_pars_fragment:kse,begin_vertex:Lse,beginnormal_vertex:Ise,bsdfs:Dse,iridescence_fragment:Nse,bumpmap_pars_fragment:Fse,clipping_planes_fragment:Bse,clipping_planes_pars_fragment:Use,clipping_planes_pars_vertex:Vse,clipping_planes_vertex:$se,color_fragment:Hse,color_pars_fragment:zse,color_pars_vertex:Wse,color_vertex:Gse,common:jse,cube_uv_reflection_fragment:Xse,defaultnormal_vertex:Kse,displacementmap_pars_vertex:Yse,displacementmap_vertex:qse,emissivemap_fragment:Zse,emissivemap_pars_fragment:Jse,encodings_fragment:Qse,encodings_pars_fragment:eoe,envmap_fragment:toe,envmap_common_pars_fragment:noe,envmap_pars_fragment:ioe,envmap_pars_vertex:roe,envmap_physical_pars_fragment:goe,envmap_vertex:soe,fog_vertex:ooe,fog_pars_vertex:aoe,fog_fragment:loe,fog_pars_fragment:coe,gradientmap_pars_fragment:uoe,lightmap_fragment:doe,lightmap_pars_fragment:foe,lights_lambert_fragment:hoe,lights_lambert_pars_fragment:poe,lights_pars_begin:moe,lights_toon_fragment:voe,lights_toon_pars_fragment:yoe,lights_phong_fragment:boe,lights_phong_pars_fragment:_oe,lights_physical_fragment:Soe,lights_physical_pars_fragment:woe,lights_fragment_begin:Coe,lights_fragment_maps:xoe,lights_fragment_end:Toe,logdepthbuf_fragment:Eoe,logdepthbuf_pars_fragment:Moe,logdepthbuf_pars_vertex:Aoe,logdepthbuf_vertex:Roe,map_fragment:Poe,map_pars_fragment:Ooe,map_particle_fragment:koe,map_particle_pars_fragment:Loe,metalnessmap_fragment:Ioe,metalnessmap_pars_fragment:Doe,morphcolor_vertex:Noe,morphnormal_vertex:Foe,morphtarget_pars_vertex:Boe,morphtarget_vertex:Uoe,normal_fragment_begin:Voe,normal_fragment_maps:$oe,normal_pars_fragment:Hoe,normal_pars_vertex:zoe,normal_vertex:Woe,normalmap_pars_fragment:Goe,clearcoat_normal_fragment_begin:joe,clearcoat_normal_fragment_maps:Xoe,clearcoat_pars_fragment:Koe,iridescence_pars_fragment:Yoe,output_fragment:qoe,packing:Zoe,premultiplied_alpha_fragment:Joe,project_vertex:Qoe,dithering_fragment:eae,dithering_pars_fragment:tae,roughnessmap_fragment:nae,roughnessmap_pars_fragment:iae,shadowmap_pars_fragment:rae,shadowmap_pars_vertex:sae,shadowmap_vertex:oae,shadowmask_pars_fragment:aae,skinbase_vertex:lae,skinning_pars_vertex:cae,skinning_vertex:uae,skinnormal_vertex:dae,specularmap_fragment:fae,specularmap_pars_fragment:hae,tonemapping_fragment:pae,tonemapping_pars_fragment:mae,transmission_fragment:gae,transmission_pars_fragment:vae,uv_pars_fragment:yae,uv_pars_vertex:bae,uv_vertex:_ae,worldpos_vertex:Sae,background_vert:wae,background_frag:Cae,backgroundCube_vert:xae,backgroundCube_frag:Tae,cube_vert:Eae,cube_frag:Mae,depth_vert:Aae,depth_frag:Rae,distanceRGBA_vert:Pae,distanceRGBA_frag:Oae,equirect_vert:kae,equirect_frag:Lae,linedashed_vert:Iae,linedashed_frag:Dae,meshbasic_vert:Nae,meshbasic_frag:Fae,meshlambert_vert:Bae,meshlambert_frag:Uae,meshmatcap_vert:Vae,meshmatcap_frag:$ae,meshnormal_vert:Hae,meshnormal_frag:zae,meshphong_vert:Wae,meshphong_frag:Gae,meshphysical_vert:jae,meshphysical_frag:Xae,meshtoon_vert:Kae,meshtoon_frag:Yae,points_vert:qae,points_frag:Zae,shadow_vert:Jae,shadow_frag:Qae,sprite_vert:ele,sprite_frag:tle},dt={common:{diffuse:{value:new Vt(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaMapTransform:{value:new Jt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Jt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Jt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Jt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Jt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Jt},normalScale:{value:new Ut(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Jt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Jt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Jt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Jt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Vt(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Vt(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Jt}},sprite:{diffuse:{value:new Vt(16777215)},opacity:{value:1},center:{value:new Ut(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Jt},alphaMap:{value:null},alphaTest:{value:0}}},kr={basic:{uniforms:pi([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.fog]),vertexShader:Wt.meshbasic_vert,fragmentShader:Wt.meshbasic_frag},lambert:{uniforms:pi([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new Vt(0)}}]),vertexShader:Wt.meshlambert_vert,fragmentShader:Wt.meshlambert_frag},phong:{uniforms:pi([dt.common,dt.specularmap,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,dt.lights,{emissive:{value:new Vt(0)},specular:{value:new Vt(1118481)},shininess:{value:30}}]),vertexShader:Wt.meshphong_vert,fragmentShader:Wt.meshphong_frag},standard:{uniforms:pi([dt.common,dt.envmap,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.roughnessmap,dt.metalnessmap,dt.fog,dt.lights,{emissive:{value:new Vt(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag},toon:{uniforms:pi([dt.common,dt.aomap,dt.lightmap,dt.emissivemap,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.gradientmap,dt.fog,dt.lights,{emissive:{value:new Vt(0)}}]),vertexShader:Wt.meshtoon_vert,fragmentShader:Wt.meshtoon_frag},matcap:{uniforms:pi([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,dt.fog,{matcap:{value:null}}]),vertexShader:Wt.meshmatcap_vert,fragmentShader:Wt.meshmatcap_frag},points:{uniforms:pi([dt.points,dt.fog]),vertexShader:Wt.points_vert,fragmentShader:Wt.points_frag},dashed:{uniforms:pi([dt.common,dt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:Wt.linedashed_vert,fragmentShader:Wt.linedashed_frag},depth:{uniforms:pi([dt.common,dt.displacementmap]),vertexShader:Wt.depth_vert,fragmentShader:Wt.depth_frag},normal:{uniforms:pi([dt.common,dt.bumpmap,dt.normalmap,dt.displacementmap,{opacity:{value:1}}]),vertexShader:Wt.meshnormal_vert,fragmentShader:Wt.meshnormal_frag},sprite:{uniforms:pi([dt.sprite,dt.fog]),vertexShader:Wt.sprite_vert,fragmentShader:Wt.sprite_frag},background:{uniforms:{uvTransform:{value:new Jt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:Wt.background_vert,fragmentShader:Wt.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:Wt.backgroundCube_vert,fragmentShader:Wt.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:Wt.cube_vert,fragmentShader:Wt.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:Wt.equirect_vert,fragmentShader:Wt.equirect_frag},distanceRGBA:{uniforms:pi([dt.common,dt.displacementmap,{referencePosition:{value:new $e},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:Wt.distanceRGBA_vert,fragmentShader:Wt.distanceRGBA_frag},shadow:{uniforms:pi([dt.lights,dt.fog,{color:{value:new Vt(0)},opacity:{value:1}}]),vertexShader:Wt.shadow_vert,fragmentShader:Wt.shadow_frag}};kr.physical={uniforms:pi([kr.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Jt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Jt},clearcoatNormalScale:{value:new Ut(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Jt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Jt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Jt},sheen:{value:0},sheenColor:{value:new Vt(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Jt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Jt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Jt},transmissionSamplerSize:{value:new Ut},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Jt},attenuationDistance:{value:0},attenuationColor:{value:new Vt(0)},specularColor:{value:new Vt(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Jt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Jt}}]),vertexShader:Wt.meshphysical_vert,fragmentShader:Wt.meshphysical_frag};const Qd={r:0,b:0,g:0};function nle(t,e,n,i,r,a,u){const s=new Vt(0);let o=a===!0?0:1,c,f,l=null,d=0,h=null;function p(m,v){let b=!1,_=v.isScene===!0?v.background:null;switch(_&&_.isTexture&&(_=(v.backgroundBlurriness>0?n:e).get(_)),_===null?g(s,o):_&&_.isColor&&(g(_,1),b=!0),t.xr.getEnvironmentBlendMode()){case"opaque":b=!0;break;case"additive":i.buffers.color.setClear(0,0,0,1,u),b=!0;break;case"alpha-blend":i.buffers.color.setClear(0,0,0,0,u),b=!0;break}(t.autoClear||b)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===tp)?(f===void 0&&(f=new Ei(new od(1,1,1),new ba({name:"BackgroundCubeMaterial",uniforms:Zl(kr.backgroundCube.uniforms),vertexShader:kr.backgroundCube.vertexShader,fragmentShader:kr.backgroundCube.fragmentShader,side:Ri,depthTest:!1,depthWrite:!1,fog:!1})),f.geometry.deleteAttribute("normal"),f.geometry.deleteAttribute("uv"),f.onBeforeRender=function(C,x,M){this.matrixWorld.copyPosition(M.matrixWorld)},Object.defineProperty(f.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),r.update(f)),f.material.uniforms.envMap.value=_,f.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,f.material.uniforms.backgroundBlurriness.value=v.backgroundBlurriness,f.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,f.material.toneMapped=_.colorSpace!==Ft,(l!==_||d!==_.version||h!==t.toneMapping)&&(f.material.needsUpdate=!0,l=_,d=_.version,h=t.toneMapping),f.layers.enableAll(),m.unshift(f,f.geometry,f.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new Ei(new _y(2,2),new ba({name:"BackgroundMaterial",uniforms:Zl(kr.background.uniforms),vertexShader:kr.background.vertexShader,fragmentShader:kr.background.fragmentShader,side:bs,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),r.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=v.backgroundIntensity,c.material.toneMapped=_.colorSpace!==Ft,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(l!==_||d!==_.version||h!==t.toneMapping)&&(c.material.needsUpdate=!0,l=_,d=_.version,h=t.toneMapping),c.layers.enableAll(),m.unshift(c,c.geometry,c.material,0,0,null))}function g(m,v){m.getRGB(Qd,NA(t)),i.buffers.color.setClear(Qd.r,Qd.g,Qd.b,v,u)}return{getClearColor:function(){return s},setClearColor:function(m,v=1){s.set(m),o=v,g(s,o)},getClearAlpha:function(){return o},setClearAlpha:function(m){o=m,g(s,o)},render:p}}function ile(t,e,n,i){const r=t.getParameter(t.MAX_VERTEX_ATTRIBS),a=i.isWebGL2?null:e.get("OES_vertex_array_object"),u=i.isWebGL2||a!==null,s={},o=m(null);let c=o,f=!1;function l(H,B,N,k,D){let T=!1;if(u){const R=g(k,N,B);c!==R&&(c=R,h(c.object)),T=v(H,k,N,D),T&&b(H,k,N,D)}else{const R=B.wireframe===!0;(c.geometry!==k.id||c.program!==N.id||c.wireframe!==R)&&(c.geometry=k.id,c.program=N.id,c.wireframe=R,T=!0)}D!==null&&n.update(D,t.ELEMENT_ARRAY_BUFFER),(T||f)&&(f=!1,M(H,B,N,k),D!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(D).buffer))}function d(){return i.isWebGL2?t.createVertexArray():a.createVertexArrayOES()}function h(H){return i.isWebGL2?t.bindVertexArray(H):a.bindVertexArrayOES(H)}function p(H){return i.isWebGL2?t.deleteVertexArray(H):a.deleteVertexArrayOES(H)}function g(H,B,N){const k=N.wireframe===!0;let D=s[H.id];D===void 0&&(D={},s[H.id]=D);let T=D[B.id];T===void 0&&(T={},D[B.id]=T);let R=T[k];return R===void 0&&(R=m(d()),T[k]=R),R}function m(H){const B=[],N=[],k=[];for(let D=0;D<r;D++)B[D]=0,N[D]=0,k[D]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:B,enabledAttributes:N,attributeDivisors:k,object:H,attributes:{},index:null}}function v(H,B,N,k){const D=c.attributes,T=B.attributes;let R=0;const V=N.getAttributes();for(const U in V)if(V[U].location>=0){const W=D[U];let j=T[U];if(j===void 0&&(U==="instanceMatrix"&&H.instanceMatrix&&(j=H.instanceMatrix),U==="instanceColor"&&H.instanceColor&&(j=H.instanceColor)),W===void 0||W.attribute!==j||j&&W.data!==j.data)return!0;R++}return c.attributesNum!==R||c.index!==k}function b(H,B,N,k){const D={},T=B.attributes;let R=0;const V=N.getAttributes();for(const U in V)if(V[U].location>=0){let W=T[U];W===void 0&&(U==="instanceMatrix"&&H.instanceMatrix&&(W=H.instanceMatrix),U==="instanceColor"&&H.instanceColor&&(W=H.instanceColor));const j={};j.attribute=W,W&&W.data&&(j.data=W.data),D[U]=j,R++}c.attributes=D,c.attributesNum=R,c.index=k}function _(){const H=c.newAttributes;for(let B=0,N=H.length;B<N;B++)H[B]=0}function S(H){w(H,0)}function w(H,B){const N=c.newAttributes,k=c.enabledAttributes,D=c.attributeDivisors;N[H]=1,k[H]===0&&(t.enableVertexAttribArray(H),k[H]=1),D[H]!==B&&((i.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[i.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](H,B),D[H]=B)}function C(){const H=c.newAttributes,B=c.enabledAttributes;for(let N=0,k=B.length;N<k;N++)B[N]!==H[N]&&(t.disableVertexAttribArray(N),B[N]=0)}function x(H,B,N,k,D,T){i.isWebGL2===!0&&(N===t.INT||N===t.UNSIGNED_INT)?t.vertexAttribIPointer(H,B,N,D,T):t.vertexAttribPointer(H,B,N,k,D,T)}function M(H,B,N,k){if(i.isWebGL2===!1&&(H.isInstancedMesh||k.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const D=k.attributes,T=N.getAttributes(),R=B.defaultAttributeValues;for(const V in T){const U=T[V];if(U.location>=0){let X=D[V];if(X===void 0&&(V==="instanceMatrix"&&H.instanceMatrix&&(X=H.instanceMatrix),V==="instanceColor"&&H.instanceColor&&(X=H.instanceColor)),X!==void 0){const W=X.normalized,j=X.itemSize,K=n.get(X);if(K===void 0)continue;const z=K.buffer,ee=K.type,ue=K.bytesPerElement;if(X.isInterleavedBufferAttribute){const ne=X.data,le=ne.stride,Me=X.offset;if(ne.isInstancedInterleavedBuffer){for(let q=0;q<U.locationSize;q++)w(U.location+q,ne.meshPerAttribute);H.isInstancedMesh!==!0&&k._maxInstanceCount===void 0&&(k._maxInstanceCount=ne.meshPerAttribute*ne.count)}else for(let q=0;q<U.locationSize;q++)S(U.location+q);t.bindBuffer(t.ARRAY_BUFFER,z);for(let q=0;q<U.locationSize;q++)x(U.location+q,j/U.locationSize,ee,W,le*ue,(Me+j/U.locationSize*q)*ue)}else{if(X.isInstancedBufferAttribute){for(let ne=0;ne<U.locationSize;ne++)w(U.location+ne,X.meshPerAttribute);H.isInstancedMesh!==!0&&k._maxInstanceCount===void 0&&(k._maxInstanceCount=X.meshPerAttribute*X.count)}else for(let ne=0;ne<U.locationSize;ne++)S(U.location+ne);t.bindBuffer(t.ARRAY_BUFFER,z);for(let ne=0;ne<U.locationSize;ne++)x(U.location+ne,j/U.locationSize,ee,W,j*ue,j/U.locationSize*ne*ue)}}else if(R!==void 0){const W=R[V];if(W!==void 0)switch(W.length){case 2:t.vertexAttrib2fv(U.location,W);break;case 3:t.vertexAttrib3fv(U.location,W);break;case 4:t.vertexAttrib4fv(U.location,W);break;default:t.vertexAttrib1fv(U.location,W)}}}}C()}function E(){I();for(const H in s){const B=s[H];for(const N in B){const k=B[N];for(const D in k)p(k[D].object),delete k[D];delete B[N]}delete s[H]}}function A(H){if(s[H.id]===void 0)return;const B=s[H.id];for(const N in B){const k=B[N];for(const D in k)p(k[D].object),delete k[D];delete B[N]}delete s[H.id]}function O(H){for(const B in s){const N=s[B];if(N[H.id]===void 0)continue;const k=N[H.id];for(const D in k)p(k[D].object),delete k[D];delete N[H.id]}}function I(){$(),f=!0,c!==o&&(c=o,h(c.object))}function $(){o.geometry=null,o.program=null,o.wireframe=!1}return{setup:l,reset:I,resetDefaultState:$,dispose:E,releaseStatesOfGeometry:A,releaseStatesOfProgram:O,initAttributes:_,enableAttribute:S,disableUnusedAttributes:C}}function rle(t,e,n,i){const r=i.isWebGL2;let a;function u(c){a=c}function s(c,f){t.drawArrays(a,c,f),n.update(f,a,1)}function o(c,f,l){if(l===0)return;let d,h;if(r)d=t,h="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),h="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[h](a,c,f,l),n.update(f,a,l)}this.setMode=u,this.render=s,this.renderInstances=o}function sle(t,e,n){let i;function r(){if(i!==void 0)return i;if(e.has("EXT_texture_filter_anisotropic")===!0){const x=e.get("EXT_texture_filter_anisotropic");i=t.getParameter(x.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else i=0;return i}function a(x){if(x==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";x="mediump"}return x==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const u=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let s=n.precision!==void 0?n.precision:"highp";const o=a(s);o!==s&&(console.warn("THREE.WebGLRenderer:",s,"not supported, using",o,"instead."),s=o);const c=u||e.has("WEBGL_draw_buffers"),f=n.logarithmicDepthBuffer===!0,l=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),h=t.getParameter(t.MAX_TEXTURE_SIZE),p=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),g=t.getParameter(t.MAX_VERTEX_ATTRIBS),m=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),v=t.getParameter(t.MAX_VARYING_VECTORS),b=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),_=d>0,S=u||e.has("OES_texture_float"),w=_&&S,C=u?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:u,drawBuffers:c,getMaxAnisotropy:r,getMaxPrecision:a,precision:s,logarithmicDepthBuffer:f,maxTextures:l,maxVertexTextures:d,maxTextureSize:h,maxCubemapSize:p,maxAttributes:g,maxVertexUniforms:m,maxVaryings:v,maxFragmentUniforms:b,vertexTextures:_,floatFragmentTextures:S,floatVertexTextures:w,maxSamples:C}}function ole(t){const e=this;let n=null,i=0,r=!1,a=!1;const u=new Io,s=new Jt,o={value:null,needsUpdate:!1};this.uniform=o,this.numPlanes=0,this.numIntersection=0,this.init=function(l,d){const h=l.length!==0||d||i!==0||r;return r=d,i=l.length,h},this.beginShadows=function(){a=!0,f(null)},this.endShadows=function(){a=!1},this.setGlobalState=function(l,d){n=f(l,d,0)},this.setState=function(l,d,h){const p=l.clippingPlanes,g=l.clipIntersection,m=l.clipShadows,v=t.get(l);if(!r||p===null||p.length===0||a&&!m)a?f(null):c();else{const b=a?0:i,_=b*4;let S=v.clippingState||null;o.value=S,S=f(p,d,_,h);for(let w=0;w!==_;++w)S[w]=n[w];v.clippingState=S,this.numIntersection=g?this.numPlanes:0,this.numPlanes+=b}};function c(){o.value!==n&&(o.value=n,o.needsUpdate=i>0),e.numPlanes=i,e.numIntersection=0}function f(l,d,h,p){const g=l!==null?l.length:0;let m=null;if(g!==0){if(m=o.value,p!==!0||m===null){const v=h+g*4,b=d.matrixWorldInverse;s.getNormalMatrix(b),(m===null||m.length<v)&&(m=new Float32Array(v));for(let _=0,S=h;_!==g;++_,S+=4)u.copy(l[_]).applyMatrix4(b,s),u.normal.toArray(m,S),m[S+3]=u.constant}o.value=m,o.needsUpdate=!0}return e.numPlanes=g,e.numIntersection=0,m}}function ale(t){let e=new WeakMap;function n(u,s){return s===Zg?u.mapping=Wl:s===Jg&&(u.mapping=Gl),u}function i(u){if(u&&u.isTexture&&u.isRenderTargetTexture===!1){const s=u.mapping;if(s===Zg||s===Jg)if(e.has(u)){const o=e.get(u).texture;return n(o,u.mapping)}else{const o=u.image;if(o&&o.height>0){const c=new Cse(o.height/2);return c.fromEquirectangularTexture(t,u),e.set(u,c),u.addEventListener("dispose",r),n(c.texture,u.mapping)}else return null}}return u}function r(u){const s=u.target;s.removeEventListener("dispose",r);const o=e.get(s);o!==void 0&&(e.delete(s),o.dispose())}function a(){e=new WeakMap}return{get:i,dispose:a}}class Sy extends FA{constructor(e=-1,n=1,i=1,r=-1,a=.1,u=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=i,this.bottom=r,this.near=a,this.far=u,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,i,r,a,u){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=i,this.view.offsetY=r,this.view.width=a,this.view.height=u,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),i=(this.right+this.left)/2,r=(this.top+this.bottom)/2;let a=i-e,u=i+e,s=r+n,o=r-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,f=(this.top-this.bottom)/this.view.fullHeight/this.zoom;a+=c*this.view.offsetX,u=a+c*this.view.width,s-=f*this.view.offsetY,o=s-f*this.view.height}this.projectionMatrix.makeOrthographic(a,u,s,o,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const cl=4,iC=[.125,.215,.35,.446,.526,.582],Vo=20,gm=new Sy,rC=new Vt;let vm=null;const Do=(1+Math.sqrt(5))/2,Za=1/Do,sC=[new $e(1,1,1),new $e(-1,1,1),new $e(1,1,-1),new $e(-1,1,-1),new $e(0,Do,Za),new $e(0,Do,-Za),new $e(Za,0,Do),new $e(-Za,0,Do),new $e(Do,Za,0),new $e(-Do,Za,0)];class oC{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,i=.1,r=100){vm=this._renderer.getRenderTarget(),this._setSize(256);const a=this._allocateTargets();return a.depthBuffer=!0,this._sceneToCubeUV(e,i,r,a),n>0&&this._blur(a,0,0,n),this._applyPMREM(a),this._cleanup(a),a}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=cC(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=lC(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(vm),e.scissorTest=!1,ef(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===Wl||e.mapping===Gl?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),vm=this._renderer.getRenderTarget();const i=n||this._allocateTargets();return this._textureToCubeUV(e,i),this._applyPMREM(i),this._cleanup(i),i}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,i={magFilter:ni,minFilter:ni,generateMipmaps:!1,type:Du,format:qi,colorSpace:$r,depthBuffer:!1},r=aC(e,n,i);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=aC(e,n,i);const{_lodMax:a}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=lle(a)),this._blurMaterial=cle(a,e,n)}return r}_compileMaterial(e){const n=new Ei(this._lodPlanes[0],e);this._renderer.compile(n,gm)}_sceneToCubeUV(e,n,i,r){const s=new mi(90,1,n,i),o=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],f=this._renderer,l=f.autoClear,d=f.toneMapping;f.getClearColor(rC),f.toneMapping=us,f.autoClear=!1;const h=new Yo({name:"PMREM.Background",side:Ri,depthWrite:!1,depthTest:!1}),p=new Ei(new od,h);let g=!1;const m=e.background;m?m.isColor&&(h.color.copy(m),e.background=null,g=!0):(h.color.copy(rC),g=!0);for(let v=0;v<6;v++){const b=v%3;b===0?(s.up.set(0,o[v],0),s.lookAt(c[v],0,0)):b===1?(s.up.set(0,0,o[v]),s.lookAt(0,c[v],0)):(s.up.set(0,o[v],0),s.lookAt(0,0,c[v]));const _=this._cubeSize;ef(r,b*_,v>2?_:0,_,_),f.setRenderTarget(r),g&&f.render(p,s),f.render(e,s)}p.geometry.dispose(),p.material.dispose(),f.toneMapping=d,f.autoClear=l,e.background=m}_textureToCubeUV(e,n){const i=this._renderer,r=e.mapping===Wl||e.mapping===Gl;r?(this._cubemapMaterial===null&&(this._cubemapMaterial=cC()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=lC());const a=r?this._cubemapMaterial:this._equirectMaterial,u=new Ei(this._lodPlanes[0],a),s=a.uniforms;s.envMap.value=e;const o=this._cubeSize;ef(n,0,0,3*o,2*o),i.setRenderTarget(n),i.render(u,gm)}_applyPMREM(e){const n=this._renderer,i=n.autoClear;n.autoClear=!1;for(let r=1;r<this._lodPlanes.length;r++){const a=Math.sqrt(this._sigmas[r]*this._sigmas[r]-this._sigmas[r-1]*this._sigmas[r-1]),u=sC[(r-1)%sC.length];this._blur(e,r-1,r,a,u)}n.autoClear=i}_blur(e,n,i,r,a){const u=this._pingPongRenderTarget;this._halfBlur(e,u,n,i,r,"latitudinal",a),this._halfBlur(u,e,i,i,r,"longitudinal",a)}_halfBlur(e,n,i,r,a,u,s){const o=this._renderer,c=this._blurMaterial;u!=="latitudinal"&&u!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const f=3,l=new Ei(this._lodPlanes[r],c),d=c.uniforms,h=this._sizeLods[i]-1,p=isFinite(a)?Math.PI/(2*h):2*Math.PI/(2*Vo-1),g=a/p,m=isFinite(a)?1+Math.floor(f*g):Vo;m>Vo&&console.warn(`sigmaRadians, ${a}, is too large and will clip, as it requested ${m} samples when the maximum is set to ${Vo}`);const v=[];let b=0;for(let x=0;x<Vo;++x){const M=x/g,E=Math.exp(-M*M/2);v.push(E),x===0?b+=E:x<m&&(b+=2*E)}for(let x=0;x<v.length;x++)v[x]=v[x]/b;d.envMap.value=e.texture,d.samples.value=m,d.weights.value=v,d.latitudinal.value=u==="latitudinal",s&&(d.poleAxis.value=s);const{_lodMax:_}=this;d.dTheta.value=p,d.mipInt.value=_-i;const S=this._sizeLods[r],w=3*S*(r>_-cl?r-_+cl:0),C=4*(this._cubeSize-S);ef(n,w,C,3*S,2*S),o.setRenderTarget(n),o.render(l,gm)}}function lle(t){const e=[],n=[],i=[];let r=t;const a=t-cl+1+iC.length;for(let u=0;u<a;u++){const s=Math.pow(2,r);n.push(s);let o=1/s;u>t-cl?o=iC[u-t+cl-1]:u===0&&(o=0),i.push(o);const c=1/(s-2),f=-c,l=1+c,d=[f,f,l,f,l,l,f,f,l,l,f,l],h=6,p=6,g=3,m=2,v=1,b=new Float32Array(g*p*h),_=new Float32Array(m*p*h),S=new Float32Array(v*p*h);for(let C=0;C<h;C++){const x=C%3*2/3-1,M=C>2?0:-1,E=[x,M,0,x+2/3,M,0,x+2/3,M+1,0,x,M,0,x+2/3,M+1,0,x,M+1,0];b.set(E,g*p*C),_.set(d,m*p*C);const A=[C,C,C,C,C,C];S.set(A,v*p*C)}const w=new Gr;w.setAttribute("position",new bi(b,g)),w.setAttribute("uv",new bi(_,m)),w.setAttribute("faceIndex",new bi(S,v)),e.push(w),r>cl&&r--}return{lodPlanes:e,sizeLods:n,sigmas:i}}function aC(t,e,n){const i=new ya(t,e,n);return i.texture.mapping=tp,i.texture.name="PMREM.cubeUv",i.scissorTest=!0,i}function ef(t,e,n,i,r){t.viewport.set(e,n,i,r),t.scissor.set(e,n,i,r)}function cle(t,e,n){const i=new Float32Array(Vo),r=new $e(0,1,0);return new ba({name:"SphericalGaussianBlur",defines:{n:Vo,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:i},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:r}},vertexShader:wy(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:so,depthTest:!1,depthWrite:!1})}function lC(){return new ba({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:wy(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:so,depthTest:!1,depthWrite:!1})}function cC(){return new ba({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:wy(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:so,depthTest:!1,depthWrite:!1})}function wy(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function ule(t){let e=new WeakMap,n=null;function i(s){if(s&&s.isTexture){const o=s.mapping,c=o===Zg||o===Jg,f=o===Wl||o===Gl;if(c||f)if(s.isRenderTargetTexture&&s.needsPMREMUpdate===!0){s.needsPMREMUpdate=!1;let l=e.get(s);return n===null&&(n=new oC(t)),l=c?n.fromEquirectangular(s,l):n.fromCubemap(s,l),e.set(s,l),l.texture}else{if(e.has(s))return e.get(s).texture;{const l=s.image;if(c&&l&&l.height>0||f&&l&&r(l)){n===null&&(n=new oC(t));const d=c?n.fromEquirectangular(s):n.fromCubemap(s);return e.set(s,d),s.addEventListener("dispose",a),d.texture}else return null}}}return s}function r(s){let o=0;const c=6;for(let f=0;f<c;f++)s[f]!==void 0&&o++;return o===c}function a(s){const o=s.target;o.removeEventListener("dispose",a);const c=e.get(o);c!==void 0&&(e.delete(o),c.dispose())}function u(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:i,dispose:u}}function dle(t){const e={};function n(i){if(e[i]!==void 0)return e[i];let r;switch(i){case"WEBGL_depth_texture":r=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":r=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":r=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":r=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:r=t.getExtension(i)}return e[i]=r,r}return{has:function(i){return n(i)!==null},init:function(i){i.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(i){const r=n(i);return r===null&&console.warn("THREE.WebGLRenderer: "+i+" extension not supported."),r}}}function fle(t,e,n,i){const r={},a=new WeakMap;function u(l){const d=l.target;d.index!==null&&e.remove(d.index);for(const p in d.attributes)e.remove(d.attributes[p]);d.removeEventListener("dispose",u),delete r[d.id];const h=a.get(d);h&&(e.remove(h),a.delete(d)),i.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function s(l,d){return r[d.id]===!0||(d.addEventListener("dispose",u),r[d.id]=!0,n.memory.geometries++),d}function o(l){const d=l.attributes;for(const p in d)e.update(d[p],t.ARRAY_BUFFER);const h=l.morphAttributes;for(const p in h){const g=h[p];for(let m=0,v=g.length;m<v;m++)e.update(g[m],t.ARRAY_BUFFER)}}function c(l){const d=[],h=l.index,p=l.attributes.position;let g=0;if(h!==null){const b=h.array;g=h.version;for(let _=0,S=b.length;_<S;_+=3){const w=b[_+0],C=b[_+1],x=b[_+2];d.push(w,C,C,x,x,w)}}else{const b=p.array;g=p.version;for(let _=0,S=b.length/3-1;_<S;_+=3){const w=_+0,C=_+1,x=_+2;d.push(w,C,C,x,x,w)}}const m=new(AA(d)?DA:IA)(d,1);m.version=g;const v=a.get(l);v&&e.remove(v),a.set(l,m)}function f(l){const d=a.get(l);if(d){const h=l.index;h!==null&&d.version<h.version&&c(l)}else c(l);return a.get(l)}return{get:s,update:o,getWireframeAttribute:f}}function hle(t,e,n,i){const r=i.isWebGL2;let a;function u(d){a=d}let s,o;function c(d){s=d.type,o=d.bytesPerElement}function f(d,h){t.drawElements(a,h,s,d*o),n.update(h,a,1)}function l(d,h,p){if(p===0)return;let g,m;if(r)g=t,m="drawElementsInstanced";else if(g=e.get("ANGLE_instanced_arrays"),m="drawElementsInstancedANGLE",g===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}g[m](a,h,s,d*o,p),n.update(h,a,p)}this.setMode=u,this.setIndex=c,this.render=f,this.renderInstances=l}function ple(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function i(a,u,s){switch(n.calls++,u){case t.TRIANGLES:n.triangles+=s*(a/3);break;case t.LINES:n.lines+=s*(a/2);break;case t.LINE_STRIP:n.lines+=s*(a-1);break;case t.LINE_LOOP:n.lines+=s*a;break;case t.POINTS:n.points+=s*a;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",u);break}}function r(){n.frame++,n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:r,update:i}}function mle(t,e){return t[0]-e[0]}function gle(t,e){return Math.abs(e[1])-Math.abs(t[1])}function vle(t,e,n){const i={},r=new Float32Array(8),a=new WeakMap,u=new mn,s=[];for(let c=0;c<8;c++)s[c]=[c,0];function o(c,f,l){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const p=f.morphAttributes.position||f.morphAttributes.normal||f.morphAttributes.color,g=p!==void 0?p.length:0;let m=a.get(f);if(m===void 0||m.count!==g){let B=function(){$.dispose(),a.delete(f),f.removeEventListener("dispose",B)};var h=B;m!==void 0&&m.texture.dispose();const _=f.morphAttributes.position!==void 0,S=f.morphAttributes.normal!==void 0,w=f.morphAttributes.color!==void 0,C=f.morphAttributes.position||[],x=f.morphAttributes.normal||[],M=f.morphAttributes.color||[];let E=0;_===!0&&(E=1),S===!0&&(E=2),w===!0&&(E=3);let A=f.attributes.position.count*E,O=1;A>e.maxTextureSize&&(O=Math.ceil(A/e.maxTextureSize),A=e.maxTextureSize);const I=new Float32Array(A*O*4*g),$=new OA(I,A,O,g);$.type=eo,$.needsUpdate=!0;const H=E*4;for(let N=0;N<g;N++){const k=C[N],D=x[N],T=M[N],R=A*O*4*N;for(let V=0;V<k.count;V++){const U=V*H;_===!0&&(u.fromBufferAttribute(k,V),I[R+U+0]=u.x,I[R+U+1]=u.y,I[R+U+2]=u.z,I[R+U+3]=0),S===!0&&(u.fromBufferAttribute(D,V),I[R+U+4]=u.x,I[R+U+5]=u.y,I[R+U+6]=u.z,I[R+U+7]=0),w===!0&&(u.fromBufferAttribute(T,V),I[R+U+8]=u.x,I[R+U+9]=u.y,I[R+U+10]=u.z,I[R+U+11]=T.itemSize===4?u.w:1)}}m={count:g,texture:$,size:new Ut(A,O)},a.set(f,m),f.addEventListener("dispose",B)}let v=0;for(let _=0;_<d.length;_++)v+=d[_];const b=f.morphTargetsRelative?1:1-v;l.getUniforms().setValue(t,"morphTargetBaseInfluence",b),l.getUniforms().setValue(t,"morphTargetInfluences",d),l.getUniforms().setValue(t,"morphTargetsTexture",m.texture,n),l.getUniforms().setValue(t,"morphTargetsTextureSize",m.size)}else{const p=d===void 0?0:d.length;let g=i[f.id];if(g===void 0||g.length!==p){g=[];for(let S=0;S<p;S++)g[S]=[S,0];i[f.id]=g}for(let S=0;S<p;S++){const w=g[S];w[0]=S,w[1]=d[S]}g.sort(gle);for(let S=0;S<8;S++)S<p&&g[S][1]?(s[S][0]=g[S][0],s[S][1]=g[S][1]):(s[S][0]=Number.MAX_SAFE_INTEGER,s[S][1]=0);s.sort(mle);const m=f.morphAttributes.position,v=f.morphAttributes.normal;let b=0;for(let S=0;S<8;S++){const w=s[S],C=w[0],x=w[1];C!==Number.MAX_SAFE_INTEGER&&x?(m&&f.getAttribute("morphTarget"+S)!==m[C]&&f.setAttribute("morphTarget"+S,m[C]),v&&f.getAttribute("morphNormal"+S)!==v[C]&&f.setAttribute("morphNormal"+S,v[C]),r[S]=x,b+=x):(m&&f.hasAttribute("morphTarget"+S)===!0&&f.deleteAttribute("morphTarget"+S),v&&f.hasAttribute("morphNormal"+S)===!0&&f.deleteAttribute("morphNormal"+S),r[S]=0)}const _=f.morphTargetsRelative?1:1-b;l.getUniforms().setValue(t,"morphTargetBaseInfluence",_),l.getUniforms().setValue(t,"morphTargetInfluences",r)}}return{update:o}}function yle(t,e,n,i){let r=new WeakMap;function a(o){const c=i.render.frame,f=o.geometry,l=e.get(o,f);return r.get(l)!==c&&(e.update(l),r.set(l,c)),o.isInstancedMesh&&(o.hasEventListener("dispose",s)===!1&&o.addEventListener("dispose",s),n.update(o.instanceMatrix,t.ARRAY_BUFFER),o.instanceColor!==null&&n.update(o.instanceColor,t.ARRAY_BUFFER)),l}function u(){r=new WeakMap}function s(o){const c=o.target;c.removeEventListener("dispose",s),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:a,dispose:u}}const VA=new Zn,$A=new OA,HA=new ase,zA=new BA,uC=[],dC=[],fC=new Float32Array(16),hC=new Float32Array(9),pC=new Float32Array(4);function uc(t,e,n){const i=t[0];if(i<=0||i>0)return t;const r=e*n;let a=uC[r];if(a===void 0&&(a=new Float32Array(r),uC[r]=a),e!==0){i.toArray(a,0);for(let u=1,s=0;u!==e;++u)s+=n,t[u].toArray(a,s)}return a}function Fn(t,e){if(t.length!==e.length)return!1;for(let n=0,i=t.length;n<i;n++)if(t[n]!==e[n])return!1;return!0}function Bn(t,e){for(let n=0,i=e.length;n<i;n++)t[n]=e[n]}function ip(t,e){let n=dC[e];n===void 0&&(n=new Int32Array(e),dC[e]=n);for(let i=0;i!==e;++i)n[i]=t.allocateTextureUnit();return n}function ble(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function _le(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Fn(n,e))return;t.uniform2fv(this.addr,e),Bn(n,e)}}function Sle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Fn(n,e))return;t.uniform3fv(this.addr,e),Bn(n,e)}}function wle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Fn(n,e))return;t.uniform4fv(this.addr,e),Bn(n,e)}}function Cle(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Fn(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Bn(n,e)}else{if(Fn(n,i))return;pC.set(i),t.uniformMatrix2fv(this.addr,!1,pC),Bn(n,i)}}function xle(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Fn(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Bn(n,e)}else{if(Fn(n,i))return;hC.set(i),t.uniformMatrix3fv(this.addr,!1,hC),Bn(n,i)}}function Tle(t,e){const n=this.cache,i=e.elements;if(i===void 0){if(Fn(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Bn(n,e)}else{if(Fn(n,i))return;fC.set(i),t.uniformMatrix4fv(this.addr,!1,fC),Bn(n,i)}}function Ele(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function Mle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Fn(n,e))return;t.uniform2iv(this.addr,e),Bn(n,e)}}function Ale(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Fn(n,e))return;t.uniform3iv(this.addr,e),Bn(n,e)}}function Rle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Fn(n,e))return;t.uniform4iv(this.addr,e),Bn(n,e)}}function Ple(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function Ole(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Fn(n,e))return;t.uniform2uiv(this.addr,e),Bn(n,e)}}function kle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Fn(n,e))return;t.uniform3uiv(this.addr,e),Bn(n,e)}}function Lle(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Fn(n,e))return;t.uniform4uiv(this.addr,e),Bn(n,e)}}function Ile(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2D(e||VA,r)}function Dle(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture3D(e||HA,r)}function Nle(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTextureCube(e||zA,r)}function Fle(t,e,n){const i=this.cache,r=n.allocateTextureUnit();i[0]!==r&&(t.uniform1i(this.addr,r),i[0]=r),n.setTexture2DArray(e||$A,r)}function Ble(t){switch(t){case 5126:return ble;case 35664:return _le;case 35665:return Sle;case 35666:return wle;case 35674:return Cle;case 35675:return xle;case 35676:return Tle;case 5124:case 35670:return Ele;case 35667:case 35671:return Mle;case 35668:case 35672:return Ale;case 35669:case 35673:return Rle;case 5125:return Ple;case 36294:return Ole;case 36295:return kle;case 36296:return Lle;case 35678:case 36198:case 36298:case 36306:case 35682:return Ile;case 35679:case 36299:case 36307:return Dle;case 35680:case 36300:case 36308:case 36293:return Nle;case 36289:case 36303:case 36311:case 36292:return Fle}}function Ule(t,e){t.uniform1fv(this.addr,e)}function Vle(t,e){const n=uc(e,this.size,2);t.uniform2fv(this.addr,n)}function $le(t,e){const n=uc(e,this.size,3);t.uniform3fv(this.addr,n)}function Hle(t,e){const n=uc(e,this.size,4);t.uniform4fv(this.addr,n)}function zle(t,e){const n=uc(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Wle(t,e){const n=uc(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Gle(t,e){const n=uc(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function jle(t,e){t.uniform1iv(this.addr,e)}function Xle(t,e){t.uniform2iv(this.addr,e)}function Kle(t,e){t.uniform3iv(this.addr,e)}function Yle(t,e){t.uniform4iv(this.addr,e)}function qle(t,e){t.uniform1uiv(this.addr,e)}function Zle(t,e){t.uniform2uiv(this.addr,e)}function Jle(t,e){t.uniform3uiv(this.addr,e)}function Qle(t,e){t.uniform4uiv(this.addr,e)}function ece(t,e,n){const i=this.cache,r=e.length,a=ip(n,r);Fn(i,a)||(t.uniform1iv(this.addr,a),Bn(i,a));for(let u=0;u!==r;++u)n.setTexture2D(e[u]||VA,a[u])}function tce(t,e,n){const i=this.cache,r=e.length,a=ip(n,r);Fn(i,a)||(t.uniform1iv(this.addr,a),Bn(i,a));for(let u=0;u!==r;++u)n.setTexture3D(e[u]||HA,a[u])}function nce(t,e,n){const i=this.cache,r=e.length,a=ip(n,r);Fn(i,a)||(t.uniform1iv(this.addr,a),Bn(i,a));for(let u=0;u!==r;++u)n.setTextureCube(e[u]||zA,a[u])}function ice(t,e,n){const i=this.cache,r=e.length,a=ip(n,r);Fn(i,a)||(t.uniform1iv(this.addr,a),Bn(i,a));for(let u=0;u!==r;++u)n.setTexture2DArray(e[u]||$A,a[u])}function rce(t){switch(t){case 5126:return Ule;case 35664:return Vle;case 35665:return $le;case 35666:return Hle;case 35674:return zle;case 35675:return Wle;case 35676:return Gle;case 5124:case 35670:return jle;case 35667:case 35671:return Xle;case 35668:case 35672:return Kle;case 35669:case 35673:return Yle;case 5125:return qle;case 36294:return Zle;case 36295:return Jle;case 36296:return Qle;case 35678:case 36198:case 36298:case 36306:case 35682:return ece;case 35679:case 36299:case 36307:return tce;case 35680:case 36300:case 36308:case 36293:return nce;case 36289:case 36303:case 36311:case 36292:return ice}}class sce{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.setValue=Ble(n.type)}}class oce{constructor(e,n,i){this.id=e,this.addr=i,this.cache=[],this.size=n.size,this.setValue=rce(n.type)}}class ace{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,i){const r=this.seq;for(let a=0,u=r.length;a!==u;++a){const s=r[a];s.setValue(e,n[s.id],i)}}}const ym=/(\w+)(\])?(\[|\.)?/g;function mC(t,e){t.seq.push(e),t.map[e.id]=e}function lce(t,e,n){const i=t.name,r=i.length;for(ym.lastIndex=0;;){const a=ym.exec(i),u=ym.lastIndex;let s=a[1];const o=a[2]==="]",c=a[3];if(o&&(s=s|0),c===void 0||c==="["&&u+2===r){mC(n,c===void 0?new sce(s,t,e):new oce(s,t,e));break}else{let l=n.map[s];l===void 0&&(l=new ace(s),mC(n,l)),n=l}}}class Bf{constructor(e,n){this.seq=[],this.map={};const i=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let r=0;r<i;++r){const a=e.getActiveUniform(n,r),u=e.getUniformLocation(n,a.name);lce(a,u,this)}}setValue(e,n,i,r){const a=this.map[n];a!==void 0&&a.setValue(e,i,r)}setOptional(e,n,i){const r=n[i];r!==void 0&&this.setValue(e,i,r)}static upload(e,n,i,r){for(let a=0,u=n.length;a!==u;++a){const s=n[a],o=i[s.id];o.needsUpdate!==!1&&s.setValue(e,o.value,r)}}static seqWithValue(e,n){const i=[];for(let r=0,a=e.length;r!==a;++r){const u=e[r];u.id in n&&i.push(u)}return i}}function gC(t,e,n){const i=t.createShader(e);return t.shaderSource(i,n),t.compileShader(i),i}let cce=0;function uce(t,e){const n=t.split(`
`),i=[],r=Math.max(e-6,0),a=Math.min(e+6,n.length);for(let u=r;u<a;u++){const s=u+1;i.push(`${s===e?">":" "} ${s}: ${n[u]}`)}return i.join(`
`)}function dce(t){switch(t){case $r:return["Linear","( value )"];case Ft:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),["Linear","( value )"]}}function vC(t,e,n){const i=t.getShaderParameter(e,t.COMPILE_STATUS),r=t.getShaderInfoLog(e).trim();if(i&&r==="")return"";const a=/ERROR: 0:(\d+)/.exec(r);if(a){const u=parseInt(a[1]);return n.toUpperCase()+`

`+r+`

`+uce(t.getShaderSource(e),u)}else return r}function fce(t,e){const n=dce(e);return"vec4 "+t+"( vec4 value ) { return LinearTo"+n[0]+n[1]+"; }"}function hce(t,e){let n;switch(e){case pre:n="Linear";break;case mre:n="Reinhard";break;case gre:n="OptimizedCineon";break;case vre:n="ACESFilmic";break;case yre:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function pce(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(Vc).join(`
`)}function mce(t){const e=[];for(const n in t){const i=t[n];i!==!1&&e.push("#define "+n+" "+i)}return e.join(`
`)}function gce(t,e){const n={},i=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let r=0;r<i;r++){const a=t.getActiveAttrib(e,r),u=a.name;let s=1;a.type===t.FLOAT_MAT2&&(s=2),a.type===t.FLOAT_MAT3&&(s=3),a.type===t.FLOAT_MAT4&&(s=4),n[u]={type:a.type,location:t.getAttribLocation(e,u),locationSize:s}}return n}function Vc(t){return t!==""}function yC(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function bC(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const vce=/^[ \t]*#include +<([\w\d./]+)>/gm;function rv(t){return t.replace(vce,yce)}function yce(t,e){const n=Wt[e];if(n===void 0)throw new Error("Can not resolve #include <"+e+">");return rv(n)}const bce=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function _C(t){return t.replace(bce,_ce)}function _ce(t,e,n,i){let r="";for(let a=parseInt(e);a<parseInt(n);a++)r+=i.replace(/\[\s*i\s*\]/g,"[ "+a+" ]").replace(/UNROLLED_LOOP_INDEX/g,a);return r}function SC(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function Sce(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===vA?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===jie?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===ns&&(e="SHADOWMAP_TYPE_VSM"),e}function wce(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case Wl:case Gl:e="ENVMAP_TYPE_CUBE";break;case tp:e="ENVMAP_TYPE_CUBE_UV";break}return e}function Cce(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case Gl:e="ENVMAP_MODE_REFRACTION";break}return e}function xce(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case my:e="ENVMAP_BLENDING_MULTIPLY";break;case fre:e="ENVMAP_BLENDING_MIX";break;case hre:e="ENVMAP_BLENDING_ADD";break}return e}function Tce(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,i=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:i,maxMip:n}}function Ece(t,e,n,i){const r=t.getContext(),a=n.defines;let u=n.vertexShader,s=n.fragmentShader;const o=Sce(n),c=wce(n),f=Cce(n),l=xce(n),d=Tce(n),h=n.isWebGL2?"":pce(n),p=mce(a),g=r.createProgram();let m,v,b=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(m=[p].filter(Vc).join(`
`),m.length>0&&(m+=`
`),v=[h,p].filter(Vc).join(`
`),v.length>0&&(v+=`
`)):(m=[SC(n),"#define SHADER_NAME "+n.shaderName,p,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+f:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+o:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(Vc).join(`
`),v=[h,SC(n),"#define SHADER_NAME "+n.shaderName,p,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+f:"",n.envMap?"#define "+l:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+o:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==us?"#define TONE_MAPPING":"",n.toneMapping!==us?Wt.tonemapping_pars_fragment:"",n.toneMapping!==us?hce("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",Wt.encodings_pars_fragment,fce("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(Vc).join(`
`)),u=rv(u),u=yC(u,n),u=bC(u,n),s=rv(s),s=yC(s,n),s=bC(s,n),u=_C(u),s=_C(s),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(b=`#version 300 es
`,m=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+m,v=["#define varying in",n.glslVersion===Vw?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===Vw?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+v);const _=b+m+u,S=b+v+s,w=gC(r,r.VERTEX_SHADER,_),C=gC(r,r.FRAGMENT_SHADER,S);if(r.attachShader(g,w),r.attachShader(g,C),n.index0AttributeName!==void 0?r.bindAttribLocation(g,0,n.index0AttributeName):n.morphTargets===!0&&r.bindAttribLocation(g,0,"position"),r.linkProgram(g),t.debug.checkShaderErrors){const E=r.getProgramInfoLog(g).trim(),A=r.getShaderInfoLog(w).trim(),O=r.getShaderInfoLog(C).trim();let I=!0,$=!0;if(r.getProgramParameter(g,r.LINK_STATUS)===!1)if(I=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(r,g,w,C);else{const H=vC(r,w,"vertex"),B=vC(r,C,"fragment");console.error("THREE.WebGLProgram: Shader Error "+r.getError()+" - VALIDATE_STATUS "+r.getProgramParameter(g,r.VALIDATE_STATUS)+`

Program Info Log: `+E+`
`+H+`
`+B)}else E!==""?console.warn("THREE.WebGLProgram: Program Info Log:",E):(A===""||O==="")&&($=!1);$&&(this.diagnostics={runnable:I,programLog:E,vertexShader:{log:A,prefix:m},fragmentShader:{log:O,prefix:v}})}r.deleteShader(w),r.deleteShader(C);let x;this.getUniforms=function(){return x===void 0&&(x=new Bf(r,g)),x};let M;return this.getAttributes=function(){return M===void 0&&(M=gce(r,g)),M},this.destroy=function(){i.releaseStatesOfProgram(this),r.deleteProgram(g),this.program=void 0},this.name=n.shaderName,this.id=cce++,this.cacheKey=e,this.usedTimes=1,this.program=g,this.vertexShader=w,this.fragmentShader=C,this}let Mce=0;class Ace{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,i=e.fragmentShader,r=this._getShaderStage(n),a=this._getShaderStage(i),u=this._getShaderCacheForMaterial(e);return u.has(r)===!1&&(u.add(r),r.usedTimes++),u.has(a)===!1&&(u.add(a),a.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const i of n)i.usedTimes--,i.usedTimes===0&&this.shaderCache.delete(i.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let i=n.get(e);return i===void 0&&(i=new Set,n.set(e,i)),i}_getShaderStage(e){const n=this.shaderCache;let i=n.get(e);return i===void 0&&(i=new Rce(e),n.set(e,i)),i}}class Rce{constructor(e){this.id=Mce++,this.code=e,this.usedTimes=0}}function Pce(t,e,n,i,r,a,u){const s=new kA,o=new Ace,c=[],f=r.isWebGL2,l=r.logarithmicDepthBuffer,d=r.vertexTextures;let h=r.precision;const p={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function g(E){return E===1?"uv1":E===2?"uv2":E===3?"uv3":"uv"}function m(E,A,O,I,$){const H=I.fog,B=$.geometry,N=E.isMeshStandardMaterial?I.environment:null,k=(E.isMeshStandardMaterial?n:e).get(E.envMap||N),D=k&&k.mapping===tp?k.image.height:null,T=p[E.type];E.precision!==null&&(h=r.getMaxPrecision(E.precision),h!==E.precision&&console.warn("THREE.WebGLProgram.getParameters:",E.precision,"not supported, using",h,"instead."));const R=B.morphAttributes.position||B.morphAttributes.normal||B.morphAttributes.color,V=R!==void 0?R.length:0;let U=0;B.morphAttributes.position!==void 0&&(U=1),B.morphAttributes.normal!==void 0&&(U=2),B.morphAttributes.color!==void 0&&(U=3);let X,W,j,K;if(T){const At=kr[T];X=At.vertexShader,W=At.fragmentShader}else X=E.vertexShader,W=E.fragmentShader,o.update(E),j=o.getVertexShaderID(E),K=o.getFragmentShaderID(E);const z=t.getRenderTarget(),ee=$.isInstancedMesh===!0,ue=!!E.map,ne=!!E.matcap,le=!!k,Me=!!E.aoMap,q=!!E.lightMap,J=!!E.bumpMap,ce=!!E.normalMap,pe=!!E.displacementMap,re=!!E.emissiveMap,he=!!E.metalnessMap,Ce=!!E.roughnessMap,Oe=E.clearcoat>0,ke=E.iridescence>0,G=E.sheen>0,Z=E.transmission>0,_e=Oe&&!!E.clearcoatMap,de=Oe&&!!E.clearcoatNormalMap,Re=Oe&&!!E.clearcoatRoughnessMap,Fe=ke&&!!E.iridescenceMap,ye=ke&&!!E.iridescenceThicknessMap,Ne=G&&!!E.sheenColorMap,Ae=G&&!!E.sheenRoughnessMap,Te=!!E.specularMap,ae=!!E.specularColorMap,fe=!!E.specularIntensityMap,ie=Z&&!!E.transmissionMap,ge=Z&&!!E.thicknessMap,De=!!E.gradientMap,me=!!E.alphaMap,Xe=E.alphaTest>0,be=!!E.extensions,He=!!B.attributes.uv1,Ye=!!B.attributes.uv2,st=!!B.attributes.uv3;return{isWebGL2:f,shaderID:T,shaderName:E.type,vertexShader:X,fragmentShader:W,defines:E.defines,customVertexShaderID:j,customFragmentShaderID:K,isRawShaderMaterial:E.isRawShaderMaterial===!0,glslVersion:E.glslVersion,precision:h,instancing:ee,instancingColor:ee&&$.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:z===null?t.outputColorSpace:z.isXRRenderTarget===!0?z.texture.colorSpace:$r,map:ue,matcap:ne,envMap:le,envMapMode:le&&k.mapping,envMapCubeUVHeight:D,aoMap:Me,lightMap:q,bumpMap:J,normalMap:ce,displacementMap:d&&pe,emissiveMap:re,normalMapObjectSpace:ce&&E.normalMapType===Bre,normalMapTangentSpace:ce&&E.normalMapType===gy,metalnessMap:he,roughnessMap:Ce,clearcoat:Oe,clearcoatMap:_e,clearcoatNormalMap:de,clearcoatRoughnessMap:Re,iridescence:ke,iridescenceMap:Fe,iridescenceThicknessMap:ye,sheen:G,sheenColorMap:Ne,sheenRoughnessMap:Ae,specularMap:Te,specularColorMap:ae,specularIntensityMap:fe,transmission:Z,transmissionMap:ie,thicknessMap:ge,gradientMap:De,opaque:E.transparent===!1&&E.blending===_l,alphaMap:me,alphaTest:Xe,combine:E.combine,mapUv:ue&&g(E.map.channel),aoMapUv:Me&&g(E.aoMap.channel),lightMapUv:q&&g(E.lightMap.channel),bumpMapUv:J&&g(E.bumpMap.channel),normalMapUv:ce&&g(E.normalMap.channel),displacementMapUv:pe&&g(E.displacementMap.channel),emissiveMapUv:re&&g(E.emissiveMap.channel),metalnessMapUv:he&&g(E.metalnessMap.channel),roughnessMapUv:Ce&&g(E.roughnessMap.channel),clearcoatMapUv:_e&&g(E.clearcoatMap.channel),clearcoatNormalMapUv:de&&g(E.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Re&&g(E.clearcoatRoughnessMap.channel),iridescenceMapUv:Fe&&g(E.iridescenceMap.channel),iridescenceThicknessMapUv:ye&&g(E.iridescenceThicknessMap.channel),sheenColorMapUv:Ne&&g(E.sheenColorMap.channel),sheenRoughnessMapUv:Ae&&g(E.sheenRoughnessMap.channel),specularMapUv:Te&&g(E.specularMap.channel),specularColorMapUv:ae&&g(E.specularColorMap.channel),specularIntensityMapUv:fe&&g(E.specularIntensityMap.channel),transmissionMapUv:ie&&g(E.transmissionMap.channel),thicknessMapUv:ge&&g(E.thicknessMap.channel),alphaMapUv:me&&g(E.alphaMap.channel),vertexTangents:ce&&!!B.attributes.tangent,vertexColors:E.vertexColors,vertexAlphas:E.vertexColors===!0&&!!B.attributes.color&&B.attributes.color.itemSize===4,vertexUv1s:He,vertexUv2s:Ye,vertexUv3s:st,pointsUvs:$.isPoints===!0&&!!B.attributes.uv&&(ue||me),fog:!!H,useFog:E.fog===!0,fogExp2:H&&H.isFogExp2,flatShading:E.flatShading===!0,sizeAttenuation:E.sizeAttenuation===!0,logarithmicDepthBuffer:l,skinning:$.isSkinnedMesh===!0,morphTargets:B.morphAttributes.position!==void 0,morphNormals:B.morphAttributes.normal!==void 0,morphColors:B.morphAttributes.color!==void 0,morphTargetsCount:V,morphTextureStride:U,numDirLights:A.directional.length,numPointLights:A.point.length,numSpotLights:A.spot.length,numSpotLightMaps:A.spotLightMap.length,numRectAreaLights:A.rectArea.length,numHemiLights:A.hemi.length,numDirLightShadows:A.directionalShadowMap.length,numPointLightShadows:A.pointShadowMap.length,numSpotLightShadows:A.spotShadowMap.length,numSpotLightShadowsWithMaps:A.numSpotLightShadowsWithMaps,numClippingPlanes:u.numPlanes,numClipIntersection:u.numIntersection,dithering:E.dithering,shadowMapEnabled:t.shadowMap.enabled&&O.length>0,shadowMapType:t.shadowMap.type,toneMapping:E.toneMapped?t.toneMapping:us,useLegacyLights:t.useLegacyLights,premultipliedAlpha:E.premultipliedAlpha,doubleSided:E.side===vr,flipSided:E.side===Ri,useDepthPacking:E.depthPacking>=0,depthPacking:E.depthPacking||0,index0AttributeName:E.index0AttributeName,extensionDerivatives:be&&E.extensions.derivatives===!0,extensionFragDepth:be&&E.extensions.fragDepth===!0,extensionDrawBuffers:be&&E.extensions.drawBuffers===!0,extensionShaderTextureLOD:be&&E.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:f||i.has("EXT_frag_depth"),rendererExtensionDrawBuffers:f||i.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:f||i.has("EXT_shader_texture_lod"),customProgramCacheKey:E.customProgramCacheKey()}}function v(E){const A=[];if(E.shaderID?A.push(E.shaderID):(A.push(E.customVertexShaderID),A.push(E.customFragmentShaderID)),E.defines!==void 0)for(const O in E.defines)A.push(O),A.push(E.defines[O]);return E.isRawShaderMaterial===!1&&(b(A,E),_(A,E),A.push(t.outputColorSpace)),A.push(E.customProgramCacheKey),A.join()}function b(E,A){E.push(A.precision),E.push(A.outputColorSpace),E.push(A.envMapMode),E.push(A.envMapCubeUVHeight),E.push(A.mapUv),E.push(A.alphaMapUv),E.push(A.lightMapUv),E.push(A.aoMapUv),E.push(A.bumpMapUv),E.push(A.normalMapUv),E.push(A.displacementMapUv),E.push(A.emissiveMapUv),E.push(A.metalnessMapUv),E.push(A.roughnessMapUv),E.push(A.clearcoatMapUv),E.push(A.clearcoatNormalMapUv),E.push(A.clearcoatRoughnessMapUv),E.push(A.iridescenceMapUv),E.push(A.iridescenceThicknessMapUv),E.push(A.sheenColorMapUv),E.push(A.sheenRoughnessMapUv),E.push(A.specularMapUv),E.push(A.specularColorMapUv),E.push(A.specularIntensityMapUv),E.push(A.transmissionMapUv),E.push(A.thicknessMapUv),E.push(A.combine),E.push(A.fogExp2),E.push(A.sizeAttenuation),E.push(A.morphTargetsCount),E.push(A.morphAttributeCount),E.push(A.numDirLights),E.push(A.numPointLights),E.push(A.numSpotLights),E.push(A.numSpotLightMaps),E.push(A.numHemiLights),E.push(A.numRectAreaLights),E.push(A.numDirLightShadows),E.push(A.numPointLightShadows),E.push(A.numSpotLightShadows),E.push(A.numSpotLightShadowsWithMaps),E.push(A.shadowMapType),E.push(A.toneMapping),E.push(A.numClippingPlanes),E.push(A.numClipIntersection),E.push(A.depthPacking)}function _(E,A){s.disableAll(),A.isWebGL2&&s.enable(0),A.supportsVertexTextures&&s.enable(1),A.instancing&&s.enable(2),A.instancingColor&&s.enable(3),A.matcap&&s.enable(4),A.envMap&&s.enable(5),A.normalMapObjectSpace&&s.enable(6),A.normalMapTangentSpace&&s.enable(7),A.clearcoat&&s.enable(8),A.iridescence&&s.enable(9),A.alphaTest&&s.enable(10),A.vertexColors&&s.enable(11),A.vertexAlphas&&s.enable(12),A.vertexUv1s&&s.enable(13),A.vertexUv2s&&s.enable(14),A.vertexUv3s&&s.enable(15),A.vertexTangents&&s.enable(16),E.push(s.mask),s.disableAll(),A.fog&&s.enable(0),A.useFog&&s.enable(1),A.flatShading&&s.enable(2),A.logarithmicDepthBuffer&&s.enable(3),A.skinning&&s.enable(4),A.morphTargets&&s.enable(5),A.morphNormals&&s.enable(6),A.morphColors&&s.enable(7),A.premultipliedAlpha&&s.enable(8),A.shadowMapEnabled&&s.enable(9),A.useLegacyLights&&s.enable(10),A.doubleSided&&s.enable(11),A.flipSided&&s.enable(12),A.useDepthPacking&&s.enable(13),A.dithering&&s.enable(14),A.transmission&&s.enable(15),A.sheen&&s.enable(16),A.opaque&&s.enable(17),A.pointsUvs&&s.enable(18),E.push(s.mask)}function S(E){const A=p[E.type];let O;if(A){const I=kr[A];O=bse.clone(I.uniforms)}else O=E.uniforms;return O}function w(E,A){let O;for(let I=0,$=c.length;I<$;I++){const H=c[I];if(H.cacheKey===A){O=H,++O.usedTimes;break}}return O===void 0&&(O=new Ece(t,A,E,a),c.push(O)),O}function C(E){if(--E.usedTimes===0){const A=c.indexOf(E);c[A]=c[c.length-1],c.pop(),E.destroy()}}function x(E){o.remove(E)}function M(){o.dispose()}return{getParameters:m,getProgramCacheKey:v,getUniforms:S,acquireProgram:w,releaseProgram:C,releaseShaderCache:x,programs:c,dispose:M}}function Oce(){let t=new WeakMap;function e(a){let u=t.get(a);return u===void 0&&(u={},t.set(a,u)),u}function n(a){t.delete(a)}function i(a,u,s){t.get(a)[u]=s}function r(){t=new WeakMap}return{get:e,remove:n,update:i,dispose:r}}function kce(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function wC(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function CC(){const t=[];let e=0;const n=[],i=[],r=[];function a(){e=0,n.length=0,i.length=0,r.length=0}function u(l,d,h,p,g,m){let v=t[e];return v===void 0?(v={id:l.id,object:l,geometry:d,material:h,groupOrder:p,renderOrder:l.renderOrder,z:g,group:m},t[e]=v):(v.id=l.id,v.object=l,v.geometry=d,v.material=h,v.groupOrder=p,v.renderOrder=l.renderOrder,v.z=g,v.group=m),e++,v}function s(l,d,h,p,g,m){const v=u(l,d,h,p,g,m);h.transmission>0?i.push(v):h.transparent===!0?r.push(v):n.push(v)}function o(l,d,h,p,g,m){const v=u(l,d,h,p,g,m);h.transmission>0?i.unshift(v):h.transparent===!0?r.unshift(v):n.unshift(v)}function c(l,d){n.length>1&&n.sort(l||kce),i.length>1&&i.sort(d||wC),r.length>1&&r.sort(d||wC)}function f(){for(let l=e,d=t.length;l<d;l++){const h=t[l];if(h.id===null)break;h.id=null,h.object=null,h.geometry=null,h.material=null,h.group=null}}return{opaque:n,transmissive:i,transparent:r,init:a,push:s,unshift:o,finish:f,sort:c}}function Lce(){let t=new WeakMap;function e(i,r){const a=t.get(i);let u;return a===void 0?(u=new CC,t.set(i,[u])):r>=a.length?(u=new CC,a.push(u)):u=a[r],u}function n(){t=new WeakMap}return{get:e,dispose:n}}function Ice(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new $e,color:new Vt};break;case"SpotLight":n={position:new $e,direction:new $e,color:new Vt,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new $e,color:new Vt,distance:0,decay:0};break;case"HemisphereLight":n={direction:new $e,skyColor:new Vt,groundColor:new Vt};break;case"RectAreaLight":n={color:new Vt,position:new $e,halfWidth:new $e,halfHeight:new $e};break}return t[e.id]=n,n}}}function Dce(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Ut,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let Nce=0;function Fce(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function Bce(t,e){const n=new Ice,i=Dce(),r={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let f=0;f<9;f++)r.probe.push(new $e);const a=new $e,u=new Yt,s=new Yt;function o(f,l){let d=0,h=0,p=0;for(let O=0;O<9;O++)r.probe[O].set(0,0,0);let g=0,m=0,v=0,b=0,_=0,S=0,w=0,C=0,x=0,M=0;f.sort(Fce);const E=l===!0?Math.PI:1;for(let O=0,I=f.length;O<I;O++){const $=f[O],H=$.color,B=$.intensity,N=$.distance,k=$.shadow&&$.shadow.map?$.shadow.map.texture:null;if($.isAmbientLight)d+=H.r*B*E,h+=H.g*B*E,p+=H.b*B*E;else if($.isLightProbe)for(let D=0;D<9;D++)r.probe[D].addScaledVector($.sh.coefficients[D],B);else if($.isDirectionalLight){const D=n.get($);if(D.color.copy($.color).multiplyScalar($.intensity*E),$.castShadow){const T=$.shadow,R=i.get($);R.shadowBias=T.bias,R.shadowNormalBias=T.normalBias,R.shadowRadius=T.radius,R.shadowMapSize=T.mapSize,r.directionalShadow[g]=R,r.directionalShadowMap[g]=k,r.directionalShadowMatrix[g]=$.shadow.matrix,S++}r.directional[g]=D,g++}else if($.isSpotLight){const D=n.get($);D.position.setFromMatrixPosition($.matrixWorld),D.color.copy(H).multiplyScalar(B*E),D.distance=N,D.coneCos=Math.cos($.angle),D.penumbraCos=Math.cos($.angle*(1-$.penumbra)),D.decay=$.decay,r.spot[v]=D;const T=$.shadow;if($.map&&(r.spotLightMap[x]=$.map,x++,T.updateMatrices($),$.castShadow&&M++),r.spotLightMatrix[v]=T.matrix,$.castShadow){const R=i.get($);R.shadowBias=T.bias,R.shadowNormalBias=T.normalBias,R.shadowRadius=T.radius,R.shadowMapSize=T.mapSize,r.spotShadow[v]=R,r.spotShadowMap[v]=k,C++}v++}else if($.isRectAreaLight){const D=n.get($);D.color.copy(H).multiplyScalar(B),D.halfWidth.set($.width*.5,0,0),D.halfHeight.set(0,$.height*.5,0),r.rectArea[b]=D,b++}else if($.isPointLight){const D=n.get($);if(D.color.copy($.color).multiplyScalar($.intensity*E),D.distance=$.distance,D.decay=$.decay,$.castShadow){const T=$.shadow,R=i.get($);R.shadowBias=T.bias,R.shadowNormalBias=T.normalBias,R.shadowRadius=T.radius,R.shadowMapSize=T.mapSize,R.shadowCameraNear=T.camera.near,R.shadowCameraFar=T.camera.far,r.pointShadow[m]=R,r.pointShadowMap[m]=k,r.pointShadowMatrix[m]=$.shadow.matrix,w++}r.point[m]=D,m++}else if($.isHemisphereLight){const D=n.get($);D.skyColor.copy($.color).multiplyScalar(B*E),D.groundColor.copy($.groundColor).multiplyScalar(B*E),r.hemi[_]=D,_++}}b>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(r.rectAreaLTC1=dt.LTC_FLOAT_1,r.rectAreaLTC2=dt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(r.rectAreaLTC1=dt.LTC_HALF_1,r.rectAreaLTC2=dt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),r.ambient[0]=d,r.ambient[1]=h,r.ambient[2]=p;const A=r.hash;(A.directionalLength!==g||A.pointLength!==m||A.spotLength!==v||A.rectAreaLength!==b||A.hemiLength!==_||A.numDirectionalShadows!==S||A.numPointShadows!==w||A.numSpotShadows!==C||A.numSpotMaps!==x)&&(r.directional.length=g,r.spot.length=v,r.rectArea.length=b,r.point.length=m,r.hemi.length=_,r.directionalShadow.length=S,r.directionalShadowMap.length=S,r.pointShadow.length=w,r.pointShadowMap.length=w,r.spotShadow.length=C,r.spotShadowMap.length=C,r.directionalShadowMatrix.length=S,r.pointShadowMatrix.length=w,r.spotLightMatrix.length=C+x-M,r.spotLightMap.length=x,r.numSpotLightShadowsWithMaps=M,A.directionalLength=g,A.pointLength=m,A.spotLength=v,A.rectAreaLength=b,A.hemiLength=_,A.numDirectionalShadows=S,A.numPointShadows=w,A.numSpotShadows=C,A.numSpotMaps=x,r.version=Nce++)}function c(f,l){let d=0,h=0,p=0,g=0,m=0;const v=l.matrixWorldInverse;for(let b=0,_=f.length;b<_;b++){const S=f[b];if(S.isDirectionalLight){const w=r.directional[d];w.direction.setFromMatrixPosition(S.matrixWorld),a.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(a),w.direction.transformDirection(v),d++}else if(S.isSpotLight){const w=r.spot[p];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(v),w.direction.setFromMatrixPosition(S.matrixWorld),a.setFromMatrixPosition(S.target.matrixWorld),w.direction.sub(a),w.direction.transformDirection(v),p++}else if(S.isRectAreaLight){const w=r.rectArea[g];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(v),s.identity(),u.copy(S.matrixWorld),u.premultiply(v),s.extractRotation(u),w.halfWidth.set(S.width*.5,0,0),w.halfHeight.set(0,S.height*.5,0),w.halfWidth.applyMatrix4(s),w.halfHeight.applyMatrix4(s),g++}else if(S.isPointLight){const w=r.point[h];w.position.setFromMatrixPosition(S.matrixWorld),w.position.applyMatrix4(v),h++}else if(S.isHemisphereLight){const w=r.hemi[m];w.direction.setFromMatrixPosition(S.matrixWorld),w.direction.transformDirection(v),m++}}}return{setup:o,setupView:c,state:r}}function xC(t,e){const n=new Bce(t,e),i=[],r=[];function a(){i.length=0,r.length=0}function u(l){i.push(l)}function s(l){r.push(l)}function o(l){n.setup(i,l)}function c(l){n.setupView(i,l)}return{init:a,state:{lightsArray:i,shadowsArray:r,lights:n},setupLights:o,setupLightsView:c,pushLight:u,pushShadow:s}}function Uce(t,e){let n=new WeakMap;function i(a,u=0){const s=n.get(a);let o;return s===void 0?(o=new xC(t,e),n.set(a,[o])):u>=s.length?(o=new xC(t,e),s.push(o)):o=s[u],o}function r(){n=new WeakMap}return{get:i,dispose:r}}class Vce extends wr{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=Nre,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class $ce extends wr{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const Hce=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,zce=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function Wce(t,e,n){let i=new by;const r=new Ut,a=new Ut,u=new mn,s=new Vce({depthPacking:Fre}),o=new $ce,c={},f=n.maxTextureSize,l={[bs]:Ri,[Ri]:bs,[vr]:vr},d=new ba({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Ut},radius:{value:4}},vertexShader:Hce,fragmentShader:zce}),h=d.clone();h.defines.HORIZONTAL_PASS=1;const p=new Gr;p.setAttribute("position",new bi(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const g=new Ei(p,d),m=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=vA;let v=this.type;this.render=function(w,C,x){if(m.enabled===!1||m.autoUpdate===!1&&m.needsUpdate===!1||w.length===0)return;const M=t.getRenderTarget(),E=t.getActiveCubeFace(),A=t.getActiveMipmapLevel(),O=t.state;O.setBlending(so),O.buffers.color.setClear(1,1,1,1),O.buffers.depth.setTest(!0),O.setScissorTest(!1);const I=v!==ns&&this.type===ns,$=v===ns&&this.type!==ns;for(let H=0,B=w.length;H<B;H++){const N=w[H],k=N.shadow;if(k===void 0){console.warn("THREE.WebGLShadowMap:",N,"has no shadow.");continue}if(k.autoUpdate===!1&&k.needsUpdate===!1)continue;r.copy(k.mapSize);const D=k.getFrameExtents();if(r.multiply(D),a.copy(k.mapSize),(r.x>f||r.y>f)&&(r.x>f&&(a.x=Math.floor(f/D.x),r.x=a.x*D.x,k.mapSize.x=a.x),r.y>f&&(a.y=Math.floor(f/D.y),r.y=a.y*D.y,k.mapSize.y=a.y)),k.map===null||I===!0||$===!0){const R=this.type!==ns?{minFilter:zn,magFilter:zn}:{};k.map!==null&&k.map.dispose(),k.map=new ya(r.x,r.y,R),k.map.texture.name=N.name+".shadowMap",k.camera.updateProjectionMatrix()}t.setRenderTarget(k.map),t.clear();const T=k.getViewportCount();for(let R=0;R<T;R++){const V=k.getViewport(R);u.set(a.x*V.x,a.y*V.y,a.x*V.z,a.y*V.w),O.viewport(u),k.updateMatrices(N,R),i=k.getFrustum(),S(C,x,k.camera,N,this.type)}k.isPointLightShadow!==!0&&this.type===ns&&b(k,x),k.needsUpdate=!1}v=this.type,m.needsUpdate=!1,t.setRenderTarget(M,E,A)};function b(w,C){const x=e.update(g);d.defines.VSM_SAMPLES!==w.blurSamples&&(d.defines.VSM_SAMPLES=w.blurSamples,h.defines.VSM_SAMPLES=w.blurSamples,d.needsUpdate=!0,h.needsUpdate=!0),w.mapPass===null&&(w.mapPass=new ya(r.x,r.y)),d.uniforms.shadow_pass.value=w.map.texture,d.uniforms.resolution.value=w.mapSize,d.uniforms.radius.value=w.radius,t.setRenderTarget(w.mapPass),t.clear(),t.renderBufferDirect(C,null,x,d,g,null),h.uniforms.shadow_pass.value=w.mapPass.texture,h.uniforms.resolution.value=w.mapSize,h.uniforms.radius.value=w.radius,t.setRenderTarget(w.map),t.clear(),t.renderBufferDirect(C,null,x,h,g,null)}function _(w,C,x,M){let E=null;const A=x.isPointLight===!0?w.customDistanceMaterial:w.customDepthMaterial;if(A!==void 0)E=A;else if(E=x.isPointLight===!0?o:s,t.localClippingEnabled&&C.clipShadows===!0&&Array.isArray(C.clippingPlanes)&&C.clippingPlanes.length!==0||C.displacementMap&&C.displacementScale!==0||C.alphaMap&&C.alphaTest>0||C.map&&C.alphaTest>0){const O=E.uuid,I=C.uuid;let $=c[O];$===void 0&&($={},c[O]=$);let H=$[I];H===void 0&&(H=E.clone(),$[I]=H),E=H}if(E.visible=C.visible,E.wireframe=C.wireframe,M===ns?E.side=C.shadowSide!==null?C.shadowSide:C.side:E.side=C.shadowSide!==null?C.shadowSide:l[C.side],E.alphaMap=C.alphaMap,E.alphaTest=C.alphaTest,E.map=C.map,E.clipShadows=C.clipShadows,E.clippingPlanes=C.clippingPlanes,E.clipIntersection=C.clipIntersection,E.displacementMap=C.displacementMap,E.displacementScale=C.displacementScale,E.displacementBias=C.displacementBias,E.wireframeLinewidth=C.wireframeLinewidth,E.linewidth=C.linewidth,x.isPointLight===!0&&E.isMeshDistanceMaterial===!0){const O=t.properties.get(E);O.light=x}return E}function S(w,C,x,M,E){if(w.visible===!1)return;if(w.layers.test(C.layers)&&(w.isMesh||w.isLine||w.isPoints)&&(w.castShadow||w.receiveShadow&&E===ns)&&(!w.frustumCulled||i.intersectsObject(w))){w.modelViewMatrix.multiplyMatrices(x.matrixWorldInverse,w.matrixWorld);const I=e.update(w),$=w.material;if(Array.isArray($)){const H=I.groups;for(let B=0,N=H.length;B<N;B++){const k=H[B],D=$[k.materialIndex];if(D&&D.visible){const T=_(w,D,M,E);t.renderBufferDirect(x,null,I,T,w,k)}}}else if($.visible){const H=_(w,$,M,E);t.renderBufferDirect(x,null,I,H,w,null)}}const O=w.children;for(let I=0,$=O.length;I<$;I++)S(O[I],C,x,M,E)}}function Gce(t,e,n){const i=n.isWebGL2;function r(){let be=!1;const He=new mn;let Ye=null;const st=new mn(0,0,0,0);return{setMask:function(Ze){Ye!==Ze&&!be&&(t.colorMask(Ze,Ze,Ze,Ze),Ye=Ze)},setLocked:function(Ze){be=Ze},setClear:function(Ze,At,tn,En,Hi){Hi===!0&&(Ze*=En,At*=En,tn*=En),He.set(Ze,At,tn,En),st.equals(He)===!1&&(t.clearColor(Ze,At,tn,En),st.copy(He))},reset:function(){be=!1,Ye=null,st.set(-1,0,0,0)}}}function a(){let be=!1,He=null,Ye=null,st=null;return{setTest:function(Ze){Ze?z(t.DEPTH_TEST):ee(t.DEPTH_TEST)},setMask:function(Ze){He!==Ze&&!be&&(t.depthMask(Ze),He=Ze)},setFunc:function(Ze){if(Ye!==Ze){switch(Ze){case sre:t.depthFunc(t.NEVER);break;case ore:t.depthFunc(t.ALWAYS);break;case are:t.depthFunc(t.LESS);break;case qg:t.depthFunc(t.LEQUAL);break;case lre:t.depthFunc(t.EQUAL);break;case cre:t.depthFunc(t.GEQUAL);break;case ure:t.depthFunc(t.GREATER);break;case dre:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}Ye=Ze}},setLocked:function(Ze){be=Ze},setClear:function(Ze){st!==Ze&&(t.clearDepth(Ze),st=Ze)},reset:function(){be=!1,He=null,Ye=null,st=null}}}function u(){let be=!1,He=null,Ye=null,st=null,Ze=null,At=null,tn=null,En=null,Hi=null;return{setTest:function(sn){be||(sn?z(t.STENCIL_TEST):ee(t.STENCIL_TEST))},setMask:function(sn){He!==sn&&!be&&(t.stencilMask(sn),He=sn)},setFunc:function(sn,Gn,ci){(Ye!==sn||st!==Gn||Ze!==ci)&&(t.stencilFunc(sn,Gn,ci),Ye=sn,st=Gn,Ze=ci)},setOp:function(sn,Gn,ci){(At!==sn||tn!==Gn||En!==ci)&&(t.stencilOp(sn,Gn,ci),At=sn,tn=Gn,En=ci)},setLocked:function(sn){be=sn},setClear:function(sn){Hi!==sn&&(t.clearStencil(sn),Hi=sn)},reset:function(){be=!1,He=null,Ye=null,st=null,Ze=null,At=null,tn=null,En=null,Hi=null}}}const s=new r,o=new a,c=new u,f=new WeakMap,l=new WeakMap;let d={},h={},p=new WeakMap,g=[],m=null,v=!1,b=null,_=null,S=null,w=null,C=null,x=null,M=null,E=!1,A=null,O=null,I=null,$=null,H=null;const B=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let N=!1,k=0;const D=t.getParameter(t.VERSION);D.indexOf("WebGL")!==-1?(k=parseFloat(/^WebGL (\d)/.exec(D)[1]),N=k>=1):D.indexOf("OpenGL ES")!==-1&&(k=parseFloat(/^OpenGL ES (\d)/.exec(D)[1]),N=k>=2);let T=null,R={};const V=t.getParameter(t.SCISSOR_BOX),U=t.getParameter(t.VIEWPORT),X=new mn().fromArray(V),W=new mn().fromArray(U);function j(be,He,Ye,st){const Ze=new Uint8Array(4),At=t.createTexture();t.bindTexture(be,At),t.texParameteri(be,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(be,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let tn=0;tn<Ye;tn++)i&&(be===t.TEXTURE_3D||be===t.TEXTURE_2D_ARRAY)?t.texImage3D(He,0,t.RGBA,1,1,st,0,t.RGBA,t.UNSIGNED_BYTE,Ze):t.texImage2D(He+tn,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ze);return At}const K={};K[t.TEXTURE_2D]=j(t.TEXTURE_2D,t.TEXTURE_2D,1),K[t.TEXTURE_CUBE_MAP]=j(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),i&&(K[t.TEXTURE_2D_ARRAY]=j(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),K[t.TEXTURE_3D]=j(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),s.setClear(0,0,0,1),o.setClear(1),c.setClear(0),z(t.DEPTH_TEST),o.setFunc(qg),pe(!1),re(lw),z(t.CULL_FACE),J(so);function z(be){d[be]!==!0&&(t.enable(be),d[be]=!0)}function ee(be){d[be]!==!1&&(t.disable(be),d[be]=!1)}function ue(be,He){return h[be]!==He?(t.bindFramebuffer(be,He),h[be]=He,i&&(be===t.DRAW_FRAMEBUFFER&&(h[t.FRAMEBUFFER]=He),be===t.FRAMEBUFFER&&(h[t.DRAW_FRAMEBUFFER]=He)),!0):!1}function ne(be,He){let Ye=g,st=!1;if(be)if(Ye=p.get(He),Ye===void 0&&(Ye=[],p.set(He,Ye)),be.isWebGLMultipleRenderTargets){const Ze=be.texture;if(Ye.length!==Ze.length||Ye[0]!==t.COLOR_ATTACHMENT0){for(let At=0,tn=Ze.length;At<tn;At++)Ye[At]=t.COLOR_ATTACHMENT0+At;Ye.length=Ze.length,st=!0}}else Ye[0]!==t.COLOR_ATTACHMENT0&&(Ye[0]=t.COLOR_ATTACHMENT0,st=!0);else Ye[0]!==t.BACK&&(Ye[0]=t.BACK,st=!0);st&&(n.isWebGL2?t.drawBuffers(Ye):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(Ye))}function le(be){return m!==be?(t.useProgram(be),m=be,!0):!1}const Me={[sl]:t.FUNC_ADD,[Kie]:t.FUNC_SUBTRACT,[Yie]:t.FUNC_REVERSE_SUBTRACT};if(i)Me[fw]=t.MIN,Me[hw]=t.MAX;else{const be=e.get("EXT_blend_minmax");be!==null&&(Me[fw]=be.MIN_EXT,Me[hw]=be.MAX_EXT)}const q={[qie]:t.ZERO,[Zie]:t.ONE,[Jie]:t.SRC_COLOR,[yA]:t.SRC_ALPHA,[rre]:t.SRC_ALPHA_SATURATE,[nre]:t.DST_COLOR,[ere]:t.DST_ALPHA,[Qie]:t.ONE_MINUS_SRC_COLOR,[bA]:t.ONE_MINUS_SRC_ALPHA,[ire]:t.ONE_MINUS_DST_COLOR,[tre]:t.ONE_MINUS_DST_ALPHA};function J(be,He,Ye,st,Ze,At,tn,En){if(be===so){v===!0&&(ee(t.BLEND),v=!1);return}if(v===!1&&(z(t.BLEND),v=!0),be!==Xie){if(be!==b||En!==E){if((_!==sl||C!==sl)&&(t.blendEquation(t.FUNC_ADD),_=sl,C=sl),En)switch(be){case _l:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case cw:t.blendFunc(t.ONE,t.ONE);break;case uw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case dw:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}else switch(be){case _l:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case cw:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case uw:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case dw:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",be);break}S=null,w=null,x=null,M=null,b=be,E=En}return}Ze=Ze||He,At=At||Ye,tn=tn||st,(He!==_||Ze!==C)&&(t.blendEquationSeparate(Me[He],Me[Ze]),_=He,C=Ze),(Ye!==S||st!==w||At!==x||tn!==M)&&(t.blendFuncSeparate(q[Ye],q[st],q[At],q[tn]),S=Ye,w=st,x=At,M=tn),b=be,E=!1}function ce(be,He){be.side===vr?ee(t.CULL_FACE):z(t.CULL_FACE);let Ye=be.side===Ri;He&&(Ye=!Ye),pe(Ye),be.blending===_l&&be.transparent===!1?J(so):J(be.blending,be.blendEquation,be.blendSrc,be.blendDst,be.blendEquationAlpha,be.blendSrcAlpha,be.blendDstAlpha,be.premultipliedAlpha),o.setFunc(be.depthFunc),o.setTest(be.depthTest),o.setMask(be.depthWrite),s.setMask(be.colorWrite);const st=be.stencilWrite;c.setTest(st),st&&(c.setMask(be.stencilWriteMask),c.setFunc(be.stencilFunc,be.stencilRef,be.stencilFuncMask),c.setOp(be.stencilFail,be.stencilZFail,be.stencilZPass)),Ce(be.polygonOffset,be.polygonOffsetFactor,be.polygonOffsetUnits),be.alphaToCoverage===!0?z(t.SAMPLE_ALPHA_TO_COVERAGE):ee(t.SAMPLE_ALPHA_TO_COVERAGE)}function pe(be){A!==be&&(be?t.frontFace(t.CW):t.frontFace(t.CCW),A=be)}function re(be){be!==Wie?(z(t.CULL_FACE),be!==O&&(be===lw?t.cullFace(t.BACK):be===Gie?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):ee(t.CULL_FACE),O=be}function he(be){be!==I&&(N&&t.lineWidth(be),I=be)}function Ce(be,He,Ye){be?(z(t.POLYGON_OFFSET_FILL),($!==He||H!==Ye)&&(t.polygonOffset(He,Ye),$=He,H=Ye)):ee(t.POLYGON_OFFSET_FILL)}function Oe(be){be?z(t.SCISSOR_TEST):ee(t.SCISSOR_TEST)}function ke(be){be===void 0&&(be=t.TEXTURE0+B-1),T!==be&&(t.activeTexture(be),T=be)}function G(be,He,Ye){Ye===void 0&&(T===null?Ye=t.TEXTURE0+B-1:Ye=T);let st=R[Ye];st===void 0&&(st={type:void 0,texture:void 0},R[Ye]=st),(st.type!==be||st.texture!==He)&&(T!==Ye&&(t.activeTexture(Ye),T=Ye),t.bindTexture(be,He||K[be]),st.type=be,st.texture=He)}function Z(){const be=R[T];be!==void 0&&be.type!==void 0&&(t.bindTexture(be.type,null),be.type=void 0,be.texture=void 0)}function _e(){try{t.compressedTexImage2D.apply(t,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function de(){try{t.compressedTexImage3D.apply(t,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Re(){try{t.texSubImage2D.apply(t,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Fe(){try{t.texSubImage3D.apply(t,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function ye(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Ne(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Ae(){try{t.texStorage2D.apply(t,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function Te(){try{t.texStorage3D.apply(t,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function ae(){try{t.texImage2D.apply(t,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function fe(){try{t.texImage3D.apply(t,arguments)}catch(be){console.error("THREE.WebGLState:",be)}}function ie(be){X.equals(be)===!1&&(t.scissor(be.x,be.y,be.z,be.w),X.copy(be))}function ge(be){W.equals(be)===!1&&(t.viewport(be.x,be.y,be.z,be.w),W.copy(be))}function De(be,He){let Ye=l.get(He);Ye===void 0&&(Ye=new WeakMap,l.set(He,Ye));let st=Ye.get(be);st===void 0&&(st=t.getUniformBlockIndex(He,be.name),Ye.set(be,st))}function me(be,He){const st=l.get(He).get(be);f.get(He)!==st&&(t.uniformBlockBinding(He,st,be.__bindingPointIndex),f.set(He,st))}function Xe(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),i===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},T=null,R={},h={},p=new WeakMap,g=[],m=null,v=!1,b=null,_=null,S=null,w=null,C=null,x=null,M=null,E=!1,A=null,O=null,I=null,$=null,H=null,X.set(0,0,t.canvas.width,t.canvas.height),W.set(0,0,t.canvas.width,t.canvas.height),s.reset(),o.reset(),c.reset()}return{buffers:{color:s,depth:o,stencil:c},enable:z,disable:ee,bindFramebuffer:ue,drawBuffers:ne,useProgram:le,setBlending:J,setMaterial:ce,setFlipSided:pe,setCullFace:re,setLineWidth:he,setPolygonOffset:Ce,setScissorTest:Oe,activeTexture:ke,bindTexture:G,unbindTexture:Z,compressedTexImage2D:_e,compressedTexImage3D:de,texImage2D:ae,texImage3D:fe,updateUBOMapping:De,uniformBlockBinding:me,texStorage2D:Ae,texStorage3D:Te,texSubImage2D:Re,texSubImage3D:Fe,compressedTexSubImage2D:ye,compressedTexSubImage3D:Ne,scissor:ie,viewport:ge,reset:Xe}}function jce(t,e,n,i,r,a,u){const s=r.isWebGL2,o=r.maxTextures,c=r.maxCubemapSize,f=r.maxTextureSize,l=r.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,h=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),p=new WeakMap;let g;const m=new WeakMap;let v=!1;try{v=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function b(G,Z){return v?new OffscreenCanvas(G,Z):Fu("canvas")}function _(G,Z,_e,de){let Re=1;if((G.width>de||G.height>de)&&(Re=de/Math.max(G.width,G.height)),Re<1||Z===!0)if(typeof HTMLImageElement<"u"&&G instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&G instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&G instanceof ImageBitmap){const Fe=Z?MA:Math.floor,ye=Fe(Re*G.width),Ne=Fe(Re*G.height);g===void 0&&(g=b(ye,Ne));const Ae=_e?b(ye,Ne):g;return Ae.width=ye,Ae.height=Ne,Ae.getContext("2d").drawImage(G,0,0,ye,Ne),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+G.width+"x"+G.height+") to ("+ye+"x"+Ne+")."),Ae}else return"data"in G&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+G.width+"x"+G.height+")."),G;return G}function S(G){return iv(G.width)&&iv(G.height)}function w(G){return s?!1:G.wrapS!==Yi||G.wrapT!==Yi||G.minFilter!==zn&&G.minFilter!==ni}function C(G,Z){return G.generateMipmaps&&Z&&G.minFilter!==zn&&G.minFilter!==ni}function x(G){t.generateMipmap(G)}function M(G,Z,_e,de,Re=!1){if(s===!1)return Z;if(G!==null){if(t[G]!==void 0)return t[G];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+G+"'")}let Fe=Z;return Z===t.RED&&(_e===t.FLOAT&&(Fe=t.R32F),_e===t.HALF_FLOAT&&(Fe=t.R16F),_e===t.UNSIGNED_BYTE&&(Fe=t.R8)),Z===t.RG&&(_e===t.FLOAT&&(Fe=t.RG32F),_e===t.HALF_FLOAT&&(Fe=t.RG16F),_e===t.UNSIGNED_BYTE&&(Fe=t.RG8)),Z===t.RGBA&&(_e===t.FLOAT&&(Fe=t.RGBA32F),_e===t.HALF_FLOAT&&(Fe=t.RGBA16F),_e===t.UNSIGNED_BYTE&&(Fe=de===Ft&&Re===!1?t.SRGB8_ALPHA8:t.RGBA8),_e===t.UNSIGNED_SHORT_4_4_4_4&&(Fe=t.RGBA4),_e===t.UNSIGNED_SHORT_5_5_5_1&&(Fe=t.RGB5_A1)),(Fe===t.R16F||Fe===t.R32F||Fe===t.RG16F||Fe===t.RG32F||Fe===t.RGBA16F||Fe===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Fe}function E(G,Z,_e){return C(G,_e)===!0||G.isFramebufferTexture&&G.minFilter!==zn&&G.minFilter!==ni?Math.log2(Math.max(Z.width,Z.height))+1:G.mipmaps!==void 0&&G.mipmaps.length>0?G.mipmaps.length:G.isCompressedTexture&&Array.isArray(G.image)?Z.mipmaps.length:1}function A(G){return G===zn||G===Qg||G===Ff?t.NEAREST:t.LINEAR}function O(G){const Z=G.target;Z.removeEventListener("dispose",O),$(Z),Z.isVideoTexture&&p.delete(Z)}function I(G){const Z=G.target;Z.removeEventListener("dispose",I),B(Z)}function $(G){const Z=i.get(G);if(Z.__webglInit===void 0)return;const _e=G.source,de=m.get(_e);if(de){const Re=de[Z.__cacheKey];Re.usedTimes--,Re.usedTimes===0&&H(G),Object.keys(de).length===0&&m.delete(_e)}i.remove(G)}function H(G){const Z=i.get(G);t.deleteTexture(Z.__webglTexture);const _e=G.source,de=m.get(_e);delete de[Z.__cacheKey],u.memory.textures--}function B(G){const Z=G.texture,_e=i.get(G),de=i.get(Z);if(de.__webglTexture!==void 0&&(t.deleteTexture(de.__webglTexture),u.memory.textures--),G.depthTexture&&G.depthTexture.dispose(),G.isWebGLCubeRenderTarget)for(let Re=0;Re<6;Re++)t.deleteFramebuffer(_e.__webglFramebuffer[Re]),_e.__webglDepthbuffer&&t.deleteRenderbuffer(_e.__webglDepthbuffer[Re]);else{if(t.deleteFramebuffer(_e.__webglFramebuffer),_e.__webglDepthbuffer&&t.deleteRenderbuffer(_e.__webglDepthbuffer),_e.__webglMultisampledFramebuffer&&t.deleteFramebuffer(_e.__webglMultisampledFramebuffer),_e.__webglColorRenderbuffer)for(let Re=0;Re<_e.__webglColorRenderbuffer.length;Re++)_e.__webglColorRenderbuffer[Re]&&t.deleteRenderbuffer(_e.__webglColorRenderbuffer[Re]);_e.__webglDepthRenderbuffer&&t.deleteRenderbuffer(_e.__webglDepthRenderbuffer)}if(G.isWebGLMultipleRenderTargets)for(let Re=0,Fe=Z.length;Re<Fe;Re++){const ye=i.get(Z[Re]);ye.__webglTexture&&(t.deleteTexture(ye.__webglTexture),u.memory.textures--),i.remove(Z[Re])}i.remove(Z),i.remove(G)}let N=0;function k(){N=0}function D(){const G=N;return G>=o&&console.warn("THREE.WebGLTextures: Trying to use "+G+" texture units while this GPU supports only "+o),N+=1,G}function T(G){const Z=[];return Z.push(G.wrapS),Z.push(G.wrapT),Z.push(G.wrapR||0),Z.push(G.magFilter),Z.push(G.minFilter),Z.push(G.anisotropy),Z.push(G.internalFormat),Z.push(G.format),Z.push(G.type),Z.push(G.generateMipmaps),Z.push(G.premultiplyAlpha),Z.push(G.flipY),Z.push(G.unpackAlignment),Z.push(G.colorSpace),Z.join()}function R(G,Z){const _e=i.get(G);if(G.isVideoTexture&&Oe(G),G.isRenderTargetTexture===!1&&G.version>0&&_e.__version!==G.version){const de=G.image;if(de===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(de.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{ee(_e,G,Z);return}}n.bindTexture(t.TEXTURE_2D,_e.__webglTexture,t.TEXTURE0+Z)}function V(G,Z){const _e=i.get(G);if(G.version>0&&_e.__version!==G.version){ee(_e,G,Z);return}n.bindTexture(t.TEXTURE_2D_ARRAY,_e.__webglTexture,t.TEXTURE0+Z)}function U(G,Z){const _e=i.get(G);if(G.version>0&&_e.__version!==G.version){ee(_e,G,Z);return}n.bindTexture(t.TEXTURE_3D,_e.__webglTexture,t.TEXTURE0+Z)}function X(G,Z){const _e=i.get(G);if(G.version>0&&_e.__version!==G.version){ue(_e,G,Z);return}n.bindTexture(t.TEXTURE_CUBE_MAP,_e.__webglTexture,t.TEXTURE0+Z)}const W={[jl]:t.REPEAT,[Yi]:t.CLAMP_TO_EDGE,[Xl]:t.MIRRORED_REPEAT},j={[zn]:t.NEAREST,[Qg]:t.NEAREST_MIPMAP_NEAREST,[Ff]:t.NEAREST_MIPMAP_LINEAR,[ni]:t.LINEAR,[SA]:t.LINEAR_MIPMAP_NEAREST,[ga]:t.LINEAR_MIPMAP_LINEAR};function K(G,Z,_e){if(_e?(t.texParameteri(G,t.TEXTURE_WRAP_S,W[Z.wrapS]),t.texParameteri(G,t.TEXTURE_WRAP_T,W[Z.wrapT]),(G===t.TEXTURE_3D||G===t.TEXTURE_2D_ARRAY)&&t.texParameteri(G,t.TEXTURE_WRAP_R,W[Z.wrapR]),t.texParameteri(G,t.TEXTURE_MAG_FILTER,j[Z.magFilter]),t.texParameteri(G,t.TEXTURE_MIN_FILTER,j[Z.minFilter])):(t.texParameteri(G,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(G,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(G===t.TEXTURE_3D||G===t.TEXTURE_2D_ARRAY)&&t.texParameteri(G,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(Z.wrapS!==Yi||Z.wrapT!==Yi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(G,t.TEXTURE_MAG_FILTER,A(Z.magFilter)),t.texParameteri(G,t.TEXTURE_MIN_FILTER,A(Z.minFilter)),Z.minFilter!==zn&&Z.minFilter!==ni&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),e.has("EXT_texture_filter_anisotropic")===!0){const de=e.get("EXT_texture_filter_anisotropic");if(Z.magFilter===zn||Z.minFilter!==Ff&&Z.minFilter!==ga||Z.type===eo&&e.has("OES_texture_float_linear")===!1||s===!1&&Z.type===Du&&e.has("OES_texture_half_float_linear")===!1)return;(Z.anisotropy>1||i.get(Z).__currentAnisotropy)&&(t.texParameterf(G,de.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Z.anisotropy,r.getMaxAnisotropy())),i.get(Z).__currentAnisotropy=Z.anisotropy)}}function z(G,Z){let _e=!1;G.__webglInit===void 0&&(G.__webglInit=!0,Z.addEventListener("dispose",O));const de=Z.source;let Re=m.get(de);Re===void 0&&(Re={},m.set(de,Re));const Fe=T(Z);if(Fe!==G.__cacheKey){Re[Fe]===void 0&&(Re[Fe]={texture:t.createTexture(),usedTimes:0},u.memory.textures++,_e=!0),Re[Fe].usedTimes++;const ye=Re[G.__cacheKey];ye!==void 0&&(Re[G.__cacheKey].usedTimes--,ye.usedTimes===0&&H(Z)),G.__cacheKey=Fe,G.__webglTexture=Re[Fe].texture}return _e}function ee(G,Z,_e){let de=t.TEXTURE_2D;(Z.isDataArrayTexture||Z.isCompressedArrayTexture)&&(de=t.TEXTURE_2D_ARRAY),Z.isData3DTexture&&(de=t.TEXTURE_3D);const Re=z(G,Z),Fe=Z.source;n.bindTexture(de,G.__webglTexture,t.TEXTURE0+_e);const ye=i.get(Fe);if(Fe.version!==ye.__version||Re===!0){n.activeTexture(t.TEXTURE0+_e),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const Ne=w(Z)&&S(Z.image)===!1;let Ae=_(Z.image,Ne,!1,f);Ae=ke(Z,Ae);const Te=S(Ae)||s,ae=a.convert(Z.format,Z.colorSpace);let fe=a.convert(Z.type),ie=M(Z.internalFormat,ae,fe,Z.colorSpace);K(de,Z,Te);let ge;const De=Z.mipmaps,me=s&&Z.isVideoTexture!==!0,Xe=ye.__version===void 0||Re===!0,be=E(Z,Ae,Te);if(Z.isDepthTexture)ie=t.DEPTH_COMPONENT,s?Z.type===eo?ie=t.DEPTH_COMPONENT32F:Z.type===Ko?ie=t.DEPTH_COMPONENT24:Z.type===Sl?ie=t.DEPTH24_STENCIL8:ie=t.DEPTH_COMPONENT16:Z.type===eo&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Z.format===ra&&ie===t.DEPTH_COMPONENT&&Z.type!==wA&&Z.type!==Ko&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Z.type=Ko,fe=a.convert(Z.type)),Z.format===Kl&&ie===t.DEPTH_COMPONENT&&(ie=t.DEPTH_STENCIL,Z.type!==Sl&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Z.type=Sl,fe=a.convert(Z.type))),Xe&&(me?n.texStorage2D(t.TEXTURE_2D,1,ie,Ae.width,Ae.height):n.texImage2D(t.TEXTURE_2D,0,ie,Ae.width,Ae.height,0,ae,fe,null));else if(Z.isDataTexture)if(De.length>0&&Te){me&&Xe&&n.texStorage2D(t.TEXTURE_2D,be,ie,De[0].width,De[0].height);for(let He=0,Ye=De.length;He<Ye;He++)ge=De[He],me?n.texSubImage2D(t.TEXTURE_2D,He,0,0,ge.width,ge.height,ae,fe,ge.data):n.texImage2D(t.TEXTURE_2D,He,ie,ge.width,ge.height,0,ae,fe,ge.data);Z.generateMipmaps=!1}else me?(Xe&&n.texStorage2D(t.TEXTURE_2D,be,ie,Ae.width,Ae.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ae.width,Ae.height,ae,fe,Ae.data)):n.texImage2D(t.TEXTURE_2D,0,ie,Ae.width,Ae.height,0,ae,fe,Ae.data);else if(Z.isCompressedTexture)if(Z.isCompressedArrayTexture){me&&Xe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,be,ie,De[0].width,De[0].height,Ae.depth);for(let He=0,Ye=De.length;He<Ye;He++)ge=De[He],Z.format!==qi?ae!==null?me?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,He,0,0,0,ge.width,ge.height,Ae.depth,ae,ge.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,He,ie,ge.width,ge.height,Ae.depth,0,ge.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?n.texSubImage3D(t.TEXTURE_2D_ARRAY,He,0,0,0,ge.width,ge.height,Ae.depth,ae,fe,ge.data):n.texImage3D(t.TEXTURE_2D_ARRAY,He,ie,ge.width,ge.height,Ae.depth,0,ae,fe,ge.data)}else{me&&Xe&&n.texStorage2D(t.TEXTURE_2D,be,ie,De[0].width,De[0].height);for(let He=0,Ye=De.length;He<Ye;He++)ge=De[He],Z.format!==qi?ae!==null?me?n.compressedTexSubImage2D(t.TEXTURE_2D,He,0,0,ge.width,ge.height,ae,ge.data):n.compressedTexImage2D(t.TEXTURE_2D,He,ie,ge.width,ge.height,0,ge.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):me?n.texSubImage2D(t.TEXTURE_2D,He,0,0,ge.width,ge.height,ae,fe,ge.data):n.texImage2D(t.TEXTURE_2D,He,ie,ge.width,ge.height,0,ae,fe,ge.data)}else if(Z.isDataArrayTexture)me?(Xe&&n.texStorage3D(t.TEXTURE_2D_ARRAY,be,ie,Ae.width,Ae.height,Ae.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ae.width,Ae.height,Ae.depth,ae,fe,Ae.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,ie,Ae.width,Ae.height,Ae.depth,0,ae,fe,Ae.data);else if(Z.isData3DTexture)me?(Xe&&n.texStorage3D(t.TEXTURE_3D,be,ie,Ae.width,Ae.height,Ae.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ae.width,Ae.height,Ae.depth,ae,fe,Ae.data)):n.texImage3D(t.TEXTURE_3D,0,ie,Ae.width,Ae.height,Ae.depth,0,ae,fe,Ae.data);else if(Z.isFramebufferTexture){if(Xe)if(me)n.texStorage2D(t.TEXTURE_2D,be,ie,Ae.width,Ae.height);else{let He=Ae.width,Ye=Ae.height;for(let st=0;st<be;st++)n.texImage2D(t.TEXTURE_2D,st,ie,He,Ye,0,ae,fe,null),He>>=1,Ye>>=1}}else if(De.length>0&&Te){me&&Xe&&n.texStorage2D(t.TEXTURE_2D,be,ie,De[0].width,De[0].height);for(let He=0,Ye=De.length;He<Ye;He++)ge=De[He],me?n.texSubImage2D(t.TEXTURE_2D,He,0,0,ae,fe,ge):n.texImage2D(t.TEXTURE_2D,He,ie,ae,fe,ge);Z.generateMipmaps=!1}else me?(Xe&&n.texStorage2D(t.TEXTURE_2D,be,ie,Ae.width,Ae.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,ae,fe,Ae)):n.texImage2D(t.TEXTURE_2D,0,ie,ae,fe,Ae);C(Z,Te)&&x(de),ye.__version=Fe.version,Z.onUpdate&&Z.onUpdate(Z)}G.__version=Z.version}function ue(G,Z,_e){if(Z.image.length!==6)return;const de=z(G,Z),Re=Z.source;n.bindTexture(t.TEXTURE_CUBE_MAP,G.__webglTexture,t.TEXTURE0+_e);const Fe=i.get(Re);if(Re.version!==Fe.__version||de===!0){n.activeTexture(t.TEXTURE0+_e),t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,Z.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Z.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,Z.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,t.NONE);const ye=Z.isCompressedTexture||Z.image[0].isCompressedTexture,Ne=Z.image[0]&&Z.image[0].isDataTexture,Ae=[];for(let He=0;He<6;He++)!ye&&!Ne?Ae[He]=_(Z.image[He],!1,!0,c):Ae[He]=Ne?Z.image[He].image:Z.image[He],Ae[He]=ke(Z,Ae[He]);const Te=Ae[0],ae=S(Te)||s,fe=a.convert(Z.format,Z.colorSpace),ie=a.convert(Z.type),ge=M(Z.internalFormat,fe,ie,Z.colorSpace),De=s&&Z.isVideoTexture!==!0,me=Fe.__version===void 0||de===!0;let Xe=E(Z,Te,ae);K(t.TEXTURE_CUBE_MAP,Z,ae);let be;if(ye){De&&me&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Xe,ge,Te.width,Te.height);for(let He=0;He<6;He++){be=Ae[He].mipmaps;for(let Ye=0;Ye<be.length;Ye++){const st=be[Ye];Z.format!==qi?fe!==null?De?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Ye,0,0,st.width,st.height,fe,st.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Ye,ge,st.width,st.height,0,st.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):De?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Ye,0,0,st.width,st.height,fe,ie,st.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Ye,ge,st.width,st.height,0,fe,ie,st.data)}}}else{be=Z.mipmaps,De&&me&&(be.length>0&&Xe++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Xe,ge,Ae[0].width,Ae[0].height));for(let He=0;He<6;He++)if(Ne){De?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,Ae[He].width,Ae[He].height,fe,ie,Ae[He].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,ge,Ae[He].width,Ae[He].height,0,fe,ie,Ae[He].data);for(let Ye=0;Ye<be.length;Ye++){const Ze=be[Ye].image[He].image;De?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Ye+1,0,0,Ze.width,Ze.height,fe,ie,Ze.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Ye+1,ge,Ze.width,Ze.height,0,fe,ie,Ze.data)}}else{De?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,0,0,fe,ie,Ae[He]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,0,ge,fe,ie,Ae[He]);for(let Ye=0;Ye<be.length;Ye++){const st=be[Ye];De?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Ye+1,0,0,fe,ie,st.image[He]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+He,Ye+1,ge,fe,ie,st.image[He])}}}C(Z,ae)&&x(t.TEXTURE_CUBE_MAP),Fe.__version=Re.version,Z.onUpdate&&Z.onUpdate(Z)}G.__version=Z.version}function ne(G,Z,_e,de,Re){const Fe=a.convert(_e.format,_e.colorSpace),ye=a.convert(_e.type),Ne=M(_e.internalFormat,Fe,ye,_e.colorSpace);i.get(Z).__hasExternalTextures||(Re===t.TEXTURE_3D||Re===t.TEXTURE_2D_ARRAY?n.texImage3D(Re,0,Ne,Z.width,Z.height,Z.depth,0,Fe,ye,null):n.texImage2D(Re,0,Ne,Z.width,Z.height,0,Fe,ye,null)),n.bindFramebuffer(t.FRAMEBUFFER,G),Ce(Z)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,de,Re,i.get(_e).__webglTexture,0,he(Z)):(Re===t.TEXTURE_2D||Re>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&Re<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,de,Re,i.get(_e).__webglTexture,0),n.bindFramebuffer(t.FRAMEBUFFER,null)}function le(G,Z,_e){if(t.bindRenderbuffer(t.RENDERBUFFER,G),Z.depthBuffer&&!Z.stencilBuffer){let de=t.DEPTH_COMPONENT16;if(_e||Ce(Z)){const Re=Z.depthTexture;Re&&Re.isDepthTexture&&(Re.type===eo?de=t.DEPTH_COMPONENT32F:Re.type===Ko&&(de=t.DEPTH_COMPONENT24));const Fe=he(Z);Ce(Z)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Fe,de,Z.width,Z.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Fe,de,Z.width,Z.height)}else t.renderbufferStorage(t.RENDERBUFFER,de,Z.width,Z.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,G)}else if(Z.depthBuffer&&Z.stencilBuffer){const de=he(Z);_e&&Ce(Z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,de,t.DEPTH24_STENCIL8,Z.width,Z.height):Ce(Z)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,de,t.DEPTH24_STENCIL8,Z.width,Z.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,Z.width,Z.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,G)}else{const de=Z.isWebGLMultipleRenderTargets===!0?Z.texture:[Z.texture];for(let Re=0;Re<de.length;Re++){const Fe=de[Re],ye=a.convert(Fe.format,Fe.colorSpace),Ne=a.convert(Fe.type),Ae=M(Fe.internalFormat,ye,Ne,Fe.colorSpace),Te=he(Z);_e&&Ce(Z)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Te,Ae,Z.width,Z.height):Ce(Z)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Te,Ae,Z.width,Z.height):t.renderbufferStorage(t.RENDERBUFFER,Ae,Z.width,Z.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function Me(G,Z){if(Z&&Z.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,G),!(Z.depthTexture&&Z.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!i.get(Z.depthTexture).__webglTexture||Z.depthTexture.image.width!==Z.width||Z.depthTexture.image.height!==Z.height)&&(Z.depthTexture.image.width=Z.width,Z.depthTexture.image.height=Z.height,Z.depthTexture.needsUpdate=!0),R(Z.depthTexture,0);const de=i.get(Z.depthTexture).__webglTexture,Re=he(Z);if(Z.depthTexture.format===ra)Ce(Z)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,de,0,Re):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,de,0);else if(Z.depthTexture.format===Kl)Ce(Z)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,de,0,Re):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,de,0);else throw new Error("Unknown depthTexture format")}function q(G){const Z=i.get(G),_e=G.isWebGLCubeRenderTarget===!0;if(G.depthTexture&&!Z.__autoAllocateDepthBuffer){if(_e)throw new Error("target.depthTexture not supported in Cube render targets");Me(Z.__webglFramebuffer,G)}else if(_e){Z.__webglDepthbuffer=[];for(let de=0;de<6;de++)n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer[de]),Z.__webglDepthbuffer[de]=t.createRenderbuffer(),le(Z.__webglDepthbuffer[de],G,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,Z.__webglFramebuffer),Z.__webglDepthbuffer=t.createRenderbuffer(),le(Z.__webglDepthbuffer,G,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function J(G,Z,_e){const de=i.get(G);Z!==void 0&&ne(de.__webglFramebuffer,G,G.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D),_e!==void 0&&q(G)}function ce(G){const Z=G.texture,_e=i.get(G),de=i.get(Z);G.addEventListener("dispose",I),G.isWebGLMultipleRenderTargets!==!0&&(de.__webglTexture===void 0&&(de.__webglTexture=t.createTexture()),de.__version=Z.version,u.memory.textures++);const Re=G.isWebGLCubeRenderTarget===!0,Fe=G.isWebGLMultipleRenderTargets===!0,ye=S(G)||s;if(Re){_e.__webglFramebuffer=[];for(let Ne=0;Ne<6;Ne++)_e.__webglFramebuffer[Ne]=t.createFramebuffer()}else{if(_e.__webglFramebuffer=t.createFramebuffer(),Fe)if(r.drawBuffers){const Ne=G.texture;for(let Ae=0,Te=Ne.length;Ae<Te;Ae++){const ae=i.get(Ne[Ae]);ae.__webglTexture===void 0&&(ae.__webglTexture=t.createTexture(),u.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(s&&G.samples>0&&Ce(G)===!1){const Ne=Fe?Z:[Z];_e.__webglMultisampledFramebuffer=t.createFramebuffer(),_e.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,_e.__webglMultisampledFramebuffer);for(let Ae=0;Ae<Ne.length;Ae++){const Te=Ne[Ae];_e.__webglColorRenderbuffer[Ae]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,_e.__webglColorRenderbuffer[Ae]);const ae=a.convert(Te.format,Te.colorSpace),fe=a.convert(Te.type),ie=M(Te.internalFormat,ae,fe,Te.colorSpace,G.isXRRenderTarget===!0),ge=he(G);t.renderbufferStorageMultisample(t.RENDERBUFFER,ge,ie,G.width,G.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Ae,t.RENDERBUFFER,_e.__webglColorRenderbuffer[Ae])}t.bindRenderbuffer(t.RENDERBUFFER,null),G.depthBuffer&&(_e.__webglDepthRenderbuffer=t.createRenderbuffer(),le(_e.__webglDepthRenderbuffer,G,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(Re){n.bindTexture(t.TEXTURE_CUBE_MAP,de.__webglTexture),K(t.TEXTURE_CUBE_MAP,Z,ye);for(let Ne=0;Ne<6;Ne++)ne(_e.__webglFramebuffer[Ne],G,Z,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ne);C(Z,ye)&&x(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Fe){const Ne=G.texture;for(let Ae=0,Te=Ne.length;Ae<Te;Ae++){const ae=Ne[Ae],fe=i.get(ae);n.bindTexture(t.TEXTURE_2D,fe.__webglTexture),K(t.TEXTURE_2D,ae,ye),ne(_e.__webglFramebuffer,G,ae,t.COLOR_ATTACHMENT0+Ae,t.TEXTURE_2D),C(ae,ye)&&x(t.TEXTURE_2D)}n.unbindTexture()}else{let Ne=t.TEXTURE_2D;(G.isWebGL3DRenderTarget||G.isWebGLArrayRenderTarget)&&(s?Ne=G.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ne,de.__webglTexture),K(Ne,Z,ye),ne(_e.__webglFramebuffer,G,Z,t.COLOR_ATTACHMENT0,Ne),C(Z,ye)&&x(Ne),n.unbindTexture()}G.depthBuffer&&q(G)}function pe(G){const Z=S(G)||s,_e=G.isWebGLMultipleRenderTargets===!0?G.texture:[G.texture];for(let de=0,Re=_e.length;de<Re;de++){const Fe=_e[de];if(C(Fe,Z)){const ye=G.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ne=i.get(Fe).__webglTexture;n.bindTexture(ye,Ne),x(ye),n.unbindTexture()}}}function re(G){if(s&&G.samples>0&&Ce(G)===!1){const Z=G.isWebGLMultipleRenderTargets?G.texture:[G.texture],_e=G.width,de=G.height;let Re=t.COLOR_BUFFER_BIT;const Fe=[],ye=G.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ne=i.get(G),Ae=G.isWebGLMultipleRenderTargets===!0;if(Ae)for(let Te=0;Te<Z.length;Te++)n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Te,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Te,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ne.__webglFramebuffer);for(let Te=0;Te<Z.length;Te++){Fe.push(t.COLOR_ATTACHMENT0+Te),G.depthBuffer&&Fe.push(ye);const ae=Ne.__ignoreDepthValues!==void 0?Ne.__ignoreDepthValues:!1;if(ae===!1&&(G.depthBuffer&&(Re|=t.DEPTH_BUFFER_BIT),G.stencilBuffer&&(Re|=t.STENCIL_BUFFER_BIT)),Ae&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ne.__webglColorRenderbuffer[Te]),ae===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[ye]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[ye])),Ae){const fe=i.get(Z[Te]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,fe,0)}t.blitFramebuffer(0,0,_e,de,0,0,_e,de,Re,t.NEAREST),h&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Fe)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),Ae)for(let Te=0;Te<Z.length;Te++){n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+Te,t.RENDERBUFFER,Ne.__webglColorRenderbuffer[Te]);const ae=i.get(Z[Te]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ne.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+Te,t.TEXTURE_2D,ae,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ne.__webglMultisampledFramebuffer)}}function he(G){return Math.min(l,G.samples)}function Ce(G){const Z=i.get(G);return s&&G.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&Z.__useRenderToTexture!==!1}function Oe(G){const Z=u.render.frame;p.get(G)!==Z&&(p.set(G,Z),G.update())}function ke(G,Z){const _e=G.colorSpace,de=G.format,Re=G.type;return G.isCompressedTexture===!0||G.format===nv||_e!==$r&&_e!==sa&&(_e===Ft?s===!1?e.has("EXT_sRGB")===!0&&de===qi?(G.format=nv,G.minFilter=ni,G.generateMipmaps=!1):Z=RA.sRGBToLinear(Z):(de!==qi||Re!==va)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",_e)),Z}this.allocateTextureUnit=D,this.resetTextureUnits=k,this.setTexture2D=R,this.setTexture2DArray=V,this.setTexture3D=U,this.setTextureCube=X,this.rebindTextures=J,this.setupRenderTarget=ce,this.updateRenderTargetMipmap=pe,this.updateMultisampleRenderTarget=re,this.setupDepthRenderbuffer=q,this.setupFrameBufferTexture=ne,this.useMultisampledRTT=Ce}function Xce(t,e,n){const i=n.isWebGL2;function r(a,u=sa){let s;if(a===va)return t.UNSIGNED_BYTE;if(a===wre)return t.UNSIGNED_SHORT_4_4_4_4;if(a===Cre)return t.UNSIGNED_SHORT_5_5_5_1;if(a===bre)return t.BYTE;if(a===_re)return t.SHORT;if(a===wA)return t.UNSIGNED_SHORT;if(a===Sre)return t.INT;if(a===Ko)return t.UNSIGNED_INT;if(a===eo)return t.FLOAT;if(a===Du)return i?t.HALF_FLOAT:(s=e.get("OES_texture_half_float"),s!==null?s.HALF_FLOAT_OES:null);if(a===xre)return t.ALPHA;if(a===qi)return t.RGBA;if(a===Tre)return t.LUMINANCE;if(a===Ere)return t.LUMINANCE_ALPHA;if(a===ra)return t.DEPTH_COMPONENT;if(a===Kl)return t.DEPTH_STENCIL;if(a===nv)return s=e.get("EXT_sRGB"),s!==null?s.SRGB_ALPHA_EXT:null;if(a===Mre)return t.RED;if(a===Are)return t.RED_INTEGER;if(a===Rre)return t.RG;if(a===Pre)return t.RG_INTEGER;if(a===Ore)return t.RGBA_INTEGER;if(a===jp||a===Xp||a===Kp||a===Yp)if(u===Ft)if(s=e.get("WEBGL_compressed_texture_s3tc_srgb"),s!==null){if(a===jp)return s.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(a===Xp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(a===Kp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(a===Yp)return s.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(s=e.get("WEBGL_compressed_texture_s3tc"),s!==null){if(a===jp)return s.COMPRESSED_RGB_S3TC_DXT1_EXT;if(a===Xp)return s.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(a===Kp)return s.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(a===Yp)return s.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(a===pw||a===mw||a===gw||a===vw)if(s=e.get("WEBGL_compressed_texture_pvrtc"),s!==null){if(a===pw)return s.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(a===mw)return s.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(a===gw)return s.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(a===vw)return s.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(a===kre)return s=e.get("WEBGL_compressed_texture_etc1"),s!==null?s.COMPRESSED_RGB_ETC1_WEBGL:null;if(a===yw||a===bw)if(s=e.get("WEBGL_compressed_texture_etc"),s!==null){if(a===yw)return u===Ft?s.COMPRESSED_SRGB8_ETC2:s.COMPRESSED_RGB8_ETC2;if(a===bw)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:s.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(a===_w||a===Sw||a===ww||a===Cw||a===xw||a===Tw||a===Ew||a===Mw||a===Aw||a===Rw||a===Pw||a===Ow||a===kw||a===Lw)if(s=e.get("WEBGL_compressed_texture_astc"),s!==null){if(a===_w)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:s.COMPRESSED_RGBA_ASTC_4x4_KHR;if(a===Sw)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:s.COMPRESSED_RGBA_ASTC_5x4_KHR;if(a===ww)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:s.COMPRESSED_RGBA_ASTC_5x5_KHR;if(a===Cw)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:s.COMPRESSED_RGBA_ASTC_6x5_KHR;if(a===xw)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:s.COMPRESSED_RGBA_ASTC_6x6_KHR;if(a===Tw)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:s.COMPRESSED_RGBA_ASTC_8x5_KHR;if(a===Ew)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:s.COMPRESSED_RGBA_ASTC_8x6_KHR;if(a===Mw)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:s.COMPRESSED_RGBA_ASTC_8x8_KHR;if(a===Aw)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:s.COMPRESSED_RGBA_ASTC_10x5_KHR;if(a===Rw)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:s.COMPRESSED_RGBA_ASTC_10x6_KHR;if(a===Pw)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:s.COMPRESSED_RGBA_ASTC_10x8_KHR;if(a===Ow)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:s.COMPRESSED_RGBA_ASTC_10x10_KHR;if(a===kw)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:s.COMPRESSED_RGBA_ASTC_12x10_KHR;if(a===Lw)return u===Ft?s.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:s.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(a===qp)if(s=e.get("EXT_texture_compression_bptc"),s!==null){if(a===qp)return u===Ft?s.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:s.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;if(a===Lre||a===Iw||a===Dw||a===Nw)if(s=e.get("EXT_texture_compression_rgtc"),s!==null){if(a===qp)return s.COMPRESSED_RED_RGTC1_EXT;if(a===Iw)return s.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(a===Dw)return s.COMPRESSED_RED_GREEN_RGTC2_EXT;if(a===Nw)return s.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return a===Sl?i?t.UNSIGNED_INT_24_8:(s=e.get("WEBGL_depth_texture"),s!==null?s.UNSIGNED_INT_24_8_WEBGL:null):t[a]!==void 0?t[a]:null}return{convert:r}}class Kce extends mi{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class qo extends Cn{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Yce={type:"move"};class bm{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new qo,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new qo,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new $e,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new $e),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new qo,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new $e,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new $e),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const i of e.hand.values())this._getHandJoint(n,i)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,i){let r=null,a=null,u=null;const s=this._targetRay,o=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){u=!0;for(const g of e.hand.values()){const m=n.getJointPose(g,i),v=this._getHandJoint(c,g);m!==null&&(v.matrix.fromArray(m.transform.matrix),v.matrix.decompose(v.position,v.rotation,v.scale),v.matrixWorldNeedsUpdate=!0,v.jointRadius=m.radius),v.visible=m!==null}const f=c.joints["index-finger-tip"],l=c.joints["thumb-tip"],d=f.position.distanceTo(l.position),h=.02,p=.005;c.inputState.pinching&&d>h+p?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=h-p&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else o!==null&&e.gripSpace&&(a=n.getPose(e.gripSpace,i),a!==null&&(o.matrix.fromArray(a.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,a.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(a.linearVelocity)):o.hasLinearVelocity=!1,a.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(a.angularVelocity)):o.hasAngularVelocity=!1));s!==null&&(r=n.getPose(e.targetRaySpace,i),r===null&&a!==null&&(r=a),r!==null&&(s.matrix.fromArray(r.transform.matrix),s.matrix.decompose(s.position,s.rotation,s.scale),s.matrixWorldNeedsUpdate=!0,r.linearVelocity?(s.hasLinearVelocity=!0,s.linearVelocity.copy(r.linearVelocity)):s.hasLinearVelocity=!1,r.angularVelocity?(s.hasAngularVelocity=!0,s.angularVelocity.copy(r.angularVelocity)):s.hasAngularVelocity=!1,this.dispatchEvent(Yce)))}return s!==null&&(s.visible=r!==null),o!==null&&(o.visible=a!==null),c!==null&&(c.visible=u!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const i=new qo;i.matrixAutoUpdate=!1,i.visible=!1,e.joints[n.jointName]=i,e.add(i)}return e.joints[n.jointName]}}class qce extends Zn{constructor(e,n,i,r,a,u,s,o,c,f){if(f=f!==void 0?f:ra,f!==ra&&f!==Kl)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");i===void 0&&f===ra&&(i=Ko),i===void 0&&f===Kl&&(i=Sl),super(null,r,a,u,s,o,f,i,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=s!==void 0?s:zn,this.minFilter=o!==void 0?o:zn,this.flipY=!1,this.generateMipmaps=!1}}class Zce extends Ma{constructor(e,n){super();const i=this;let r=null,a=1,u=null,s="local-floor",o=1,c=null,f=null,l=null,d=null,h=null,p=null;const g=n.getContextAttributes();let m=null,v=null;const b=[],_=[],S=new Set,w=new Map,C=new mi;C.layers.enable(1),C.viewport=new mn;const x=new mi;x.layers.enable(2),x.viewport=new mn;const M=[C,x],E=new Kce;E.layers.enable(1),E.layers.enable(2);let A=null,O=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(X){let W=b[X];return W===void 0&&(W=new bm,b[X]=W),W.getTargetRaySpace()},this.getControllerGrip=function(X){let W=b[X];return W===void 0&&(W=new bm,b[X]=W),W.getGripSpace()},this.getHand=function(X){let W=b[X];return W===void 0&&(W=new bm,b[X]=W),W.getHandSpace()};function I(X){const W=_.indexOf(X.inputSource);if(W===-1)return;const j=b[W];j!==void 0&&(j.update(X.inputSource,X.frame,c||u),j.dispatchEvent({type:X.type,data:X.inputSource}))}function $(){r.removeEventListener("select",I),r.removeEventListener("selectstart",I),r.removeEventListener("selectend",I),r.removeEventListener("squeeze",I),r.removeEventListener("squeezestart",I),r.removeEventListener("squeezeend",I),r.removeEventListener("end",$),r.removeEventListener("inputsourceschange",H);for(let X=0;X<b.length;X++){const W=_[X];W!==null&&(_[X]=null,b[X].disconnect(W))}A=null,O=null,e.setRenderTarget(m),h=null,d=null,l=null,r=null,v=null,U.stop(),i.isPresenting=!1,i.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(X){a=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(X){s=X,i.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||u},this.setReferenceSpace=function(X){c=X},this.getBaseLayer=function(){return d!==null?d:h},this.getBinding=function(){return l},this.getFrame=function(){return p},this.getSession=function(){return r},this.setSession=async function(X){if(r=X,r!==null){if(m=e.getRenderTarget(),r.addEventListener("select",I),r.addEventListener("selectstart",I),r.addEventListener("selectend",I),r.addEventListener("squeeze",I),r.addEventListener("squeezestart",I),r.addEventListener("squeezeend",I),r.addEventListener("end",$),r.addEventListener("inputsourceschange",H),g.xrCompatible!==!0&&await n.makeXRCompatible(),r.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const W={antialias:r.renderState.layers===void 0?g.antialias:!0,alpha:!0,depth:g.depth,stencil:g.stencil,framebufferScaleFactor:a};h=new XRWebGLLayer(r,n,W),r.updateRenderState({baseLayer:h}),v=new ya(h.framebufferWidth,h.framebufferHeight,{format:qi,type:va,colorSpace:e.outputColorSpace,stencilBuffer:g.stencil})}else{let W=null,j=null,K=null;g.depth&&(K=g.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,W=g.stencil?Kl:ra,j=g.stencil?Sl:Ko);const z={colorFormat:n.RGBA8,depthFormat:K,scaleFactor:a};l=new XRWebGLBinding(r,n),d=l.createProjectionLayer(z),r.updateRenderState({layers:[d]}),v=new ya(d.textureWidth,d.textureHeight,{format:qi,type:va,depthTexture:new qce(d.textureWidth,d.textureHeight,j,void 0,void 0,void 0,void 0,void 0,void 0,W),stencilBuffer:g.stencil,colorSpace:e.outputColorSpace,samples:g.antialias?4:0});const ee=e.properties.get(v);ee.__ignoreDepthValues=d.ignoreDepthValues}v.isXRRenderTarget=!0,this.setFoveation(o),c=null,u=await r.requestReferenceSpace(s),U.setContext(r),U.start(),i.isPresenting=!0,i.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(r!==null)return r.environmentBlendMode};function H(X){for(let W=0;W<X.removed.length;W++){const j=X.removed[W],K=_.indexOf(j);K>=0&&(_[K]=null,b[K].disconnect(j))}for(let W=0;W<X.added.length;W++){const j=X.added[W];let K=_.indexOf(j);if(K===-1){for(let ee=0;ee<b.length;ee++)if(ee>=_.length){_.push(j),K=ee;break}else if(_[ee]===null){_[ee]=j,K=ee;break}if(K===-1)break}const z=b[K];z&&z.connect(j)}}const B=new $e,N=new $e;function k(X,W,j){B.setFromMatrixPosition(W.matrixWorld),N.setFromMatrixPosition(j.matrixWorld);const K=B.distanceTo(N),z=W.projectionMatrix.elements,ee=j.projectionMatrix.elements,ue=z[14]/(z[10]-1),ne=z[14]/(z[10]+1),le=(z[9]+1)/z[5],Me=(z[9]-1)/z[5],q=(z[8]-1)/z[0],J=(ee[8]+1)/ee[0],ce=ue*q,pe=ue*J,re=K/(-q+J),he=re*-q;W.matrixWorld.decompose(X.position,X.quaternion,X.scale),X.translateX(he),X.translateZ(re),X.matrixWorld.compose(X.position,X.quaternion,X.scale),X.matrixWorldInverse.copy(X.matrixWorld).invert();const Ce=ue+re,Oe=ne+re,ke=ce-he,G=pe+(K-he),Z=le*ne/Oe*Ce,_e=Me*ne/Oe*Ce;X.projectionMatrix.makePerspective(ke,G,Z,_e,Ce,Oe),X.projectionMatrixInverse.copy(X.projectionMatrix).invert()}function D(X,W){W===null?X.matrixWorld.copy(X.matrix):X.matrixWorld.multiplyMatrices(W.matrixWorld,X.matrix),X.matrixWorldInverse.copy(X.matrixWorld).invert()}this.updateCamera=function(X){if(r===null)return;E.near=x.near=C.near=X.near,E.far=x.far=C.far=X.far,(A!==E.near||O!==E.far)&&(r.updateRenderState({depthNear:E.near,depthFar:E.far}),A=E.near,O=E.far);const W=X.parent,j=E.cameras;D(E,W);for(let K=0;K<j.length;K++)D(j[K],W);j.length===2?k(E,C,x):E.projectionMatrix.copy(C.projectionMatrix),T(X,E,W)};function T(X,W,j){j===null?X.matrix.copy(W.matrixWorld):(X.matrix.copy(j.matrixWorld),X.matrix.invert(),X.matrix.multiply(W.matrixWorld)),X.matrix.decompose(X.position,X.quaternion,X.scale),X.updateMatrixWorld(!0);const K=X.children;for(let z=0,ee=K.length;z<ee;z++)K[z].updateMatrixWorld(!0);X.projectionMatrix.copy(W.projectionMatrix),X.projectionMatrixInverse.copy(W.projectionMatrixInverse),X.isPerspectiveCamera&&(X.fov=ql*2*Math.atan(1/X.projectionMatrix.elements[5]),X.zoom=1)}this.getCamera=function(){return E},this.getFoveation=function(){if(!(d===null&&h===null))return o},this.setFoveation=function(X){o=X,d!==null&&(d.fixedFoveation=X),h!==null&&h.fixedFoveation!==void 0&&(h.fixedFoveation=X)},this.getPlanes=function(){return S};let R=null;function V(X,W){if(f=W.getViewerPose(c||u),p=W,f!==null){const j=f.views;h!==null&&(e.setRenderTargetFramebuffer(v,h.framebuffer),e.setRenderTarget(v));let K=!1;j.length!==E.cameras.length&&(E.cameras.length=0,K=!0);for(let z=0;z<j.length;z++){const ee=j[z];let ue=null;if(h!==null)ue=h.getViewport(ee);else{const le=l.getViewSubImage(d,ee);ue=le.viewport,z===0&&(e.setRenderTargetTextures(v,le.colorTexture,d.ignoreDepthValues?void 0:le.depthStencilTexture),e.setRenderTarget(v))}let ne=M[z];ne===void 0&&(ne=new mi,ne.layers.enable(z),ne.viewport=new mn,M[z]=ne),ne.matrix.fromArray(ee.transform.matrix),ne.matrix.decompose(ne.position,ne.quaternion,ne.scale),ne.projectionMatrix.fromArray(ee.projectionMatrix),ne.projectionMatrixInverse.copy(ne.projectionMatrix).invert(),ne.viewport.set(ue.x,ue.y,ue.width,ue.height),z===0&&(E.matrix.copy(ne.matrix),E.matrix.decompose(E.position,E.quaternion,E.scale)),K===!0&&E.cameras.push(ne)}}for(let j=0;j<b.length;j++){const K=_[j],z=b[j];K!==null&&z!==void 0&&z.update(K,W,c||u)}if(R&&R(X,W),W.detectedPlanes){i.dispatchEvent({type:"planesdetected",data:W.detectedPlanes});let j=null;for(const K of S)W.detectedPlanes.has(K)||(j===null&&(j=[]),j.push(K));if(j!==null)for(const K of j)S.delete(K),w.delete(K),i.dispatchEvent({type:"planeremoved",data:K});for(const K of W.detectedPlanes)if(!S.has(K))S.add(K),w.set(K,W.lastChangedTime),i.dispatchEvent({type:"planeadded",data:K});else{const z=w.get(K);K.lastChangedTime>z&&(w.set(K,K.lastChangedTime),i.dispatchEvent({type:"planechanged",data:K}))}}p=null}const U=new UA;U.setAnimationLoop(V),this.setAnimationLoop=function(X){R=X},this.dispose=function(){}}}function Jce(t,e){function n(m,v){m.matrixAutoUpdate===!0&&m.updateMatrix(),v.value.copy(m.matrix)}function i(m,v){v.color.getRGB(m.fogColor.value,NA(t)),v.isFog?(m.fogNear.value=v.near,m.fogFar.value=v.far):v.isFogExp2&&(m.fogDensity.value=v.density)}function r(m,v,b,_,S){v.isMeshBasicMaterial||v.isMeshLambertMaterial?a(m,v):v.isMeshToonMaterial?(a(m,v),l(m,v)):v.isMeshPhongMaterial?(a(m,v),f(m,v)):v.isMeshStandardMaterial?(a(m,v),d(m,v),v.isMeshPhysicalMaterial&&h(m,v,S)):v.isMeshMatcapMaterial?(a(m,v),p(m,v)):v.isMeshDepthMaterial?a(m,v):v.isMeshDistanceMaterial?(a(m,v),g(m,v)):v.isMeshNormalMaterial?a(m,v):v.isLineBasicMaterial?(u(m,v),v.isLineDashedMaterial&&s(m,v)):v.isPointsMaterial?o(m,v,b,_):v.isSpriteMaterial?c(m,v):v.isShadowMaterial?(m.color.value.copy(v.color),m.opacity.value=v.opacity):v.isShaderMaterial&&(v.uniformsNeedUpdate=!1)}function a(m,v){m.opacity.value=v.opacity,v.color&&m.diffuse.value.copy(v.color),v.emissive&&m.emissive.value.copy(v.emissive).multiplyScalar(v.emissiveIntensity),v.map&&(m.map.value=v.map,n(v.map,m.mapTransform)),v.alphaMap&&(m.alphaMap.value=v.alphaMap,n(v.alphaMap,m.alphaMapTransform)),v.bumpMap&&(m.bumpMap.value=v.bumpMap,n(v.bumpMap,m.bumpMapTransform),m.bumpScale.value=v.bumpScale,v.side===Ri&&(m.bumpScale.value*=-1)),v.normalMap&&(m.normalMap.value=v.normalMap,n(v.normalMap,m.normalMapTransform),m.normalScale.value.copy(v.normalScale),v.side===Ri&&m.normalScale.value.negate()),v.displacementMap&&(m.displacementMap.value=v.displacementMap,n(v.displacementMap,m.displacementMapTransform),m.displacementScale.value=v.displacementScale,m.displacementBias.value=v.displacementBias),v.emissiveMap&&(m.emissiveMap.value=v.emissiveMap,n(v.emissiveMap,m.emissiveMapTransform)),v.specularMap&&(m.specularMap.value=v.specularMap,n(v.specularMap,m.specularMapTransform)),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest);const b=e.get(v).envMap;if(b&&(m.envMap.value=b,m.flipEnvMap.value=b.isCubeTexture&&b.isRenderTargetTexture===!1?-1:1,m.reflectivity.value=v.reflectivity,m.ior.value=v.ior,m.refractionRatio.value=v.refractionRatio),v.lightMap){m.lightMap.value=v.lightMap;const _=t.useLegacyLights===!0?Math.PI:1;m.lightMapIntensity.value=v.lightMapIntensity*_,n(v.lightMap,m.lightMapTransform)}v.aoMap&&(m.aoMap.value=v.aoMap,m.aoMapIntensity.value=v.aoMapIntensity,n(v.aoMap,m.aoMapTransform))}function u(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,v.map&&(m.map.value=v.map,n(v.map,m.mapTransform))}function s(m,v){m.dashSize.value=v.dashSize,m.totalSize.value=v.dashSize+v.gapSize,m.scale.value=v.scale}function o(m,v,b,_){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.size.value=v.size*b,m.scale.value=_*.5,v.map&&(m.map.value=v.map,n(v.map,m.uvTransform)),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest)}function c(m,v){m.diffuse.value.copy(v.color),m.opacity.value=v.opacity,m.rotation.value=v.rotation,v.map&&(m.map.value=v.map,n(v.map,m.mapTransform)),v.alphaMap&&(m.alphaMap.value=v.alphaMap),v.alphaTest>0&&(m.alphaTest.value=v.alphaTest)}function f(m,v){m.specular.value.copy(v.specular),m.shininess.value=Math.max(v.shininess,1e-4)}function l(m,v){v.gradientMap&&(m.gradientMap.value=v.gradientMap)}function d(m,v){m.metalness.value=v.metalness,v.metalnessMap&&(m.metalnessMap.value=v.metalnessMap,n(v.metalnessMap,m.metalnessMapTransform)),m.roughness.value=v.roughness,v.roughnessMap&&(m.roughnessMap.value=v.roughnessMap,n(v.roughnessMap,m.roughnessMapTransform)),e.get(v).envMap&&(m.envMapIntensity.value=v.envMapIntensity)}function h(m,v,b){m.ior.value=v.ior,v.sheen>0&&(m.sheenColor.value.copy(v.sheenColor).multiplyScalar(v.sheen),m.sheenRoughness.value=v.sheenRoughness,v.sheenColorMap&&(m.sheenColorMap.value=v.sheenColorMap,n(v.sheenColorMap,m.sheenColorMapTransform)),v.sheenRoughnessMap&&(m.sheenRoughnessMap.value=v.sheenRoughnessMap,n(v.sheenRoughnessMap,m.sheenRoughnessMapTransform))),v.clearcoat>0&&(m.clearcoat.value=v.clearcoat,m.clearcoatRoughness.value=v.clearcoatRoughness,v.clearcoatMap&&(m.clearcoatMap.value=v.clearcoatMap,n(v.clearcoatMap,m.clearcoatMapTransform)),v.clearcoatRoughnessMap&&(m.clearcoatRoughnessMap.value=v.clearcoatRoughnessMap,n(v.clearcoatRoughnessMap,m.clearcoatRoughnessMapTransform)),v.clearcoatNormalMap&&(m.clearcoatNormalMap.value=v.clearcoatNormalMap,n(v.clearcoatNormalMap,m.clearcoatNormalMapTransform),m.clearcoatNormalScale.value.copy(v.clearcoatNormalScale),v.side===Ri&&m.clearcoatNormalScale.value.negate())),v.iridescence>0&&(m.iridescence.value=v.iridescence,m.iridescenceIOR.value=v.iridescenceIOR,m.iridescenceThicknessMinimum.value=v.iridescenceThicknessRange[0],m.iridescenceThicknessMaximum.value=v.iridescenceThicknessRange[1],v.iridescenceMap&&(m.iridescenceMap.value=v.iridescenceMap,n(v.iridescenceMap,m.iridescenceMapTransform)),v.iridescenceThicknessMap&&(m.iridescenceThicknessMap.value=v.iridescenceThicknessMap,n(v.iridescenceThicknessMap,m.iridescenceThicknessMapTransform))),v.transmission>0&&(m.transmission.value=v.transmission,m.transmissionSamplerMap.value=b.texture,m.transmissionSamplerSize.value.set(b.width,b.height),v.transmissionMap&&(m.transmissionMap.value=v.transmissionMap,n(v.transmissionMap,m.transmissionMapTransform)),m.thickness.value=v.thickness,v.thicknessMap&&(m.thicknessMap.value=v.thicknessMap,n(v.thicknessMap,m.thicknessMapTransform)),m.attenuationDistance.value=v.attenuationDistance,m.attenuationColor.value.copy(v.attenuationColor)),m.specularIntensity.value=v.specularIntensity,m.specularColor.value.copy(v.specularColor),v.specularColorMap&&(m.specularColorMap.value=v.specularColorMap,n(v.specularColorMap,m.specularColorMapTransform)),v.specularIntensityMap&&(m.specularIntensityMap.value=v.specularIntensityMap,n(v.specularIntensityMap,m.specularIntensityMapTransform))}function p(m,v){v.matcap&&(m.matcap.value=v.matcap)}function g(m,v){const b=e.get(v).light;m.referencePosition.value.setFromMatrixPosition(b.matrixWorld),m.nearDistance.value=b.shadow.camera.near,m.farDistance.value=b.shadow.camera.far}return{refreshFogUniforms:i,refreshMaterialUniforms:r}}function Qce(t,e,n,i){let r={},a={},u=[];const s=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function o(b,_){const S=_.program;i.uniformBlockBinding(b,S)}function c(b,_){let S=r[b.id];S===void 0&&(p(b),S=f(b),r[b.id]=S,b.addEventListener("dispose",m));const w=_.program;i.updateUBOMapping(b,w);const C=e.render.frame;a[b.id]!==C&&(d(b),a[b.id]=C)}function f(b){const _=l();b.__bindingPointIndex=_;const S=t.createBuffer(),w=b.__size,C=b.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,w,C),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,S),S}function l(){for(let b=0;b<s;b++)if(u.indexOf(b)===-1)return u.push(b),b;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(b){const _=r[b.id],S=b.uniforms,w=b.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let C=0,x=S.length;C<x;C++){const M=S[C];if(h(M,C,w)===!0){const E=M.__offset,A=Array.isArray(M.value)?M.value:[M.value];let O=0;for(let I=0;I<A.length;I++){const $=A[I],H=g($);typeof $=="number"?(M.__data[0]=$,t.bufferSubData(t.UNIFORM_BUFFER,E+O,M.__data)):$.isMatrix3?(M.__data[0]=$.elements[0],M.__data[1]=$.elements[1],M.__data[2]=$.elements[2],M.__data[3]=$.elements[0],M.__data[4]=$.elements[3],M.__data[5]=$.elements[4],M.__data[6]=$.elements[5],M.__data[7]=$.elements[0],M.__data[8]=$.elements[6],M.__data[9]=$.elements[7],M.__data[10]=$.elements[8],M.__data[11]=$.elements[0]):($.toArray(M.__data,O),O+=H.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,E,M.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function h(b,_,S){const w=b.value;if(S[_]===void 0){if(typeof w=="number")S[_]=w;else{const C=Array.isArray(w)?w:[w],x=[];for(let M=0;M<C.length;M++)x.push(C[M].clone());S[_]=x}return!0}else if(typeof w=="number"){if(S[_]!==w)return S[_]=w,!0}else{const C=Array.isArray(S[_])?S[_]:[S[_]],x=Array.isArray(w)?w:[w];for(let M=0;M<C.length;M++){const E=C[M];if(E.equals(x[M])===!1)return E.copy(x[M]),!0}}return!1}function p(b){const _=b.uniforms;let S=0;const w=16;let C=0;for(let x=0,M=_.length;x<M;x++){const E=_[x],A={boundary:0,storage:0},O=Array.isArray(E.value)?E.value:[E.value];for(let I=0,$=O.length;I<$;I++){const H=O[I],B=g(H);A.boundary+=B.boundary,A.storage+=B.storage}if(E.__data=new Float32Array(A.storage/Float32Array.BYTES_PER_ELEMENT),E.__offset=S,x>0){C=S%w;const I=w-C;C!==0&&I-A.boundary<0&&(S+=w-C,E.__offset=S)}S+=A.storage}return C=S%w,C>0&&(S+=w-C),b.__size=S,b.__cache={},this}function g(b){const _={boundary:0,storage:0};return typeof b=="number"?(_.boundary=4,_.storage=4):b.isVector2?(_.boundary=8,_.storage=8):b.isVector3||b.isColor?(_.boundary=16,_.storage=12):b.isVector4?(_.boundary=16,_.storage=16):b.isMatrix3?(_.boundary=48,_.storage=48):b.isMatrix4?(_.boundary=64,_.storage=64):b.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",b),_}function m(b){const _=b.target;_.removeEventListener("dispose",m);const S=u.indexOf(_.__bindingPointIndex);u.splice(S,1),t.deleteBuffer(r[_.id]),delete r[_.id],delete a[_.id]}function v(){for(const b in r)t.deleteBuffer(r[b]);u=[],r={},a={}}return{bind:o,update:c,dispose:v}}function eue(){const t=Fu("canvas");return t.style.display="block",t}class WA{constructor(e={}){const{canvas:n=eue(),context:i=null,depth:r=!0,stencil:a=!0,alpha:u=!1,antialias:s=!1,premultipliedAlpha:o=!0,preserveDrawingBuffer:c=!1,powerPreference:f="default",failIfMajorPerformanceCaveat:l=!1}=e;this.isWebGLRenderer=!0;let d;i!==null?d=i.getContextAttributes().alpha:d=u;let h=null,p=null;const g=[],m=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputColorSpace=Ft,this.useLegacyLights=!0,this.toneMapping=us,this.toneMappingExposure=1;const v=this;let b=!1,_=0,S=0,w=null,C=-1,x=null;const M=new mn,E=new mn;let A=null,O=n.width,I=n.height,$=1,H=null,B=null;const N=new mn(0,0,O,I),k=new mn(0,0,O,I);let D=!1;const T=new by;let R=!1,V=!1,U=null;const X=new Yt,W=new $e,j={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function K(){return w===null?$:1}let z=i;function ee(xe,Se){for(let Ie=0;Ie<xe.length;Ie++){const Ue=xe[Ie],Ke=n.getContext(Ue,Se);if(Ke!==null)return Ke}return null}try{const xe={alpha:!0,depth:r,stencil:a,antialias:s,premultipliedAlpha:o,preserveDrawingBuffer:c,powerPreference:f,failIfMajorPerformanceCaveat:l};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${py}`),n.addEventListener("webglcontextlost",ge,!1),n.addEventListener("webglcontextrestored",De,!1),n.addEventListener("webglcontextcreationerror",me,!1),z===null){const Se=["webgl2","webgl","experimental-webgl"];if(v.isWebGL1Renderer===!0&&Se.shift(),z=ee(Se,xe),z===null)throw ee(Se)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}z.getShaderPrecisionFormat===void 0&&(z.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(xe){throw console.error("THREE.WebGLRenderer: "+xe.message),xe}let ue,ne,le,Me,q,J,ce,pe,re,he,Ce,Oe,ke,G,Z,_e,de,Re,Fe,ye,Ne,Ae,Te,ae;function fe(){ue=new dle(z),ne=new sle(z,ue,e),ue.init(ne),Ae=new Xce(z,ue,ne),le=new Gce(z,ue,ne),Me=new ple(z),q=new Oce,J=new jce(z,ue,le,q,ne,Ae,Me),ce=new ale(v),pe=new ule(v),re=new Ese(z,ne),Te=new ile(z,ue,re,ne),he=new fle(z,re,Me,Te),Ce=new yle(z,he,re,Me),Fe=new vle(z,ne,J),_e=new ole(q),Oe=new Pce(v,ce,pe,ue,ne,Te,_e),ke=new Jce(v,q),G=new Lce,Z=new Uce(ue,ne),Re=new nle(v,ce,pe,le,Ce,d,o),de=new Wce(v,Ce,ne),ae=new Qce(z,Me,ne,le),ye=new rle(z,ue,Me,ne),Ne=new hle(z,ue,Me,ne),Me.programs=Oe.programs,v.capabilities=ne,v.extensions=ue,v.properties=q,v.renderLists=G,v.shadowMap=de,v.state=le,v.info=Me}fe();const ie=new Zce(v,z);this.xr=ie,this.getContext=function(){return z},this.getContextAttributes=function(){return z.getContextAttributes()},this.forceContextLoss=function(){const xe=ue.get("WEBGL_lose_context");xe&&xe.loseContext()},this.forceContextRestore=function(){const xe=ue.get("WEBGL_lose_context");xe&&xe.restoreContext()},this.getPixelRatio=function(){return $},this.setPixelRatio=function(xe){xe!==void 0&&($=xe,this.setSize(O,I,!1))},this.getSize=function(xe){return xe.set(O,I)},this.setSize=function(xe,Se,Ie=!0){if(ie.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}O=xe,I=Se,n.width=Math.floor(xe*$),n.height=Math.floor(Se*$),Ie===!0&&(n.style.width=xe+"px",n.style.height=Se+"px"),this.setViewport(0,0,xe,Se)},this.getDrawingBufferSize=function(xe){return xe.set(O*$,I*$).floor()},this.setDrawingBufferSize=function(xe,Se,Ie){O=xe,I=Se,$=Ie,n.width=Math.floor(xe*Ie),n.height=Math.floor(Se*Ie),this.setViewport(0,0,xe,Se)},this.getCurrentViewport=function(xe){return xe.copy(M)},this.getViewport=function(xe){return xe.copy(N)},this.setViewport=function(xe,Se,Ie,Ue){xe.isVector4?N.set(xe.x,xe.y,xe.z,xe.w):N.set(xe,Se,Ie,Ue),le.viewport(M.copy(N).multiplyScalar($).floor())},this.getScissor=function(xe){return xe.copy(k)},this.setScissor=function(xe,Se,Ie,Ue){xe.isVector4?k.set(xe.x,xe.y,xe.z,xe.w):k.set(xe,Se,Ie,Ue),le.scissor(E.copy(k).multiplyScalar($).floor())},this.getScissorTest=function(){return D},this.setScissorTest=function(xe){le.setScissorTest(D=xe)},this.setOpaqueSort=function(xe){H=xe},this.setTransparentSort=function(xe){B=xe},this.getClearColor=function(xe){return xe.copy(Re.getClearColor())},this.setClearColor=function(){Re.setClearColor.apply(Re,arguments)},this.getClearAlpha=function(){return Re.getClearAlpha()},this.setClearAlpha=function(){Re.setClearAlpha.apply(Re,arguments)},this.clear=function(xe=!0,Se=!0,Ie=!0){let Ue=0;xe&&(Ue|=z.COLOR_BUFFER_BIT),Se&&(Ue|=z.DEPTH_BUFFER_BIT),Ie&&(Ue|=z.STENCIL_BUFFER_BIT),z.clear(Ue)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",ge,!1),n.removeEventListener("webglcontextrestored",De,!1),n.removeEventListener("webglcontextcreationerror",me,!1),G.dispose(),Z.dispose(),q.dispose(),ce.dispose(),pe.dispose(),Ce.dispose(),Te.dispose(),ae.dispose(),Oe.dispose(),ie.dispose(),ie.removeEventListener("sessionstart",Ze),ie.removeEventListener("sessionend",At),U&&(U.dispose(),U=null),tn.stop()};function ge(xe){xe.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),b=!0}function De(){console.log("THREE.WebGLRenderer: Context Restored."),b=!1;const xe=Me.autoReset,Se=de.enabled,Ie=de.autoUpdate,Ue=de.needsUpdate,Ke=de.type;fe(),Me.autoReset=xe,de.enabled=Se,de.autoUpdate=Ie,de.needsUpdate=Ue,de.type=Ke}function me(xe){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",xe.statusMessage)}function Xe(xe){const Se=xe.target;Se.removeEventListener("dispose",Xe),be(Se)}function be(xe){He(xe),q.remove(xe)}function He(xe){const Se=q.get(xe).programs;Se!==void 0&&(Se.forEach(function(Ie){Oe.releaseProgram(Ie)}),xe.isShaderMaterial&&Oe.releaseShaderCache(xe))}this.renderBufferDirect=function(xe,Se,Ie,Ue,Ke,St){Se===null&&(Se=j);const Ct=Ke.isMesh&&Ke.matrixWorld.determinant()<0,Pt=hc(xe,Se,Ie,Ue,Ke);le.setMaterial(Ue,Ct);let Lt=Ie.index,Rt=1;Ue.wireframe===!0&&(Lt=he.getWireframeAttribute(Ie),Rt=2);const Ht=Ie.drawRange,zt=Ie.attributes.position;let ze=Ht.start*Rt,ut=(Ht.start+Ht.count)*Rt;St!==null&&(ze=Math.max(ze,St.start*Rt),ut=Math.min(ut,(St.start+St.count)*Rt)),Lt!==null?(ze=Math.max(ze,0),ut=Math.min(ut,Lt.count)):zt!=null&&(ze=Math.max(ze,0),ut=Math.min(ut,zt.count));const vt=ut-ze;if(vt<0||vt===1/0)return;Te.setup(Ke,Ue,Pt,Ie,Lt);let It,on=ye;if(Lt!==null&&(It=re.get(Lt),on=Ne,on.setIndex(It)),Ke.isMesh)Ue.wireframe===!0?(le.setLineWidth(Ue.wireframeLinewidth*K()),on.setMode(z.LINES)):on.setMode(z.TRIANGLES);else if(Ke.isLine){let Bt=Ue.linewidth;Bt===void 0&&(Bt=1),le.setLineWidth(Bt*K()),Ke.isLineSegments?on.setMode(z.LINES):Ke.isLineLoop?on.setMode(z.LINE_LOOP):on.setMode(z.LINE_STRIP)}else Ke.isPoints?on.setMode(z.POINTS):Ke.isSprite&&on.setMode(z.TRIANGLES);if(Ke.isInstancedMesh)on.renderInstances(ze,vt,Ke.count);else if(Ie.isInstancedBufferGeometry){const Bt=Ie._maxInstanceCount!==void 0?Ie._maxInstanceCount:1/0,sp=Math.min(Ie.instanceCount,Bt);on.renderInstances(ze,vt,sp)}else on.render(ze,vt)},this.compile=function(xe,Se){function Ie(Ue,Ke,St){Ue.transparent===!0&&Ue.side===vr&&Ue.forceSinglePass===!1?(Ue.side=Ri,Ue.needsUpdate=!0,Os(Ue,Ke,St),Ue.side=bs,Ue.needsUpdate=!0,Os(Ue,Ke,St),Ue.side=vr):Os(Ue,Ke,St)}p=Z.get(xe),p.init(),m.push(p),xe.traverseVisible(function(Ue){Ue.isLight&&Ue.layers.test(Se.layers)&&(p.pushLight(Ue),Ue.castShadow&&p.pushShadow(Ue))}),p.setupLights(v.useLegacyLights),xe.traverse(function(Ue){const Ke=Ue.material;if(Ke)if(Array.isArray(Ke))for(let St=0;St<Ke.length;St++){const Ct=Ke[St];Ie(Ct,xe,Ue)}else Ie(Ke,xe,Ue)}),m.pop(),p=null};let Ye=null;function st(xe){Ye&&Ye(xe)}function Ze(){tn.stop()}function At(){tn.start()}const tn=new UA;tn.setAnimationLoop(st),typeof self<"u"&&tn.setContext(self),this.setAnimationLoop=function(xe){Ye=xe,ie.setAnimationLoop(xe),xe===null?tn.stop():tn.start()},ie.addEventListener("sessionstart",Ze),ie.addEventListener("sessionend",At),this.render=function(xe,Se){if(Se!==void 0&&Se.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(b===!0)return;xe.matrixWorldAutoUpdate===!0&&xe.updateMatrixWorld(),Se.parent===null&&Se.matrixWorldAutoUpdate===!0&&Se.updateMatrixWorld(),ie.enabled===!0&&ie.isPresenting===!0&&(ie.cameraAutoUpdate===!0&&ie.updateCamera(Se),Se=ie.getCamera()),xe.isScene===!0&&xe.onBeforeRender(v,xe,Se,w),p=Z.get(xe,m.length),p.init(),m.push(p),X.multiplyMatrices(Se.projectionMatrix,Se.matrixWorldInverse),T.setFromProjectionMatrix(X),V=this.localClippingEnabled,R=_e.init(this.clippingPlanes,V),h=G.get(xe,g.length),h.init(),g.push(h),En(xe,Se,0,v.sortObjects),h.finish(),v.sortObjects===!0&&h.sort(H,B),R===!0&&_e.beginShadows();const Ie=p.state.shadowsArray;if(de.render(Ie,xe,Se),R===!0&&_e.endShadows(),this.info.autoReset===!0&&this.info.reset(),Re.render(h,xe),p.setupLights(v.useLegacyLights),Se.isArrayCamera){const Ue=Se.cameras;for(let Ke=0,St=Ue.length;Ke<St;Ke++){const Ct=Ue[Ke];Hi(h,xe,Ct,Ct.viewport)}}else Hi(h,xe,Se);w!==null&&(J.updateMultisampleRenderTarget(w),J.updateRenderTargetMipmap(w)),xe.isScene===!0&&xe.onAfterRender(v,xe,Se),Te.resetDefaultState(),C=-1,x=null,m.pop(),m.length>0?p=m[m.length-1]:p=null,g.pop(),g.length>0?h=g[g.length-1]:h=null};function En(xe,Se,Ie,Ue){if(xe.visible===!1)return;if(xe.layers.test(Se.layers)){if(xe.isGroup)Ie=xe.renderOrder;else if(xe.isLOD)xe.autoUpdate===!0&&xe.update(Se);else if(xe.isLight)p.pushLight(xe),xe.castShadow&&p.pushShadow(xe);else if(xe.isSprite){if(!xe.frustumCulled||T.intersectsSprite(xe)){Ue&&W.setFromMatrixPosition(xe.matrixWorld).applyMatrix4(X);const Ct=Ce.update(xe),Pt=xe.material;Pt.visible&&h.push(xe,Ct,Pt,Ie,W.z,null)}}else if((xe.isMesh||xe.isLine||xe.isPoints)&&(!xe.frustumCulled||T.intersectsObject(xe))){xe.isSkinnedMesh&&xe.skeleton.frame!==Me.render.frame&&(xe.skeleton.update(),xe.skeleton.frame=Me.render.frame);const Ct=Ce.update(xe),Pt=xe.material;if(Ue&&(Ct.boundingSphere===null&&Ct.computeBoundingSphere(),W.copy(Ct.boundingSphere.center).applyMatrix4(xe.matrixWorld).applyMatrix4(X)),Array.isArray(Pt)){const Lt=Ct.groups;for(let Rt=0,Ht=Lt.length;Rt<Ht;Rt++){const zt=Lt[Rt],ze=Pt[zt.materialIndex];ze&&ze.visible&&h.push(xe,Ct,ze,Ie,W.z,zt)}}else Pt.visible&&h.push(xe,Ct,Pt,Ie,W.z,null)}}const St=xe.children;for(let Ct=0,Pt=St.length;Ct<Pt;Ct++)En(St[Ct],Se,Ie,Ue)}function Hi(xe,Se,Ie,Ue){const Ke=xe.opaque,St=xe.transmissive,Ct=xe.transparent;p.setupLightsView(Ie),R===!0&&_e.setGlobalState(v.clippingPlanes,Ie),St.length>0&&sn(Ke,St,Se,Ie),Ue&&le.viewport(M.copy(Ue)),Ke.length>0&&Gn(Ke,Se,Ie),St.length>0&&Gn(St,Se,Ie),Ct.length>0&&Gn(Ct,Se,Ie),le.buffers.depth.setTest(!0),le.buffers.depth.setMask(!0),le.buffers.color.setMask(!0),le.setPolygonOffset(!1)}function sn(xe,Se,Ie,Ue){if(U===null){const Pt=ne.isWebGL2;U=new ya(1024,1024,{generateMipmaps:!0,type:ue.has("EXT_color_buffer_half_float")?Du:va,minFilter:ga,samples:Pt&&s===!0?4:0})}const Ke=v.getRenderTarget();v.setRenderTarget(U),v.clear();const St=v.toneMapping;v.toneMapping=us,Gn(xe,Ie,Ue),J.updateMultisampleRenderTarget(U),J.updateRenderTargetMipmap(U);let Ct=!1;for(let Pt=0,Lt=Se.length;Pt<Lt;Pt++){const Rt=Se[Pt],Ht=Rt.object,zt=Rt.geometry,ze=Rt.material,ut=Rt.group;if(ze.side===vr&&Ht.layers.test(Ue.layers)){const vt=ze.side;ze.side=Ri,ze.needsUpdate=!0,ci(Ht,Ie,Ue,zt,ze,ut),ze.side=vt,ze.needsUpdate=!0,Ct=!0}}Ct===!0&&(J.updateMultisampleRenderTarget(U),J.updateRenderTargetMipmap(U)),v.setRenderTarget(Ke),v.toneMapping=St}function Gn(xe,Se,Ie){const Ue=Se.isScene===!0?Se.overrideMaterial:null;for(let Ke=0,St=xe.length;Ke<St;Ke++){const Ct=xe[Ke],Pt=Ct.object,Lt=Ct.geometry,Rt=Ue===null?Ct.material:Ue,Ht=Ct.group;Pt.layers.test(Ie.layers)&&ci(Pt,Se,Ie,Lt,Rt,Ht)}}function ci(xe,Se,Ie,Ue,Ke,St){xe.onBeforeRender(v,Se,Ie,Ue,Ke,St),xe.modelViewMatrix.multiplyMatrices(Ie.matrixWorldInverse,xe.matrixWorld),xe.normalMatrix.getNormalMatrix(xe.modelViewMatrix),Ke.onBeforeRender(v,Se,Ie,Ue,xe,St),Ke.transparent===!0&&Ke.side===vr&&Ke.forceSinglePass===!1?(Ke.side=Ri,Ke.needsUpdate=!0,v.renderBufferDirect(Ie,Se,Ue,Ke,xe,St),Ke.side=bs,Ke.needsUpdate=!0,v.renderBufferDirect(Ie,Se,Ue,Ke,xe,St),Ke.side=vr):v.renderBufferDirect(Ie,Se,Ue,Ke,xe,St),xe.onAfterRender(v,Se,Ie,Ue,Ke,St)}function Os(xe,Se,Ie){Se.isScene!==!0&&(Se=j);const Ue=q.get(xe),Ke=p.state.lights,St=p.state.shadowsArray,Ct=Ke.state.version,Pt=Oe.getParameters(xe,Ke.state,St,Se,Ie),Lt=Oe.getProgramCacheKey(Pt);let Rt=Ue.programs;Ue.environment=xe.isMeshStandardMaterial?Se.environment:null,Ue.fog=Se.fog,Ue.envMap=(xe.isMeshStandardMaterial?pe:ce).get(xe.envMap||Ue.environment),Rt===void 0&&(xe.addEventListener("dispose",Xe),Rt=new Map,Ue.programs=Rt);let Ht=Rt.get(Lt);if(Ht!==void 0){if(Ue.currentProgram===Ht&&Ue.lightsStateVersion===Ct)return Ar(xe,Pt),Ht}else Pt.uniforms=Oe.getUniforms(xe),xe.onBuild(Ie,Pt,v),xe.onBeforeCompile(Pt,v),Ht=Oe.acquireProgram(Pt,Lt),Rt.set(Lt,Ht),Ue.uniforms=Pt.uniforms;const zt=Ue.uniforms;(!xe.isShaderMaterial&&!xe.isRawShaderMaterial||xe.clipping===!0)&&(zt.clippingPlanes=_e.uniform),Ar(xe,Pt),Ue.needsLights=mc(xe),Ue.lightsStateVersion=Ct,Ue.needsLights&&(zt.ambientLightColor.value=Ke.state.ambient,zt.lightProbe.value=Ke.state.probe,zt.directionalLights.value=Ke.state.directional,zt.directionalLightShadows.value=Ke.state.directionalShadow,zt.spotLights.value=Ke.state.spot,zt.spotLightShadows.value=Ke.state.spotShadow,zt.rectAreaLights.value=Ke.state.rectArea,zt.ltc_1.value=Ke.state.rectAreaLTC1,zt.ltc_2.value=Ke.state.rectAreaLTC2,zt.pointLights.value=Ke.state.point,zt.pointLightShadows.value=Ke.state.pointShadow,zt.hemisphereLights.value=Ke.state.hemi,zt.directionalShadowMap.value=Ke.state.directionalShadowMap,zt.directionalShadowMatrix.value=Ke.state.directionalShadowMatrix,zt.spotShadowMap.value=Ke.state.spotShadowMap,zt.spotLightMatrix.value=Ke.state.spotLightMatrix,zt.spotLightMap.value=Ke.state.spotLightMap,zt.pointShadowMap.value=Ke.state.pointShadowMap,zt.pointShadowMatrix.value=Ke.state.pointShadowMatrix);const ze=Ht.getUniforms(),ut=Bf.seqWithValue(ze.seq,zt);return Ue.currentProgram=Ht,Ue.uniformsList=ut,Ht}function Ar(xe,Se){const Ie=q.get(xe);Ie.outputColorSpace=Se.outputColorSpace,Ie.instancing=Se.instancing,Ie.skinning=Se.skinning,Ie.morphTargets=Se.morphTargets,Ie.morphNormals=Se.morphNormals,Ie.morphColors=Se.morphColors,Ie.morphTargetsCount=Se.morphTargetsCount,Ie.numClippingPlanes=Se.numClippingPlanes,Ie.numIntersection=Se.numClipIntersection,Ie.vertexAlphas=Se.vertexAlphas,Ie.vertexTangents=Se.vertexTangents,Ie.toneMapping=Se.toneMapping}function hc(xe,Se,Ie,Ue,Ke){Se.isScene!==!0&&(Se=j),J.resetTextureUnits();const St=Se.fog,Ct=Ue.isMeshStandardMaterial?Se.environment:null,Pt=w===null?v.outputColorSpace:w.isXRRenderTarget===!0?w.texture.colorSpace:$r,Lt=(Ue.isMeshStandardMaterial?pe:ce).get(Ue.envMap||Ct),Rt=Ue.vertexColors===!0&&!!Ie.attributes.color&&Ie.attributes.color.itemSize===4,Ht=!!Ue.normalMap&&!!Ie.attributes.tangent,zt=!!Ie.morphAttributes.position,ze=!!Ie.morphAttributes.normal,ut=!!Ie.morphAttributes.color,vt=Ue.toneMapped?v.toneMapping:us,It=Ie.morphAttributes.position||Ie.morphAttributes.normal||Ie.morphAttributes.color,on=It!==void 0?It.length:0,Bt=q.get(Ue),sp=p.state.lights;if(R===!0&&(V===!0||xe!==x)){const ki=xe===x&&Ue.id===C;_e.setState(Ue,xe,ki)}let Vn=!1;Ue.version===Bt.__version?(Bt.needsLights&&Bt.lightsStateVersion!==sp.state.version||Bt.outputColorSpace!==Pt||Ke.isInstancedMesh&&Bt.instancing===!1||!Ke.isInstancedMesh&&Bt.instancing===!0||Ke.isSkinnedMesh&&Bt.skinning===!1||!Ke.isSkinnedMesh&&Bt.skinning===!0||Bt.envMap!==Lt||Ue.fog===!0&&Bt.fog!==St||Bt.numClippingPlanes!==void 0&&(Bt.numClippingPlanes!==_e.numPlanes||Bt.numIntersection!==_e.numIntersection)||Bt.vertexAlphas!==Rt||Bt.vertexTangents!==Ht||Bt.morphTargets!==zt||Bt.morphNormals!==ze||Bt.morphColors!==ut||Bt.toneMapping!==vt||ne.isWebGL2===!0&&Bt.morphTargetsCount!==on)&&(Vn=!0):(Vn=!0,Bt.__version=Ue.version);let Co=Bt.currentProgram;Vn===!0&&(Co=Os(Ue,Se,Ke));let Py=!1,gc=!1,op=!1;const ui=Co.getUniforms(),xo=Bt.uniforms;if(le.useProgram(Co.program)&&(Py=!0,gc=!0,op=!0),Ue.id!==C&&(C=Ue.id,gc=!0),Py||x!==xe){if(ui.setValue(z,"projectionMatrix",xe.projectionMatrix),ne.logarithmicDepthBuffer&&ui.setValue(z,"logDepthBufFC",2/(Math.log(xe.far+1)/Math.LN2)),x!==xe&&(x=xe,gc=!0,op=!0),Ue.isShaderMaterial||Ue.isMeshPhongMaterial||Ue.isMeshToonMaterial||Ue.isMeshStandardMaterial||Ue.envMap){const ki=ui.map.cameraPosition;ki!==void 0&&ki.setValue(z,W.setFromMatrixPosition(xe.matrixWorld))}(Ue.isMeshPhongMaterial||Ue.isMeshToonMaterial||Ue.isMeshLambertMaterial||Ue.isMeshBasicMaterial||Ue.isMeshStandardMaterial||Ue.isShaderMaterial)&&ui.setValue(z,"isOrthographic",xe.isOrthographicCamera===!0),(Ue.isMeshPhongMaterial||Ue.isMeshToonMaterial||Ue.isMeshLambertMaterial||Ue.isMeshBasicMaterial||Ue.isMeshStandardMaterial||Ue.isShaderMaterial||Ue.isShadowMaterial||Ke.isSkinnedMesh)&&ui.setValue(z,"viewMatrix",xe.matrixWorldInverse)}if(Ke.isSkinnedMesh){ui.setOptional(z,Ke,"bindMatrix"),ui.setOptional(z,Ke,"bindMatrixInverse");const ki=Ke.skeleton;ki&&(ne.floatVertexTextures?(ki.boneTexture===null&&ki.computeBoneTexture(),ui.setValue(z,"boneTexture",ki.boneTexture,J),ui.setValue(z,"boneTextureSize",ki.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const ap=Ie.morphAttributes;if((ap.position!==void 0||ap.normal!==void 0||ap.color!==void 0&&ne.isWebGL2===!0)&&Fe.update(Ke,Ie,Co),(gc||Bt.receiveShadow!==Ke.receiveShadow)&&(Bt.receiveShadow=Ke.receiveShadow,ui.setValue(z,"receiveShadow",Ke.receiveShadow)),Ue.isMeshGouraudMaterial&&Ue.envMap!==null&&(xo.envMap.value=Lt,xo.flipEnvMap.value=Lt.isCubeTexture&&Lt.isRenderTargetTexture===!1?-1:1),gc&&(ui.setValue(z,"toneMappingExposure",v.toneMappingExposure),Bt.needsLights&&pc(xo,op),St&&Ue.fog===!0&&ke.refreshFogUniforms(xo,St),ke.refreshMaterialUniforms(xo,Ue,$,I,U),Bf.upload(z,Bt.uniformsList,xo,J)),Ue.isShaderMaterial&&Ue.uniformsNeedUpdate===!0&&(Bf.upload(z,Bt.uniformsList,xo,J),Ue.uniformsNeedUpdate=!1),Ue.isSpriteMaterial&&ui.setValue(z,"center",Ke.center),ui.setValue(z,"modelViewMatrix",Ke.modelViewMatrix),ui.setValue(z,"normalMatrix",Ke.normalMatrix),ui.setValue(z,"modelMatrix",Ke.matrixWorld),Ue.isShaderMaterial||Ue.isRawShaderMaterial){const ki=Ue.uniformsGroups;for(let lp=0,oR=ki.length;lp<oR;lp++)if(ne.isWebGL2){const Oy=ki[lp];ae.update(Oy,Co),ae.bind(Oy,Co)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return Co}function pc(xe,Se){xe.ambientLightColor.needsUpdate=Se,xe.lightProbe.needsUpdate=Se,xe.directionalLights.needsUpdate=Se,xe.directionalLightShadows.needsUpdate=Se,xe.pointLights.needsUpdate=Se,xe.pointLightShadows.needsUpdate=Se,xe.spotLights.needsUpdate=Se,xe.spotLightShadows.needsUpdate=Se,xe.rectAreaLights.needsUpdate=Se,xe.hemisphereLights.needsUpdate=Se}function mc(xe){return xe.isMeshLambertMaterial||xe.isMeshToonMaterial||xe.isMeshPhongMaterial||xe.isMeshStandardMaterial||xe.isShadowMaterial||xe.isShaderMaterial&&xe.lights===!0}this.getActiveCubeFace=function(){return _},this.getActiveMipmapLevel=function(){return S},this.getRenderTarget=function(){return w},this.setRenderTargetTextures=function(xe,Se,Ie){q.get(xe.texture).__webglTexture=Se,q.get(xe.depthTexture).__webglTexture=Ie;const Ue=q.get(xe);Ue.__hasExternalTextures=!0,Ue.__hasExternalTextures&&(Ue.__autoAllocateDepthBuffer=Ie===void 0,Ue.__autoAllocateDepthBuffer||ue.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Ue.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(xe,Se){const Ie=q.get(xe);Ie.__webglFramebuffer=Se,Ie.__useDefaultFramebuffer=Se===void 0},this.setRenderTarget=function(xe,Se=0,Ie=0){w=xe,_=Se,S=Ie;let Ue=!0,Ke=null,St=!1,Ct=!1;if(xe){const Lt=q.get(xe);Lt.__useDefaultFramebuffer!==void 0?(le.bindFramebuffer(z.FRAMEBUFFER,null),Ue=!1):Lt.__webglFramebuffer===void 0?J.setupRenderTarget(xe):Lt.__hasExternalTextures&&J.rebindTextures(xe,q.get(xe.texture).__webglTexture,q.get(xe.depthTexture).__webglTexture);const Rt=xe.texture;(Rt.isData3DTexture||Rt.isDataArrayTexture||Rt.isCompressedArrayTexture)&&(Ct=!0);const Ht=q.get(xe).__webglFramebuffer;xe.isWebGLCubeRenderTarget?(Ke=Ht[Se],St=!0):ne.isWebGL2&&xe.samples>0&&J.useMultisampledRTT(xe)===!1?Ke=q.get(xe).__webglMultisampledFramebuffer:Ke=Ht,M.copy(xe.viewport),E.copy(xe.scissor),A=xe.scissorTest}else M.copy(N).multiplyScalar($).floor(),E.copy(k).multiplyScalar($).floor(),A=D;if(le.bindFramebuffer(z.FRAMEBUFFER,Ke)&&ne.drawBuffers&&Ue&&le.drawBuffers(xe,Ke),le.viewport(M),le.scissor(E),le.setScissorTest(A),St){const Lt=q.get(xe.texture);z.framebufferTexture2D(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,z.TEXTURE_CUBE_MAP_POSITIVE_X+Se,Lt.__webglTexture,Ie)}else if(Ct){const Lt=q.get(xe.texture),Rt=Se||0;z.framebufferTextureLayer(z.FRAMEBUFFER,z.COLOR_ATTACHMENT0,Lt.__webglTexture,Ie||0,Rt)}C=-1},this.readRenderTargetPixels=function(xe,Se,Ie,Ue,Ke,St,Ct){if(!(xe&&xe.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Pt=q.get(xe).__webglFramebuffer;if(xe.isWebGLCubeRenderTarget&&Ct!==void 0&&(Pt=Pt[Ct]),Pt){le.bindFramebuffer(z.FRAMEBUFFER,Pt);try{const Lt=xe.texture,Rt=Lt.format,Ht=Lt.type;if(Rt!==qi&&Ae.convert(Rt)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const zt=Ht===Du&&(ue.has("EXT_color_buffer_half_float")||ne.isWebGL2&&ue.has("EXT_color_buffer_float"));if(Ht!==va&&Ae.convert(Ht)!==z.getParameter(z.IMPLEMENTATION_COLOR_READ_TYPE)&&!(Ht===eo&&(ne.isWebGL2||ue.has("OES_texture_float")||ue.has("WEBGL_color_buffer_float")))&&!zt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}Se>=0&&Se<=xe.width-Ue&&Ie>=0&&Ie<=xe.height-Ke&&z.readPixels(Se,Ie,Ue,Ke,Ae.convert(Rt),Ae.convert(Ht),St)}finally{const Lt=w!==null?q.get(w).__webglFramebuffer:null;le.bindFramebuffer(z.FRAMEBUFFER,Lt)}}},this.copyFramebufferToTexture=function(xe,Se,Ie=0){const Ue=Math.pow(2,-Ie),Ke=Math.floor(Se.image.width*Ue),St=Math.floor(Se.image.height*Ue);J.setTexture2D(Se,0),z.copyTexSubImage2D(z.TEXTURE_2D,Ie,0,0,xe.x,xe.y,Ke,St),le.unbindTexture()},this.copyTextureToTexture=function(xe,Se,Ie,Ue=0){const Ke=Se.image.width,St=Se.image.height,Ct=Ae.convert(Ie.format),Pt=Ae.convert(Ie.type);J.setTexture2D(Ie,0),z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,Ie.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ie.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,Ie.unpackAlignment),Se.isDataTexture?z.texSubImage2D(z.TEXTURE_2D,Ue,xe.x,xe.y,Ke,St,Ct,Pt,Se.image.data):Se.isCompressedTexture?z.compressedTexSubImage2D(z.TEXTURE_2D,Ue,xe.x,xe.y,Se.mipmaps[0].width,Se.mipmaps[0].height,Ct,Se.mipmaps[0].data):z.texSubImage2D(z.TEXTURE_2D,Ue,xe.x,xe.y,Ct,Pt,Se.image),Ue===0&&Ie.generateMipmaps&&z.generateMipmap(z.TEXTURE_2D),le.unbindTexture()},this.copyTextureToTexture3D=function(xe,Se,Ie,Ue,Ke=0){if(v.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const St=xe.max.x-xe.min.x+1,Ct=xe.max.y-xe.min.y+1,Pt=xe.max.z-xe.min.z+1,Lt=Ae.convert(Ue.format),Rt=Ae.convert(Ue.type);let Ht;if(Ue.isData3DTexture)J.setTexture3D(Ue,0),Ht=z.TEXTURE_3D;else if(Ue.isDataArrayTexture)J.setTexture2DArray(Ue,0),Ht=z.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}z.pixelStorei(z.UNPACK_FLIP_Y_WEBGL,Ue.flipY),z.pixelStorei(z.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Ue.premultiplyAlpha),z.pixelStorei(z.UNPACK_ALIGNMENT,Ue.unpackAlignment);const zt=z.getParameter(z.UNPACK_ROW_LENGTH),ze=z.getParameter(z.UNPACK_IMAGE_HEIGHT),ut=z.getParameter(z.UNPACK_SKIP_PIXELS),vt=z.getParameter(z.UNPACK_SKIP_ROWS),It=z.getParameter(z.UNPACK_SKIP_IMAGES),on=Ie.isCompressedTexture?Ie.mipmaps[0]:Ie.image;z.pixelStorei(z.UNPACK_ROW_LENGTH,on.width),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,on.height),z.pixelStorei(z.UNPACK_SKIP_PIXELS,xe.min.x),z.pixelStorei(z.UNPACK_SKIP_ROWS,xe.min.y),z.pixelStorei(z.UNPACK_SKIP_IMAGES,xe.min.z),Ie.isDataTexture||Ie.isData3DTexture?z.texSubImage3D(Ht,Ke,Se.x,Se.y,Se.z,St,Ct,Pt,Lt,Rt,on.data):Ie.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),z.compressedTexSubImage3D(Ht,Ke,Se.x,Se.y,Se.z,St,Ct,Pt,Lt,on.data)):z.texSubImage3D(Ht,Ke,Se.x,Se.y,Se.z,St,Ct,Pt,Lt,Rt,on),z.pixelStorei(z.UNPACK_ROW_LENGTH,zt),z.pixelStorei(z.UNPACK_IMAGE_HEIGHT,ze),z.pixelStorei(z.UNPACK_SKIP_PIXELS,ut),z.pixelStorei(z.UNPACK_SKIP_ROWS,vt),z.pixelStorei(z.UNPACK_SKIP_IMAGES,It),Ke===0&&Ue.generateMipmaps&&z.generateMipmap(Ht),le.unbindTexture()},this.initTexture=function(xe){xe.isCubeTexture?J.setTextureCube(xe,0):xe.isData3DTexture?J.setTexture3D(xe,0):xe.isDataArrayTexture||xe.isCompressedArrayTexture?J.setTexture2DArray(xe,0):J.setTexture2D(xe,0),le.unbindTexture()},this.resetState=function(){_=0,S=0,w=null,le.reset(),Te.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: the property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Ft?ds:xA}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===ds?Ft:$r}}class tue extends WA{}tue.prototype.isWebGL1Renderer=!0;class nue extends Cn{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(e){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=e}}class iue{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=tv,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Sr()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,i){e*=this.stride,i*=n.stride;for(let r=0,a=this.stride;r<a;r++)this.array[e+r]=n.array[i+r];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Sr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),i=new this.constructor(n,this.stride);return i.setUsage(this.usage),i}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Sr()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const fi=new $e;class Cy{constructor(e,n,i,r=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=i,this.normalized=r}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,i=this.data.count;n<i;n++)fi.fromBufferAttribute(this,n),fi.applyMatrix4(e),this.setXYZ(n,fi.x,fi.y,fi.z);return this}applyNormalMatrix(e){for(let n=0,i=this.count;n<i;n++)fi.fromBufferAttribute(this,n),fi.applyNormalMatrix(e),this.setXYZ(n,fi.x,fi.y,fi.z);return this}transformDirection(e){for(let n=0,i=this.count;n<i;n++)fi.fromBufferAttribute(this,n),fi.transformDirection(e),this.setXYZ(n,fi.x,fi.y,fi.z);return this}setX(e,n){return this.normalized&&(n=pn(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=pn(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=as(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=as(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=as(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=as(n,this.array)),n}setXY(e,n,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=pn(n,this.array),i=pn(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this}setXYZ(e,n,i,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=pn(n,this.array),i=pn(i,this.array),r=pn(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this}setXYZW(e,n,i,r,a){return e=e*this.data.stride+this.offset,this.normalized&&(n=pn(n,this.array),i=pn(i,this.array),r=pn(r,this.array),a=pn(a,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=i,this.data.array[e+2]=r,this.data.array[e+3]=a,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return new bi(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Cy(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let i=0;i<this.count;i++){const r=i*this.data.stride+this.offset;for(let a=0;a<this.itemSize;a++)n.push(this.data.array[r+a])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}const TC=new $e,EC=new mn,MC=new mn,rue=new $e,AC=new Yt,Ja=new $e;class sue extends Ei{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Yt,this.bindMatrixInverse=new Yt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new Rs),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)Ja.fromBufferAttribute(n,i),this.applyBoneTransform(i,Ja),this.boundingBox.expandByPoint(Ja)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new Ps),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let i=0;i<n.count;i++)Ja.fromBufferAttribute(n,i),this.applyBoneTransform(i,Ja),this.boundingSphere.expandByPoint(Ja)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,this}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new mn,n=this.geometry.attributes.skinWeight;for(let i=0,r=n.count;i<r;i++){e.fromBufferAttribute(n,i);const a=1/e.manhattanLength();a!==1/0?e.multiplyScalar(a):e.set(1,0,0,0),n.setXYZW(i,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const i=this.skeleton,r=this.geometry;EC.fromBufferAttribute(r.attributes.skinIndex,e),MC.fromBufferAttribute(r.attributes.skinWeight,e),TC.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let a=0;a<4;a++){const u=MC.getComponent(a);if(u!==0){const s=EC.getComponent(a);AC.multiplyMatrices(i.bones[s].matrixWorld,i.boneInverses[s]),n.addScaledVector(rue.copy(TC).applyMatrix4(AC),u)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class GA extends Cn{constructor(){super(),this.isBone=!0,this.type="Bone"}}class oue extends Zn{constructor(e=null,n=1,i=1,r,a,u,s,o,c=zn,f=zn,l,d){super(null,u,s,o,c,f,r,a,l,d),this.isDataTexture=!0,this.image={data:e,width:n,height:i},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const RC=new Yt,aue=new Yt;class xy{constructor(e=[],n=[]){this.uuid=Sr(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let i=0,r=this.bones.length;i<r;i++)this.boneInverses.push(new Yt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const i=new Yt;this.bones[e]&&i.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(i)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&i.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const i=this.bones[e];i&&(i.parent&&i.parent.isBone?(i.matrix.copy(i.parent.matrixWorld).invert(),i.matrix.multiply(i.matrixWorld)):i.matrix.copy(i.matrixWorld),i.matrix.decompose(i.position,i.quaternion,i.scale))}}update(){const e=this.bones,n=this.boneInverses,i=this.boneMatrices,r=this.boneTexture;for(let a=0,u=e.length;a<u;a++){const s=e[a]?e[a].matrixWorld:aue;RC.multiplyMatrices(s,n[a]),RC.toArray(i,a*16)}r!==null&&(r.needsUpdate=!0)}clone(){return new xy(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=EA(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const i=new oue(n,e,e,qi,eo);return i.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=i,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,i=this.bones.length;n<i;n++){const r=this.bones[n];if(r.name===e)return r}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let i=0,r=e.bones.length;i<r;i++){const a=e.bones[i];let u=n[a];u===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",a),u=new GA),this.bones.push(u),this.boneInverses.push(new Yt().fromArray(e.boneInverses[i]))}return this.init(),this}toJSON(){const e={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,i=this.boneInverses;for(let r=0,a=n.length;r<a;r++){const u=n[r];e.bones.push(u.uuid);const s=i[r];e.boneInverses.push(s.toArray())}return e}}class PC extends bi{constructor(e,n,i,r=1){super(e,n,i),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const Qa=new Yt,OC=new Yt,tf=[],kC=new Rs,lue=new Yt,Rc=new Ei,Pc=new Ps;class cue extends Ei{constructor(e,n,i){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new PC(new Float32Array(i*16),16),this.instanceColor=null,this.count=i,this.boundingBox=null,this.boundingSphere=null;for(let r=0;r<i;r++)this.setMatrixAt(r,lue)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new Rs),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Qa),kC.copy(e.boundingBox).applyMatrix4(Qa),this.boundingBox.union(kC)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new Ps),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let i=0;i<n;i++)this.getMatrixAt(i,Qa),Pc.copy(e.boundingSphere).applyMatrix4(Qa),this.boundingSphere.union(Pc)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const i=this.matrixWorld,r=this.count;if(Rc.geometry=this.geometry,Rc.material=this.material,Rc.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Pc.copy(this.boundingSphere),Pc.applyMatrix4(i),e.ray.intersectsSphere(Pc)!==!1))for(let a=0;a<r;a++){this.getMatrixAt(a,Qa),OC.multiplyMatrices(i,Qa),Rc.matrixWorld=OC,Rc.raycast(e,tf);for(let u=0,s=tf.length;u<s;u++){const o=tf[u];o.instanceId=a,o.object=this,n.push(o)}tf.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new PC(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class jA extends wr{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Vt(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const LC=new $e,IC=new $e,DC=new Yt,_m=new yy,nf=new Ps;class Ty extends Cn{constructor(e=new Gr,n=new jA){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[0];for(let r=1,a=n.count;r<a;r++)LC.fromBufferAttribute(n,r-1),IC.fromBufferAttribute(n,r),i[r]=i[r-1],i[r]+=LC.distanceTo(IC);e.setAttribute("lineDistance",new fs(i,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Line.threshold,u=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),nf.copy(i.boundingSphere),nf.applyMatrix4(r),nf.radius+=a,e.ray.intersectsSphere(nf)===!1)return;DC.copy(r).invert(),_m.copy(e.ray).applyMatrix4(DC);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,c=new $e,f=new $e,l=new $e,d=new $e,h=this.isLineSegments?2:1,p=i.index,m=i.attributes.position;if(p!==null){const v=Math.max(0,u.start),b=Math.min(p.count,u.start+u.count);for(let _=v,S=b-1;_<S;_+=h){const w=p.getX(_),C=p.getX(_+1);if(c.fromBufferAttribute(m,w),f.fromBufferAttribute(m,C),_m.distanceSqToSegment(c,f,d,l)>o)continue;d.applyMatrix4(this.matrixWorld);const M=e.ray.origin.distanceTo(d);M<e.near||M>e.far||n.push({distance:M,point:l.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const v=Math.max(0,u.start),b=Math.min(m.count,u.start+u.count);for(let _=v,S=b-1;_<S;_+=h){if(c.fromBufferAttribute(m,_),f.fromBufferAttribute(m,_+1),_m.distanceSqToSegment(c,f,d,l)>o)continue;d.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(d);C<e.near||C>e.far||n.push({distance:C,point:l.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,u=r.length;a<u;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}const NC=new $e,FC=new $e;class uue extends Ty{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,i=[];for(let r=0,a=n.count;r<a;r+=2)NC.fromBufferAttribute(n,r),FC.fromBufferAttribute(n,r+1),i[r]=r===0?0:i[r-1],i[r+1]=i[r]+NC.distanceTo(FC);e.setAttribute("lineDistance",new fs(i,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class due extends Ty{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class XA extends wr{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Vt(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const BC=new Yt,sv=new yy,rf=new Ps,sf=new $e;class fue extends Cn{constructor(e=new Gr,n=new XA){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=e.material,this.geometry=e.geometry,this}raycast(e,n){const i=this.geometry,r=this.matrixWorld,a=e.params.Points.threshold,u=i.drawRange;if(i.boundingSphere===null&&i.computeBoundingSphere(),rf.copy(i.boundingSphere),rf.applyMatrix4(r),rf.radius+=a,e.ray.intersectsSphere(rf)===!1)return;BC.copy(r).invert(),sv.copy(e.ray).applyMatrix4(BC);const s=a/((this.scale.x+this.scale.y+this.scale.z)/3),o=s*s,c=i.index,l=i.attributes.position;if(c!==null){const d=Math.max(0,u.start),h=Math.min(c.count,u.start+u.count);for(let p=d,g=h;p<g;p++){const m=c.getX(p);sf.fromBufferAttribute(l,m),UC(sf,m,o,r,e,n,this)}}else{const d=Math.max(0,u.start),h=Math.min(l.count,u.start+u.count);for(let p=d,g=h;p<g;p++)sf.fromBufferAttribute(l,p),UC(sf,p,o,r,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,i=Object.keys(n);if(i.length>0){const r=n[i[0]];if(r!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let a=0,u=r.length;a<u;a++){const s=r[a].name||String(a);this.morphTargetInfluences.push(0),this.morphTargetDictionary[s]=a}}}}}function UC(t,e,n,i,r,a,u){const s=sv.distanceSqToPoint(t);if(s<n){const o=new $e;sv.closestPointToPoint(t,o),o.applyMatrix4(i);const c=r.ray.origin.distanceTo(o);if(c<r.near||c>r.far)return;a.push({distance:c,distanceToRay:Math.sqrt(s),point:o,index:e,face:null,object:u})}}class Ey extends wr{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Vt(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gy,this.normalScale=new Ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class Aa extends Ey{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Ut(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return jn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Vt(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Vt(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Vt(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(e)}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class hue extends wr{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Vt(16777215),this.specular=new Vt(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Vt(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=gy,this.normalScale=new Ut(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=my,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}function Us(t,e,n){return KA(t)?new t.constructor(t.subarray(e,n!==void 0?n:t.length)):t.slice(e,n)}function of(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function KA(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function pue(t){function e(r,a){return t[r]-t[a]}const n=t.length,i=new Array(n);for(let r=0;r!==n;++r)i[r]=r;return i.sort(e),i}function VC(t,e,n){const i=t.length,r=new t.constructor(i);for(let a=0,u=0;u!==i;++a){const s=n[a]*e;for(let o=0;o!==e;++o)r[u++]=t[s+o]}return r}function YA(t,e,n,i){let r=1,a=t[0];for(;a!==void 0&&a[i]===void 0;)a=t[r++];if(a===void 0)return;let u=a[i];if(u!==void 0)if(Array.isArray(u))do u=a[i],u!==void 0&&(e.push(a.time),n.push.apply(n,u)),a=t[r++];while(a!==void 0);else if(u.toArray!==void 0)do u=a[i],u!==void 0&&(e.push(a.time),u.toArray(n,n.length)),a=t[r++];while(a!==void 0);else do u=a[i],u!==void 0&&(e.push(a.time),n.push(u)),a=t[r++];while(a!==void 0)}class ad{constructor(e,n,i,r){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=r!==void 0?r:new n.constructor(i),this.sampleValues=n,this.valueSize=i,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let i=this._cachedIndex,r=n[i],a=n[i-1];e:{t:{let u;n:{i:if(!(e<r)){for(let s=i+2;;){if(r===void 0){if(e<a)break i;return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}if(i===s)break;if(a=r,r=n[++i],e<r)break t}u=n.length;break n}if(!(e>=a)){const s=n[1];e<s&&(i=2,a=s);for(let o=i-2;;){if(a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===o)break;if(r=a,a=n[--i-1],e>=a)break t}u=i,i=0;break n}break e}for(;i<u;){const s=i+u>>>1;e<n[s]?u=s:i=s+1}if(r=n[i],a=n[i-1],a===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===void 0)return i=n.length,this._cachedIndex=i,this.copySampleValue_(i-1)}this._cachedIndex=i,this.intervalChanged_(i,a,r)}return this.interpolate_(i,a,e,r)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r;for(let u=0;u!==r;++u)n[u]=i[a+u];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class mue extends ad{constructor(e,n,i,r){super(e,n,i,r),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Fw,endingEnd:Fw}}intervalChanged_(e,n,i){const r=this.parameterPositions;let a=e-2,u=e+1,s=r[a],o=r[u];if(s===void 0)switch(this.getSettings_().endingStart){case Bw:a=e,s=2*n-i;break;case Uw:a=r.length-2,s=n+r[a]-r[a+1];break;default:a=e,s=i}if(o===void 0)switch(this.getSettings_().endingEnd){case Bw:u=e,o=2*i-n;break;case Uw:u=1,o=i+r[1]-r[0];break;default:u=e-1,o=n}const c=(i-n)*.5,f=this.valueSize;this._weightPrev=c/(n-s),this._weightNext=c/(o-i),this._offsetPrev=a*f,this._offsetNext=u*f}interpolate_(e,n,i,r){const a=this.resultBuffer,u=this.sampleValues,s=this.valueSize,o=e*s,c=o-s,f=this._offsetPrev,l=this._offsetNext,d=this._weightPrev,h=this._weightNext,p=(i-n)/(r-n),g=p*p,m=g*p,v=-d*m+2*d*g-d*p,b=(1+d)*m+(-1.5-2*d)*g+(-.5+d)*p+1,_=(-1-h)*m+(1.5+h)*g+.5*p,S=h*m-h*g;for(let w=0;w!==s;++w)a[w]=v*u[f+w]+b*u[c+w]+_*u[o+w]+S*u[l+w];return a}}class gue extends ad{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,u=this.sampleValues,s=this.valueSize,o=e*s,c=o-s,f=(i-n)/(r-n),l=1-f;for(let d=0;d!==s;++d)a[d]=u[c+d]*l+u[o+d]*f;return a}}class vue extends ad{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e){return this.copySampleValue_(e-1)}}class jr{constructor(e,n,i,r){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=of(n,this.TimeBufferType),this.values=of(i,this.ValueBufferType),this.setInterpolation(r||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let i;if(n.toJSON!==this.toJSON)i=n.toJSON(e);else{i={name:e.name,times:of(e.times,Array),values:of(e.values,Array)};const r=e.getInterpolation();r!==e.DefaultInterpolation&&(i.interpolation=r)}return i.type=e.ValueTypeName,i}InterpolantFactoryMethodDiscrete(e){return new vue(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new gue(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new mue(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case Nu:n=this.InterpolantFactoryMethodDiscrete;break;case Yl:n=this.InterpolantFactoryMethodLinear;break;case Zp:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const i="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(i);return console.warn("THREE.KeyframeTrack:",i),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return Nu;case this.InterpolantFactoryMethodLinear:return Yl;case this.InterpolantFactoryMethodSmooth:return Zp}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let i=0,r=n.length;i!==r;++i)n[i]*=e}return this}trim(e,n){const i=this.times,r=i.length;let a=0,u=r-1;for(;a!==r&&i[a]<e;)++a;for(;u!==-1&&i[u]>n;)--u;if(++u,a!==0||u!==r){a>=u&&(u=Math.max(u,1),a=u-1);const s=this.getValueSize();this.times=Us(i,a,u),this.values=Us(this.values,a*s,u*s)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const i=this.times,r=this.values,a=i.length;a===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let u=null;for(let s=0;s!==a;s++){const o=i[s];if(typeof o=="number"&&isNaN(o)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,s,o),e=!1;break}if(u!==null&&u>o){console.error("THREE.KeyframeTrack: Out of order keys.",this,s,o,u),e=!1;break}u=o}if(r!==void 0&&KA(r))for(let s=0,o=r.length;s!==o;++s){const c=r[s];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,s,c),e=!1;break}}return e}optimize(){const e=Us(this.times),n=Us(this.values),i=this.getValueSize(),r=this.getInterpolation()===Zp,a=e.length-1;let u=1;for(let s=1;s<a;++s){let o=!1;const c=e[s],f=e[s+1];if(c!==f&&(s!==1||c!==e[0]))if(r)o=!0;else{const l=s*i,d=l-i,h=l+i;for(let p=0;p!==i;++p){const g=n[l+p];if(g!==n[d+p]||g!==n[h+p]){o=!0;break}}}if(o){if(s!==u){e[u]=e[s];const l=s*i,d=u*i;for(let h=0;h!==i;++h)n[d+h]=n[l+h]}++u}}if(a>0){e[u]=e[a];for(let s=a*i,o=u*i,c=0;c!==i;++c)n[o+c]=n[s+c];++u}return u!==e.length?(this.times=Us(e,0,u),this.values=Us(n,0,u*i)):(this.times=e,this.values=n),this}clone(){const e=Us(this.times,0),n=Us(this.values,0),i=this.constructor,r=new i(this.name,e,n);return r.createInterpolant=this.createInterpolant,r}}jr.prototype.TimeBufferType=Float32Array;jr.prototype.ValueBufferType=Float32Array;jr.prototype.DefaultInterpolation=Yl;class dc extends jr{}dc.prototype.ValueTypeName="bool";dc.prototype.ValueBufferType=Array;dc.prototype.DefaultInterpolation=Nu;dc.prototype.InterpolantFactoryMethodLinear=void 0;dc.prototype.InterpolantFactoryMethodSmooth=void 0;class qA extends jr{}qA.prototype.ValueTypeName="color";class Bu extends jr{}Bu.prototype.ValueTypeName="number";class yue extends ad{constructor(e,n,i,r){super(e,n,i,r)}interpolate_(e,n,i,r){const a=this.resultBuffer,u=this.sampleValues,s=this.valueSize,o=(i-n)/(r-n);let c=e*s;for(let f=c+s;c!==f;c+=4)Hr.slerpFlat(a,0,u,c-s,u,c,o);return a}}class _a extends jr{InterpolantFactoryMethodLinear(e){return new yue(this.times,this.values,this.getValueSize(),e)}}_a.prototype.ValueTypeName="quaternion";_a.prototype.DefaultInterpolation=Yl;_a.prototype.InterpolantFactoryMethodSmooth=void 0;class fc extends jr{}fc.prototype.ValueTypeName="string";fc.prototype.ValueBufferType=Array;fc.prototype.DefaultInterpolation=Nu;fc.prototype.InterpolantFactoryMethodLinear=void 0;fc.prototype.InterpolantFactoryMethodSmooth=void 0;class Uu extends jr{}Uu.prototype.ValueTypeName="vector";class bue{constructor(e,n=-1,i,r=Ire){this.name=e,this.tracks=i,this.duration=n,this.blendMode=r,this.uuid=Sr(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],i=e.tracks,r=1/(e.fps||1);for(let u=0,s=i.length;u!==s;++u)n.push(Sue(i[u]).scale(r));const a=new this(e.name,e.duration,n,e.blendMode);return a.uuid=e.uuid,a}static toJSON(e){const n=[],i=e.tracks,r={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let a=0,u=i.length;a!==u;++a)n.push(jr.toJSON(i[a]));return r}static CreateFromMorphTargetSequence(e,n,i,r){const a=n.length,u=[];for(let s=0;s<a;s++){let o=[],c=[];o.push((s+a-1)%a,s,(s+1)%a),c.push(0,1,0);const f=pue(o);o=VC(o,1,f),c=VC(c,1,f),!r&&o[0]===0&&(o.push(a),c.push(c[0])),u.push(new Bu(".morphTargetInfluences["+n[s].name+"]",o,c).scale(1/i))}return new this(e,-1,u)}static findByName(e,n){let i=e;if(!Array.isArray(e)){const r=e;i=r.geometry&&r.geometry.animations||r.animations}for(let r=0;r<i.length;r++)if(i[r].name===n)return i[r];return null}static CreateClipsFromMorphTargetSequences(e,n,i){const r={},a=/^([\w-]*?)([\d]+)$/;for(let s=0,o=e.length;s<o;s++){const c=e[s],f=c.name.match(a);if(f&&f.length>1){const l=f[1];let d=r[l];d||(r[l]=d=[]),d.push(c)}}const u=[];for(const s in r)u.push(this.CreateFromMorphTargetSequence(s,r[s],n,i));return u}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const i=function(l,d,h,p,g){if(h.length!==0){const m=[],v=[];YA(h,m,v,p),m.length!==0&&g.push(new l(d,m,v))}},r=[],a=e.name||"default",u=e.fps||30,s=e.blendMode;let o=e.length||-1;const c=e.hierarchy||[];for(let l=0;l<c.length;l++){const d=c[l].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const h={};let p;for(p=0;p<d.length;p++)if(d[p].morphTargets)for(let g=0;g<d[p].morphTargets.length;g++)h[d[p].morphTargets[g]]=-1;for(const g in h){const m=[],v=[];for(let b=0;b!==d[p].morphTargets.length;++b){const _=d[p];m.push(_.time),v.push(_.morphTarget===g?1:0)}r.push(new Bu(".morphTargetInfluence["+g+"]",m,v))}o=h.length*u}else{const h=".bones["+n[l].name+"]";i(Uu,h+".position",d,"pos",r),i(_a,h+".quaternion",d,"rot",r),i(Uu,h+".scale",d,"scl",r)}}return r.length===0?null:new this(a,o,r,s)}resetDuration(){const e=this.tracks;let n=0;for(let i=0,r=e.length;i!==r;++i){const a=this.tracks[i];n=Math.max(n,a.times[a.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function _ue(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Bu;case"vector":case"vector2":case"vector3":case"vector4":return Uu;case"color":return qA;case"quaternion":return _a;case"bool":case"boolean":return dc;case"string":return fc}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function Sue(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=_ue(t.type);if(t.times===void 0){const n=[],i=[];YA(t.keys,n,i,"value"),t.times=n,t.values=i}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Jl={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class ZA{constructor(e,n,i){const r=this;let a=!1,u=0,s=0,o;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=i,this.itemStart=function(f){s++,a===!1&&r.onStart!==void 0&&r.onStart(f,u,s),a=!0},this.itemEnd=function(f){u++,r.onProgress!==void 0&&r.onProgress(f,u,s),u===s&&(a=!1,r.onLoad!==void 0&&r.onLoad())},this.itemError=function(f){r.onError!==void 0&&r.onError(f)},this.resolveURL=function(f){return o?o(f):f},this.setURLModifier=function(f){return o=f,this},this.addHandler=function(f,l){return c.push(f,l),this},this.removeHandler=function(f){const l=c.indexOf(f);return l!==-1&&c.splice(l,2),this},this.getHandler=function(f){for(let l=0,d=c.length;l<d;l+=2){const h=c[l],p=c[l+1];if(h.global&&(h.lastIndex=0),h.test(f))return p}return null}}}const wue=new ZA;class ld{constructor(e){this.manager=e!==void 0?e:wue,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const i=this;return new Promise(function(r,a){i.load(e,r,n,a)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}const es={};class Cue extends Error{constructor(e,n){super(e),this.response=n}}class JA extends ld{constructor(e){super(e)}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=Jl.get(e);if(a!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(a),this.manager.itemEnd(e)},0),a;if(es[e]!==void 0){es[e].push({onLoad:n,onProgress:i,onError:r});return}es[e]=[],es[e].push({onLoad:n,onProgress:i,onError:r});const u=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),s=this.mimeType,o=this.responseType;fetch(u).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const f=es[e],l=c.body.getReader(),d=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),h=d?parseInt(d):0,p=h!==0;let g=0;const m=new ReadableStream({start(v){b();function b(){l.read().then(({done:_,value:S})=>{if(_)v.close();else{g+=S.byteLength;const w=new ProgressEvent("progress",{lengthComputable:p,loaded:g,total:h});for(let C=0,x=f.length;C<x;C++){const M=f[C];M.onProgress&&M.onProgress(w)}v.enqueue(S),b()}})}}});return new Response(m)}else throw new Cue(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(o){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(f=>new DOMParser().parseFromString(f,s));case"json":return c.json();default:if(s===void 0)return c.text();{const l=/charset="?([^;"\s]*)"?/i.exec(s),d=l&&l[1]?l[1].toLowerCase():void 0,h=new TextDecoder(d);return c.arrayBuffer().then(p=>h.decode(p))}}}).then(c=>{Jl.add(e,c);const f=es[e];delete es[e];for(let l=0,d=f.length;l<d;l++){const h=f[l];h.onLoad&&h.onLoad(c)}}).catch(c=>{const f=es[e];if(f===void 0)throw this.manager.itemError(e),c;delete es[e];for(let l=0,d=f.length;l<d;l++){const h=f[l];h.onError&&h.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class xue extends ld{constructor(e){super(e)}load(e,n,i,r){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,u=Jl.get(e);if(u!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(u),a.manager.itemEnd(e)},0),u;const s=Fu("img");function o(){f(),Jl.add(e,this),n&&n(this),a.manager.itemEnd(e)}function c(l){f(),r&&r(l),a.manager.itemError(e),a.manager.itemEnd(e)}function f(){s.removeEventListener("load",o,!1),s.removeEventListener("error",c,!1)}return s.addEventListener("load",o,!1),s.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(s.crossOrigin=this.crossOrigin),a.manager.itemStart(e),s.src=e,s}}class QA extends ld{constructor(e){super(e)}load(e,n,i,r){const a=new Zn,u=new xue(this.manager);return u.setCrossOrigin(this.crossOrigin),u.setPath(this.path),u.load(e,function(s){a.image=s,a.needsUpdate=!0,n!==void 0&&n(a)},i,r),a}}class rp extends Cn{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new Vt(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class Tue extends rp{constructor(e,n,i){super(e,i),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Cn.DEFAULT_UP),this.updateMatrix(),this.groundColor=new Vt(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const Sm=new Yt,$C=new $e,HC=new $e;class My{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Ut(512,512),this.map=null,this.mapPass=null,this.matrix=new Yt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new by,this._frameExtents=new Ut(1,1),this._viewportCount=1,this._viewports=[new mn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,i=this.matrix;$C.setFromMatrixPosition(e.matrixWorld),n.position.copy($C),HC.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(HC),n.updateMatrixWorld(),Sm.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(Sm),i.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),i.multiply(Sm)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class Eue extends My{constructor(){super(new mi(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,i=ql*2*e.angle*this.focus,r=this.mapSize.width/this.mapSize.height,a=e.distance||n.far;(i!==n.fov||r!==n.aspect||a!==n.far)&&(n.fov=i,n.aspect=r,n.far=a,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class Mue extends rp{constructor(e,n,i=0,r=Math.PI/3,a=0,u=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Cn.DEFAULT_UP),this.updateMatrix(),this.target=new Cn,this.distance=i,this.angle=r,this.penumbra=a,this.decay=u,this.map=null,this.shadow=new Eue}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const zC=new Yt,Oc=new $e,wm=new $e;class Aue extends My{constructor(){super(new mi(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Ut(4,2),this._viewportCount=6,this._viewports=[new mn(2,1,1,1),new mn(0,1,1,1),new mn(3,1,1,1),new mn(1,1,1,1),new mn(3,0,1,1),new mn(1,0,1,1)],this._cubeDirections=[new $e(1,0,0),new $e(-1,0,0),new $e(0,0,1),new $e(0,0,-1),new $e(0,1,0),new $e(0,-1,0)],this._cubeUps=[new $e(0,1,0),new $e(0,1,0),new $e(0,1,0),new $e(0,1,0),new $e(0,0,1),new $e(0,0,-1)]}updateMatrices(e,n=0){const i=this.camera,r=this.matrix,a=e.distance||i.far;a!==i.far&&(i.far=a,i.updateProjectionMatrix()),Oc.setFromMatrixPosition(e.matrixWorld),i.position.copy(Oc),wm.copy(i.position),wm.add(this._cubeDirections[n]),i.up.copy(this._cubeUps[n]),i.lookAt(wm),i.updateMatrixWorld(),r.makeTranslation(-Oc.x,-Oc.y,-Oc.z),zC.multiplyMatrices(i.projectionMatrix,i.matrixWorldInverse),this._frustum.setFromProjectionMatrix(zC)}}class Rue extends rp{constructor(e,n,i=0,r=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=i,this.decay=r,this.shadow=new Aue}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Pue extends My{constructor(){super(new Sy(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class eR extends rp{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Cn.DEFAULT_UP),this.updateMatrix(),this.target=new Cn,this.shadow=new Pue}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class ov{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let i=0,r=e.length;i<r;i++)n+=String.fromCharCode(e[i]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class Oue extends ld{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,i,r){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const a=this,u=Jl.get(e);if(u!==void 0)return a.manager.itemStart(e),setTimeout(function(){n&&n(u),a.manager.itemEnd(e)},0),u;const s={};s.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",s.headers=this.requestHeader,fetch(e,s).then(function(o){return o.blob()}).then(function(o){return createImageBitmap(o,Object.assign(a.options,{colorSpaceConversion:"none"}))}).then(function(o){Jl.add(e,o),n&&n(o),a.manager.itemEnd(e)}).catch(function(o){r&&r(o),a.manager.itemError(e),a.manager.itemEnd(e)}),a.manager.itemStart(e)}}const Ay="\\[\\]\\.:\\/",kue=new RegExp("["+Ay+"]","g"),Ry="[^"+Ay+"]",Lue="[^"+Ay.replace("\\.","")+"]",Iue=/((?:WC+[\/:])*)/.source.replace("WC",Ry),Due=/(WCOD+)?/.source.replace("WCOD",Lue),Nue=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",Ry),Fue=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",Ry),Bue=new RegExp("^"+Iue+Due+Nue+Fue+"$"),Uue=["material","materials","bones","map"];class Vue{constructor(e,n,i){const r=i||cn.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,r)}getValue(e,n){this.bind();const i=this._targetGroup.nCachedObjects_,r=this._bindings[i];r!==void 0&&r.getValue(e,n)}setValue(e,n){const i=this._bindings;for(let r=this._targetGroup.nCachedObjects_,a=i.length;r!==a;++r)i[r].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,i=e.length;n!==i;++n)e[n].unbind()}}class cn{constructor(e,n,i){this.path=n,this.parsedPath=i||cn.parseTrackName(n),this.node=cn.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,i){return e&&e.isAnimationObjectGroup?new cn.Composite(e,n,i):new cn(e,n,i)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(kue,"")}static parseTrackName(e){const n=Bue.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const i={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},r=i.nodeName&&i.nodeName.lastIndexOf(".");if(r!==void 0&&r!==-1){const a=i.nodeName.substring(r+1);Uue.indexOf(a)!==-1&&(i.nodeName=i.nodeName.substring(0,r),i.objectName=a)}if(i.propertyName===null||i.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return i}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const i=e.skeleton.getBoneByName(n);if(i!==void 0)return i}if(e.children){const i=function(a){for(let u=0;u<a.length;u++){const s=a[u];if(s.name===n||s.uuid===n)return s;const o=i(s.children);if(o)return o}return null},r=i(e.children);if(r)return r}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)e[n++]=i[r]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const i=this.resolvedProperty;for(let r=0,a=i.length;r!==a;++r)i[r]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,i=n.objectName,r=n.propertyName;let a=n.propertyIndex;if(e||(e=cn.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(i){let c=n.objectIndex;switch(i){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let f=0;f<e.length;f++)if(e[f].name===c){c=f;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[i]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[i]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const u=e[r];if(u===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+r+" but it wasn't found.",e);return}let s=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?s=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(s=this.Versioning.MatrixWorldNeedsUpdate);let o=this.BindingType.Direct;if(a!==void 0){if(r==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[a]!==void 0&&(a=e.morphTargetDictionary[a])}o=this.BindingType.ArrayElement,this.resolvedProperty=u,this.propertyIndex=a}else u.fromArray!==void 0&&u.toArray!==void 0?(o=this.BindingType.HasFromToArray,this.resolvedProperty=u):Array.isArray(u)?(o=this.BindingType.EntireArray,this.resolvedProperty=u):this.propertyName=r;this.getValue=this.GetterByBindingType[o],this.setValue=this.SetterByBindingTypeAndVersioning[o][s]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}cn.Composite=Vue;cn.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};cn.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};cn.prototype.GetterByBindingType=[cn.prototype._getValue_direct,cn.prototype._getValue_array,cn.prototype._getValue_arrayElement,cn.prototype._getValue_toArray];cn.prototype.SetterByBindingTypeAndVersioning=[[cn.prototype._setValue_direct,cn.prototype._setValue_direct_setNeedsUpdate,cn.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_array,cn.prototype._setValue_array_setNeedsUpdate,cn.prototype._setValue_array_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_arrayElement,cn.prototype._setValue_arrayElement_setNeedsUpdate,cn.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[cn.prototype._setValue_fromArray,cn.prototype._setValue_fromArray_setNeedsUpdate,cn.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class WC{constructor(e=1,n=0,i=0){return this.radius=e,this.phi=n,this.theta=i,this}set(e,n,i){return this.radius=e,this.phi=n,this.theta=i,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,i){return this.radius=Math.sqrt(e*e+n*n+i*i),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,i),this.phi=Math.acos(jn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:py}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=py);var wn={};const $ue={},Hue=Object.freeze(Object.defineProperty({__proto__:null,default:$ue},Symbol.toStringTag,{value:"Module"})),Cm=wz(Hue);(function(t){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var e=e||{version:"5.3.0"};if(t.fabric=e,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?e.document=document:e.document=document.implementation.createHTMLDocument(""),e.window=window;else{var n=Cm,i=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;e.document=i.document,e.jsdomImplForWrapper=Cm.implForWrapper,e.nodeCanvas=Cm.Canvas,e.window=i,DOMParser=e.window.DOMParser}e.isTouchSupported="ontouchstart"in e.window||"ontouchstart"in e.document||e.window&&e.window.navigator&&e.window.navigator.maxTouchPoints>0,e.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",e.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],e.DPI=96,e.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",e.commaWsp="(?:\\s+,?\\s*|,\\s*)",e.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,e.reNonWord=/[ \n\.,;!\?\-]/,e.fontPaths={},e.iMatrix=[1,0,0,1,0,0],e.svgNS="http://www.w3.org/2000/svg",e.perfLimitSizeTotal=2097152,e.maxCacheSideLimit=4096,e.minCacheSideLimit=256,e.charWidthsCache={},e.textureSize=2048,e.disableStyleCopyPaste=!1,e.enableGLFiltering=!0,e.devicePixelRatio=e.window.devicePixelRatio||e.window.webkitDevicePixelRatio||e.window.mozDevicePixelRatio||1,e.browserShadowBlurConstant=1,e.arcToSegmentsCache={},e.boundsOfCurveCache={},e.cachesBoundsOfCurve=!0,e.forceGLPutImageData=!1,e.initFilterBackend=function(){if(e.enableGLFiltering&&e.isWebglSupported&&e.isWebglSupported(e.textureSize))return console.log("max texture size: "+e.maxTextureSize),new e.WebglFilterBackend({tileSize:e.textureSize});if(e.Canvas2dFilterBackend)return new e.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=e),function(){function s(h,p){if(this.__eventListeners[h]){var g=this.__eventListeners[h];p?g[g.indexOf(p)]=!1:e.util.array.fill(g,!1)}}function o(h,p){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var g in h)this.on(g,h[g]);else this.__eventListeners[h]||(this.__eventListeners[h]=[]),this.__eventListeners[h].push(p);return this}function c(h,p){var g=(function(){p.apply(this,arguments),this.off(h,g)}).bind(this);this.on(h,g)}function f(h,p){if(arguments.length===1)for(var g in h)c.call(this,g,h[g]);else c.call(this,h,p);return this}function l(h,p){if(!this.__eventListeners)return this;if(arguments.length===0)for(h in this.__eventListeners)s.call(this,h);else if(arguments.length===1&&typeof arguments[0]=="object")for(var g in h)s.call(this,g,h[g]);else s.call(this,h,p);return this}function d(h,p){if(!this.__eventListeners)return this;var g=this.__eventListeners[h];if(!g)return this;for(var m=0,v=g.length;m<v;m++)g[m]&&g[m].call(this,p||{});return this.__eventListeners[h]=g.filter(function(b){return b!==!1}),this}e.Observable={fire:d,on:o,once:f,off:l}}(),e.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var s=0,o=arguments.length;s<o;s++)this._onObjectAdded(arguments[s]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(s,o,c){var f=this._objects;return c?f[o]=s:f.splice(o,0,s),this._onObjectAdded&&this._onObjectAdded(s),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var s=this._objects,o,c=!1,f=0,l=arguments.length;f<l;f++)o=s.indexOf(arguments[f]),o!==-1&&(c=!0,s.splice(o,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&c&&this.requestRenderAll(),this},forEachObject:function(s,o){for(var c=this.getObjects(),f=0,l=c.length;f<l;f++)s.call(o,c[f],f,c);return this},getObjects:function(s){return typeof s>"u"?this._objects.concat():this._objects.filter(function(o){return o.type===s})},item:function(s){return this._objects[s]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(s,o){return this._objects.indexOf(s)>-1?!0:o?this._objects.some(function(c){return typeof c.contains=="function"&&c.contains(s,!0)}):!1},complexity:function(){return this._objects.reduce(function(s,o){return s+=o.complexity?o.complexity():0,s},0)}},e.CommonMethods={_setOptions:function(s){for(var o in s)this.set(o,s[o])},_initGradient:function(s,o){s&&s.colorStops&&!(s instanceof e.Gradient)&&this.set(o,new e.Gradient(s))},_initPattern:function(s,o,c){s&&s.source&&!(s instanceof e.Pattern)?this.set(o,new e.Pattern(s,c)):c&&c()},_setObject:function(s){for(var o in s)this._set(o,s[o])},set:function(s,o){return typeof s=="object"?this._setObject(s):this._set(s,o),this},_set:function(s,o){this[s]=o},toggle:function(s){var o=this.get(s);return typeof o=="boolean"&&this.set(s,!o),this},get:function(s){return this[s]}},function(s){var o=Math.sqrt,c=Math.atan2,f=Math.pow,l=Math.PI/180,d=Math.PI/2;e.util={cos:function(h){if(h===0)return 1;h<0&&(h=-h);var p=h/d;switch(p){case 1:case 3:return 0;case 2:return-1}return Math.cos(h)},sin:function(h){if(h===0)return 0;var p=h/d,g=1;switch(h<0&&(g=-1),p){case 1:return g;case 2:return 0;case 3:return-g}return Math.sin(h)},removeFromArray:function(h,p){var g=h.indexOf(p);return g!==-1&&h.splice(g,1),h},getRandomInt:function(h,p){return Math.floor(Math.random()*(p-h+1))+h},degreesToRadians:function(h){return h*l},radiansToDegrees:function(h){return h/l},rotatePoint:function(h,p,g){var m=new e.Point(h.x-p.x,h.y-p.y),v=e.util.rotateVector(m,g);return new e.Point(v.x,v.y).addEquals(p)},rotateVector:function(h,p){var g=e.util.sin(p),m=e.util.cos(p),v=h.x*m-h.y*g,b=h.x*g+h.y*m;return{x:v,y:b}},createVector:function(h,p){return new e.Point(p.x-h.x,p.y-h.y)},calcAngleBetweenVectors:function(h,p){return Math.acos((h.x*p.x+h.y*p.y)/(Math.hypot(h.x,h.y)*Math.hypot(p.x,p.y)))},getHatVector:function(h){return new e.Point(h.x,h.y).multiply(1/Math.hypot(h.x,h.y))},getBisector:function(h,p,g){var m=e.util.createVector(h,p),v=e.util.createVector(h,g),b=e.util.calcAngleBetweenVectors(m,v),_=e.util.calcAngleBetweenVectors(e.util.rotateVector(m,b),v),S=b*(_===0?1:-1)/2;return{vector:e.util.getHatVector(e.util.rotateVector(m,S)),angle:b}},projectStrokeOnPoints:function(h,p,g){var m=[],v=p.strokeWidth/2,b=p.strokeUniform?new e.Point(1/p.scaleX,1/p.scaleY):new e.Point(1,1),_=function(S){var w=v/Math.hypot(S.x,S.y);return new e.Point(S.x*w*b.x,S.y*w*b.y)};return h.length<=1||h.forEach(function(S,w){var C=new e.Point(S.x,S.y),x,M;w===0?(M=h[w+1],x=g?_(e.util.createVector(M,C)).addEquals(C):h[h.length-1]):w===h.length-1?(x=h[w-1],M=g?_(e.util.createVector(x,C)).addEquals(C):h[0]):(x=h[w-1],M=h[w+1]);var E=e.util.getBisector(C,x,M),A=E.vector,O=E.angle,I,$;if(p.strokeLineJoin==="miter"&&(I=-v/Math.sin(O/2),$=new e.Point(A.x*I*b.x,A.y*I*b.y),Math.hypot($.x,$.y)/v<=p.strokeMiterLimit)){m.push(C.add($)),m.push(C.subtract($));return}I=-v*Math.SQRT2,$=new e.Point(A.x*I*b.x,A.y*I*b.y),m.push(C.add($)),m.push(C.subtract($))}),m},transformPoint:function(h,p,g){return g?new e.Point(p[0]*h.x+p[2]*h.y,p[1]*h.x+p[3]*h.y):new e.Point(p[0]*h.x+p[2]*h.y+p[4],p[1]*h.x+p[3]*h.y+p[5])},makeBoundingBoxFromPoints:function(h,p){if(p)for(var g=0;g<h.length;g++)h[g]=e.util.transformPoint(h[g],p);var m=[h[0].x,h[1].x,h[2].x,h[3].x],v=e.util.array.min(m),b=e.util.array.max(m),_=b-v,S=[h[0].y,h[1].y,h[2].y,h[3].y],w=e.util.array.min(S),C=e.util.array.max(S),x=C-w;return{left:v,top:w,width:_,height:x}},invertTransform:function(h){var p=1/(h[0]*h[3]-h[1]*h[2]),g=[p*h[3],-p*h[1],-p*h[2],p*h[0]],m=e.util.transformPoint({x:h[4],y:h[5]},g,!0);return g[4]=-m.x,g[5]=-m.y,g},toFixed:function(h,p){return parseFloat(Number(h).toFixed(p))},parseUnit:function(h,p){var g=/\D{0,2}$/.exec(h),m=parseFloat(h);switch(p||(p=e.Text.DEFAULT_SVG_FONT_SIZE),g[0]){case"mm":return m*e.DPI/25.4;case"cm":return m*e.DPI/2.54;case"in":return m*e.DPI;case"pt":return m*e.DPI/72;case"pc":return m*e.DPI/72*12;case"em":return m*p;default:return m}},falseFunction:function(){return!1},getKlass:function(h,p){return h=e.util.string.camelize(h.charAt(0).toUpperCase()+h.slice(1)),e.util.resolveNamespace(p)[h]},getSvgAttributes:function(h){var p=["instantiated_by_use","style","id","class"];switch(h){case"linearGradient":p=p.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":p=p.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":p=p.concat(["offset","stop-color","stop-opacity"]);break}return p},resolveNamespace:function(h){if(!h)return e;var p=h.split("."),g=p.length,m,v=s||e.window;for(m=0;m<g;++m)v=v[p[m]];return v},loadImage:function(h,p,g,m){if(!h){p&&p.call(g,h);return}var v=e.util.createImage(),b=function(){p&&p.call(g,v,!1),v=v.onload=v.onerror=null};v.onload=b,v.onerror=function(){e.log("Error loading "+v.src),p&&p.call(g,null,!0),v=v.onload=v.onerror=null},h.indexOf("data")!==0&&m!==void 0&&m!==null&&(v.crossOrigin=m),h.substring(0,14)==="data:image/svg"&&(v.onload=null,e.util.loadImageInDom(v,b)),v.src=h},loadImageInDom:function(h,p){var g=e.document.createElement("div");g.style.width=g.style.height="1px",g.style.left=g.style.top="-100%",g.style.position="absolute",g.appendChild(h),e.document.querySelector("body").appendChild(g),h.onload=function(){p(),g.parentNode.removeChild(g),g=null}},enlivenObjects:function(h,p,g,m){h=h||[];var v=[],b=0,_=h.length;function S(){++b===_&&p&&p(v.filter(function(w){return w}))}if(!_){p&&p(v);return}h.forEach(function(w,C){if(!w||!w.type){S();return}var x=e.util.getKlass(w.type,g);x.fromObject(w,function(M,E){E||(v[C]=M),m&&m(w,M,E),S()})})},enlivenObjectEnlivables:function(h,p,g){var m=e.Object.ENLIVEN_PROPS.filter(function(v){return!!h[v]});e.util.enlivenObjects(m.map(function(v){return h[v]}),function(v){var b={};m.forEach(function(_,S){b[_]=v[S],p&&(p[_]=v[S])}),g&&g(b)})},enlivenPatterns:function(h,p){h=h||[];function g(){++v===b&&p&&p(m)}var m=[],v=0,b=h.length;if(!b){p&&p(m);return}h.forEach(function(_,S){_&&_.source?new e.Pattern(_,function(w){m[S]=w,g()}):(m[S]=_,g())})},groupSVGElements:function(h,p,g){var m;return h&&h.length===1?(typeof g<"u"&&(h[0].sourcePath=g),h[0]):(p&&(p.width&&p.height?p.centerPoint={x:p.width/2,y:p.height/2}:(delete p.width,delete p.height)),m=new e.Group(h,p),typeof g<"u"&&(m.sourcePath=g),m)},populateWithProperties:function(h,p,g){if(g&&Array.isArray(g))for(var m=0,v=g.length;m<v;m++)g[m]in h&&(p[g[m]]=h[g[m]])},createCanvasElement:function(){return e.document.createElement("canvas")},copyCanvasElement:function(h){var p=e.util.createCanvasElement();return p.width=h.width,p.height=h.height,p.getContext("2d").drawImage(h,0,0),p},toDataURL:function(h,p,g){return h.toDataURL("image/"+p,g)},createImage:function(){return e.document.createElement("img")},multiplyTransformMatrices:function(h,p,g){return[h[0]*p[0]+h[2]*p[1],h[1]*p[0]+h[3]*p[1],h[0]*p[2]+h[2]*p[3],h[1]*p[2]+h[3]*p[3],g?0:h[0]*p[4]+h[2]*p[5]+h[4],g?0:h[1]*p[4]+h[3]*p[5]+h[5]]},qrDecompose:function(h){var p=c(h[1],h[0]),g=f(h[0],2)+f(h[1],2),m=o(g),v=(h[0]*h[3]-h[2]*h[1])/m,b=c(h[0]*h[2]+h[1]*h[3],g);return{angle:p/l,scaleX:m,scaleY:v,skewX:b/l,skewY:0,translateX:h[4],translateY:h[5]}},calcRotateMatrix:function(h){if(!h.angle)return e.iMatrix.concat();var p=e.util.degreesToRadians(h.angle),g=e.util.cos(p),m=e.util.sin(p);return[g,m,-m,g,0,0]},calcDimensionsMatrix:function(h){var p=typeof h.scaleX>"u"?1:h.scaleX,g=typeof h.scaleY>"u"?1:h.scaleY,m=[h.flipX?-p:p,0,0,h.flipY?-g:g,0,0],v=e.util.multiplyTransformMatrices,b=e.util.degreesToRadians;return h.skewX&&(m=v(m,[1,0,Math.tan(b(h.skewX)),1],!0)),h.skewY&&(m=v(m,[1,Math.tan(b(h.skewY)),0,1],!0)),m},composeMatrix:function(h){var p=[1,0,0,1,h.translateX||0,h.translateY||0],g=e.util.multiplyTransformMatrices;return h.angle&&(p=g(p,e.util.calcRotateMatrix(h))),(h.scaleX!==1||h.scaleY!==1||h.skewX||h.skewY||h.flipX||h.flipY)&&(p=g(p,e.util.calcDimensionsMatrix(h))),p},resetObjectTransform:function(h){h.scaleX=1,h.scaleY=1,h.skewX=0,h.skewY=0,h.flipX=!1,h.flipY=!1,h.rotate(0)},saveObjectTransform:function(h){return{scaleX:h.scaleX,scaleY:h.scaleY,skewX:h.skewX,skewY:h.skewY,angle:h.angle,left:h.left,flipX:h.flipX,flipY:h.flipY,top:h.top}},isTransparent:function(h,p,g,m){m>0&&(p>m?p-=m:p=0,g>m?g-=m:g=0);var v=!0,b,_,S=h.getImageData(p,g,m*2||1,m*2||1),w=S.data.length;for(b=3;b<w&&(_=S.data[b],v=_<=0,v!==!1);b+=4);return S=null,v},parsePreserveAspectRatioAttribute:function(h){var p="meet",g="Mid",m="Mid",v=h.split(" "),b;return v&&v.length&&(p=v.pop(),p!=="meet"&&p!=="slice"?(b=p,p="meet"):v.length&&(b=v.pop())),g=b!=="none"?b.slice(1,4):"none",m=b!=="none"?b.slice(5,8):"none",{meetOrSlice:p,alignX:g,alignY:m}},clearFabricFontCache:function(h){h=(h||"").toLowerCase(),h?e.charWidthsCache[h]&&delete e.charWidthsCache[h]:e.charWidthsCache={}},limitDimsByArea:function(h,p){var g=Math.sqrt(p*h),m=Math.floor(p/g);return{x:Math.floor(g),y:m}},capValue:function(h,p,g){return Math.max(h,Math.min(p,g))},findScaleToFit:function(h,p){return Math.min(p.width/h.width,p.height/h.height)},findScaleToCover:function(h,p){return Math.max(p.width/h.width,p.height/h.height)},matrixToSVG:function(h){return"matrix("+h.map(function(p){return e.util.toFixed(p,e.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(h,p){var g=e.util.invertTransform(p),m=e.util.multiplyTransformMatrices(g,h.calcOwnMatrix());e.util.applyTransformToObject(h,m)},addTransformToObject:function(h,p){e.util.applyTransformToObject(h,e.util.multiplyTransformMatrices(p,h.calcOwnMatrix()))},applyTransformToObject:function(h,p){var g=e.util.qrDecompose(p),m=new e.Point(g.translateX,g.translateY);h.flipX=!1,h.flipY=!1,h.set("scaleX",g.scaleX),h.set("scaleY",g.scaleY),h.skewX=g.skewX,h.skewY=g.skewY,h.angle=g.angle,h.setPositionByOrigin(m,"center","center")},sizeAfterTransform:function(h,p,g){var m=h/2,v=p/2,b=[{x:-m,y:-v},{x:m,y:-v},{x:-m,y:v},{x:m,y:v}],_=e.util.calcDimensionsMatrix(g),S=e.util.makeBoundingBoxFromPoints(b,_);return{x:S.width,y:S.height}},mergeClipPaths:function(h,p){var g=h,m=p;g.inverted&&!m.inverted&&(g=p,m=h),e.util.applyTransformToObject(m,e.util.multiplyTransformMatrices(e.util.invertTransform(g.calcTransformMatrix()),m.calcTransformMatrix()));var v=g.inverted&&m.inverted;return v&&(g.inverted=m.inverted=!1),new e.Group([g],{clipPath:m,inverted:v})},hasStyleChanged:function(h,p,g){return g=g||!1,h.fill!==p.fill||h.stroke!==p.stroke||h.strokeWidth!==p.strokeWidth||h.fontSize!==p.fontSize||h.fontFamily!==p.fontFamily||h.fontWeight!==p.fontWeight||h.fontStyle!==p.fontStyle||h.textBackgroundColor!==p.textBackgroundColor||h.deltaY!==p.deltaY||g&&(h.overline!==p.overline||h.underline!==p.underline||h.linethrough!==p.linethrough)},stylesToArray:function(g,p){for(var g=e.util.object.clone(g,!0),m=p.split(`
`),v=-1,b={},_=[],S=0;S<m.length;S++){if(!g[S]){v+=m[S].length;continue}for(var w=0;w<m[S].length;w++){v++;var C=g[S][w];if(C&&Object.keys(C).length>0){var x=e.util.hasStyleChanged(b,C,!0);x?_.push({start:v,end:v+1,style:C}):_[_.length-1].end++}b=C||{}}}return _},stylesFromArray:function(h,p){if(!Array.isArray(h))return h;for(var g=p.split(`
`),m=-1,v=0,b={},_=0;_<g.length;_++)for(var S=0;S<g[_].length;S++)m++,h[v]&&h[v].start<=m&&m<h[v].end&&(b[_]=b[_]||{},b[_][S]=Object.assign({},h[v].style),m===h[v].end-1&&v++);return b}}}(t),function(){var s=Array.prototype.join,o={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function f(T,R,V,U,X,W,j,K,z,ee,ue){var ne=e.util.cos(T),le=e.util.sin(T),Me=e.util.cos(R),q=e.util.sin(R),J=V*X*Me-U*W*q+j,ce=U*X*Me+V*W*q+K,pe=ee+z*(-V*X*le-U*W*ne),re=ue+z*(-U*X*le+V*W*ne),he=J+z*(V*X*q+U*W*Me),Ce=ce+z*(U*X*q-V*W*Me);return["C",pe,re,he,Ce,J,ce]}function l(T,R,V,U,X,W,j){var K=Math.PI,z=j*K/180,ee=e.util.sin(z),ue=e.util.cos(z),ne=0,le=0;V=Math.abs(V),U=Math.abs(U);var Me=-ue*T*.5-ee*R*.5,q=-ue*R*.5+ee*T*.5,J=V*V,ce=U*U,pe=q*q,re=Me*Me,he=J*ce-J*pe-ce*re,Ce=0;if(he<0){var Oe=Math.sqrt(1-he/(J*ce));V*=Oe,U*=Oe}else Ce=(X===W?-1:1)*Math.sqrt(he/(J*pe+ce*re));var ke=Ce*V*q/U,G=-Ce*U*Me/V,Z=ue*ke-ee*G+T*.5,_e=ee*ke+ue*G+R*.5,de=d(1,0,(Me-ke)/V,(q-G)/U),Re=d((Me-ke)/V,(q-G)/U,(-Me-ke)/V,(-q-G)/U);W===0&&Re>0?Re-=2*K:W===1&&Re<0&&(Re+=2*K);for(var Fe=Math.ceil(Math.abs(Re/K*2)),ye=[],Ne=Re/Fe,Ae=8/3*Math.sin(Ne/4)*Math.sin(Ne/4)/Math.sin(Ne/2),Te=de+Ne,ae=0;ae<Fe;ae++)ye[ae]=f(de,Te,ue,ee,V,U,Z,_e,Ae,ne,le),ne=ye[ae][5],le=ye[ae][6],de=Te,Te+=Ne;return ye}function d(T,R,V,U){var X=Math.atan2(R,T),W=Math.atan2(U,V);return W>=X?W-X:2*Math.PI-(X-W)}function h(T,R,V,U,X,W,j,K){var z;if(e.cachesBoundsOfCurve&&(z=s.call(arguments),e.boundsOfCurveCache[z]))return e.boundsOfCurveCache[z];var ee=Math.sqrt,ue=Math.min,ne=Math.max,le=Math.abs,Me=[],q=[[],[]],J,ce,pe,re,he,Ce,Oe,ke;ce=6*T-12*V+6*X,J=-3*T+9*V-9*X+3*j,pe=3*V-3*T;for(var G=0;G<2;++G){if(G>0&&(ce=6*R-12*U+6*W,J=-3*R+9*U-9*W+3*K,pe=3*U-3*R),le(J)<1e-12){if(le(ce)<1e-12)continue;re=-pe/ce,0<re&&re<1&&Me.push(re);continue}Oe=ce*ce-4*pe*J,!(Oe<0)&&(ke=ee(Oe),he=(-ce+ke)/(2*J),0<he&&he<1&&Me.push(he),Ce=(-ce-ke)/(2*J),0<Ce&&Ce<1&&Me.push(Ce))}for(var Z,_e,de=Me.length,Re=de,Fe;de--;)re=Me[de],Fe=1-re,Z=Fe*Fe*Fe*T+3*Fe*Fe*re*V+3*Fe*re*re*X+re*re*re*j,q[0][de]=Z,_e=Fe*Fe*Fe*R+3*Fe*Fe*re*U+3*Fe*re*re*W+re*re*re*K,q[1][de]=_e;q[0][Re]=T,q[1][Re]=R,q[0][Re+1]=j,q[1][Re+1]=K;var ye=[{x:ue.apply(null,q[0]),y:ue.apply(null,q[1])},{x:ne.apply(null,q[0]),y:ne.apply(null,q[1])}];return e.cachesBoundsOfCurve&&(e.boundsOfCurveCache[z]=ye),ye}function p(T,R,V){for(var U=V[1],X=V[2],W=V[3],j=V[4],K=V[5],z=V[6],ee=V[7],ue=l(z-T,ee-R,U,X,j,K,W),ne=0,le=ue.length;ne<le;ne++)ue[ne][1]+=T,ue[ne][2]+=R,ue[ne][3]+=T,ue[ne][4]+=R,ue[ne][5]+=T,ue[ne][6]+=R;return ue}function g(T){var R=0,V=0,U=T.length,X=0,W=0,j,K,z,ee=[],ue,ne,le;for(K=0;K<U;++K){switch(z=!1,j=T[K].slice(0),j[0]){case"l":j[0]="L",j[1]+=R,j[2]+=V;case"L":R=j[1],V=j[2];break;case"h":j[1]+=R;case"H":j[0]="L",j[2]=V,R=j[1];break;case"v":j[1]+=V;case"V":j[0]="L",V=j[1],j[1]=R,j[2]=V;break;case"m":j[0]="M",j[1]+=R,j[2]+=V;case"M":R=j[1],V=j[2],X=j[1],W=j[2];break;case"c":j[0]="C",j[1]+=R,j[2]+=V,j[3]+=R,j[4]+=V,j[5]+=R,j[6]+=V;case"C":ne=j[3],le=j[4],R=j[5],V=j[6];break;case"s":j[0]="S",j[1]+=R,j[2]+=V,j[3]+=R,j[4]+=V;case"S":ue==="C"?(ne=2*R-ne,le=2*V-le):(ne=R,le=V),R=j[3],V=j[4],j[0]="C",j[5]=j[3],j[6]=j[4],j[3]=j[1],j[4]=j[2],j[1]=ne,j[2]=le,ne=j[3],le=j[4];break;case"q":j[0]="Q",j[1]+=R,j[2]+=V,j[3]+=R,j[4]+=V;case"Q":ne=j[1],le=j[2],R=j[3],V=j[4];break;case"t":j[0]="T",j[1]+=R,j[2]+=V;case"T":ue==="Q"?(ne=2*R-ne,le=2*V-le):(ne=R,le=V),j[0]="Q",R=j[1],V=j[2],j[1]=ne,j[2]=le,j[3]=R,j[4]=V;break;case"a":j[0]="A",j[6]+=R,j[7]+=V;case"A":z=!0,ee=ee.concat(p(R,V,j)),R=j[6],V=j[7];break;case"z":case"Z":R=X,V=W;break}z||ee.push(j),ue=j[0]}return ee}function m(T,R,V,U){return Math.sqrt((V-T)*(V-T)+(U-R)*(U-R))}function v(T){return T*T*T}function b(T){return 3*T*T*(1-T)}function _(T){return 3*T*(1-T)*(1-T)}function S(T){return(1-T)*(1-T)*(1-T)}function w(T,R,V,U,X,W,j,K){return function(z){var ee=v(z),ue=b(z),ne=_(z),le=S(z);return{x:j*ee+X*ue+V*ne+T*le,y:K*ee+W*ue+U*ne+R*le}}}function C(T,R,V,U,X,W,j,K){return function(z){var ee=1-z,ue=3*ee*ee*(V-T)+6*ee*z*(X-V)+3*z*z*(j-X),ne=3*ee*ee*(U-R)+6*ee*z*(W-U)+3*z*z*(K-W);return Math.atan2(ne,ue)}}function x(T){return T*T}function M(T){return 2*T*(1-T)}function E(T){return(1-T)*(1-T)}function A(T,R,V,U,X,W){return function(j){var K=x(j),z=M(j),ee=E(j);return{x:X*K+V*z+T*ee,y:W*K+U*z+R*ee}}}function O(T,R,V,U,X,W){return function(j){var K=1-j,z=2*K*(V-T)+2*j*(X-V),ee=2*K*(U-R)+2*j*(W-U);return Math.atan2(ee,z)}}function I(T,R,V){var U={x:R,y:V},X,W=0,j;for(j=1;j<=100;j+=1)X=T(j/100),W+=m(U.x,U.y,X.x,X.y),U=X;return W}function $(T,R){for(var V=0,U=0,X=T.iterator,W={x:T.x,y:T.y},j,K,z=.01,ee=T.angleFinder,ue;U<R&&z>1e-4;)j=X(V),ue=V,K=m(W.x,W.y,j.x,j.y),K+U>R?(V-=z,z/=2):(W=j,V+=z,U+=K);return j.angle=ee(ue),j}function H(T){for(var R=0,V=T.length,U,X=0,W=0,j=0,K=0,z=[],ee,ue,ne,le=0;le<V;le++){switch(U=T[le],ue={x:X,y:W,command:U[0]},U[0]){case"M":ue.length=0,j=X=U[1],K=W=U[2];break;case"L":ue.length=m(X,W,U[1],U[2]),X=U[1],W=U[2];break;case"C":ee=w(X,W,U[1],U[2],U[3],U[4],U[5],U[6]),ne=C(X,W,U[1],U[2],U[3],U[4],U[5],U[6]),ue.iterator=ee,ue.angleFinder=ne,ue.length=I(ee,X,W),X=U[5],W=U[6];break;case"Q":ee=A(X,W,U[1],U[2],U[3],U[4]),ne=O(X,W,U[1],U[2],U[3],U[4]),ue.iterator=ee,ue.angleFinder=ne,ue.length=I(ee,X,W),X=U[3],W=U[4];break;case"Z":case"z":ue.destX=j,ue.destY=K,ue.length=m(X,W,j,K),X=j,W=K;break}R+=ue.length,z.push(ue)}return z.push({length:R,x:X,y:W}),z}function B(T,R,V){V||(V=H(T));for(var U=0;R-V[U].length>0&&U<V.length-2;)R-=V[U].length,U++;var X=V[U],W=R/X.length,j=X.command,K=T[U],z;switch(j){case"M":return{x:X.x,y:X.y,angle:0};case"Z":case"z":return z=new e.Point(X.x,X.y).lerp(new e.Point(X.destX,X.destY),W),z.angle=Math.atan2(X.destY-X.y,X.destX-X.x),z;case"L":return z=new e.Point(X.x,X.y).lerp(new e.Point(K[1],K[2]),W),z.angle=Math.atan2(K[2]-X.y,K[1]-X.x),z;case"C":return $(X,R);case"Q":return $(X,R)}}function N(T){var R=[],V=[],U,X,W=e.rePathCommand,j="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",K="("+j+")"+e.commaWsp,z="([01])"+e.commaWsp+"?",ee=K+"?"+K+"?"+K+z+z+K+"?("+j+")",ue=new RegExp(ee,"g"),ne,le,Me;if(!T||!T.match)return R;Me=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var q=0,J,ce=Me.length;q<ce;q++){U=Me[q],le=U.slice(1).trim(),V.length=0;var pe=U.charAt(0);if(J=[pe],pe.toLowerCase()==="a")for(var re;re=ue.exec(le);)for(var he=1;he<re.length;he++)V.push(re[he]);else for(;ne=W.exec(le);)V.push(ne[0]);for(var he=0,Ce=V.length;he<Ce;he++)X=parseFloat(V[he]),isNaN(X)||J.push(X);var Oe=o[pe.toLowerCase()],ke=c[pe]||pe;if(J.length-1>Oe)for(var G=1,Z=J.length;G<Z;G+=Oe)R.push([pe].concat(J.slice(G,G+Oe))),pe=ke;else R.push(J)}return R}function k(T,R){var V=[],U,X=new e.Point(T[0].x,T[0].y),W=new e.Point(T[1].x,T[1].y),j=T.length,K=1,z=0,ee=j>2;for(R=R||0,ee&&(K=T[2].x<W.x?-1:T[2].x===W.x?0:1,z=T[2].y<W.y?-1:T[2].y===W.y?0:1),V.push(["M",X.x-K*R,X.y-z*R]),U=1;U<j;U++){if(!X.eq(W)){var ue=X.midPointFrom(W);V.push(["Q",X.x,X.y,ue.x,ue.y])}X=T[U],U+1<T.length&&(W=T[U+1])}return ee&&(K=X.x>T[U-2].x?1:X.x===T[U-2].x?0:-1,z=X.y>T[U-2].y?1:X.y===T[U-2].y?0:-1),V.push(["L",X.x+K*R,X.y+z*R]),V}function D(T,R,V){return V&&(R=e.util.multiplyTransformMatrices(R,[1,0,0,1,-V.x,-V.y])),T.map(function(U){for(var X=U.slice(0),W={},j=1;j<U.length-1;j+=2)W.x=U[j],W.y=U[j+1],W=e.util.transformPoint(W,R),X[j]=W.x,X[j+1]=W.y;return X})}e.util.joinPath=function(T){return T.map(function(R){return R.join(" ")}).join(" ")},e.util.parsePath=N,e.util.makePathSimpler=g,e.util.getSmoothPathFromPoints=k,e.util.getPathSegmentsInfo=H,e.util.getBoundsOfCurve=h,e.util.getPointOnPath=B,e.util.transformPath=D}(),function(){var s=Array.prototype.slice;function o(h,p){for(var g=s.call(arguments,2),m=[],v=0,b=h.length;v<b;v++)m[v]=g.length?h[v][p].apply(h[v],g):h[v][p].call(h[v]);return m}function c(h,p){return d(h,p,function(g,m){return g>=m})}function f(h,p){return d(h,p,function(g,m){return g<m})}function l(h,p){for(var g=h.length;g--;)h[g]=p;return h}function d(h,p,g){if(!(!h||h.length===0)){var m=h.length-1,v=p?h[m][p]:h[m];if(p)for(;m--;)g(h[m][p],v)&&(v=h[m][p]);else for(;m--;)g(h[m],v)&&(v=h[m]);return v}}e.util.array={fill:l,invoke:o,min:f,max:c}}(),function(){function s(c,f,l){if(l)if(!e.isLikelyNode&&f instanceof Element)c=f;else if(f instanceof Array){c=[];for(var d=0,h=f.length;d<h;d++)c[d]=s({},f[d],l)}else if(f&&typeof f=="object")for(var p in f)p==="canvas"||p==="group"?c[p]=null:f.hasOwnProperty(p)&&(c[p]=s({},f[p],l));else c=f;else for(var p in f)c[p]=f[p];return c}function o(c,f){return s({},c,f)}e.util.object={extend:s,clone:o},e.util.object.extend(e.util,e.Observable)}(),function(){function s(d){return d.replace(/-+(.)?/g,function(h,p){return p?p.toUpperCase():""})}function o(d,h){return d.charAt(0).toUpperCase()+(h?d.slice(1):d.slice(1).toLowerCase())}function c(d){return d.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(d){var h=0,p,g=[];for(h=0,p;h<d.length;h++)(p=l(d,h))!==!1&&g.push(p);return g}function l(d,h){var p=d.charCodeAt(h);if(isNaN(p))return"";if(p<55296||p>57343)return d.charAt(h);if(55296<=p&&p<=56319){if(d.length<=h+1)throw"High surrogate without following low surrogate";var g=d.charCodeAt(h+1);if(56320>g||g>57343)throw"High surrogate without following low surrogate";return d.charAt(h)+d.charAt(h+1)}if(h===0)throw"Low surrogate without preceding high surrogate";var m=d.charCodeAt(h-1);if(55296>m||m>56319)throw"Low surrogate without preceding high surrogate";return!1}e.util.string={camelize:s,capitalize:o,escapeXml:c,graphemeSplit:f}}(),function(){var s=Array.prototype.slice,o=function(){},c=function(){for(var p in{toString:1})if(p==="toString")return!1;return!0}(),f=function(p,g,m){for(var v in g)v in p.prototype&&typeof p.prototype[v]=="function"&&(g[v]+"").indexOf("callSuper")>-1?p.prototype[v]=function(b){return function(){var _=this.constructor.superclass;this.constructor.superclass=m;var S=g[b].apply(this,arguments);if(this.constructor.superclass=_,b!=="initialize")return S}}(v):p.prototype[v]=g[v],c&&(g.toString!==Object.prototype.toString&&(p.prototype.toString=g.toString),g.valueOf!==Object.prototype.valueOf&&(p.prototype.valueOf=g.valueOf))};function l(){}function d(p){for(var g=null,m=this;m.constructor.superclass;){var v=m.constructor.superclass.prototype[p];if(m[p]!==v){g=v;break}m=m.constructor.superclass.prototype}return g?arguments.length>1?g.apply(this,s.call(arguments,1)):g.call(this):console.log("tried to callSuper "+p+", method not found in prototype chain",this)}function h(){var p=null,g=s.call(arguments,0);typeof g[0]=="function"&&(p=g.shift());function m(){this.initialize.apply(this,arguments)}m.superclass=p,m.subclasses=[],p&&(l.prototype=p.prototype,m.prototype=new l,p.subclasses.push(m));for(var v=0,b=g.length;v<b;v++)f(m,g[v],p);return m.prototype.initialize||(m.prototype.initialize=o),m.prototype.constructor=m,m.prototype.callSuper=d,m}e.util.createClass=h}(),function(){var s=!!e.document.createElement("div").attachEvent,o=["touchstart","touchmove","touchend"];e.util.addListener=function(f,l,d,h){f&&f.addEventListener(l,d,s?!1:h)},e.util.removeListener=function(f,l,d,h){f&&f.removeEventListener(l,d,s?!1:h)};function c(f){var l=f.changedTouches;return l&&l[0]?l[0]:f}e.util.getPointer=function(f){var l=f.target,d=e.util.getScrollLeftTop(l),h=c(f);return{x:h.clientX+d.left,y:h.clientY+d.top}},e.util.isTouchEvent=function(f){return o.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function s(h,p){var g=h.style;if(!g)return h;if(typeof p=="string")return h.style.cssText+=";"+p,p.indexOf("opacity")>-1?d(h,p.match(/opacity:\s*(\d?\.?\d*)/)[1]):h;for(var m in p)if(m==="opacity")d(h,p[m]);else{var v=m==="float"||m==="cssFloat"?typeof g.styleFloat>"u"?"cssFloat":"styleFloat":m;g.setProperty(v,p[m])}return h}var o=e.document.createElement("div"),c=typeof o.style.opacity=="string",f=typeof o.style.filter=="string",l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,d=function(h){return h};c?d=function(h,p){return h.style.opacity=p,h}:f&&(d=function(h,p){var g=h.style;return h.currentStyle&&!h.currentStyle.hasLayout&&(g.zoom=1),l.test(g.filter)?(p=p>=.9999?"":"alpha(opacity="+p*100+")",g.filter=g.filter.replace(l,p)):g.filter+=" alpha(opacity="+p*100+")",h}),e.util.setStyle=s}(),function(){var s=Array.prototype.slice;function o(S){return typeof S=="string"?e.document.getElementById(S):S}var c,f=function(S){return s.call(S,0)};try{c=f(e.document.childNodes)instanceof Array}catch{}c||(f=function(S){for(var w=new Array(S.length),C=S.length;C--;)w[C]=S[C];return w});function l(S,w){var C=e.document.createElement(S);for(var x in w)x==="class"?C.className=w[x]:x==="for"?C.htmlFor=w[x]:C.setAttribute(x,w[x]);return C}function d(S,w){S&&(" "+S.className+" ").indexOf(" "+w+" ")===-1&&(S.className+=(S.className?" ":"")+w)}function h(S,w,C){return typeof w=="string"&&(w=l(w,C)),S.parentNode&&S.parentNode.replaceChild(w,S),w.appendChild(S),w}function p(S){for(var w=0,C=0,x=e.document.documentElement,M=e.document.body||{scrollLeft:0,scrollTop:0};S&&(S.parentNode||S.host)&&(S=S.parentNode||S.host,S===e.document?(w=M.scrollLeft||x.scrollLeft||0,C=M.scrollTop||x.scrollTop||0):(w+=S.scrollLeft||0,C+=S.scrollTop||0),!(S.nodeType===1&&S.style.position==="fixed")););return{left:w,top:C}}function g(S){var w,C=S&&S.ownerDocument,x={left:0,top:0},M={left:0,top:0},E,A={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!C)return M;for(var O in A)M[A[O]]+=parseInt(m(S,O),10)||0;return w=C.documentElement,typeof S.getBoundingClientRect<"u"&&(x=S.getBoundingClientRect()),E=p(S),{left:x.left+E.left-(w.clientLeft||0)+M.left,top:x.top+E.top-(w.clientTop||0)+M.top}}var m;e.document.defaultView&&e.document.defaultView.getComputedStyle?m=function(S,w){var C=e.document.defaultView.getComputedStyle(S,null);return C?C[w]:void 0}:m=function(S,w){var C=S.style[w];return!C&&S.currentStyle&&(C=S.currentStyle[w]),C},function(){var S=e.document.documentElement.style,w="userSelect"in S?"userSelect":"MozUserSelect"in S?"MozUserSelect":"WebkitUserSelect"in S?"WebkitUserSelect":"KhtmlUserSelect"in S?"KhtmlUserSelect":"";function C(M){return typeof M.onselectstart<"u"&&(M.onselectstart=e.util.falseFunction),w?M.style[w]="none":typeof M.unselectable=="string"&&(M.unselectable="on"),M}function x(M){return typeof M.onselectstart<"u"&&(M.onselectstart=null),w?M.style[w]="":typeof M.unselectable=="string"&&(M.unselectable=""),M}e.util.makeElementUnselectable=C,e.util.makeElementSelectable=x}();function v(S){var w=e.jsdomImplForWrapper(S);return w._canvas||w._image}function b(S){if(e.isLikelyNode){var w=e.jsdomImplForWrapper(S);w&&(w._image=null,w._canvas=null,w._currentSrc=null,w._attributes=null,w._classList=null)}}function _(S,w){S.imageSmoothingEnabled=S.imageSmoothingEnabled||S.webkitImageSmoothingEnabled||S.mozImageSmoothingEnabled||S.msImageSmoothingEnabled||S.oImageSmoothingEnabled,S.imageSmoothingEnabled=w}e.util.setImageSmoothing=_,e.util.getById=o,e.util.toArray=f,e.util.addClass=d,e.util.makeElement=l,e.util.wrapElement=h,e.util.getScrollLeftTop=p,e.util.getElementOffset=g,e.util.getNodeCanvas=v,e.util.cleanUpJsdomNode=b}(),function(){function s(f,l){return f+(/\?/.test(f)?"&":"?")+l}function o(){}function c(f,l){l||(l={});var d=l.method?l.method.toUpperCase():"GET",h=l.onComplete||function(){},p=new e.window.XMLHttpRequest,g=l.body||l.parameters;return p.onreadystatechange=function(){p.readyState===4&&(h(p),p.onreadystatechange=o)},d==="GET"&&(g=null,typeof l.parameters=="string"&&(f=s(f,l.parameters))),p.open(d,f,!0),(d==="POST"||d==="PUT")&&p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(g),p}e.util.request=c}(),e.log=console.log,e.warn=console.warn,function(){var s=e.util.object.extend,o=e.util.object.clone,c=[];e.util.object.extend(c,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(b){b.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var b=this.filter(function(_){return typeof _.target=="object"&&_.target.canvas===v});return b.forEach(function(_){_.cancel()}),b},cancelByTarget:function(v){var b=this.findAnimationsByTarget(v);return b.forEach(function(_){_.cancel()}),b},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(b){return b.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(b){return b.target===v}):[]}});function f(){return!1}function l(v,b,_,S){return-_*Math.cos(v/S*(Math.PI/2))+_+b}function d(v){v||(v={});var b=!1,_,S=function(){var w=e.runningAnimations.indexOf(_);return w>-1&&e.runningAnimations.splice(w,1)[0]};return _=s(o(v),{cancel:function(){return b=!0,S()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),e.runningAnimations.push(_),g(function(w){var C=w||+new Date,x=v.duration||500,M=C+x,E,A=v.onChange||f,O=v.abort||f,I=v.onComplete||f,$=v.easing||l,H="startValue"in v?v.startValue.length>0:!1,B="startValue"in v?v.startValue:0,N="endValue"in v?v.endValue:100,k=v.byValue||(H?B.map(function(D,T){return N[T]-B[T]}):N-B);v.onStart&&v.onStart(),function D(T){E=T||+new Date;var R=E>M?x:E-C,V=R/x,U=H?B.map(function(W,j){return $(R,B[j],k[j],x)}):$(R,B,k,x),X=Math.abs(H?(U[0]-B[0])/k[0]:(U-B)/k);if(_.currentValue=H?U.slice():U,_.completionRate=X,_.durationRate=V,!b){if(O(U,X,V)){S();return}if(E>M){_.currentValue=H?N.slice():N,_.completionRate=1,_.durationRate=1,A(H?N.slice():N,1,1),I(N,1,1),S();return}else A(U,X,V),g(D)}}(C)}),_.cancel}var h=e.window.requestAnimationFrame||e.window.webkitRequestAnimationFrame||e.window.mozRequestAnimationFrame||e.window.oRequestAnimationFrame||e.window.msRequestAnimationFrame||function(v){return e.window.setTimeout(v,1e3/60)},p=e.window.cancelAnimationFrame||e.window.clearTimeout;function g(){return h.apply(e.window,arguments)}function m(){return p.apply(e.window,arguments)}e.util.animate=d,e.util.requestAnimFrame=g,e.util.cancelAnimFrame=m,e.runningAnimations=c}(),function(){function s(c,f,l){var d="rgba("+parseInt(c[0]+l*(f[0]-c[0]),10)+","+parseInt(c[1]+l*(f[1]-c[1]),10)+","+parseInt(c[2]+l*(f[2]-c[2]),10);return d+=","+(c&&f?parseFloat(c[3]+l*(f[3]-c[3])):1),d+=")",d}function o(c,f,l,d){var h=new e.Color(c).getSource(),p=new e.Color(f).getSource(),g=d.onComplete,m=d.onChange;return d=d||{},e.util.animate(e.util.object.extend(d,{duration:l||500,startValue:h,endValue:p,byValue:p,easing:function(v,b,_,S){var w=d.colorEasing?d.colorEasing(v,S):1-Math.cos(v/S*(Math.PI/2));return s(b,_,w)},onComplete:function(v,b,_){if(g)return g(s(p,p,0),b,_)},onChange:function(v,b,_){if(m){if(Array.isArray(v))return m(s(v,v,0),b,_);m(v,b,_)}}}))}e.util.animateColor=o}(),function(){function s(T,R,V,U){return T<Math.abs(R)?(T=R,U=V/4):R===0&&T===0?U=V/(2*Math.PI)*Math.asin(1):U=V/(2*Math.PI)*Math.asin(R/T),{a:T,c:R,p:V,s:U}}function o(T,R,V){return T.a*Math.pow(2,10*(R-=1))*Math.sin((R*V-T.s)*(2*Math.PI)/T.p)}function c(T,R,V,U){return V*((T=T/U-1)*T*T+1)+R}function f(T,R,V,U){return T/=U/2,T<1?V/2*T*T*T+R:V/2*((T-=2)*T*T+2)+R}function l(T,R,V,U){return V*(T/=U)*T*T*T+R}function d(T,R,V,U){return-V*((T=T/U-1)*T*T*T-1)+R}function h(T,R,V,U){return T/=U/2,T<1?V/2*T*T*T*T+R:-V/2*((T-=2)*T*T*T-2)+R}function p(T,R,V,U){return V*(T/=U)*T*T*T*T+R}function g(T,R,V,U){return V*((T=T/U-1)*T*T*T*T+1)+R}function m(T,R,V,U){return T/=U/2,T<1?V/2*T*T*T*T*T+R:V/2*((T-=2)*T*T*T*T+2)+R}function v(T,R,V,U){return-V*Math.cos(T/U*(Math.PI/2))+V+R}function b(T,R,V,U){return V*Math.sin(T/U*(Math.PI/2))+R}function _(T,R,V,U){return-V/2*(Math.cos(Math.PI*T/U)-1)+R}function S(T,R,V,U){return T===0?R:V*Math.pow(2,10*(T/U-1))+R}function w(T,R,V,U){return T===U?R+V:V*(-Math.pow(2,-10*T/U)+1)+R}function C(T,R,V,U){return T===0?R:T===U?R+V:(T/=U/2,T<1?V/2*Math.pow(2,10*(T-1))+R:V/2*(-Math.pow(2,-10*--T)+2)+R)}function x(T,R,V,U){return-V*(Math.sqrt(1-(T/=U)*T)-1)+R}function M(T,R,V,U){return V*Math.sqrt(1-(T=T/U-1)*T)+R}function E(T,R,V,U){return T/=U/2,T<1?-V/2*(Math.sqrt(1-T*T)-1)+R:V/2*(Math.sqrt(1-(T-=2)*T)+1)+R}function A(T,R,V,U){var X=1.70158,W=0,j=V;if(T===0)return R;if(T/=U,T===1)return R+V;W||(W=U*.3);var K=s(j,V,W,X);return-o(K,T,U)+R}function O(T,R,V,U){var X=1.70158,W=0,j=V;if(T===0)return R;if(T/=U,T===1)return R+V;W||(W=U*.3);var K=s(j,V,W,X);return K.a*Math.pow(2,-10*T)*Math.sin((T*U-K.s)*(2*Math.PI)/K.p)+K.c+R}function I(T,R,V,U){var X=1.70158,W=0,j=V;if(T===0)return R;if(T/=U/2,T===2)return R+V;W||(W=U*(.3*1.5));var K=s(j,V,W,X);return T<1?-.5*o(K,T,U)+R:K.a*Math.pow(2,-10*(T-=1))*Math.sin((T*U-K.s)*(2*Math.PI)/K.p)*.5+K.c+R}function $(T,R,V,U,X){return X===void 0&&(X=1.70158),V*(T/=U)*T*((X+1)*T-X)+R}function H(T,R,V,U,X){return X===void 0&&(X=1.70158),V*((T=T/U-1)*T*((X+1)*T+X)+1)+R}function B(T,R,V,U,X){return X===void 0&&(X=1.70158),T/=U/2,T<1?V/2*(T*T*(((X*=1.525)+1)*T-X))+R:V/2*((T-=2)*T*(((X*=1.525)+1)*T+X)+2)+R}function N(T,R,V,U){return V-k(U-T,0,V,U)+R}function k(T,R,V,U){return(T/=U)<1/2.75?V*(7.5625*T*T)+R:T<2/2.75?V*(7.5625*(T-=1.5/2.75)*T+.75)+R:T<2.5/2.75?V*(7.5625*(T-=2.25/2.75)*T+.9375)+R:V*(7.5625*(T-=2.625/2.75)*T+.984375)+R}function D(T,R,V,U){return T<U/2?N(T*2,0,V,U)*.5+R:k(T*2-U,0,V,U)*.5+V*.5+R}e.util.ease={easeInQuad:function(T,R,V,U){return V*(T/=U)*T+R},easeOutQuad:function(T,R,V,U){return-V*(T/=U)*(T-2)+R},easeInOutQuad:function(T,R,V,U){return T/=U/2,T<1?V/2*T*T+R:-V/2*(--T*(T-2)-1)+R},easeInCubic:function(T,R,V,U){return V*(T/=U)*T*T+R},easeOutCubic:c,easeInOutCubic:f,easeInQuart:l,easeOutQuart:d,easeInOutQuart:h,easeInQuint:p,easeOutQuint:g,easeInOutQuint:m,easeInSine:v,easeOutSine:b,easeInOutSine:_,easeInExpo:S,easeOutExpo:w,easeInOutExpo:C,easeInCirc:x,easeOutCirc:M,easeInOutCirc:E,easeInElastic:A,easeOutElastic:O,easeInOutElastic:I,easeInBack:$,easeOutBack:H,easeInOutBack:B,easeInBounce:N,easeOutBounce:k,easeInOutBounce:D}}(),function(s){var o=s.fabric||(s.fabric={}),c=o.util.object.extend,f=o.util.object.clone,l=o.util.toFixed,d=o.util.parseUnit,h=o.util.multiplyTransformMatrices,p=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],g=["symbol","image","marker","pattern","view","svg"],m=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],b={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},_={stroke:"strokeOpacity",fill:"fillOpacity"},S="font-size",w="clip-path";o.svgValidTagNamesRegEx=M(p),o.svgViewBoxElementsRegEx=M(g),o.svgInvalidAncestorsRegEx=M(m),o.svgValidParentsRegEx=M(v),o.cssRules={},o.gradientDefs={},o.clipPaths={};function C(W){return W in b?b[W]:W}function x(W,j,K,z){var ee=Array.isArray(j),ue;if((W==="fill"||W==="stroke")&&j==="none")j="";else{if(W==="strokeUniform")return j==="non-scaling-stroke";if(W==="strokeDashArray")j==="none"?j=null:j=j.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(W==="transformMatrix")K&&K.transformMatrix?j=h(K.transformMatrix,o.parseTransformAttribute(j)):j=o.parseTransformAttribute(j);else if(W==="visible")j=j!=="none"&&j!=="hidden",K&&K.visible===!1&&(j=!1);else if(W==="opacity")j=parseFloat(j),K&&typeof K.opacity<"u"&&(j*=K.opacity);else if(W==="textAnchor")j=j==="start"?"left":j==="end"?"right":"center";else if(W==="charSpacing")ue=d(j,z)/z*1e3;else if(W==="paintFirst"){var ne=j.indexOf("fill"),le=j.indexOf("stroke"),j="fill";(ne>-1&&le>-1&&le<ne||ne===-1&&le>-1)&&(j="stroke")}else{if(W==="href"||W==="xlink:href"||W==="font")return j;if(W==="imageSmoothing")return j==="optimizeQuality";ue=ee?j.map(d):d(j,z)}}return!ee&&isNaN(ue)?j:ue}function M(W){return new RegExp("^("+W.join("|")+")\\b","i")}function E(W){for(var j in _)if(!(typeof W[_[j]]>"u"||W[j]==="")){if(typeof W[j]>"u"){if(!o.Object.prototype[j])continue;W[j]=o.Object.prototype[j]}if(W[j].indexOf("url(")!==0){var K=new o.Color(W[j]);W[j]=K.setAlpha(l(K.getAlpha()*W[_[j]],2)).toRgba()}}return W}function A(W,j){var K,z=[],ee,ue,ne;for(ue=0,ne=j.length;ue<ne;ue++)K=j[ue],ee=W.getElementsByTagName(K),z=z.concat(Array.prototype.slice.call(ee));return z}o.parseTransformAttribute=function(){function W(G,Z){var _e=o.util.cos(Z[0]),de=o.util.sin(Z[0]),Re=0,Fe=0;Z.length===3&&(Re=Z[1],Fe=Z[2]),G[0]=_e,G[1]=de,G[2]=-de,G[3]=_e,G[4]=Re-(_e*Re-de*Fe),G[5]=Fe-(de*Re+_e*Fe)}function j(G,Z){var _e=Z[0],de=Z.length===2?Z[1]:Z[0];G[0]=_e,G[3]=de}function K(G,Z,_e){G[_e]=Math.tan(o.util.degreesToRadians(Z[0]))}function z(G,Z){G[4]=Z[0],Z.length===2&&(G[5]=Z[1])}var ee=o.iMatrix,ue=o.reNum,ne=o.commaWsp,le="(?:(skewX)\\s*\\(\\s*("+ue+")\\s*\\))",Me="(?:(skewY)\\s*\\(\\s*("+ue+")\\s*\\))",q="(?:(rotate)\\s*\\(\\s*("+ue+")(?:"+ne+"("+ue+")"+ne+"("+ue+"))?\\s*\\))",J="(?:(scale)\\s*\\(\\s*("+ue+")(?:"+ne+"("+ue+"))?\\s*\\))",ce="(?:(translate)\\s*\\(\\s*("+ue+")(?:"+ne+"("+ue+"))?\\s*\\))",pe="(?:(matrix)\\s*\\(\\s*("+ue+")"+ne+"("+ue+")"+ne+"("+ue+")"+ne+"("+ue+")"+ne+"("+ue+")"+ne+"("+ue+")\\s*\\))",re="(?:"+pe+"|"+ce+"|"+J+"|"+q+"|"+le+"|"+Me+")",he="(?:"+re+"(?:"+ne+"*"+re+")*)",Ce="^\\s*(?:"+he+"?)\\s*$",Oe=new RegExp(Ce),ke=new RegExp(re,"g");return function(G){var Z=ee.concat(),_e=[];if(!G||G&&!Oe.test(G))return Z;G.replace(ke,function(Re){var Fe=new RegExp(re).exec(Re).filter(function(Ae){return!!Ae}),ye=Fe[1],Ne=Fe.slice(2).map(parseFloat);switch(ye){case"translate":z(Z,Ne);break;case"rotate":Ne[0]=o.util.degreesToRadians(Ne[0]),W(Z,Ne);break;case"scale":j(Z,Ne);break;case"skewX":K(Z,Ne,2);break;case"skewY":K(Z,Ne,1);break;case"matrix":Z=Ne;break}_e.push(Z.concat()),Z=ee.concat()});for(var de=_e[0];_e.length>1;)_e.shift(),de=o.util.multiplyTransformMatrices(de,_e[0]);return de}}();function O(W,j){var K,z;W.replace(/;\s*$/,"").split(";").forEach(function(ee){var ue=ee.split(":");K=ue[0].trim().toLowerCase(),z=ue[1].trim(),j[K]=z})}function I(W,j){var K,z;for(var ee in W)typeof W[ee]>"u"||(K=ee.toLowerCase(),z=W[ee],j[K]=z)}function $(W,j){var K={};for(var z in o.cssRules[j])if(H(W,z.split(" ")))for(var ee in o.cssRules[j][z])K[ee]=o.cssRules[j][z][ee];return K}function H(W,j){var K,z=!0;return K=N(W,j.pop()),K&&j.length&&(z=B(W,j)),K&&z&&j.length===0}function B(W,j){for(var K,z=!0;W.parentNode&&W.parentNode.nodeType===1&&j.length;)z&&(K=j.pop()),W=W.parentNode,z=N(W,K);return j.length===0}function N(W,j){var K=W.nodeName,z=W.getAttribute("class"),ee=W.getAttribute("id"),ue,ne;if(ue=new RegExp("^"+K,"i"),j=j.replace(ue,""),ee&&j.length&&(ue=new RegExp("#"+ee+"(?![a-zA-Z\\-]+)","i"),j=j.replace(ue,"")),z&&j.length)for(z=z.split(" "),ne=z.length;ne--;)ue=new RegExp("\\."+z[ne]+"(?![a-zA-Z\\-]+)","i"),j=j.replace(ue,"");return j.length===0}function k(W,j){var K;if(W.getElementById&&(K=W.getElementById(j)),K)return K;var z,ee,ue,ne=W.getElementsByTagName("*");for(ee=0,ue=ne.length;ee<ue;ee++)if(z=ne[ee],j===z.getAttribute("id"))return z}function D(W){for(var j=A(W,["use","svg:use"]),K=0;j.length&&K<j.length;){var z=j[K],ee=z.getAttribute("xlink:href")||z.getAttribute("href");if(ee===null)return;var ue=ee.slice(1),ne=z.getAttribute("x")||0,le=z.getAttribute("y")||0,Me=k(W,ue).cloneNode(!0),q=(Me.getAttribute("transform")||"")+" translate("+ne+", "+le+")",J,ce=j.length,pe,re,he,Ce,Oe=o.svgNS;if(R(Me),/^svg$/i.test(Me.nodeName)){var ke=Me.ownerDocument.createElementNS(Oe,"g");for(re=0,he=Me.attributes,Ce=he.length;re<Ce;re++)pe=he.item(re),ke.setAttributeNS(Oe,pe.nodeName,pe.nodeValue);for(;Me.firstChild;)ke.appendChild(Me.firstChild);Me=ke}for(re=0,he=z.attributes,Ce=he.length;re<Ce;re++)pe=he.item(re),!(pe.nodeName==="x"||pe.nodeName==="y"||pe.nodeName==="xlink:href"||pe.nodeName==="href")&&(pe.nodeName==="transform"?q=pe.nodeValue+" "+q:Me.setAttribute(pe.nodeName,pe.nodeValue));Me.setAttribute("transform",q),Me.setAttribute("instantiated_by_use","1"),Me.removeAttribute("id"),J=z.parentNode,J.replaceChild(Me,z),j.length===ce&&K++}}var T=new RegExp("^\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*$");function R(W){if(!o.svgViewBoxElementsRegEx.test(W.nodeName))return{};var j=W.getAttribute("viewBox"),K=1,z=1,ee=0,ue=0,ne,le,Me,q,J=W.getAttribute("width"),ce=W.getAttribute("height"),pe=W.getAttribute("x")||0,re=W.getAttribute("y")||0,he=W.getAttribute("preserveAspectRatio")||"",Ce=!j||!(j=j.match(T)),Oe=!J||!ce||J==="100%"||ce==="100%",ke=Ce&&Oe,G={},Z="",_e=0,de=0;if(G.width=0,G.height=0,G.toBeParsed=ke,Ce&&(pe||re)&&W.parentNode&&W.parentNode.nodeName!=="#document"&&(Z=" translate("+d(pe)+" "+d(re)+") ",Me=(W.getAttribute("transform")||"")+Z,W.setAttribute("transform",Me),W.removeAttribute("x"),W.removeAttribute("y")),ke)return G;if(Ce)return G.width=d(J),G.height=d(ce),G;if(ee=-parseFloat(j[1]),ue=-parseFloat(j[2]),ne=parseFloat(j[3]),le=parseFloat(j[4]),G.minX=ee,G.minY=ue,G.viewBoxWidth=ne,G.viewBoxHeight=le,Oe?(G.width=ne,G.height=le):(G.width=d(J),G.height=d(ce),K=G.width/ne,z=G.height/le),he=o.util.parsePreserveAspectRatioAttribute(he),he.alignX!=="none"&&(he.meetOrSlice==="meet"&&(z=K=K>z?z:K),he.meetOrSlice==="slice"&&(z=K=K>z?K:z),_e=G.width-ne*K,de=G.height-le*K,he.alignX==="Mid"&&(_e/=2),he.alignY==="Mid"&&(de/=2),he.alignX==="Min"&&(_e=0),he.alignY==="Min"&&(de=0)),K===1&&z===1&&ee===0&&ue===0&&pe===0&&re===0)return G;if((pe||re)&&W.parentNode.nodeName!=="#document"&&(Z=" translate("+d(pe)+" "+d(re)+") "),Me=Z+" matrix("+K+" 0 0 "+z+" "+(ee*K+_e)+" "+(ue*z+de)+") ",W.nodeName==="svg"){for(q=W.ownerDocument.createElementNS(o.svgNS,"g");W.firstChild;)q.appendChild(W.firstChild);W.appendChild(q)}else q=W,q.removeAttribute("x"),q.removeAttribute("y"),Me=q.getAttribute("transform")+Me;return q.setAttribute("transform",Me),G}function V(W,j){for(;W&&(W=W.parentNode);)if(W.nodeName&&j.test(W.nodeName.replace("svg:",""))&&!W.getAttribute("instantiated_by_use"))return!0;return!1}o.parseSVGDocument=function(W,j,K,z){if(W){D(W);var ee=o.Object.__uid++,ue,ne,le=R(W),Me=o.util.toArray(W.getElementsByTagName("*"));if(le.crossOrigin=z&&z.crossOrigin,le.svgUid=ee,Me.length===0&&o.isLikelyNode){Me=W.selectNodes('//*[name(.)!="svg"]');var q=[];for(ue=0,ne=Me.length;ue<ne;ue++)q[ue]=Me[ue];Me=q}var J=Me.filter(function(pe){return R(pe),o.svgValidTagNamesRegEx.test(pe.nodeName.replace("svg:",""))&&!V(pe,o.svgInvalidAncestorsRegEx)});if(!J||J&&!J.length){j&&j([],{});return}var ce={};Me.filter(function(pe){return pe.nodeName.replace("svg:","")==="clipPath"}).forEach(function(pe){var re=pe.getAttribute("id");ce[re]=o.util.toArray(pe.getElementsByTagName("*")).filter(function(he){return o.svgValidTagNamesRegEx.test(he.nodeName.replace("svg:",""))})}),o.gradientDefs[ee]=o.getGradientDefs(W),o.cssRules[ee]=o.getCSSRules(W),o.clipPaths[ee]=ce,o.parseElements(J,function(pe,re){j&&(j(pe,le,re,Me),delete o.gradientDefs[ee],delete o.cssRules[ee],delete o.clipPaths[ee])},f(le),K,z)}};function U(W,j){var K=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],z="xlink:href",ee=j.getAttribute(z).slice(1),ue=k(W,ee);if(ue&&ue.getAttribute(z)&&U(W,ue),K.forEach(function(le){ue&&!j.hasAttribute(le)&&ue.hasAttribute(le)&&j.setAttribute(le,ue.getAttribute(le))}),!j.children.length)for(var ne=ue.cloneNode(!0);ne.firstChild;)j.appendChild(ne.firstChild);j.removeAttribute(z)}var X=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+o.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+o.reNum+"))?\\s+(.*)");c(o,{parseFontDeclaration:function(W,j){var K=W.match(X);if(K){var z=K[1],ee=K[3],ue=K[4],ne=K[5],le=K[6];z&&(j.fontStyle=z),ee&&(j.fontWeight=isNaN(parseFloat(ee))?ee:parseFloat(ee)),ue&&(j.fontSize=d(ue)),le&&(j.fontFamily=le),ne&&(j.lineHeight=ne==="normal"?1:ne)}},getGradientDefs:function(W){var j=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],K=A(W,j),z,ee=0,ue={};for(ee=K.length;ee--;)z=K[ee],z.getAttribute("xlink:href")&&U(W,z),ue[z.getAttribute("id")]=z;return ue},parseAttributes:function(W,j,K){if(W){var z,ee={},ue,ne;typeof K>"u"&&(K=W.getAttribute("svgUid")),W.parentNode&&o.svgValidParentsRegEx.test(W.parentNode.nodeName)&&(ee=o.parseAttributes(W.parentNode,j,K));var le=j.reduce(function(he,Ce){return z=W.getAttribute(Ce),z&&(he[Ce]=z),he},{}),Me=c($(W,K),o.parseStyleAttribute(W));le=c(le,Me),Me[w]&&W.setAttribute(w,Me[w]),ue=ne=ee.fontSize||o.Text.DEFAULT_SVG_FONT_SIZE,le[S]&&(le[S]=ue=d(le[S],ne));var q,J,ce={};for(var pe in le)q=C(pe),J=x(q,le[pe],ee,ue),ce[q]=J;ce&&ce.font&&o.parseFontDeclaration(ce.font,ce);var re=c(ee,ce);return o.svgValidParentsRegEx.test(W.nodeName)?re:E(re)}},parseElements:function(W,j,K,z,ee){new o.ElementsParser(W,j,K,z,ee).parse()},parseStyleAttribute:function(W){var j={},K=W.getAttribute("style");return K&&(typeof K=="string"?O(K,j):I(K,j)),j},parsePointsAttribute:function(W){if(!W)return null;W=W.replace(/,/g," ").trim(),W=W.split(/\s+/);var j=[],K,z;for(K=0,z=W.length;K<z;K+=2)j.push({x:parseFloat(W[K]),y:parseFloat(W[K+1])});return j},getCSSRules:function(W){var j=W.getElementsByTagName("style"),K,z,ee={},ue;for(K=0,z=j.length;K<z;K++){var ne=j[K].textContent;ne=ne.replace(/\/\*[\s\S]*?\*\//g,""),ne.trim()!==""&&(ue=ne.split("}"),ue=ue.filter(function(le){return le.trim()}),ue.forEach(function(le){var Me=le.split("{"),q={},J=Me[1].trim(),ce=J.split(";").filter(function(Ce){return Ce.trim()});for(K=0,z=ce.length;K<z;K++){var pe=ce[K].split(":"),re=pe[0].trim(),he=pe[1].trim();q[re]=he}le=Me[0].trim(),le.split(",").forEach(function(Ce){Ce=Ce.replace(/^svg/i,"").trim(),Ce!==""&&(ee[Ce]?o.util.object.extend(ee[Ce],q):ee[Ce]=o.util.object.clone(q))})}))}return ee},loadSVGFromURL:function(W,j,K,z){W=W.replace(/^\n\s*/,"").trim(),new o.util.request(W,{method:"get",onComplete:ee});function ee(ue){var ne=ue.responseXML;if(!ne||!ne.documentElement)return j&&j(null),!1;o.parseSVGDocument(ne.documentElement,function(le,Me,q,J){j&&j(le,Me,q,J)},K,z)}},loadSVGFromString:function(W,j,K,z){var ee=new o.window.DOMParser,ue=ee.parseFromString(W.trim(),"text/xml");o.parseSVGDocument(ue.documentElement,function(ne,le,Me,q){j(ne,le,Me,q)},K,z)}})}(t),e.ElementsParser=function(s,o,c,f,l,d){this.elements=s,this.callback=o,this.options=c,this.reviver=f,this.svgUid=c&&c.svgUid||0,this.parsingOptions=l,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=d},function(s){s.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},s.createObjects=function(){var o=this;this.elements.forEach(function(c,f){c.setAttribute("svgUid",o.svgUid),o.createObject(c,f)})},s.findTag=function(o){return e[e.util.string.capitalize(o.tagName.replace("svg:",""))]},s.createObject=function(o,c){var f=this.findTag(o);if(f&&f.fromElement)try{f.fromElement(o,this.createCallback(c,o),this.options)}catch(l){e.log(l)}else this.checkIfDone()},s.createCallback=function(o,c){var f=this;return function(l){var d;f.resolveGradient(l,c,"fill"),f.resolveGradient(l,c,"stroke"),l instanceof e.Image&&l._originalElement&&(d=l.parsePreserveAspectRatioAttribute(c)),l._removeTransformMatrix(d),f.resolveClipPath(l,c),f.reviver&&f.reviver(c,l),f.instances[o]=l,f.checkIfDone()}},s.extractPropertyDefinition=function(o,c,f){var l=o[c],d=this.regexUrl;if(d.test(l)){d.lastIndex=0;var h=d.exec(l)[1];return d.lastIndex=0,e[f][this.svgUid][h]}},s.resolveGradient=function(o,c,f){var l=this.extractPropertyDefinition(o,f,"gradientDefs");if(l){var d=c.getAttribute(f+"-opacity"),h=e.Gradient.fromElement(l,o,d,this.options);o.set(f,h)}},s.createClipPathCallback=function(o,c){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,c.push(f)}},s.resolveClipPath=function(o,c){var f=this.extractPropertyDefinition(o,"clipPath","clipPaths"),l,d,h,p,g,m;if(f){p=[],h=e.util.invertTransform(o.calcTransformMatrix());for(var v=f[0].parentNode,b=c;b.parentNode&&b.getAttribute("clip-path")!==o.clipPath;)b=b.parentNode;b.parentNode.appendChild(v);for(var _=0;_<f.length;_++)l=f[_],d=this.findTag(l),d.fromElement(l,this.createClipPathCallback(o,p),this.options);p.length===1?f=p[0]:f=new e.Group(p),g=e.util.multiplyTransformMatrices(h,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,b);var m=e.util.qrDecompose(g);f.flipX=!1,f.flipY=!1,f.set("scaleX",m.scaleX),f.set("scaleY",m.scaleY),f.angle=m.angle,f.skewX=m.skewX,f.skewY=0,f.setPositionByOrigin({x:m.translateX,y:m.translateY},"center","center"),o.clipPath=f}else delete o.clipPath},s.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(o){return o!=null}),this.callback(this.instances,this.elements))}}(e.ElementsParser.prototype),function(s){var o=s.fabric||(s.fabric={});if(o.Point){o.warn("fabric.Point is already defined");return}o.Point=c;function c(f,l){this.x=f,this.y=l}c.prototype={type:"point",constructor:c,add:function(f){return new c(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new c(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new c(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new c(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new c(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new c(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,l){return typeof l>"u"&&(l=.5),l=Math.max(Math.min(1,l),0),new c(this.x+(f.x-this.x)*l,this.y+(f.y-this.y)*l)},distanceFrom:function(f){var l=this.x-f.x,d=this.y-f.y;return Math.sqrt(l*l+d*d)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new c(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new c(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,l){return this.x=f,this.y=l,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var l=this.x,d=this.y;this.x=f.x,this.y=f.y,f.x=l,f.y=d},clone:function(){return new c(this.x,this.y)}}}(t),function(s){var o=s.fabric||(s.fabric={});if(o.Intersection){o.warn("fabric.Intersection is already defined");return}function c(f){this.status=f,this.points=[]}o.Intersection=c,o.Intersection.prototype={constructor:c,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},o.Intersection.intersectLineLine=function(f,l,d,h){var p,g=(h.x-d.x)*(f.y-d.y)-(h.y-d.y)*(f.x-d.x),m=(l.x-f.x)*(f.y-d.y)-(l.y-f.y)*(f.x-d.x),v=(h.y-d.y)*(l.x-f.x)-(h.x-d.x)*(l.y-f.y);if(v!==0){var b=g/v,_=m/v;0<=b&&b<=1&&0<=_&&_<=1?(p=new c("Intersection"),p.appendPoint(new o.Point(f.x+b*(l.x-f.x),f.y+b*(l.y-f.y)))):p=new c}else g===0||m===0?p=new c("Coincident"):p=new c("Parallel");return p},o.Intersection.intersectLinePolygon=function(f,l,d){var h=new c,p=d.length,g,m,v,b;for(b=0;b<p;b++)g=d[b],m=d[(b+1)%p],v=c.intersectLineLine(f,l,g,m),h.appendPoints(v.points);return h.points.length>0&&(h.status="Intersection"),h},o.Intersection.intersectPolygonPolygon=function(f,l){var d=new c,h=f.length,p;for(p=0;p<h;p++){var g=f[p],m=f[(p+1)%h],v=c.intersectLinePolygon(g,m,l);d.appendPoints(v.points)}return d.points.length>0&&(d.status="Intersection"),d},o.Intersection.intersectPolygonRectangle=function(f,l,d){var h=l.min(d),p=l.max(d),g=new o.Point(p.x,h.y),m=new o.Point(h.x,p.y),v=c.intersectLinePolygon(h,g,f),b=c.intersectLinePolygon(g,p,f),_=c.intersectLinePolygon(p,m,f),S=c.intersectLinePolygon(m,h,f),w=new c;return w.appendPoints(v.points),w.appendPoints(b.points),w.appendPoints(_.points),w.appendPoints(S.points),w.points.length>0&&(w.status="Intersection"),w}}(t),function(s){var o=s.fabric||(s.fabric={});if(o.Color){o.warn("fabric.Color is already defined.");return}function c(l){l?this._tryParsingColor(l):this.setSource([0,0,0,1])}o.Color=c,o.Color.prototype={_tryParsingColor:function(l){var d;l in c.colorNameMap&&(l=c.colorNameMap[l]),l==="transparent"&&(d=[255,255,255,0]),d||(d=c.sourceFromHex(l)),d||(d=c.sourceFromRgb(l)),d||(d=c.sourceFromHsl(l)),d||(d=[0,0,0,1]),d&&this.setSource(d)},_rgbToHsl:function(l,d,h){l/=255,d/=255,h/=255;var p,g,m,v=o.util.array.max([l,d,h]),b=o.util.array.min([l,d,h]);if(m=(v+b)/2,v===b)p=g=0;else{var _=v-b;switch(g=m>.5?_/(2-v-b):_/(v+b),v){case l:p=(d-h)/_+(d<h?6:0);break;case d:p=(h-l)/_+2;break;case h:p=(l-d)/_+4;break}p/=6}return[Math.round(p*360),Math.round(g*100),Math.round(m*100)]},getSource:function(){return this._source},setSource:function(l){this._source=l},toRgb:function(){var l=this.getSource();return"rgb("+l[0]+","+l[1]+","+l[2]+")"},toRgba:function(){var l=this.getSource();return"rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+")"},toHsl:function(){var l=this.getSource(),d=this._rgbToHsl(l[0],l[1],l[2]);return"hsl("+d[0]+","+d[1]+"%,"+d[2]+"%)"},toHsla:function(){var l=this.getSource(),d=this._rgbToHsl(l[0],l[1],l[2]);return"hsla("+d[0]+","+d[1]+"%,"+d[2]+"%,"+l[3]+")"},toHex:function(){var l=this.getSource(),d,h,p;return d=l[0].toString(16),d=d.length===1?"0"+d:d,h=l[1].toString(16),h=h.length===1?"0"+h:h,p=l[2].toString(16),p=p.length===1?"0"+p:p,d.toUpperCase()+h.toUpperCase()+p.toUpperCase()},toHexa:function(){var l=this.getSource(),d;return d=Math.round(l[3]*255),d=d.toString(16),d=d.length===1?"0"+d:d,this.toHex()+d.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(l){var d=this.getSource();return d[3]=l,this.setSource(d),this},toGrayscale:function(){var l=this.getSource(),d=parseInt((l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),10),h=l[3];return this.setSource([d,d,d,h]),this},toBlackWhite:function(l){var d=this.getSource(),h=(d[0]*.3+d[1]*.59+d[2]*.11).toFixed(0),p=d[3];return l=l||127,h=Number(h)<Number(l)?0:255,this.setSource([h,h,h,p]),this},overlayWith:function(l){l instanceof c||(l=new c(l));var d=[],h=this.getAlpha(),p=.5,g=this.getSource(),m=l.getSource(),v;for(v=0;v<3;v++)d.push(Math.round(g[v]*(1-p)+m[v]*p));return d[3]=h,this.setSource(d),this}},o.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,o.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,o.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,o.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(l,d,h){return h<0&&(h+=1),h>1&&(h-=1),h<1/6?l+(d-l)*6*h:h<1/2?d:h<2/3?l+(d-l)*(2/3-h)*6:l}o.Color.fromRgb=function(l){return c.fromSource(c.sourceFromRgb(l))},o.Color.sourceFromRgb=function(l){var d=l.match(c.reRGBa);if(d){var h=parseInt(d[1],10)/(/%$/.test(d[1])?100:1)*(/%$/.test(d[1])?255:1),p=parseInt(d[2],10)/(/%$/.test(d[2])?100:1)*(/%$/.test(d[2])?255:1),g=parseInt(d[3],10)/(/%$/.test(d[3])?100:1)*(/%$/.test(d[3])?255:1);return[parseInt(h,10),parseInt(p,10),parseInt(g,10),d[4]?parseFloat(d[4]):1]}},o.Color.fromRgba=c.fromRgb,o.Color.fromHsl=function(l){return c.fromSource(c.sourceFromHsl(l))},o.Color.sourceFromHsl=function(l){var d=l.match(c.reHSLa);if(d){var h=(parseFloat(d[1])%360+360)%360/360,p=parseFloat(d[2])/(/%$/.test(d[2])?100:1),g=parseFloat(d[3])/(/%$/.test(d[3])?100:1),m,v,b;if(p===0)m=v=b=g;else{var _=g<=.5?g*(p+1):g+p-g*p,S=g*2-_;m=f(S,_,h+1/3),v=f(S,_,h),b=f(S,_,h-1/3)}return[Math.round(m*255),Math.round(v*255),Math.round(b*255),d[4]?parseFloat(d[4]):1]}},o.Color.fromHsla=c.fromHsl,o.Color.fromHex=function(l){return c.fromSource(c.sourceFromHex(l))},o.Color.sourceFromHex=function(l){if(l.match(c.reHex)){var d=l.slice(l.indexOf("#")+1),h=d.length===3||d.length===4,p=d.length===8||d.length===4,g=h?d.charAt(0)+d.charAt(0):d.substring(0,2),m=h?d.charAt(1)+d.charAt(1):d.substring(2,4),v=h?d.charAt(2)+d.charAt(2):d.substring(4,6),b=p?h?d.charAt(3)+d.charAt(3):d.substring(6,8):"FF";return[parseInt(g,16),parseInt(m,16),parseInt(v,16),parseFloat((parseInt(b,16)/255).toFixed(2))]}},o.Color.fromSource=function(l){var d=new c;return d.setSource(l),d}}(t),function(s){var o=s.fabric||(s.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],l={},d="left",h="top",p="right",g="bottom",m="center",v={top:g,bottom:h,left:p,right:d,center:m},b=o.util.radiansToDegrees,_=Math.sign||function(q){return(q>0)-(q<0)||+q};function S(q,J){var ce=q.angle+b(Math.atan2(J.y,J.x))+360;return Math.round(ce%360/45)}function w(q,J){var ce=J.transform.target,pe=ce.canvas,re=o.util.object.clone(J);re.target=ce,pe&&pe.fire("object:"+q,re),ce.fire(q,J)}function C(q,J){var ce=J.canvas,pe=ce.uniScaleKey,re=q[pe];return ce.uniformScaling&&!re||!ce.uniformScaling&&re}function x(q){return q.originX===m&&q.originY===m}function M(q,J,ce){var pe=q.lockScalingX,re=q.lockScalingY;return!!(pe&&re||!J&&(pe||re)&&ce||pe&&J==="x"||re&&J==="y")}function E(q,J,ce){var pe="not-allowed",re=C(q,ce),he="";if(J.x!==0&&J.y===0?he="x":J.x===0&&J.y!==0&&(he="y"),M(ce,he,re))return pe;var Ce=S(ce,J);return c[Ce]+"-resize"}function A(q,J,ce){var pe="not-allowed";if(J.x!==0&&ce.lockSkewingY||J.y!==0&&ce.lockSkewingX)return pe;var re=S(ce,J)%4;return f[re]+"-resize"}function O(q,J,ce){return q[ce.canvas.altActionKey]?l.skewCursorStyleHandler(q,J,ce):l.scaleCursorStyleHandler(q,J,ce)}function I(q,J,ce){var pe=q[ce.canvas.altActionKey];if(J.x===0)return pe?"skewX":"scaleY";if(J.y===0)return pe?"skewY":"scaleX"}function $(q,J,ce){return ce.lockRotation?"not-allowed":J.cursorStyle}function H(q,J,ce,pe){return{e:q,transform:J,pointer:{x:ce,y:pe}}}function B(q){return function(J,ce,pe,re){var he=ce.target,Ce=he.getCenterPoint(),Oe=he.translateToOriginPoint(Ce,ce.originX,ce.originY),ke=q(J,ce,pe,re);return he.setPositionByOrigin(Oe,ce.originX,ce.originY),ke}}function N(q,J){return function(ce,pe,re,he){var Ce=J(ce,pe,re,he);return Ce&&w(q,H(ce,pe,re,he)),Ce}}function k(q,J,ce,pe,re){var he=q.target,Ce=he.controls[q.corner],Oe=he.canvas.getZoom(),ke=he.padding/Oe,G=he.toLocalPoint(new o.Point(pe,re),J,ce);return G.x>=ke&&(G.x-=ke),G.x<=-ke&&(G.x+=ke),G.y>=ke&&(G.y-=ke),G.y<=ke&&(G.y+=ke),G.x-=Ce.offsetX,G.y-=Ce.offsetY,G}function D(q){return q.flipX!==q.flipY}function T(q,J,ce,pe,re){if(q[J]!==0){var he=q._getTransformedDimensions()[pe],Ce=re/he*q[ce];q.set(ce,Ce)}}function R(q,J,ce,pe){var re=J.target,he=re._getTransformedDimensions(0,re.skewY),Ce=k(J,J.originX,J.originY,ce,pe),Oe=Math.abs(Ce.x*2)-he.x,ke=re.skewX,G;Oe<2?G=0:(G=b(Math.atan2(Oe/re.scaleX,he.y/re.scaleY)),J.originX===d&&J.originY===g&&(G=-G),J.originX===p&&J.originY===h&&(G=-G),D(re)&&(G=-G));var Z=ke!==G;if(Z){var _e=re._getTransformedDimensions().y;re.set("skewX",G),T(re,"skewY","scaleY","y",_e)}return Z}function V(q,J,ce,pe){var re=J.target,he=re._getTransformedDimensions(re.skewX,0),Ce=k(J,J.originX,J.originY,ce,pe),Oe=Math.abs(Ce.y*2)-he.y,ke=re.skewY,G;Oe<2?G=0:(G=b(Math.atan2(Oe/re.scaleY,he.x/re.scaleX)),J.originX===d&&J.originY===g&&(G=-G),J.originX===p&&J.originY===h&&(G=-G),D(re)&&(G=-G));var Z=ke!==G;if(Z){var _e=re._getTransformedDimensions().x;re.set("skewY",G),T(re,"skewX","scaleX","x",_e)}return Z}function U(q,J,ce,pe){var re=J.target,he=re.skewX,Ce,Oe=J.originY;if(re.lockSkewingX)return!1;if(he===0){var ke=k(J,m,m,ce,pe);ke.x>0?Ce=d:Ce=p}else he>0&&(Ce=Oe===h?d:p),he<0&&(Ce=Oe===h?p:d),D(re)&&(Ce=Ce===d?p:d);J.originX=Ce;var G=N("skewing",B(R));return G(q,J,ce,pe)}function X(q,J,ce,pe){var re=J.target,he=re.skewY,Ce,Oe=J.originX;if(re.lockSkewingY)return!1;if(he===0){var ke=k(J,m,m,ce,pe);ke.y>0?Ce=h:Ce=g}else he>0&&(Ce=Oe===d?h:g),he<0&&(Ce=Oe===d?g:h),D(re)&&(Ce=Ce===h?g:h);J.originY=Ce;var G=N("skewing",B(V));return G(q,J,ce,pe)}function W(q,J,ce,pe){var re=J,he=re.target,Ce=he.translateToOriginPoint(he.getCenterPoint(),re.originX,re.originY);if(he.lockRotation)return!1;var Oe=Math.atan2(re.ey-Ce.y,re.ex-Ce.x),ke=Math.atan2(pe-Ce.y,ce-Ce.x),G=b(ke-Oe+re.theta),Z=!0;if(he.snapAngle>0){var _e=he.snapAngle,de=he.snapThreshold||_e,Re=Math.ceil(G/_e)*_e,Fe=Math.floor(G/_e)*_e;Math.abs(G-Fe)<de?G=Fe:Math.abs(G-Re)<de&&(G=Re)}return G<0&&(G=360+G),G%=360,Z=he.angle!==G,he.angle=G,Z}function j(q,J,ce,pe,re){re=re||{};var he=J.target,Ce=he.lockScalingX,Oe=he.lockScalingY,ke=re.by,G,Z,_e,de,Re=C(q,he),Fe=M(he,ke,Re),ye,Ne,Ae=J.gestureScale;if(Fe)return!1;if(Ae)Z=J.scaleX*Ae,_e=J.scaleY*Ae;else{if(G=k(J,J.originX,J.originY,ce,pe),ye=ke!=="y"?_(G.x):1,Ne=ke!=="x"?_(G.y):1,J.signX||(J.signX=ye),J.signY||(J.signY=Ne),he.lockScalingFlip&&(J.signX!==ye||J.signY!==Ne))return!1;if(de=he._getTransformedDimensions(),Re&&!ke){var Te=Math.abs(G.x)+Math.abs(G.y),ae=J.original,fe=Math.abs(de.x*ae.scaleX/he.scaleX)+Math.abs(de.y*ae.scaleY/he.scaleY),ie=Te/fe;Z=ae.scaleX*ie,_e=ae.scaleY*ie}else Z=Math.abs(G.x*he.scaleX/de.x),_e=Math.abs(G.y*he.scaleY/de.y);x(J)&&(Z*=2,_e*=2),J.signX!==ye&&ke!=="y"&&(J.originX=v[J.originX],Z*=-1,J.signX=ye),J.signY!==Ne&&ke!=="x"&&(J.originY=v[J.originY],_e*=-1,J.signY=Ne)}var ge=he.scaleX,De=he.scaleY;return ke?(ke==="x"&&he.set("scaleX",Z),ke==="y"&&he.set("scaleY",_e)):(!Ce&&he.set("scaleX",Z),!Oe&&he.set("scaleY",_e)),ge!==he.scaleX||De!==he.scaleY}function K(q,J,ce,pe){return j(q,J,ce,pe)}function z(q,J,ce,pe){return j(q,J,ce,pe,{by:"x"})}function ee(q,J,ce,pe){return j(q,J,ce,pe,{by:"y"})}function ue(q,J,ce,pe){return q[J.target.canvas.altActionKey]?l.skewHandlerX(q,J,ce,pe):l.scalingY(q,J,ce,pe)}function ne(q,J,ce,pe){return q[J.target.canvas.altActionKey]?l.skewHandlerY(q,J,ce,pe):l.scalingX(q,J,ce,pe)}function le(q,J,ce,pe){var re=J.target,he=k(J,J.originX,J.originY,ce,pe),Ce=re.strokeWidth/(re.strokeUniform?re.scaleX:1),Oe=x(J)?2:1,ke=re.width,G=Math.abs(he.x*Oe/re.scaleX)-Ce;return re.set("width",Math.max(G,0)),ke!==G}function Me(q,J,ce,pe){var re=J.target,he=ce-J.offsetX,Ce=pe-J.offsetY,Oe=!re.get("lockMovementX")&&re.left!==he,ke=!re.get("lockMovementY")&&re.top!==Ce;return Oe&&re.set("left",he),ke&&re.set("top",Ce),(Oe||ke)&&w("moving",H(q,J,ce,pe)),Oe||ke}l.scaleCursorStyleHandler=E,l.skewCursorStyleHandler=A,l.scaleSkewCursorStyleHandler=O,l.rotationWithSnapping=N("rotating",B(W)),l.scalingEqually=N("scaling",B(K)),l.scalingX=N("scaling",B(z)),l.scalingY=N("scaling",B(ee)),l.scalingYOrSkewingX=ue,l.scalingXOrSkewingY=ne,l.changeWidth=N("resizing",B(le)),l.skewHandlerX=U,l.skewHandlerY=X,l.dragHandler=Me,l.scaleOrSkewActionName=I,l.rotationStyleHandler=$,l.fireEvent=w,l.wrapWithFixedAnchor=B,l.wrapWithFireEvent=N,l.getLocalPoint=k,o.controlsUtils=l}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.util.degreesToRadians,f=o.controlsUtils;function l(h,p,g,m,v){m=m||{};var b=this.sizeX||m.cornerSize||v.cornerSize,_=this.sizeY||m.cornerSize||v.cornerSize,S=typeof m.transparentCorners<"u"?m.transparentCorners:v.transparentCorners,w=S?"stroke":"fill",C=!S&&(m.cornerStrokeColor||v.cornerStrokeColor),x=p,M=g,E;h.save(),h.fillStyle=m.cornerColor||v.cornerColor,h.strokeStyle=m.cornerStrokeColor||v.cornerStrokeColor,b>_?(E=b,h.scale(1,_/b),M=g*b/_):_>b?(E=_,h.scale(b/_,1),x=p*_/b):E=b,h.lineWidth=1,h.beginPath(),h.arc(x,M,E/2,0,2*Math.PI,!1),h[w](),C&&h.stroke(),h.restore()}function d(h,p,g,m,v){m=m||{};var b=this.sizeX||m.cornerSize||v.cornerSize,_=this.sizeY||m.cornerSize||v.cornerSize,S=typeof m.transparentCorners<"u"?m.transparentCorners:v.transparentCorners,w=S?"stroke":"fill",C=!S&&(m.cornerStrokeColor||v.cornerStrokeColor),x=b/2,M=_/2;h.save(),h.fillStyle=m.cornerColor||v.cornerColor,h.strokeStyle=m.cornerStrokeColor||v.cornerStrokeColor,h.lineWidth=1,h.translate(p,g),h.rotate(c(v.angle)),h[w+"Rect"](-x,-M,b,_),C&&h.strokeRect(-x,-M,b,_),h.restore()}f.renderCircleControl=l,f.renderSquareControl=d}(t),function(s){var o=s.fabric||(s.fabric={});function c(f){for(var l in f)this[l]=f[l]}o.Control=c,o.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,l){return l.cursorStyle},getActionName:function(f,l){return l.actionName},getVisibility:function(f,l){var d=f._controlsVisibility;return d&&typeof d[l]<"u"?d[l]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,l){var d=o.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},l);return d},calcCornerCoords:function(f,l,d,h,p){var g,m,v,b,_=p?this.touchSizeX:this.sizeX,S=p?this.touchSizeY:this.sizeY;if(_&&S&&_!==S){var w=Math.atan2(S,_),C=Math.sqrt(_*_+S*S)/2,x=w-o.util.degreesToRadians(f),M=Math.PI/2-w-o.util.degreesToRadians(f);g=C*o.util.cos(x),m=C*o.util.sin(x),v=C*o.util.cos(M),b=C*o.util.sin(M)}else{var E=_&&S?_:l;C=E*.7071067812;var x=o.util.degreesToRadians(45-f);g=v=C*o.util.cos(x),m=b=C*o.util.sin(x)}return{tl:{x:d-b,y:h-v},tr:{x:d+g,y:h-m},bl:{x:d-g,y:h+m},br:{x:d+b,y:h+v}}},render:function(f,l,d,h,p){switch(h=h||{},h.cornerStyle||p.cornerStyle){case"circle":o.controlsUtils.renderCircleControl.call(this,f,l,d,h,p);break;default:o.controlsUtils.renderSquareControl.call(this,f,l,d,h,p)}}}}(t),function(){function s(d,h){var p=d.getAttribute("style"),g=d.getAttribute("offset")||0,m,v,b,_;if(g=parseFloat(g)/(/%$/.test(g)?100:1),g=g<0?0:g>1?1:g,p){var S=p.split(/\s*;\s*/);for(S[S.length-1]===""&&S.pop(),_=S.length;_--;){var w=S[_].split(/\s*:\s*/),C=w[0].trim(),x=w[1].trim();C==="stop-color"?m=x:C==="stop-opacity"&&(b=x)}}return m||(m=d.getAttribute("stop-color")||"rgb(0,0,0)"),b||(b=d.getAttribute("stop-opacity")),m=new e.Color(m),v=m.getAlpha(),b=isNaN(parseFloat(b))?1:parseFloat(b),b*=v*h,{offset:g,color:m.toRgb(),opacity:b}}function o(d){return{x1:d.getAttribute("x1")||0,y1:d.getAttribute("y1")||0,x2:d.getAttribute("x2")||"100%",y2:d.getAttribute("y2")||0}}function c(d){return{x1:d.getAttribute("fx")||d.getAttribute("cx")||"50%",y1:d.getAttribute("fy")||d.getAttribute("cy")||"50%",r1:0,x2:d.getAttribute("cx")||"50%",y2:d.getAttribute("cy")||"50%",r2:d.getAttribute("r")||"50%"}}var f=e.util.object.clone;e.Gradient=e.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(d){d||(d={}),d.coords||(d.coords={});var h,p=this;Object.keys(d).forEach(function(g){p[g]=d[g]}),this.id?this.id+="_"+e.Object.__uid++:this.id=e.Object.__uid++,h={x1:d.coords.x1||0,y1:d.coords.y1||0,x2:d.coords.x2||0,y2:d.coords.y2||0},this.type==="radial"&&(h.r1=d.coords.r1||0,h.r2=d.coords.r2||0),this.coords=h,this.colorStops=d.colorStops.slice()},addColorStop:function(d){for(var h in d){var p=new e.Color(d[h]);this.colorStops.push({offset:parseFloat(h),color:p.toRgb(),opacity:p.getAlpha()})}return this},toObject:function(d){var h={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return e.util.populateWithProperties(this,h,d),h},toSVG:function(d,v){var p=f(this.coords,!0),g,m,v=v||{},b,_,S=f(this.colorStops,!0),w=p.r1>p.r2,C=this.gradientTransform?this.gradientTransform.concat():e.iMatrix.concat(),x=-this.offsetX,M=-this.offsetY,E=!!v.additionalTransform,A=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(S.sort(function(B,N){return B.offset-N.offset}),A==="objectBoundingBox"?(x/=d.width,M/=d.height):(x+=d.width/2,M+=d.height/2),d.type==="path"&&this.gradientUnits!=="percentage"&&(x-=d.pathOffset.x,M-=d.pathOffset.y),C[4]-=x,C[5]-=M,_='id="SVGID_'+this.id+'" gradientUnits="'+A+'"',_+=' gradientTransform="'+(E?v.additionalTransform+" ":"")+e.util.matrixToSVG(C)+'" ',this.type==="linear"?b=["<linearGradient ",_,' x1="',p.x1,'" y1="',p.y1,'" x2="',p.x2,'" y2="',p.y2,`">
`]:this.type==="radial"&&(b=["<radialGradient ",_,' cx="',w?p.x1:p.x2,'" cy="',w?p.y1:p.y2,'" r="',w?p.r1:p.r2,'" fx="',w?p.x2:p.x1,'" fy="',w?p.y2:p.y1,`">
`]),this.type==="radial"){if(w)for(S=S.concat(),S.reverse(),g=0,m=S.length;g<m;g++)S[g].offset=1-S[g].offset;var O=Math.min(p.r1,p.r2);if(O>0){var I=Math.max(p.r1,p.r2),$=O/I;for(g=0,m=S.length;g<m;g++)S[g].offset+=$*(1-S[g].offset)}}for(g=0,m=S.length;g<m;g++){var H=S[g];b.push("<stop ",'offset="',H.offset*100+"%",'" style="stop-color:',H.color,typeof H.opacity<"u"?";stop-opacity: "+H.opacity:";",`"/>
`)}return b.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),b.join("")},toLive:function(d){var h,p=e.util.object.clone(this.coords),g,m;if(this.type){for(this.type==="linear"?h=d.createLinearGradient(p.x1,p.y1,p.x2,p.y2):this.type==="radial"&&(h=d.createRadialGradient(p.x1,p.y1,p.r1,p.x2,p.y2,p.r2)),g=0,m=this.colorStops.length;g<m;g++){var v=this.colorStops[g].color,b=this.colorStops[g].opacity,_=this.colorStops[g].offset;typeof b<"u"&&(v=new e.Color(v).setAlpha(b).toRgba()),h.addColorStop(_,v)}return h}}}),e.util.object.extend(e.Gradient,{fromElement:function(d,h,p,g){var m=parseFloat(p)/(/%$/.test(p)?100:1);m=m<0?0:m>1?1:m,isNaN(m)&&(m=1);var v=d.getElementsByTagName("stop"),b,_=d.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",S=d.getAttribute("gradientTransform")||"",w=[],C,x,M=0,E=0,A;for(d.nodeName==="linearGradient"||d.nodeName==="LINEARGRADIENT"?(b="linear",C=o(d)):(b="radial",C=c(d)),x=v.length;x--;)w.push(s(v[x],m));A=e.parseTransformAttribute(S),l(h,C,g,_),_==="pixels"&&(M=-h.left,E=-h.top);var O=new e.Gradient({id:d.getAttribute("id"),type:b,coords:C,colorStops:w,gradientUnits:_,gradientTransform:A,offsetX:M,offsetY:E});return O}});function l(d,h,p,g){var m,v;Object.keys(h).forEach(function(b){m=h[b],m==="Infinity"?v=1:m==="-Infinity"?v=0:(v=parseFloat(h[b],10),typeof m=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(m)&&(v*=.01,g==="pixels"&&((b==="x1"||b==="x2"||b==="r2")&&(v*=p.viewBoxWidth||p.width),(b==="y1"||b==="y2")&&(v*=p.viewBoxHeight||p.height)))),h[b]=v})}}(),function(){var s=e.util.toFixed;e.Pattern=e.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(o,c){if(o||(o={}),this.id=e.Object.__uid++,this.setOptions(o),!o.source||o.source&&typeof o.source!="string"){c&&c(this);return}else{var f=this;this.source=e.util.createImage(),e.util.loadImage(o.source,function(l,d){f.source=l,c&&c(f,d)},null,this.crossOrigin)}},toObject:function(o){var c=e.Object.NUM_FRACTION_DIGITS,f,l;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),l={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:s(this.offsetX,c),offsetY:s(this.offsetY,c),patternTransform:this.patternTransform?this.patternTransform.concat():null},e.util.populateWithProperties(this,l,o),l},toSVG:function(o){var c=typeof this.source=="function"?this.source():this.source,f=c.width/o.width,l=c.height/o.height,d=this.offsetX/o.width,h=this.offsetY/o.height,p="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(l=1,h&&(l+=Math.abs(h))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,d&&(f+=Math.abs(d))),c.src?p=c.src:c.toDataURL&&(p=c.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+d+'" y="'+h+'" width="'+f+'" height="'+l+`">
<image x="0" y="0" width="`+c.width+'" height="'+c.height+'" xlink:href="'+p+`"></image>
</pattern>
`},setOptions:function(o){for(var c in o)this[c]=o[c]},toLive:function(o){var c=this.source;return!c||typeof c.src<"u"&&(!c.complete||c.naturalWidth===0||c.naturalHeight===0)?"":o.createPattern(c,this.repeat)}})}(),function(s){var o=s.fabric||(s.fabric={}),c=o.util.toFixed;if(o.Shadow){o.warn("fabric.Shadow is already defined.");return}o.Shadow=o.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var l in f)this[l]=f[l];this.id=o.Object.__uid++},_parseShadow:function(f){var l=f.trim(),d=o.Shadow.reOffsetsAndBlur.exec(l)||[],h=l.replace(o.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:h.trim(),offsetX:parseFloat(d[1],10)||0,offsetY:parseFloat(d[2],10)||0,blur:parseFloat(d[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var l=40,d=40,h=o.Object.NUM_FRACTION_DIGITS,p=o.util.rotateVector({x:this.offsetX,y:this.offsetY},o.util.degreesToRadians(-f.angle)),g=20,m=new o.Color(this.color);return f.width&&f.height&&(l=c((Math.abs(p.x)+this.blur)/f.width,h)*100+g,d=c((Math.abs(p.y)+this.blur)/f.height,h)*100+g),f.flipX&&(p.x*=-1),f.flipY&&(p.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+d+'%" height="'+(100+2*d)+'%" x="-'+l+'%" width="'+(100+2*l)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,h)+`"></feGaussianBlur>
	<feOffset dx="`+c(p.x,h)+'" dy="'+c(p.y,h)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+m.toRgb()+'" flood-opacity="'+m.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},l=o.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(d){this[d]!==l[d]&&(f[d]=this[d])},this),f}}),o.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(t),function(){if(e.StaticCanvas){e.warn("fabric.StaticCanvas is already defined.");return}var s=e.util.object.extend,o=e.util.getElementOffset,c=e.util.removeFromArray,f=e.util.toFixed,l=e.util.transformPoint,d=e.util.invertTransform,h=e.util.getNodeCanvas,p=e.util.createCanvasElement,g=new Error("Could not initialize `canvas` element");e.StaticCanvas=e.util.createClass(e.CommonMethods,{initialize:function(m,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(m,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:e.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(m,v){var b=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(m),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,b),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,b),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,b),v.overlayColor&&this.setOverlayColor(v.overlayColor,b),this.calcOffset()},_isRetinaScaling:function(){return e.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,e.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var m=e.devicePixelRatio;this.__initRetinaScaling(m,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(m,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(m,v,b){v.setAttribute("width",this.width*m),v.setAttribute("height",this.height*m),b.scale(m,m)},calcOffset:function(){return this._offset=o(this.lowerCanvasEl),this},setOverlayImage:function(m,v,b){return this.__setBgOverlayImage("overlayImage",m,v,b)},setBackgroundImage:function(m,v,b){return this.__setBgOverlayImage("backgroundImage",m,v,b)},setOverlayColor:function(m,v){return this.__setBgOverlayColor("overlayColor",m,v)},setBackgroundColor:function(m,v){return this.__setBgOverlayColor("backgroundColor",m,v)},__setBgOverlayImage:function(m,v,b,_){return typeof v=="string"?e.util.loadImage(v,function(S,w){if(S){var C=new e.Image(S,_);this[m]=C,C.canvas=this}b&&b(S,w)},this,_&&_.crossOrigin):(_&&v.setOptions(_),this[m]=v,v&&(v.canvas=this),b&&b(v,!1)),this},__setBgOverlayColor:function(m,v,b){return this[m]=v,this._initGradient(v,m),this._initPattern(v,m,b),this},_createCanvasElement:function(){var m=p();if(!m||(m.style||(m.style={}),typeof m.getContext>"u"))throw g;return m},_initOptions:function(m){var v=this.lowerCanvasEl;this._setOptions(m),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(m){m&&m.getContext?this.lowerCanvasEl=m:this.lowerCanvasEl=e.util.getById(m)||this._createCanvasElement(),e.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(m,v){return this.setDimensions({width:m},v)},setHeight:function(m,v){return this.setDimensions({height:m},v)},setDimensions:function(m,v){var b;v=v||{};for(var _ in m)b=m[_],v.cssOnly||(this._setBackstoreDimension(_,m[_]),b+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(_,b);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(m,v){return this.lowerCanvasEl[m]=v,this.upperCanvasEl&&(this.upperCanvasEl[m]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[m]=v),this[m]=v,this},_setCssDimension:function(m,v){return this.lowerCanvasEl.style[m]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[m]=v),this.wrapperEl&&(this.wrapperEl.style[m]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(m){var v=this._activeObject,b=this.backgroundImage,_=this.overlayImage,S,w,C;for(this.viewportTransform=m,w=0,C=this._objects.length;w<C;w++)S=this._objects[w],S.group||S.setCoords(!0);return v&&v.setCoords(),b&&b.setCoords(!0),_&&_.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(m,v){var b=m,_=this.viewportTransform.slice(0);m=l(m,d(this.viewportTransform)),_[0]=v,_[3]=v;var S=l(m,_);return _[4]+=b.x-S.x,_[5]+=b.y-S.y,this.setViewportTransform(_)},setZoom:function(m){return this.zoomToPoint(new e.Point(0,0),m),this},absolutePan:function(m){var v=this.viewportTransform.slice(0);return v[4]=-m.x,v[5]=-m.y,this.setViewportTransform(v)},relativePan:function(m){return this.absolutePan(new e.Point(-m.x-this.viewportTransform[4],-m.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(m){this.stateful&&m.setupState(),m._set("canvas",this),m.setCoords(),this.fire("object:added",{target:m}),m.fire("added")},_onObjectRemoved:function(m){this.fire("object:removed",{target:m}),m.fire("removed"),delete m.canvas},clearContext:function(m){return m.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var m=this.contextContainer;return this.renderCanvas(m,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=e.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var m={},v=this.width,b=this.height,_=d(this.viewportTransform);return m.tl=l({x:0,y:0},_),m.br=l({x:v,y:b},_),m.tr=new e.Point(m.br.x,m.tl.y),m.bl=new e.Point(m.tl.x,m.br.y),this.vptCoords=m,m},cancelRequestedRender:function(){this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(m,v){var b=this.viewportTransform,_=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(m),e.util.setImageSmoothing(m,this.imageSmoothingEnabled),this.fire("before:render",{ctx:m}),this._renderBackground(m),m.save(),m.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._renderObjects(m,v),m.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(m),_&&(_.canvas=this,_.shouldCache(),_._transformDone=!0,_.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(m)),this._renderOverlay(m),this.controlsAboveOverlay&&this.interactive&&this.drawControls(m),this.fire("after:render",{ctx:m})},drawClipPathOnCanvas:function(m){var v=this.viewportTransform,b=this.clipPath;m.save(),m.transform(v[0],v[1],v[2],v[3],v[4],v[5]),m.globalCompositeOperation="destination-in",b.transform(m),m.scale(1/b.zoomX,1/b.zoomY),m.drawImage(b._cacheCanvas,-b.cacheTranslationX,-b.cacheTranslationY),m.restore()},_renderObjects:function(m,v){var b,_;for(b=0,_=v.length;b<_;++b)v[b]&&v[b].render(m)},_renderBackgroundOrOverlay:function(m,v){var b=this[v+"Color"],_=this[v+"Image"],S=this.viewportTransform,w=this[v+"Vpt"];if(!(!b&&!_)){if(b){m.save(),m.beginPath(),m.moveTo(0,0),m.lineTo(this.width,0),m.lineTo(this.width,this.height),m.lineTo(0,this.height),m.closePath(),m.fillStyle=b.toLive?b.toLive(m,this):b,w&&m.transform(S[0],S[1],S[2],S[3],S[4],S[5]),m.transform(1,0,0,1,b.offsetX||0,b.offsetY||0);var C=b.gradientTransform||b.patternTransform;C&&m.transform(C[0],C[1],C[2],C[3],C[4],C[5]),m.fill(),m.restore()}_&&(m.save(),w&&m.transform(S[0],S[1],S[2],S[3],S[4],S[5]),_.render(m),m.restore())}},_renderBackground:function(m){this._renderBackgroundOrOverlay(m,"background")},_renderOverlay:function(m){this._renderBackgroundOrOverlay(m,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new e.Point(this.width/2,this.height/2)},centerObjectH:function(m){return this._centerObject(m,new e.Point(this.getCenterPoint().x,m.getCenterPoint().y))},centerObjectV:function(m){return this._centerObject(m,new e.Point(m.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(m){var v=this.getCenterPoint();return this._centerObject(m,v)},viewportCenterObject:function(m){var v=this.getVpCenter();return this._centerObject(m,v)},viewportCenterObjectH:function(m){var v=this.getVpCenter();return this._centerObject(m,new e.Point(v.x,m.getCenterPoint().y)),this},viewportCenterObjectV:function(m){var v=this.getVpCenter();return this._centerObject(m,new e.Point(m.getCenterPoint().x,v.y))},getVpCenter:function(){var m=this.getCenterPoint(),v=d(this.viewportTransform);return l(m,v)},_centerObject:function(m,v){return m.setPositionByOrigin(v,"center","center"),m.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(m){return this.toDatalessObject(m)},toObject:function(m){return this._toObjectMethod("toObject",m)},toDatalessObject:function(m){return this._toObjectMethod("toDatalessObject",m)},_toObjectMethod:function(m,v){var b=this.clipPath,_={version:e.version,objects:this._toObjects(m,v)};return b&&!b.excludeFromExport&&(_.clipPath=this._toObject(this.clipPath,m,v)),s(_,this.__serializeBgOverlay(m,v)),e.util.populateWithProperties(this,_,v),_},_toObjects:function(m,v){return this._objects.filter(function(b){return!b.excludeFromExport}).map(function(b){return this._toObject(b,m,v)},this)},_toObject:function(m,v,b){var _;this.includeDefaultValues||(_=m.includeDefaultValues,m.includeDefaultValues=!1);var S=m[v](b);return this.includeDefaultValues||(m.includeDefaultValues=_),S},__serializeBgOverlay:function(m,v){var b={},_=this.backgroundImage,S=this.overlayImage,w=this.backgroundColor,C=this.overlayColor;return w&&w.toObject?w.excludeFromExport||(b.background=w.toObject(v)):w&&(b.background=w),C&&C.toObject?C.excludeFromExport||(b.overlay=C.toObject(v)):C&&(b.overlay=C),_&&!_.excludeFromExport&&(b.backgroundImage=this._toObject(_,m,v)),S&&!S.excludeFromExport&&(b.overlayImage=this._toObject(S,m,v)),b},svgViewportTransformation:!0,toSVG:function(m,v){m||(m={}),m.reviver=v;var b=[];return this._setSVGPreamble(b,m),this._setSVGHeader(b,m),this.clipPath&&b.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(b,"background"),this._setSVGBgOverlayImage(b,"backgroundImage",v),this._setSVGObjects(b,v),this.clipPath&&b.push(`</g>
`),this._setSVGBgOverlayColor(b,"overlay"),this._setSVGBgOverlayImage(b,"overlayImage",v),b.push("</svg>"),b.join("")},_setSVGPreamble:function(m,v){v.suppressPreamble||m.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(m,v){var b=v.width||this.width,_=v.height||this.height,S,w='viewBox="0 0 '+this.width+" "+this.height+'" ',C=e.Object.NUM_FRACTION_DIGITS;v.viewBox?w='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(S=this.viewportTransform,w='viewBox="'+f(-S[4]/S[0],C)+" "+f(-S[5]/S[3],C)+" "+f(this.width/S[0],C)+" "+f(this.height/S[3],C)+'" '),m.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',b,'" ','height="',_,'" ',w,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",e.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(m){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+e.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(m.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var m=this,v=["background","overlay"].map(function(b){var _=m[b+"Color"];if(_&&_.toLive){var S=m[b+"Vpt"],w=m.viewportTransform,C={width:m.width/(S?w[0]:1),height:m.height/(S?w[3]:1)};return _.toSVG(C,{additionalTransform:S?e.util.matrixToSVG(w):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var m="",v={},b,_,S,w,C,x,M,E,A,O=e.fontPaths,I=[];for(this._objects.forEach(function H(B){I.push(B),B._objects&&B._objects.forEach(H)}),E=0,A=I.length;E<A;E++)if(b=I[E],_=b.fontFamily,!(b.type.indexOf("text")===-1||v[_]||!O[_])&&(v[_]=!0,!!b.styles)){S=b.styles;for(C in S){w=S[C];for(M in w)x=w[M],_=x.fontFamily,!v[_]&&O[_]&&(v[_]=!0)}}for(var $ in v)m+=[`		@font-face {
`,"			font-family: '",$,`';
`,"			src: url('",O[$],`');
`,`		}
`].join("");return m&&(m=['	<style type="text/css">',`<![CDATA[
`,m,"]]>",`</style>
`].join("")),m},_setSVGObjects:function(m,v){var b,_,S,w=this._objects;for(_=0,S=w.length;_<S;_++)b=w[_],!b.excludeFromExport&&this._setSVGObject(m,b,v)},_setSVGObject:function(m,v,b){m.push(v.toSVG(b))},_setSVGBgOverlayImage:function(m,v,b){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&m.push(this[v].toSVG(b))},_setSVGBgOverlayColor:function(m,v){var b=this[v+"Color"],_=this.viewportTransform,S=this.width,w=this.height;if(b)if(b.toLive){var C=b.repeat,x=e.util.invertTransform(_),M=this[v+"Vpt"],E=M?e.util.matrixToSVG(x):"";m.push('<rect transform="'+E+" translate(",S/2,",",w/2,')"',' x="',b.offsetX-S/2,'" y="',b.offsetY-w/2,'" ','width="',C==="repeat-y"||C==="no-repeat"?b.source.width:S,'" height="',C==="repeat-x"||C==="no-repeat"?b.source.height:w,'" fill="url(#SVGID_'+b.id+')"',`></rect>
`)}else m.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',b,'"',`></rect>
`)},sendToBack:function(m){if(!m)return this;var v=this._activeObject,b,_,S;if(m===v&&m.type==="activeSelection")for(S=v._objects,b=S.length;b--;)_=S[b],c(this._objects,_),this._objects.unshift(_);else c(this._objects,m),this._objects.unshift(m);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(m){if(!m)return this;var v=this._activeObject,b,_,S;if(m===v&&m.type==="activeSelection")for(S=v._objects,b=0;b<S.length;b++)_=S[b],c(this._objects,_),this._objects.push(_);else c(this._objects,m),this._objects.push(m);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(m,v){if(!m)return this;var b=this._activeObject,_,S,w,C,x,M=0;if(m===b&&m.type==="activeSelection")for(x=b._objects,_=0;_<x.length;_++)S=x[_],w=this._objects.indexOf(S),w>0+M&&(C=w-1,c(this._objects,S),this._objects.splice(C,0,S)),M++;else w=this._objects.indexOf(m),w!==0&&(C=this._findNewLowerIndex(m,w,v),c(this._objects,m),this._objects.splice(C,0,m));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(m,v,b){var _,S;if(b)for(_=v,S=v-1;S>=0;--S){var w=m.intersectsWithObject(this._objects[S])||m.isContainedWithinObject(this._objects[S])||this._objects[S].isContainedWithinObject(m);if(w){_=S;break}}else _=v-1;return _},bringForward:function(m,v){if(!m)return this;var b=this._activeObject,_,S,w,C,x,M=0;if(m===b&&m.type==="activeSelection")for(x=b._objects,_=x.length;_--;)S=x[_],w=this._objects.indexOf(S),w<this._objects.length-1-M&&(C=w+1,c(this._objects,S),this._objects.splice(C,0,S)),M++;else w=this._objects.indexOf(m),w!==this._objects.length-1&&(C=this._findNewUpperIndex(m,w,v),c(this._objects,m),this._objects.splice(C,0,m));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(m,v,b){var _,S,w;if(b)for(_=v,S=v+1,w=this._objects.length;S<w;++S){var C=m.intersectsWithObject(this._objects[S])||m.isContainedWithinObject(this._objects[S])||this._objects[S].isContainedWithinObject(m);if(C){_=S;break}}else _=v+1;return _},moveTo:function(m,v){return c(this._objects,m),this._objects.splice(v,0,m),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(e.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(m){m.dispose&&m.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),e.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),e.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),s(e.StaticCanvas.prototype,e.Observable),s(e.StaticCanvas.prototype,e.Collection),s(e.StaticCanvas.prototype,e.DataURLExporter),s(e.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(m){var v=p();if(!v||!v.getContext)return null;var b=v.getContext("2d");if(!b)return null;switch(m){case"setLineDash":return typeof b.setLineDash<"u";default:return null}}}),e.StaticCanvas.prototype.toJSON=e.StaticCanvas.prototype.toObject,e.isLikelyNode&&(e.StaticCanvas.prototype.createPNGStream=function(){var m=h(this.lowerCanvasEl);return m&&m.createPNGStream()},e.StaticCanvas.prototype.createJPEGStream=function(m){var v=h(this.lowerCanvasEl);return v&&v.createJPEGStream(m)})}(),e.BaseBrush=e.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(s){s.strokeStyle=this.color,s.lineWidth=this.width,s.lineCap=this.strokeLineCap,s.miterLimit=this.strokeMiterLimit,s.lineJoin=this.strokeLineJoin,s.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(s){var o=this.canvas.viewportTransform;s.save(),s.transform(o[0],o[1],o[2],o[3],o[4],o[5])},_setShadow:function(){if(this.shadow){var s=this.canvas,o=this.shadow,c=s.contextTop,f=s.getZoom();s&&s._isRetinaScaling()&&(f*=e.devicePixelRatio),c.shadowColor=o.color,c.shadowBlur=o.blur*f,c.shadowOffsetX=o.offsetX*f,c.shadowOffsetY=o.offsetY*f}},needsFullRender:function(){var s=new e.Color(this.color);return s.getAlpha()<1||!!this.shadow},_resetShadow:function(){var s=this.canvas.contextTop;s.shadowColor="",s.shadowBlur=s.shadowOffsetX=s.shadowOffsetY=0},_isOutSideCanvas:function(s){return s.x<0||s.x>this.canvas.getWidth()||s.y<0||s.y>this.canvas.getHeight()}}),function(){e.PencilBrush=e.util.createClass(e.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(s){this.canvas=s,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(s,o,c){var f=o.midPointFrom(c);return s.quadraticCurveTo(o.x,o.y,f.x,f.y),f},onMouseDown:function(s,o){this.canvas._isMainEvent(o.e)&&(this.drawStraightLine=o.e[this.straightLineKey],this._prepareForDrawing(s),this._captureDrawingPath(s),this._render())},onMouseMove:function(s,o){if(this.canvas._isMainEvent(o.e)&&(this.drawStraightLine=o.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(s))&&this._captureDrawingPath(s)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var c=this._points,f=c.length,l=this.canvas.contextTop;this._saveAndTransform(l),this.oldEnd&&(l.beginPath(),l.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(l,c[f-2],c[f-1],!0),l.stroke(),l.restore()}},onMouseUp:function(s){return this.canvas._isMainEvent(s.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(s){var o=new e.Point(s.x,s.y);this._reset(),this._addPoint(o),this.canvas.contextTop.moveTo(o.x,o.y)},_addPoint:function(s){return this._points.length>1&&s.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(s),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(s){var o=new e.Point(s.x,s.y);return this._addPoint(o)},_render:function(s){var o,c,f=this._points[0],l=this._points[1];if(s=s||this.canvas.contextTop,this._saveAndTransform(s),s.beginPath(),this._points.length===2&&f.x===l.x&&f.y===l.y){var d=this.width/1e3;f=new e.Point(f.x,f.y),l=new e.Point(l.x,l.y),f.x-=d,l.x+=d}for(s.moveTo(f.x,f.y),o=1,c=this._points.length;o<c;o++)this._drawSegment(s,f,l),f=this._points[o],l=this._points[o+1];s.lineTo(f.x,f.y),s.stroke(),s.restore()},convertPointsToSVGPath:function(s){var o=this.width/1e3;return e.util.getSmoothPathFromPoints(s,o)},_isEmptySVGPath:function(s){var o=e.util.joinPath(s);return o==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(s){var o=new e.Path(s,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,o.shadow=new e.Shadow(this.shadow)),o},decimatePoints:function(s,o){if(s.length<=2)return s;var c=this.canvas.getZoom(),f=Math.pow(o/c,2),l,d=s.length-1,h=s[0],p=[h],g;for(l=1;l<d-1;l++)g=Math.pow(h.x-s[l].x,2)+Math.pow(h.y-s[l].y,2),g>=f&&(h=s[l],p.push(h));return p.push(s[d]),p},_finalizeAndAddPath:function(){var s=this.canvas.contextTop;s.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var o=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(o)){this.canvas.requestRenderAll();return}var c=this.createPath(o);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.requestRenderAll(),c.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:c})}})}(),e.CircleBrush=e.util.createClass(e.BaseBrush,{width:10,initialize:function(s){this.canvas=s,this.points=[]},drawDot:function(s){var o=this.addPoint(s),c=this.canvas.contextTop;this._saveAndTransform(c),this.dot(c,o),c.restore()},dot:function(s,o){s.fillStyle=o.fill,s.beginPath(),s.arc(o.x,o.y,o.radius,0,Math.PI*2,!1),s.closePath(),s.fill()},onMouseDown:function(s){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(s)},_render:function(){var s=this.canvas.contextTop,o,c,f=this.points;for(this._saveAndTransform(s),o=0,c=f.length;o<c;o++)this.dot(s,f[o]);s.restore()},onMouseMove:function(s){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(s)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(s),this._render()):this.drawDot(s))},onMouseUp:function(){var s=this.canvas.renderOnAddRemove,o,c;this.canvas.renderOnAddRemove=!1;var f=[];for(o=0,c=this.points.length;o<c;o++){var l=this.points[o],d=new e.Circle({radius:l.radius,left:l.x,top:l.y,originX:"center",originY:"center",fill:l.fill});this.shadow&&(d.shadow=new e.Shadow(this.shadow)),f.push(d)}var h=new e.Group(f);h.canvas=this.canvas,this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.fire("path:created",{path:h}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=s,this.canvas.requestRenderAll()},addPoint:function(s){var o=new e.Point(s.x,s.y),c=e.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new e.Color(this.color).setAlpha(e.util.getRandomInt(0,100)/100).toRgba();return o.radius=c,o.fill=f,this.points.push(o),o}}),e.SprayBrush=e.util.createClass(e.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(s){this.canvas=s,this.sprayChunks=[]},onMouseDown:function(s){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(s),this.render(this.sprayChunkPoints)},onMouseMove:function(s){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(s)||(this.addSprayChunk(s),this.render(this.sprayChunkPoints))},onMouseUp:function(){var s=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var o=[],c=0,f=this.sprayChunks.length;c<f;c++)for(var l=this.sprayChunks[c],d=0,h=l.length;d<h;d++){var p=new e.Rect({width:l[d].width,height:l[d].width,left:l[d].x+1,top:l[d].y+1,originX:"center",originY:"center",fill:this.color});o.push(p)}this.optimizeOverlapping&&(o=this._getOptimizedRects(o));var g=new e.Group(o);this.shadow&&g.set("shadow",new e.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:g}),this.canvas.add(g),this.canvas.fire("path:created",{path:g}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=s,this.canvas.requestRenderAll()},_getOptimizedRects:function(s){var o={},c,f,l;for(f=0,l=s.length;f<l;f++)c=s[f].left+""+s[f].top,o[c]||(o[c]=s[f]);var d=[];for(c in o)d.push(o[c]);return d},render:function(s){var o=this.canvas.contextTop,c,f;for(o.fillStyle=this.color,this._saveAndTransform(o),c=0,f=s.length;c<f;c++){var l=s[c];typeof l.opacity<"u"&&(o.globalAlpha=l.opacity),o.fillRect(l.x,l.y,l.width,l.width)}o.restore()},_render:function(){var s=this.canvas.contextTop,o,c;for(s.fillStyle=this.color,this._saveAndTransform(s),o=0,c=this.sprayChunks.length;o<c;o++)this.render(this.sprayChunks[o]);s.restore()},addSprayChunk:function(s){this.sprayChunkPoints=[];var o,c,f,l=this.width/2,d;for(d=0;d<this.density;d++){o=e.util.getRandomInt(s.x-l,s.x+l),c=e.util.getRandomInt(s.y-l,s.y+l),this.dotWidthVariance?f=e.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var h=new e.Point(o,c);h.width=f,this.randomOpacity&&(h.opacity=e.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(h)}this.sprayChunks.push(this.sprayChunkPoints)}}),e.PatternBrush=e.util.createClass(e.PencilBrush,{getPatternSrc:function(){var s=20,o=5,c=e.util.createCanvasElement(),f=c.getContext("2d");return c.width=c.height=s+o,f.fillStyle=this.color,f.beginPath(),f.arc(s/2,s/2,s/2,0,Math.PI*2,!1),f.closePath(),f.fill(),c},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(s){return s.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(s){this.callSuper("_setBrushStyles",s),s.strokeStyle=this.getPattern(s)},createPath:function(s){var o=this.callSuper("createPath",s),c=o._getLeftTopCoords().scalarAdd(o.strokeWidth/2);return o.stroke=new e.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y}),o}}),function(){var s=e.util.getPointer,o=e.util.degreesToRadians,c=e.util.isTouchEvent;e.Canvas=e.util.createClass(e.StaticCanvas,{initialize:function(l,d){d||(d={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,d),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=e.PencilBrush&&new e.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var l=this.getActiveObjects(),d,h,p;if(l.length>0&&!this.preserveObjectStacking){h=[],p=[];for(var g=0,m=this._objects.length;g<m;g++)d=this._objects[g],l.indexOf(d)===-1?h.push(d):p.push(d);l.length>1&&(this._activeObject._objects=p),h.push.apply(h,p)}else h=this._objects;return h},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var l=this.contextContainer;return this.renderCanvas(l,this._chooseObjectsToRender()),this},renderTopLayer:function(l){l.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(l),this.contextTopDirty=!0),l.restore()},renderTop:function(){var l=this.contextTop;return this.clearContext(l),this.renderTopLayer(l),this.fire("after:render"),this},_normalizePointer:function(l,d){var h=l.calcTransformMatrix(),p=e.util.invertTransform(h),g=this.restorePointerVpt(d);return e.util.transformPoint(g,p)},isTargetTransparent:function(l,d,h){if(l.shouldCache()&&l._cacheCanvas&&l!==this._activeObject){var p=this._normalizePointer(l,{x:d,y:h}),g=Math.max(l.cacheTranslationX+p.x*l.zoomX,0),m=Math.max(l.cacheTranslationY+p.y*l.zoomY,0),S=e.util.isTransparent(l._cacheContext,Math.round(g),Math.round(m),this.targetFindTolerance);return S}var v=this.contextCache,b=l.selectionBackgroundColor,_=this.viewportTransform;l.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(_[0],_[1],_[2],_[3],_[4],_[5]),l.render(v),v.restore(),l.selectionBackgroundColor=b;var S=e.util.isTransparent(v,d,h,this.targetFindTolerance);return S},_isSelectionKeyPressed:function(l){var d=!1;return Array.isArray(this.selectionKey)?d=!!this.selectionKey.find(function(h){return l[h]===!0}):d=l[this.selectionKey],d},_shouldClearSelection:function(l,d){var h=this.getActiveObjects(),p=this._activeObject;return!d||d&&p&&h.length>1&&h.indexOf(d)===-1&&p!==d&&!this._isSelectionKeyPressed(l)||d&&!d.evented||d&&!d.selectable&&p&&p!==d},_shouldCenterTransform:function(l,d,h){if(l){var p;return d==="scale"||d==="scaleX"||d==="scaleY"||d==="resizing"?p=this.centeredScaling||l.centeredScaling:d==="rotate"&&(p=this.centeredRotation||l.centeredRotation),p?!h:h}},_getOriginFromCorner:function(l,d){var h={x:l.originX,y:l.originY};return d==="ml"||d==="tl"||d==="bl"?h.x="right":(d==="mr"||d==="tr"||d==="br")&&(h.x="left"),d==="tl"||d==="mt"||d==="tr"?h.y="bottom":(d==="bl"||d==="mb"||d==="br")&&(h.y="top"),h},_getActionFromCorner:function(l,d,h,p){if(!d||!l)return"drag";var g=p.controls[d];return g.getActionName(h,g,p)},_setupCurrentTransform:function(l,d,h){if(d){var p=this.getPointer(l),g=d.__corner,m=d.controls[g],v=h&&g?m.getActionHandler(l,d,m):e.controlsUtils.dragHandler,b=this._getActionFromCorner(h,g,l,d),_=this._getOriginFromCorner(d,g),S=l[this.centeredKey],w={target:d,action:b,actionHandler:v,corner:g,scaleX:d.scaleX,scaleY:d.scaleY,skewX:d.skewX,skewY:d.skewY,offsetX:p.x-d.left,offsetY:p.y-d.top,originX:_.x,originY:_.y,ex:p.x,ey:p.y,lastX:p.x,lastY:p.y,theta:o(d.angle),width:d.width*d.scaleX,shiftKey:l.shiftKey,altKey:S,original:e.util.saveObjectTransform(d)};this._shouldCenterTransform(d,b,S)&&(w.originX="center",w.originY="center"),w.original.originX=_.x,w.original.originY=_.y,this._currentTransform=w,this._beforeTransform(l)}},setCursor:function(l){this.upperCanvasEl.style.cursor=l},_drawSelection:function(l){var d=this._groupSelector,h=new e.Point(d.ex,d.ey),p=e.util.transformPoint(h,this.viewportTransform),g=new e.Point(d.ex+d.left,d.ey+d.top),m=e.util.transformPoint(g,this.viewportTransform),v=Math.min(p.x,m.x),b=Math.min(p.y,m.y),_=Math.max(p.x,m.x),S=Math.max(p.y,m.y),w=this.selectionLineWidth/2;this.selectionColor&&(l.fillStyle=this.selectionColor,l.fillRect(v,b,_-v,S-b)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(l.lineWidth=this.selectionLineWidth,l.strokeStyle=this.selectionBorderColor,v+=w,b+=w,_-=w,S-=w,e.Object.prototype._setLineDash.call(this,l,this.selectionDashArray),l.strokeRect(v,b,_-v,S-b))},findTarget:function(l,d){if(!this.skipTargetFind){var h=!0,p=this.getPointer(l,h),g=this._activeObject,m=this.getActiveObjects(),v,b,_=c(l),S=m.length>1&&!d||m.length===1;if(this.targets=[],S&&g._findTargetCorner(p,_)||m.length>1&&!d&&g===this._searchPossibleTargets([g],p))return g;if(m.length===1&&g===this._searchPossibleTargets([g],p))if(this.preserveObjectStacking)v=g,b=this.targets,this.targets=[];else return g;var w=this._searchPossibleTargets(this._objects,p);return l[this.altSelectionKey]&&w&&v&&w!==v&&(w=v,this.targets=b),w}},_checkTarget:function(l,d,h){if(d&&d.visible&&d.evented&&d.containsPoint(l))if((this.perPixelTargetFind||d.perPixelTargetFind)&&!d.isEditing){var p=this.isTargetTransparent(d,h.x,h.y);if(!p)return!0}else return!0},_searchPossibleTargets:function(l,d){for(var h,p=l.length,g;p--;){var m=l[p],v=m.group?this._normalizePointer(m.group,d):d;if(this._checkTarget(v,m,d)){h=l[p],h.subTargetCheck&&h instanceof e.Group&&(g=this._searchPossibleTargets(h._objects,d),g&&this.targets.push(g));break}}return h},restorePointerVpt:function(l){return e.util.transformPoint(l,e.util.invertTransform(this.viewportTransform))},getPointer:function(l,d){if(this._absolutePointer&&!d)return this._absolutePointer;if(this._pointer&&d)return this._pointer;var h=s(l),p=this.upperCanvasEl,g=p.getBoundingClientRect(),m=g.width||0,v=g.height||0,b;(!m||!v)&&("top"in g&&"bottom"in g&&(v=Math.abs(g.top-g.bottom)),"right"in g&&"left"in g&&(m=Math.abs(g.right-g.left))),this.calcOffset(),h.x=h.x-this._offset.left,h.y=h.y-this._offset.top,d||(h=this.restorePointerVpt(h));var _=this.getRetinaScaling();return _!==1&&(h.x/=_,h.y/=_),m===0||v===0?b={width:1,height:1}:b={width:p.width/m,height:p.height/v},{x:h.x*b.width,y:h.y*b.height}},_createUpperCanvas:function(){var l=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),d=this.lowerCanvasEl,h=this.upperCanvasEl;h?h.className="":(h=this._createCanvasElement(),this.upperCanvasEl=h),e.util.addClass(h,"upper-canvas "+l),this.wrapperEl.appendChild(h),this._copyCanvasStyle(d,h),this._applyCanvasStyle(h),this.contextTop=h.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=e.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),e.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),e.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(l){var d=this.width||l.width,h=this.height||l.height;e.util.setStyle(l,{position:"absolute",width:d+"px",height:h+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),l.width=d,l.height=h,e.util.makeElementUnselectable(l)},_copyCanvasStyle:function(l,d){d.style.cssText=l.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var l=this._activeObject;return l?l.type==="activeSelection"&&l._objects?l._objects.slice(0):[l]:[]},_onObjectRemoved:function(l){l===this._activeObject&&(this.fire("before:selection:cleared",{target:l}),this._discardActiveObject(),this.fire("selection:cleared",{target:l}),l.fire("deselected")),l===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",l)},_fireSelectionEvents:function(l,d){var h=!1,p=this.getActiveObjects(),g=[],m=[];l.forEach(function(v){p.indexOf(v)===-1&&(h=!0,v.fire("deselected",{e:d,target:v}),m.push(v))}),p.forEach(function(v){l.indexOf(v)===-1&&(h=!0,v.fire("selected",{e:d,target:v}),g.push(v))}),l.length>0&&p.length>0?h&&this.fire("selection:updated",{e:d,selected:g,deselected:m}):p.length>0?this.fire("selection:created",{e:d,selected:g}):l.length>0&&this.fire("selection:cleared",{e:d,deselected:m})},setActiveObject:function(l,d){var h=this.getActiveObjects();return this._setActiveObject(l,d),this._fireSelectionEvents(h,d),this},_setActiveObject:function(l,d){return this._activeObject===l||!this._discardActiveObject(d,l)||l.onSelect({e:d})?!1:(this._activeObject=l,!0)},_discardActiveObject:function(l,d){var h=this._activeObject;if(h){if(h.onDeselect({e:l,object:d}))return!1;this._activeObject=null}return!0},discardActiveObject:function(l){var d=this.getActiveObjects(),h=this.getActiveObject();return d.length&&this.fire("before:selection:cleared",{target:h,e:l}),this._discardActiveObject(l),this._fireSelectionEvents(d,l),this},dispose:function(){var l=this.wrapperEl;return this.removeListeners(),l.removeChild(this.upperCanvasEl),l.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(d){e.util.cleanUpJsdomNode(this[d]),this[d]=void 0}).bind(this)),l.parentNode&&l.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,e.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(l){var d=this._activeObject;d&&d._renderControls(l)},_toObject:function(l,d,h){var p=this._realizeGroupTransformOnObject(l),g=this.callSuper("_toObject",l,d,h);return this._unwindGroupTransformOnObject(l,p),g},_realizeGroupTransformOnObject:function(l){if(l.group&&l.group.type==="activeSelection"&&this._activeObject===l.group){var d=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],h={};return d.forEach(function(p){h[p]=l[p]}),e.util.addTransformToObject(l,this._activeObject.calcOwnMatrix()),h}else return null},_unwindGroupTransformOnObject:function(l,d){d&&l.set(d)},_setSVGObject:function(l,d,h){var p=this._realizeGroupTransformOnObject(d);this.callSuper("_setSVGObject",l,d,h),this._unwindGroupTransformOnObject(d,p)},setViewportTransform:function(l){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),e.StaticCanvas.prototype.setViewportTransform.call(this,l)}});for(var f in e.StaticCanvas)f!=="prototype"&&(e.Canvas[f]=e.StaticCanvas[f])}(),function(){var s=e.util.addListener,o=e.util.removeListener,c=3,f=2,l=1,d={passive:!1};function h(p,g){return p.button&&p.button===g-1}e.util.object.extend(e.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(s,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(p,g){var m=this.upperCanvasEl,v=this._getEventPrefix();p(e.window,"resize",this._onResize),p(m,v+"down",this._onMouseDown),p(m,v+"move",this._onMouseMove,d),p(m,v+"out",this._onMouseOut),p(m,v+"enter",this._onMouseEnter),p(m,"wheel",this._onMouseWheel),p(m,"contextmenu",this._onContextMenu),p(m,"dblclick",this._onDoubleClick),p(m,"dragover",this._onDragOver),p(m,"dragenter",this._onDragEnter),p(m,"dragleave",this._onDragLeave),p(m,"drop",this._onDrop),this.enablePointerEvents||p(m,"touchstart",this._onTouchStart,d),typeof eventjs<"u"&&g in eventjs&&(eventjs[g](m,"gesture",this._onGesture),eventjs[g](m,"drag",this._onDrag),eventjs[g](m,"orientation",this._onOrientationChange),eventjs[g](m,"shake",this._onShake),eventjs[g](m,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(o,"remove");var p=this._getEventPrefix();o(e.document,p+"up",this._onMouseUp),o(e.document,"touchend",this._onTouchEnd,d),o(e.document,p+"move",this._onMouseMove,d),o(e.document,"touchmove",this._onMouseMove,d)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(p,g){this.__onTransformGesture&&this.__onTransformGesture(p,g)},_onDrag:function(p,g){this.__onDrag&&this.__onDrag(p,g)},_onMouseWheel:function(p){this.__onMouseWheel(p)},_onMouseOut:function(p){var g=this._hoveredTarget;this.fire("mouse:out",{target:g,e:p}),this._hoveredTarget=null,g&&g.fire("mouseout",{e:p});var m=this;this._hoveredTargets.forEach(function(v){m.fire("mouse:out",{target:g,e:p}),v&&g.fire("mouseout",{e:p})}),this._hoveredTargets=[]},_onMouseEnter:function(p){!this._currentTransform&&!this.findTarget(p)&&(this.fire("mouse:over",{target:null,e:p}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(p,g){this.__onOrientationChange&&this.__onOrientationChange(p,g)},_onShake:function(p,g){this.__onShake&&this.__onShake(p,g)},_onLongPress:function(p,g){this.__onLongPress&&this.__onLongPress(p,g)},_onDragOver:function(p){p.preventDefault();var g=this._simpleEventHandler("dragover",p);this._fireEnterLeaveEvents(g,p)},_onDrop:function(p){return this._simpleEventHandler("drop:before",p),this._simpleEventHandler("drop",p)},_onContextMenu:function(p){return this.stopContextMenu&&(p.stopPropagation(),p.preventDefault()),!1},_onDoubleClick:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"dblclick"),this._resetTransformEventData(p)},getPointerId:function(p){var g=p.changedTouches;return g?g[0]&&g[0].identifier:this.enablePointerEvents?p.pointerId:-1},_isMainEvent:function(p){return p.isPrimary===!0?!0:p.isPrimary===!1?!1:p.type==="touchend"&&p.touches.length===0?!0:p.changedTouches?p.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(p){p.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(p)),this.__onMouseDown(p),this._resetTransformEventData();var g=this.upperCanvasEl,m=this._getEventPrefix();s(e.document,"touchend",this._onTouchEnd,d),s(e.document,"touchmove",this._onMouseMove,d),o(g,m+"down",this._onMouseDown)},_onMouseDown:function(p){this.__onMouseDown(p),this._resetTransformEventData();var g=this.upperCanvasEl,m=this._getEventPrefix();o(g,m+"move",this._onMouseMove,d),s(e.document,m+"up",this._onMouseUp),s(e.document,m+"move",this._onMouseMove,d)},_onTouchEnd:function(p){if(!(p.touches.length>0)){this.__onMouseUp(p),this._resetTransformEventData(),this.mainTouchId=null;var g=this._getEventPrefix();o(e.document,"touchend",this._onTouchEnd,d),o(e.document,"touchmove",this._onMouseMove,d);var m=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){s(m.upperCanvasEl,g+"down",m._onMouseDown),m._willAddMouseDown=0},400)}},_onMouseUp:function(p){this.__onMouseUp(p),this._resetTransformEventData();var g=this.upperCanvasEl,m=this._getEventPrefix();this._isMainEvent(p)&&(o(e.document,m+"up",this._onMouseUp),o(e.document,m+"move",this._onMouseMove,d),s(g,m+"move",this._onMouseMove,d))},_onMouseMove:function(p){!this.allowTouchScrolling&&p.preventDefault&&p.preventDefault(),this.__onMouseMove(p)},_onResize:function(){this.calcOffset()},_shouldRender:function(p){var g=this._activeObject;return!!g!=!!p||g&&p&&g!==p?!0:(g&&g.isEditing,!1)},__onMouseUp:function(p){var g,m=this._currentTransform,v=this._groupSelector,b=!1,_=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(p),g=this._target,this._handleEvent(p,"up:before"),h(p,c)){this.fireRightClick&&this._handleEvent(p,"up",c,_);return}if(h(p,f)){this.fireMiddleClick&&this._handleEvent(p,"up",f,_),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(p);return}if(this._isMainEvent(p)){if(m&&(this._finalizeCurrentTransform(p),b=m.actionPerformed),!_){var S=g===this._activeObject;this._maybeGroupObjects(p),b||(b=this._shouldRender(g)||!S&&g===this._activeObject)}var w,C;if(g){if(w=g._findTargetCorner(this.getPointer(p,!0),e.util.isTouchEvent(p)),g.selectable&&g!==this._activeObject&&g.activeOn==="up")this.setActiveObject(g,p),b=!0;else{var x=g.controls[w],M=x&&x.getMouseUpHandler(p,g,x);M&&(C=this.getPointer(p),M(p,m,C.x,C.y))}g.isMoving=!1}if(m&&(m.target!==g||m.corner!==w)){var E=m.target&&m.target.controls[m.corner],A=E&&E.getMouseUpHandler(p,g,x);C=C||this.getPointer(p),A&&A(p,m,C.x,C.y)}this._setCursorFromEvent(p,g),this._handleEvent(p,"up",l,_),this._groupSelector=null,this._currentTransform=null,g&&(g.__corner=0),b?this.requestRenderAll():_||this.renderTop()}},_simpleEventHandler:function(p,g){var m=this.findTarget(g),v=this.targets,b={e:g,target:m,subTargets:v};if(this.fire(p,b),m&&m.fire(p,b),!v)return m;for(var _=0;_<v.length;_++)v[_].fire(p,b);return m},_handleEvent:function(p,g,m,v){var b=this._target,_=this.targets||[],S={e:p,target:b,subTargets:_,button:m||l,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};g==="up"&&(S.currentTarget=this.findTarget(p),S.currentSubTargets=this.targets),this.fire("mouse:"+g,S),b&&b.fire("mouse"+g,S);for(var w=0;w<_.length;w++)_[w].fire("mouse"+g,S)},_finalizeCurrentTransform:function(p){var g=this._currentTransform,m=g.target,v={e:p,target:m,transform:g,action:g.action};m._scaling&&(m._scaling=!1),m.setCoords(),(g.actionPerformed||this.stateful&&m.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(p){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(p).requestRenderAll();var g=this.getPointer(p);this.freeDrawingBrush.onMouseDown(g,{e:p,pointer:g}),this._handleEvent(p,"down")},_onMouseMoveInDrawingMode:function(p){if(this._isCurrentlyDrawing){var g=this.getPointer(p);this.freeDrawingBrush.onMouseMove(g,{e:p,pointer:g})}this.setCursor(this.freeDrawingCursor),this._handleEvent(p,"move")},_onMouseUpInDrawingMode:function(p){var g=this.getPointer(p);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:p,pointer:g}),this._handleEvent(p,"up")},__onMouseDown:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"down:before");var g=this._target;if(h(p,c)){this.fireRightClick&&this._handleEvent(p,"down",c);return}if(h(p,f)){this.fireMiddleClick&&this._handleEvent(p,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(p);return}if(this._isMainEvent(p)&&!this._currentTransform){var m=this._pointer;this._previousPointer=m;var v=this._shouldRender(g),b=this._shouldGroup(p,g);if(this._shouldClearSelection(p,g)?this.discardActiveObject(p):b&&(this._handleGrouping(p,g),g=this._activeObject),this.selection&&(!g||!g.selectable&&!g.isEditing&&g!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),g){var _=g===this._activeObject;g.selectable&&g.activeOn==="down"&&this.setActiveObject(g,p);var S=g._findTargetCorner(this.getPointer(p,!0),e.util.isTouchEvent(p));if(g.__corner=S,g===this._activeObject&&(S||!b)){this._setupCurrentTransform(p,g,_);var w=g.controls[S],m=this.getPointer(p),C=w&&w.getMouseDownHandler(p,g,w);C&&C(p,this._currentTransform,m.x,m.y)}}this._handleEvent(p,"down"),(v||b)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(p){this._resetTransformEventData(),this._pointer=this.getPointer(p,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(p)||null},_beforeTransform:function(p){var g=this._currentTransform;this.stateful&&g.target.saveState(),this.fire("before:transform",{e:p,transform:g})},__onMouseMove:function(p){this._handleEvent(p,"move:before"),this._cacheTransformEventData(p);var g,m;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(p);return}if(this._isMainEvent(p)){var v=this._groupSelector;v?(m=this._absolutePointer,v.left=m.x-v.ex,v.top=m.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(p):(g=this.findTarget(p)||null,this._setCursorFromEvent(p,g),this._fireOverOutEvents(g,p)),this._handleEvent(p,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(p,g){var m=this._hoveredTarget,v=this._hoveredTargets,b=this.targets,_=Math.max(v.length,b.length);this.fireSyntheticInOutEvents(p,g,{oldTarget:m,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var S=0;S<_;S++)this.fireSyntheticInOutEvents(b[S],g,{oldTarget:v[S],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=p,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(p,g){var m=this._draggedoverTarget,v=this._hoveredTargets,b=this.targets,_=Math.max(v.length,b.length);this.fireSyntheticInOutEvents(p,g,{oldTarget:m,evtOut:"dragleave",evtIn:"dragenter"});for(var S=0;S<_;S++)this.fireSyntheticInOutEvents(b[S],g,{oldTarget:v[S],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=p},fireSyntheticInOutEvents:function(p,g,m){var v,b,_=m.oldTarget,S,w,C=_!==p,x=m.canvasEvtIn,M=m.canvasEvtOut;C&&(v={e:g,target:p,previousTarget:_},b={e:g,target:_,nextTarget:p}),w=p&&C,S=_&&C,S&&(M&&this.fire(M,b),_.fire(m.evtOut,b)),w&&(x&&this.fire(x,v),p.fire(m.evtIn,v))},__onMouseWheel:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"wheel"),this._resetTransformEventData()},_transformObject:function(p){var g=this.getPointer(p),m=this._currentTransform;m.reset=!1,m.shiftKey=p.shiftKey,m.altKey=p[this.centeredKey],this._performTransformAction(p,m,g),m.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(p,g,m){var v=m.x,b=m.y,_=g.action,S=!1,w=g.actionHandler;w&&(S=w(p,g,v,b)),_==="drag"&&S&&(g.target.isMoving=!0,this.setCursor(g.target.moveCursor||this.moveCursor)),g.actionPerformed=g.actionPerformed||S},_fire:e.controlsUtils.fireEvent,_setCursorFromEvent:function(p,g){if(!g)return this.setCursor(this.defaultCursor),!1;var m=g.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,b=(!v||!v.contains(g))&&g._findTargetCorner(this.getPointer(p,!0));b?this.setCursor(this.getCornerCursor(b,g,p)):(g.subTargetCheck&&this.targets.concat().reverse().map(function(_){m=_.hoverCursor||m}),this.setCursor(m))},getCornerCursor:function(p,g,m){var v=g.controls[p];return v.cursorStyleHandler(m,v,g)}})}(),function(){var s=Math.min,o=Math.max;e.util.object.extend(e.Canvas.prototype,{_shouldGroup:function(c,f){var l=this._activeObject;return l&&this._isSelectionKeyPressed(c)&&f&&f.selectable&&this.selection&&(l!==f||l.type==="activeSelection")&&!f.onSelect({e:c})},_handleGrouping:function(c,f){var l=this._activeObject;l.__corner||f===l&&(f=this.findTarget(c,!0),!f||!f.selectable)||(l&&l.type==="activeSelection"?this._updateActiveSelection(f,c):this._createActiveSelection(f,c))},_updateActiveSelection:function(c,f){var l=this._activeObject,d=l._objects.slice(0);l.contains(c)?(l.removeWithUpdate(c),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat(),l.size()===1&&this._setActiveObject(l.item(0),f)):(l.addWithUpdate(c),this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(d,f)},_createActiveSelection:function(c,f){var l=this.getActiveObjects(),d=this._createGroup(c);this._hoveredTarget=d,this._setActiveObject(d,f),this._fireSelectionEvents(l,f)},_createGroup:function(c){var f=this._objects,l=f.indexOf(this._activeObject)<f.indexOf(c),d=l?[this._activeObject,c]:[c,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new e.ActiveSelection(d,{canvas:this})},_groupSelectedObjects:function(c){var f=this._collectObjects(c),l;f.length===1?this.setActiveObject(f[0],c):f.length>1&&(l=new e.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(l,c))},_collectObjects:function(c){for(var f=[],l,d=this._groupSelector.ex,h=this._groupSelector.ey,p=d+this._groupSelector.left,g=h+this._groupSelector.top,m=new e.Point(s(d,p),s(h,g)),v=new e.Point(o(d,p),o(h,g)),b=!this.selectionFullyContained,_=d===p&&h===g,S=this._objects.length;S--&&(l=this._objects[S],!(!(!l||!l.selectable||!l.visible)&&(b&&l.intersectsWithRect(m,v,!0)||l.isContainedWithinRect(m,v,!0)||b&&l.containsPoint(m,null,!0)||b&&l.containsPoint(v,null,!0))&&(f.push(l),_))););return f.length>1&&(f=f.filter(function(w){return!w.onSelect({e:c})})),f},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){e.util.object.extend(e.StaticCanvas.prototype,{toDataURL:function(s){s||(s={});var o=s.format||"png",c=s.quality||1,f=(s.multiplier||1)*(s.enableRetinaScaling?this.getRetinaScaling():1),l=this.toCanvasElement(f,s);return e.util.toDataURL(l,o,c)},toCanvasElement:function(s,o){s=s||1,o=o||{};var c=(o.width||this.width)*s,f=(o.height||this.height)*s,l=this.getZoom(),d=this.width,h=this.height,p=l*s,g=this.viewportTransform,m=(g[4]-(o.left||0))*s,v=(g[5]-(o.top||0))*s,b=this.interactive,_=[p,0,0,p,m,v],S=this.enableRetinaScaling,w=e.util.createCanvasElement(),C=this.contextTop;return w.width=c,w.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=_,this.width=c,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(w.getContext("2d"),this._objects),this.viewportTransform=g,this.width=d,this.height=h,this.calcViewportBoundaries(),this.interactive=b,this.enableRetinaScaling=S,this.contextTop=C,w}})}(),e.util.object.extend(e.StaticCanvas.prototype,{loadFromJSON:function(s,o,c){if(s){var f=typeof s=="string"?JSON.parse(s):e.util.object.clone(s),l=this,d=f.clipPath,h=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(p){l.clear(),l._setBgOverlay(f,function(){d?l._enlivenObjects([d],function(g){l.clipPath=g[0],l.__setupCanvas.call(l,f,p,h,o)}):l.__setupCanvas.call(l,f,p,h,o)})},c),this}},__setupCanvas:function(s,o,c,f){var l=this;o.forEach(function(d,h){l.insertAt(d,h)}),this.renderOnAddRemove=c,delete s.objects,delete s.backgroundImage,delete s.overlayImage,delete s.background,delete s.overlay,this._setOptions(s),this.renderAll(),f&&f()},_setBgOverlay:function(s,o){var c={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!s.backgroundImage&&!s.overlayImage&&!s.background&&!s.overlay){o&&o();return}var f=function(){c.backgroundImage&&c.overlayImage&&c.backgroundColor&&c.overlayColor&&o&&o()};this.__setBgOverlay("backgroundImage",s.backgroundImage,c,f),this.__setBgOverlay("overlayImage",s.overlayImage,c,f),this.__setBgOverlay("backgroundColor",s.background,c,f),this.__setBgOverlay("overlayColor",s.overlay,c,f)},__setBgOverlay:function(s,o,c,f){var l=this;if(!o){c[s]=!0,f&&f();return}s==="backgroundImage"||s==="overlayImage"?e.util.enlivenObjects([o],function(d){l[s]=d[0],c[s]=!0,f&&f()}):this["set"+e.util.string.capitalize(s,!0)](o,function(){c[s]=!0,f&&f()})},_enlivenObjects:function(s,o,c){if(!s||s.length===0){o&&o([]);return}e.util.enlivenObjects(s,function(f){o&&o(f)},null,c)},_toDataURL:function(s,o){this.clone(function(c){o(c.toDataURL(s))})},_toDataURLWithMultiplier:function(s,o,c){this.clone(function(f){c(f.toDataURLWithMultiplier(s,o))})},clone:function(s,o){var c=JSON.stringify(this.toJSON(o));this.cloneWithoutData(function(f){f.loadFromJSON(c,function(){s&&s(f)})})},cloneWithoutData:function(s){var o=e.util.createCanvasElement();o.width=this.width,o.height=this.height;var c=new e.Canvas(o);this.backgroundImage?(c.setBackgroundImage(this.backgroundImage.src,function(){c.renderAll(),s&&s(c)}),c.backgroundImageOpacity=this.backgroundImageOpacity,c.backgroundImageStretch=this.backgroundImageStretch):s&&s(c)}}),function(s){var o=s.fabric||(s.fabric={}),c=o.util.object.extend,f=o.util.object.clone,l=o.util.toFixed,d=o.util.string.capitalize,h=o.util.degreesToRadians,p=!o.isLikelyNode,g=2;o.Object||(o.Object=o.util.createClass(o.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:p,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(m){m&&this.setOptions(m)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=o.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(m){var v=o.perfLimitSizeTotal,b=m.width,_=m.height,S=o.maxCacheSideLimit,w=o.minCacheSideLimit;if(b<=S&&_<=S&&b*_<=v)return b<w&&(m.width=w),_<w&&(m.height=w),m;var C=b/_,x=o.util.limitDimsByArea(C,v),M=o.util.capValue,E=M(w,x.x,S),A=M(w,x.y,S);return b>E&&(m.zoomX/=b/E,m.width=E,m.capped=!0),_>A&&(m.zoomY/=_/A,m.height=A,m.capped=!0),m},_getCacheCanvasDimensions:function(){var m=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),b=v.x*m.scaleX/this.scaleX,_=v.y*m.scaleY/this.scaleY;return{width:b+g,height:_+g,zoomX:m.scaleX,zoomY:m.scaleY,x:b,y:_}},_updateCacheCanvas:function(){var m=this.canvas;if(this.noScaleCache&&m&&m._currentTransform){var v=m._currentTransform.target,b=m._currentTransform.action;if(this===v&&b.slice&&b.slice(0,5)==="scale")return!1}var _=this._cacheCanvas,S=this._limitCacheSize(this._getCacheCanvasDimensions()),w=o.minCacheSideLimit,C=S.width,x=S.height,M,E,A=S.zoomX,O=S.zoomY,I=C!==this.cacheWidth||x!==this.cacheHeight,$=this.zoomX!==A||this.zoomY!==O,H=I||$,B=0,N=0,k=!1;if(I){var D=this._cacheCanvas.width,T=this._cacheCanvas.height,R=C>D||x>T,V=(C<D*.9||x<T*.9)&&D>w&&T>w;k=R||V,R&&!S.capped&&(C>w||x>w)&&(B=C*.1,N=x*.1)}return this instanceof o.Text&&this.path&&(H=!0,k=!0,B+=this.getHeightOfLine(0)*this.zoomX,N+=this.getHeightOfLine(0)*this.zoomY),H?(k?(_.width=Math.ceil(C+B),_.height=Math.ceil(x+N)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,_.width,_.height)),M=S.x/2,E=S.y/2,this.cacheTranslationX=Math.round(_.width/2-M)+M,this.cacheTranslationY=Math.round(_.height/2-E)+E,this.cacheWidth=C,this.cacheHeight=x,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(A,O),this.zoomX=A,this.zoomY=O,!0):!1},setOptions:function(m){this._setOptions(m),this._initGradient(m.fill,"fill"),this._initGradient(m.stroke,"stroke"),this._initPattern(m.fill,"fill"),this._initPattern(m.stroke,"stroke")},transform:function(m){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&m===this.canvas.contextTop,b=this.calcTransformMatrix(!v);m.transform(b[0],b[1],b[2],b[3],b[4],b[5])},toObject:function(m){var v=o.Object.NUM_FRACTION_DIGITS,b={type:this.type,version:o.version,originX:this.originX,originY:this.originY,left:l(this.left,v),top:l(this.top,v),width:l(this.width,v),height:l(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:l(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:l(this.strokeMiterLimit,v),scaleX:l(this.scaleX,v),scaleY:l(this.scaleY,v),angle:l(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:l(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:l(this.skewX,v),skewY:l(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(b.clipPath=this.clipPath.toObject(m),b.clipPath.inverted=this.clipPath.inverted,b.clipPath.absolutePositioned=this.clipPath.absolutePositioned),o.util.populateWithProperties(this,b,m),this.includeDefaultValues||(b=this._removeDefaultValues(b)),b},toDatalessObject:function(m){return this.toObject(m)},_removeDefaultValues:function(m){var v=o.util.getKlass(m.type).prototype,b=v.stateProperties;return b.forEach(function(_){_==="left"||_==="top"||(m[_]===v[_]&&delete m[_],Array.isArray(m[_])&&Array.isArray(v[_])&&m[_].length===0&&v[_].length===0&&delete m[_])}),m},toString:function(){return"#<fabric."+d(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var m=o.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(m.scaleX),scaleY:Math.abs(m.scaleY)}},getTotalObjectScaling:function(){var m=this.getObjectScaling(),v=m.scaleX,b=m.scaleY;if(this.canvas){var _=this.canvas.getZoom(),S=this.canvas.getRetinaScaling();v*=_*S,b*=_*S}return{scaleX:v,scaleY:b}},getObjectOpacity:function(){var m=this.opacity;return this.group&&(m*=this.group.getObjectOpacity()),m},_set:function(m,v){var b=m==="scaleX"||m==="scaleY",_=this[m]!==v,S=!1;return b&&(v=this._constrainScale(v)),m==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):m==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):m==="shadow"&&v&&!(v instanceof o.Shadow)?v=new o.Shadow(v):m==="dirty"&&this.group&&this.group.set("dirty",v),this[m]=v,_&&(S=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(m)>-1?(this.dirty=!0,S&&this.group.set("dirty",!0)):S&&this.stateProperties.indexOf(m)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:o.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(m){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(m.save(),this._setupCompositeOperation(m),this.drawSelectionBackground(m),this.transform(m),this._setOpacity(m),this._setShadow(m,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(m)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(m),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),m.restore())},renderCache:function(m){m=m||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,m.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(m,v){if(m.save(),v.inverted?m.globalCompositeOperation="destination-out":m.globalCompositeOperation="destination-in",v.absolutePositioned){var b=o.util.invertTransform(this.calcTransformMatrix());m.transform(b[0],b[1],b[2],b[3],b[4],b[5])}v.transform(m),m.scale(1/v.zoomX,1/v.zoomY),m.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),m.restore()},drawObject:function(m,v){var b=this.fill,_=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(m)):this._renderBackground(m),this._render(m),this._drawClipPath(m,this.clipPath),this.fill=b,this.stroke=_},_drawClipPath:function(m,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(m,v))},drawCacheOnCanvas:function(m){m.scale(1/this.zoomX,1/this.zoomY),m.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(m){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!m&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!m){var v=this.cacheWidth/this.zoomX,b=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-b/2,v,b)}return!0}return!1},_renderBackground:function(m){if(this.backgroundColor){var v=this._getNonTransformedDimensions();m.fillStyle=this.backgroundColor,m.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(m)}},_setOpacity:function(m){this.group&&!this.group._transformDone?m.globalAlpha=this.getObjectOpacity():m.globalAlpha*=this.opacity},_setStrokeStyles:function(m,v){var b=v.stroke;b&&(m.lineWidth=v.strokeWidth,m.lineCap=v.strokeLineCap,m.lineDashOffset=v.strokeDashOffset,m.lineJoin=v.strokeLineJoin,m.miterLimit=v.strokeMiterLimit,b.toLive?b.gradientUnits==="percentage"||b.gradientTransform||b.patternTransform?this._applyPatternForTransformedGradient(m,b):(m.strokeStyle=b.toLive(m,this),this._applyPatternGradientTransform(m,b)):m.strokeStyle=v.stroke)},_setFillStyles:function(m,v){var b=v.fill;b&&(b.toLive?(m.fillStyle=b.toLive(m,this),this._applyPatternGradientTransform(m,v.fill)):m.fillStyle=b)},_setClippingProperties:function(m){m.globalAlpha=1,m.strokeStyle="transparent",m.fillStyle="#000000"},_setLineDash:function(m,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),m.setLineDash(v))},_renderControls:function(m,v){var b=this.getViewportTransform(),_=this.calcTransformMatrix(),S,w,C;v=v||{},w=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,C=typeof v.hasControls<"u"?v.hasControls:this.hasControls,_=o.util.multiplyTransformMatrices(b,_),S=o.util.qrDecompose(_),m.save(),m.translate(S.translateX,S.translateY),m.lineWidth=1*this.borderScaleFactor,this.group||(m.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(S.angle-=180),m.rotate(h(this.group?S.angle:this.angle)),v.forActiveSelection||this.group?w&&this.drawBordersInGroup(m,S,v):w&&this.drawBorders(m,v),C&&this.drawControls(m,v),m.restore()},_setShadow:function(m){if(this.shadow){var v=this.shadow,b=this.canvas,_,S=b&&b.viewportTransform[0]||1,w=b&&b.viewportTransform[3]||1;v.nonScaling?_={scaleX:1,scaleY:1}:_=this.getObjectScaling(),b&&b._isRetinaScaling()&&(S*=o.devicePixelRatio,w*=o.devicePixelRatio),m.shadowColor=v.color,m.shadowBlur=v.blur*o.browserShadowBlurConstant*(S+w)*(_.scaleX+_.scaleY)/4,m.shadowOffsetX=v.offsetX*S*_.scaleX,m.shadowOffsetY=v.offsetY*w*_.scaleY}},_removeShadow:function(m){this.shadow&&(m.shadowColor="",m.shadowBlur=m.shadowOffsetX=m.shadowOffsetY=0)},_applyPatternGradientTransform:function(m,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var b=v.gradientTransform||v.patternTransform,_=-this.width/2+v.offsetX||0,S=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?m.transform(this.width,0,0,this.height,_,S):m.transform(1,0,0,1,_,S),b&&m.transform(b[0],b[1],b[2],b[3],b[4],b[5]),{offsetX:_,offsetY:S}},_renderPaintInOrder:function(m){this.paintFirst==="stroke"?(this._renderStroke(m),this._renderFill(m)):(this._renderFill(m),this._renderStroke(m))},_render:function(){},_renderFill:function(m){this.fill&&(m.save(),this._setFillStyles(m,this),this.fillRule==="evenodd"?m.fill("evenodd"):m.fill(),m.restore())},_renderStroke:function(m){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(m),m.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();m.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&m.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(m,this.strokeDashArray),this._setStrokeStyles(m,this),m.stroke(),m.restore()}},_applyPatternForTransformedGradient:function(m,v){var b=this._limitCacheSize(this._getCacheCanvasDimensions()),_=o.util.createCanvasElement(),S,w=this.canvas.getRetinaScaling(),C=b.x/this.scaleX/w,x=b.y/this.scaleY/w;_.width=C,_.height=x,S=_.getContext("2d"),S.beginPath(),S.moveTo(0,0),S.lineTo(C,0),S.lineTo(C,x),S.lineTo(0,x),S.closePath(),S.translate(C/2,x/2),S.scale(b.zoomX/this.scaleX/w,b.zoomY/this.scaleY/w),this._applyPatternGradientTransform(S,v),S.fillStyle=v.toLive(m),S.fill(),m.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),m.scale(w*this.scaleX/b.zoomX,w*this.scaleY/b.zoomY),m.strokeStyle=S.createPattern(_,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var m=o.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",m.scaleX),this.set("scaleY",m.scaleY),this.angle=m.angle,this.skewX=m.skewX,this.skewY=0}},_removeTransformMatrix:function(m){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=o.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,m&&(this.scaleX*=m.scaleX,this.scaleY*=m.scaleY,this.cropX=m.cropX,this.cropY=m.cropY,v.x+=m.offsetLeft,v.y+=m.offsetTop,this.width=m.width,this.height=m.height),this.setPositionByOrigin(v,"center","center")},clone:function(m,v){var b=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(b,m):o.Object._fromObject("Object",b,m)},cloneAsImage:function(m,v){var b=this.toCanvasElement(v);return m&&m(new o.Image(b)),this},toCanvasElement:function(m){m||(m={});var v=o.util,b=v.saveObjectTransform(this),_=this.group,S=this.shadow,w=Math.abs,C=(m.multiplier||1)*(m.enableRetinaScaling?o.devicePixelRatio:1);delete this.group,m.withoutTransform&&v.resetObjectTransform(this),m.withoutShadow&&(this.shadow=null);var x=o.util.createCanvasElement(),M=this.getBoundingRect(!0,!0),E=this.shadow,A,O={x:0,y:0},I,$,H;E&&(I=E.blur,E.nonScaling?A={scaleX:1,scaleY:1}:A=this.getObjectScaling(),O.x=2*Math.round(w(E.offsetX)+I)*w(A.scaleX),O.y=2*Math.round(w(E.offsetY)+I)*w(A.scaleY)),$=M.width+O.x,H=M.height+O.y,x.width=Math.ceil($),x.height=Math.ceil(H);var B=new o.StaticCanvas(x,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});m.format==="jpeg"&&(B.backgroundColor="#fff"),this.setPositionByOrigin(new o.Point(B.width/2,B.height/2),"center","center");var N=this.canvas;B.add(this);var k=B.toCanvasElement(C||1,m);return this.shadow=S,this.set("canvas",N),_&&(this.group=_),this.set(b).setCoords(),B._objects=[],B.dispose(),B=null,k},toDataURL:function(m){return m||(m={}),o.util.toDataURL(this.toCanvasElement(m),m.format||"png",m.quality||1)},isType:function(m){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===m},complexity:function(){return 1},toJSON:function(m){return this.toObject(m)},rotate:function(m){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",m),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(m,v){v=v||this.canvas.getPointer(m);var b=new o.Point(v.x,v.y),_=this._getLeftTopCoords();return this.angle&&(b=o.util.rotatePoint(b,_,h(-this.angle))),{x:b.x-_.x,y:b.y-_.y}},_setupCompositeOperation:function(m){this.globalCompositeOperation&&(m.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){o.runningAnimations&&o.runningAnimations.cancelByTarget(this)}}),o.util.createAccessors&&o.util.createAccessors(o.Object),c(o.Object.prototype,o.Observable),o.Object.NUM_FRACTION_DIGITS=2,o.Object.ENLIVEN_PROPS=["clipPath"],o.Object._fromObject=function(m,v,b,_){var S=o[m];v=f(v,!0),o.util.enlivenPatterns([v.fill,v.stroke],function(w){typeof w[0]<"u"&&(v.fill=w[0]),typeof w[1]<"u"&&(v.stroke=w[1]),o.util.enlivenObjectEnlivables(v,v,function(){var C=_?new S(v[_],v):new S(v);b&&b(C)})})},o.Object.__uid=0)}(t),function(){var s=e.util.degreesToRadians,o={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};e.util.object.extend(e.Object.prototype,{translateToGivenOrigin:function(f,l,d,h,p){var g=f.x,m=f.y,v,b,_;return typeof l=="string"?l=o[l]:l-=.5,typeof h=="string"?h=o[h]:h-=.5,v=h-l,typeof d=="string"?d=c[d]:d-=.5,typeof p=="string"?p=c[p]:p-=.5,b=p-d,(v||b)&&(_=this._getTransformedDimensions(),g=f.x+v*_.x,m=f.y+b*_.y),new e.Point(g,m)},translateToCenterPoint:function(f,l,d){var h=this.translateToGivenOrigin(f,l,d,"center","center");return this.angle?e.util.rotatePoint(h,f,s(this.angle)):h},translateToOriginPoint:function(f,l,d){var h=this.translateToGivenOrigin(f,"center","center",l,d);return this.angle?e.util.rotatePoint(h,f,s(this.angle)):h},getCenterPoint:function(){var f=new e.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,l){var d=this.getCenterPoint();return this.translateToOriginPoint(d,f,l)},toLocalPoint:function(f,l,d){var h=this.getCenterPoint(),p,g;return typeof l<"u"&&typeof d<"u"?p=this.translateToGivenOrigin(h,"center","center",l,d):p=new e.Point(this.left,this.top),g=new e.Point(f.x,f.y),this.angle&&(g=e.util.rotatePoint(g,h,-s(this.angle))),g.subtractEquals(p)},setPositionByOrigin:function(f,l,d){var h=this.translateToCenterPoint(f,l,d),p=this.translateToOriginPoint(h,this.originX,this.originY);this.set("left",p.x),this.set("top",p.y)},adjustPosition:function(f){var l=s(this.angle),d=this.getScaledWidth(),h=e.util.cos(l)*d,p=e.util.sin(l)*d,g,m;typeof this.originX=="string"?g=o[this.originX]:g=this.originX-.5,typeof f=="string"?m=o[f]:m=f-.5,this.left+=h*(m-g),this.top+=p*(m-g),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function s(d){return[new e.Point(d.tl.x,d.tl.y),new e.Point(d.tr.x,d.tr.y),new e.Point(d.br.x,d.br.y),new e.Point(d.bl.x,d.bl.y)]}var o=e.util,c=o.degreesToRadians,f=o.multiplyTransformMatrices,l=o.transformPoint;o.object.extend(e.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(d,h){return h?d?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),d?this.aCoords:this.lineCoords)},getCoords:function(d,h){return s(this._getCoords(d,h))},intersectsWithRect:function(d,h,p,g){var m=this.getCoords(p,g),v=e.Intersection.intersectPolygonRectangle(m,d,h);return v.status==="Intersection"},intersectsWithObject:function(d,h,p){var g=e.Intersection.intersectPolygonPolygon(this.getCoords(h,p),d.getCoords(h,p));return g.status==="Intersection"||d.isContainedWithinObject(this,h,p)||this.isContainedWithinObject(d,h,p)},isContainedWithinObject:function(d,h,p){for(var g=this.getCoords(h,p),m=h?d.aCoords:d.lineCoords,v=0,b=d._getImageLines(m);v<4;v++)if(!d.containsPoint(g[v],b))return!1;return!0},isContainedWithinRect:function(d,h,p,g){var m=this.getBoundingRect(p,g);return m.left>=d.x&&m.left+m.width<=h.x&&m.top>=d.y&&m.top+m.height<=h.y},containsPoint:function(d,v,p,g){var m=this._getCoords(p,g),v=v||this._getImageLines(m),b=this._findCrossPoints(d,v);return b!==0&&b%2===1},isOnScreen:function(d){if(!this.canvas)return!1;var h=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br,g=this.getCoords(!0,d);return g.some(function(m){return m.x<=p.x&&m.x>=h.x&&m.y<=p.y&&m.y>=h.y})||this.intersectsWithRect(h,p,!0,d)?!0:this._containsCenterOfCanvas(h,p,d)},_containsCenterOfCanvas:function(d,h,p){var g={x:(d.x+h.x)/2,y:(d.y+h.y)/2};return!!this.containsPoint(g,null,!0,p)},isPartiallyOnScreen:function(d){if(!this.canvas)return!1;var h=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br;if(this.intersectsWithRect(h,p,!0,d))return!0;var g=this.getCoords(!0,d).every(function(m){return(m.x>=p.x||m.x<=h.x)&&(m.y>=p.y||m.y<=h.y)});return g&&this._containsCenterOfCanvas(h,p,d)},_getImageLines:function(d){var h={topline:{o:d.tl,d:d.tr},rightline:{o:d.tr,d:d.br},bottomline:{o:d.br,d:d.bl},leftline:{o:d.bl,d:d.tl}};return h},_findCrossPoints:function(d,h){var p,g,m,v,b,_=0,S;for(var w in h)if(S=h[w],!(S.o.y<d.y&&S.d.y<d.y)&&!(S.o.y>=d.y&&S.d.y>=d.y)&&(S.o.x===S.d.x&&S.o.x>=d.x?b=S.o.x:(p=0,g=(S.d.y-S.o.y)/(S.d.x-S.o.x),m=d.y-p*d.x,v=S.o.y-g*S.o.x,b=-(m-v)/(p-g)),b>=d.x&&(_+=1),_===2))break;return _},getBoundingRect:function(d,h){var p=this.getCoords(d,h);return o.makeBoundingBoxFromPoints(p)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(d){return Math.abs(d)<this.minScaleLimit?d<0?-this.minScaleLimit:this.minScaleLimit:d===0?1e-4:d},scale:function(d){return this._set("scaleX",d),this._set("scaleY",d),this.setCoords()},scaleToWidth:function(d,h){var p=this.getBoundingRect(h).width/this.getScaledWidth();return this.scale(d/this.width/p)},scaleToHeight:function(d,h){var p=this.getBoundingRect(h).height/this.getScaledHeight();return this.scale(d/this.height/p)},calcLineCoords:function(){var d=this.getViewportTransform(),h=this.padding,p=c(this.angle),g=o.cos(p),m=o.sin(p),v=g*h,b=m*h,_=v+b,S=v-b,w=this.calcACoords(),C={tl:l(w.tl,d),tr:l(w.tr,d),bl:l(w.bl,d),br:l(w.br,d)};return h&&(C.tl.x-=S,C.tl.y-=_,C.tr.x+=_,C.tr.y-=S,C.bl.x-=_,C.bl.y+=S,C.br.x+=S,C.br.y+=_),C},calcOCoords:function(){var d=this._calcRotateMatrix(),h=this._calcTranslateMatrix(),p=this.getViewportTransform(),g=f(p,h),m=f(g,d),m=f(m,[1/p[0],0,0,1/p[3],0,0]),v=this._calculateCurrentDimensions(),b={};return this.forEachControl(function(_,S,w){b[S]=_.positionHandler(v,m,w)}),b},calcACoords:function(){var d=this._calcRotateMatrix(),h=this._calcTranslateMatrix(),p=f(h,d),g=this._getTransformedDimensions(),m=g.x/2,v=g.y/2;return{tl:l({x:-m,y:-v},p),tr:l({x:m,y:-v},p),bl:l({x:-m,y:v},p),br:l({x:m,y:v},p)}},setCoords:function(d){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),d?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return o.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var d=this.getCenterPoint();return[1,0,0,1,d.x,d.y]},transformMatrixKey:function(d){var h="_",p="";return!d&&this.group&&(p=this.group.transformMatrixKey(d)+h),p+this.top+h+this.left+h+this.scaleX+h+this.scaleY+h+this.skewX+h+this.skewY+h+this.angle+h+this.originX+h+this.originY+h+this.width+h+this.height+h+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(d){var h=this.calcOwnMatrix();if(d||!this.group)return h;var p=this.transformMatrixKey(d),g=this.matrixCache||(this.matrixCache={});return g.key===p?g.value:(this.group&&(h=f(this.group.calcTransformMatrix(!1),h)),g.key=p,g.value=h,h)},calcOwnMatrix:function(){var d=this.transformMatrixKey(!0),h=this.ownMatrixCache||(this.ownMatrixCache={});if(h.key===d)return h.value;var p=this._calcTranslateMatrix(),g={angle:this.angle,translateX:p[4],translateY:p[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return h.key=d,h.value=o.composeMatrix(g),h.value},_getNonTransformedDimensions:function(){var d=this.strokeWidth,h=this.width+d,p=this.height+d;return{x:h,y:p}},_getTransformedDimensions:function(d,h){typeof d>"u"&&(d=this.skewX),typeof h>"u"&&(h=this.skewY);var p,g,m,v=d===0&&h===0;if(this.strokeUniform?(g=this.width,m=this.height):(p=this._getNonTransformedDimensions(),g=p.x,m=p.y),v)return this._finalizeDimensions(g*this.scaleX,m*this.scaleY);var b=o.sizeAfterTransform(g,m,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:d,skewY:h});return this._finalizeDimensions(b.x,b.y)},_finalizeDimensions:function(d,h){return this.strokeUniform?{x:d+this.strokeWidth,y:h+this.strokeWidth}:{x:d,y:h}},_calculateCurrentDimensions:function(){var d=this.getViewportTransform(),h=this._getTransformedDimensions(),p=l(h,d,!0);return p.scalarAdd(2*this.padding)}})}(),e.util.object.extend(e.Object.prototype,{sendToBack:function(){return this.group?e.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?e.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(s){return this.group?e.StaticCanvas.prototype.sendBackwards.call(this.group,this,s):this.canvas&&this.canvas.sendBackwards(this,s),this},bringForward:function(s){return this.group?e.StaticCanvas.prototype.bringForward.call(this.group,this,s):this.canvas&&this.canvas.bringForward(this,s),this},moveTo:function(s){return this.group&&this.group.type!=="activeSelection"?e.StaticCanvas.prototype.moveTo.call(this.group,this,s):this.canvas&&this.canvas.moveTo(this,s),this}}),function(){function s(c,f){if(f){if(f.toLive)return c+": url(#SVGID_"+f.id+"); ";var l=new e.Color(f),d=c+": "+l.toRgb()+"; ",h=l.getAlpha();return h!==1&&(d+=c+"-opacity: "+h.toString()+"; "),d}else return c+": none; "}var o=e.util.toFixed;e.util.object.extend(e.Object.prototype,{getSvgStyles:function(c){var f=this.fillRule?this.fillRule:"nonzero",l=this.strokeWidth?this.strokeWidth:"0",d=this.strokeDashArray?this.strokeDashArray.join(" "):"none",h=this.strokeDashOffset?this.strokeDashOffset:"0",p=this.strokeLineCap?this.strokeLineCap:"butt",g=this.strokeLineJoin?this.strokeLineJoin:"miter",m=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",b=this.visible?"":" visibility: hidden;",_=c?"":this.getSvgFilter(),S=s("fill",this.fill),w=s("stroke",this.stroke);return[w,"stroke-width: ",l,"; ","stroke-dasharray: ",d,"; ","stroke-linecap: ",p,"; ","stroke-dashoffset: ",h,"; ","stroke-linejoin: ",g,"; ","stroke-miterlimit: ",m,"; ",S,"fill-rule: ",f,"; ","opacity: ",v,";",_,b].join("")},getSvgSpanStyles:function(c,f){var l="; ",h=c.fontFamily?"font-family: "+(c.fontFamily.indexOf("'")===-1&&c.fontFamily.indexOf('"')===-1?"'"+c.fontFamily+"'":c.fontFamily)+l:"",d=c.strokeWidth?"stroke-width: "+c.strokeWidth+l:"",h=h,p=c.fontSize?"font-size: "+c.fontSize+"px"+l:"",g=c.fontStyle?"font-style: "+c.fontStyle+l:"",m=c.fontWeight?"font-weight: "+c.fontWeight+l:"",v=c.fill?s("fill",c.fill):"",b=c.stroke?s("stroke",c.stroke):"",_=this.getSvgTextDecoration(c),S=c.deltaY?"baseline-shift: "+-c.deltaY+"; ":"";return _&&(_="text-decoration: "+_+l),[b,d,h,p,g,m,_,v,S,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(c){return["overline","underline","line-through"].filter(function(f){return c[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(c,f){var l=c?this.calcTransformMatrix():this.calcOwnMatrix(),d='transform="'+e.util.matrixToSVG(l);return d+(f||"")+'" '},_setSVGBg:function(c){if(this.backgroundColor){var f=e.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',o(-this.width/2,f),'" y="',o(-this.height/2,f),'" width="',o(this.width,f),'" height="',o(this.height,f),`"></rect>
`)}},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(c),{reviver:c})},toClipPathSVG:function(c){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(c),{reviver:c})},_createBaseClipPathSVGMarkup:function(c,f){f=f||{};var l=f.reviver,d=f.additionalTransform||"",h=[this.getSvgTransform(!0,d),this.getSvgCommons()].join(""),p=c.indexOf("COMMON_PARTS");return c[p]=h,l?l(c.join("")):c.join("")},_createBaseSVGMarkup:function(c,f){f=f||{};var l=f.noStyle,d=f.reviver,h=l?"":'style="'+this.getSvgStyles()+'" ',p=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",g=this.clipPath,m=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=g&&g.absolutePositioned,b=this.stroke,_=this.fill,S=this.shadow,w,C=[],x,M=c.indexOf("COMMON_PARTS"),E=f.additionalTransform;return g&&(g.clipPathId="CLIPPATH_"+e.Object.__uid++,x='<clipPath id="'+g.clipPathId+`" >
`+g.toClipPathSVG(d)+`</clipPath>
`),v&&C.push("<g ",p,this.getSvgCommons(),` >
`),C.push("<g ",this.getSvgTransform(!1),v?"":p+this.getSvgCommons(),` >
`),w=[h,m,l?"":this.addPaintOrder()," ",E?'transform="'+E+'" ':""].join(""),c[M]=w,_&&_.toLive&&C.push(_.toSVG(this)),b&&b.toLive&&C.push(b.toSVG(this)),S&&C.push(S.toSVG(this)),g&&C.push(x),C.push(c.join("")),C.push(`</g>
`),v&&C.push(`</g>
`),d?d(C.join("")):C.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var s=e.util.object.extend,o="stateProperties";function c(l,d,h){var p={},g=!0;h.forEach(function(m){p[m]=l[m]}),s(l[d],p,g)}function f(l,d,h){if(l===d)return!0;if(Array.isArray(l)){if(!Array.isArray(d)||l.length!==d.length)return!1;for(var p=0,g=l.length;p<g;p++)if(!f(l[p],d[p]))return!1;return!0}else if(l&&typeof l=="object"){var m=Object.keys(l),v;if(!d||typeof d!="object"||!h&&m.length!==Object.keys(d).length)return!1;for(var p=0,g=m.length;p<g;p++)if(v=m[p],!(v==="canvas"||v==="group")&&!f(l[v],d[v]))return!1;return!0}}e.util.object.extend(e.Object.prototype,{hasStateChanged:function(l){l=l||o;var d="_"+l;return Object.keys(this[d]).length<this[l].length?!0:!f(this[d],this,!0)},saveState:function(l){var d=l&&l.propertySet||o,h="_"+d;return this[h]?(c(this,h,this[d]),l&&l.stateProperties&&c(this,h,l.stateProperties),this):this.setupState(l)},setupState:function(l){l=l||{};var d=l.propertySet||o;return l.propertySet=d,this["_"+d]={},this.saveState(l),this}})}(),function(){var s=e.util.degreesToRadians;e.util.object.extend(e.Object.prototype,{_findTargetCorner:function(o,c){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=o.x,l=o.y,d,h,p=Object.keys(this.oCoords),g=p.length-1,m;for(this.__corner=0;g>=0;g--)if(m=p[g],!!this.isControlVisible(m)&&(h=this._getImageLines(c?this.oCoords[m].touchCorner:this.oCoords[m].corner),d=this._findCrossPoints({x:f,y:l},h),d!==0&&d%2===1))return this.__corner=m,m;return!1},forEachControl:function(o){for(var c in this.controls)o(this.controls[c],c,this)},_setCornerCoords:function(){var o=this.oCoords;for(var c in o){var f=this.controls[c];o[c].corner=f.calcCornerCoords(this.angle,this.cornerSize,o[c].x,o[c].y,!1),o[c].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,o[c].x,o[c].y,!0)}},drawSelectionBackground:function(o){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;o.save();var c=this.getCenterPoint(),f=this._calculateCurrentDimensions(),l=this.canvas.viewportTransform;return o.translate(c.x,c.y),o.scale(1/l[0],1/l[3]),o.rotate(s(this.angle)),o.fillStyle=this.selectionBackgroundColor,o.fillRect(-f.x/2,-f.y/2,f.x,f.y),o.restore(),this},drawBorders:function(o,c){c=c||{};var f=this._calculateCurrentDimensions(),l=this.borderScaleFactor,d=f.x+l,h=f.y+l,p=typeof c.hasControls<"u"?c.hasControls:this.hasControls,g=!1;return o.save(),o.strokeStyle=c.borderColor||this.borderColor,this._setLineDash(o,c.borderDashArray||this.borderDashArray),o.strokeRect(-d/2,-h/2,d,h),p&&(o.beginPath(),this.forEachControl(function(m,v,b){m.withConnection&&m.getVisibility(b,v)&&(g=!0,o.moveTo(m.x*d,m.y*h),o.lineTo(m.x*d+m.offsetX,m.y*h+m.offsetY))}),g&&o.stroke()),o.restore(),this},drawBordersInGroup:function(o,c,f){f=f||{};var l=e.util.sizeAfterTransform(this.width,this.height,c),d=this.strokeWidth,h=this.strokeUniform,p=this.borderScaleFactor,g=l.x+d*(h?this.canvas.getZoom():c.scaleX)+p,m=l.y+d*(h?this.canvas.getZoom():c.scaleY)+p;return o.save(),this._setLineDash(o,f.borderDashArray||this.borderDashArray),o.strokeStyle=f.borderColor||this.borderColor,o.strokeRect(-g/2,-m/2,g,m),o.restore(),this},drawControls:function(o,c){c=c||{},o.save();var f=this.canvas.getRetinaScaling(),l,d;return o.setTransform(f,0,0,f,0,0),o.strokeStyle=o.fillStyle=c.cornerColor||this.cornerColor,this.transparentCorners||(o.strokeStyle=c.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(o,c.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(l=this.group.calcTransformMatrix()),this.forEachControl(function(h,p,g){d=g.oCoords[p],h.getVisibility(g,p)&&(l&&(d=e.util.transformPoint(d,l)),h.render(o,d.x,d.y,c,g))}),o.restore(),this},isControlVisible:function(o){return this.controls[o]&&this.controls[o].getVisibility(this,o)},setControlVisible:function(o,c){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[o]=c,this},setControlsVisibility:function(o){o||(o={});for(var c in o)this.setControlVisible(c,o[c]);return this},onDeselect:function(){},onSelect:function(){}})}(),e.util.object.extend(e.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(s,o){o=o||{};var c=function(){},f=o.onComplete||c,l=o.onChange||c,d=this;return e.util.animate({target:this,startValue:s.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(h){s.set("left",h),d.requestRenderAll(),l()},onComplete:function(){s.setCoords(),f()}})},fxCenterObjectV:function(s,o){o=o||{};var c=function(){},f=o.onComplete||c,l=o.onChange||c,d=this;return e.util.animate({target:this,startValue:s.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(h){s.set("top",h),d.requestRenderAll(),l()},onComplete:function(){s.setCoords(),f()}})},fxRemove:function(s,o){o=o||{};var c=function(){},f=o.onComplete||c,l=o.onChange||c,d=this;return e.util.animate({target:this,startValue:s.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(h){s.set("opacity",h),d.requestRenderAll(),l()},onComplete:function(){d.remove(s),f()}})}}),e.util.object.extend(e.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var s=[],o,c,f=[];for(o in arguments[0])s.push(o);for(var l=0,d=s.length;l<d;l++)o=s[l],c=l!==d-1,f.push(this._animate(o,arguments[0][o],arguments[1],c));return f}else return this._animate.apply(this,arguments)},_animate:function(s,o,c,f){var l=this,d;o=o.toString(),c?c=e.util.object.clone(c):c={},~s.indexOf(".")&&(d=s.split("."));var h=l.colorProperties.indexOf(s)>-1||d&&l.colorProperties.indexOf(d[1])>-1,p=d?this.get(d[0])[d[1]]:this.get(s);"from"in c||(c.from=p),h||(~o.indexOf("=")?o=p+parseFloat(o.replace("=","")):o=parseFloat(o));var g={target:this,startValue:c.from,endValue:o,byValue:c.by,easing:c.easing,duration:c.duration,abort:c.abort&&function(m,v,b){return c.abort.call(l,m,v,b)},onChange:function(m,v,b){d?l[d[0]][d[1]]=m:l.set(s,m),!f&&c.onChange&&c.onChange(m,v,b)},onComplete:function(m,v,b){f||(l.setCoords(),c.onComplete&&c.onComplete(m,v,b))}};return h?e.util.animateColor(g.startValue,g.endValue,g.duration,g):e.util.animate(g)}}),function(s){var o=s.fabric||(s.fabric={}),c=o.util.object.extend,f=o.util.object.clone,l={x1:1,x2:1,y1:1,y2:1};if(o.Line){o.warn("fabric.Line is already defined");return}o.Line=o.util.createClass(o.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:o.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(h,p){h||(h=[0,0,0,0]),this.callSuper("initialize",p),this.set("x1",h[0]),this.set("y1",h[1]),this.set("x2",h[2]),this.set("y2",h[3]),this._setWidthHeight(p)},_setWidthHeight:function(h){h||(h={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in h?h.left:this._getLeftToOriginX(),this.top="top"in h?h.top:this._getTopToOriginY()},_set:function(h,p){return this.callSuper("_set",h,p),typeof l[h]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:d({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:d({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(h){h.beginPath();var p=this.calcLinePoints();h.moveTo(p.x1,p.y1),h.lineTo(p.x2,p.y2),h.lineWidth=this.strokeWidth;var g=h.strokeStyle;h.strokeStyle=this.stroke||h.fillStyle,this.stroke&&this._renderStroke(h),h.strokeStyle=g},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(h){return c(this.callSuper("toObject",h),this.calcLinePoints())},_getNonTransformedDimensions:function(){var h=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(h.y-=this.strokeWidth),this.height===0&&(h.x-=this.strokeWidth)),h},calcLinePoints:function(){var h=this.x1<=this.x2?-1:1,p=this.y1<=this.y2?-1:1,g=h*this.width*.5,m=p*this.height*.5,v=h*this.width*-.5,b=p*this.height*-.5;return{x1:g,x2:v,y1:m,y2:b}},_toSVG:function(){var h=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',h.x1,'" y1="',h.y1,'" x2="',h.x2,'" y2="',h.y2,`" />
`]}}),o.Line.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),o.Line.fromElement=function(h,p,g){g=g||{};var m=o.parseAttributes(h,o.Line.ATTRIBUTE_NAMES),v=[m.x1||0,m.y1||0,m.x2||0,m.y2||0];p(new o.Line(v,c(m,g)))},o.Line.fromObject=function(h,p){function g(v){delete v.points,p&&p(v)}var m=f(h,!0);m.points=[h.x1,h.y1,h.x2,h.y2],o.Object._fromObject("Line",m,g,"points")};function d(h,p){var g=h.origin,m=h.axis1,v=h.axis2,b=h.dimension,_=p.nearest,S=p.center,w=p.farthest;return function(){switch(this.get(g)){case _:return Math.min(this.get(m),this.get(v));case S:return Math.min(this.get(m),this.get(v))+.5*this.get(b);case w:return Math.max(this.get(m),this.get(v))}}}}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.util.degreesToRadians;if(o.Circle){o.warn("fabric.Circle is already defined.");return}o.Circle=o.util.createClass(o.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:o.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(l,d){return this.callSuper("_set",l,d),l==="radius"&&this.setRadius(d),this},toObject:function(l){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(l))},_toSVG:function(){var l,d=0,h=0,p=(this.endAngle-this.startAngle)%360;if(p===0)l=["<circle ","COMMON_PARTS",'cx="'+d+'" cy="'+h+'" ','r="',this.radius,`" />
`];else{var g=c(this.startAngle),m=c(this.endAngle),v=this.radius,b=o.util.cos(g)*v,_=o.util.sin(g)*v,S=o.util.cos(m)*v,w=o.util.sin(m)*v,C=p>180?"1":"0";l=['<path d="M '+b+" "+_," A "+v+" "+v," 0 ",+C+" 1"," "+S+" "+w,'" ',"COMMON_PARTS",` />
`]}return l},_render:function(l){l.beginPath(),l.arc(0,0,this.radius,c(this.startAngle),c(this.endAngle),!1),this._renderPaintInOrder(l)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(l){return this.radius=l,this.set("width",l*2).set("height",l*2)}}),o.Circle.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),o.Circle.fromElement=function(l,d){var h=o.parseAttributes(l,o.Circle.ATTRIBUTE_NAMES);if(!f(h))throw new Error("value of `r` attribute is required and can not be negative");h.left=(h.left||0)-h.radius,h.top=(h.top||0)-h.radius,d(new o.Circle(h))};function f(l){return"radius"in l&&l.radius>=0}o.Circle.fromObject=function(l,d){o.Object._fromObject("Circle",l,d)}}(t),function(s){var o=s.fabric||(s.fabric={});if(o.Triangle){o.warn("fabric.Triangle is already defined");return}o.Triangle=o.util.createClass(o.Object,{type:"triangle",width:100,height:100,_render:function(c){var f=this.width/2,l=this.height/2;c.beginPath(),c.moveTo(-f,l),c.lineTo(0,-l),c.lineTo(f,l),c.closePath(),this._renderPaintInOrder(c)},_toSVG:function(){var c=this.width/2,f=this.height/2,l=[-c+" "+f,"0 "+-f,c+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',l,'" />']}}),o.Triangle.fromObject=function(c,f){return o.Object._fromObject("Triangle",c,f)}}(t),function(s){var o=s.fabric||(s.fabric={}),c=Math.PI*2;if(o.Ellipse){o.warn("fabric.Ellipse is already defined.");return}o.Ellipse=o.util.createClass(o.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:o.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,l){switch(this.callSuper("_set",f,l),f){case"rx":this.rx=l,this.set("width",l*2);break;case"ry":this.ry=l,this.set("height",l*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,c,!1),f.restore(),this._renderPaintInOrder(f)}}),o.Ellipse.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),o.Ellipse.fromElement=function(f,l){var d=o.parseAttributes(f,o.Ellipse.ATTRIBUTE_NAMES);d.left=(d.left||0)-d.rx,d.top=(d.top||0)-d.ry,l(new o.Ellipse(d))},o.Ellipse.fromObject=function(f,l){o.Object._fromObject("Ellipse",f,l)}}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.util.object.extend;if(o.Rect){o.warn("fabric.Rect is already defined");return}o.Rect=o.util.createClass(o.Object,{stateProperties:o.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:o.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var l=this.rx?Math.min(this.rx,this.width/2):0,d=this.ry?Math.min(this.ry,this.height/2):0,h=this.width,p=this.height,g=-this.width/2,m=-this.height/2,v=l!==0||d!==0,b=1-.5522847498;f.beginPath(),f.moveTo(g+l,m),f.lineTo(g+h-l,m),v&&f.bezierCurveTo(g+h-b*l,m,g+h,m+b*d,g+h,m+d),f.lineTo(g+h,m+p-d),v&&f.bezierCurveTo(g+h,m+p-b*d,g+h-b*l,m+p,g+h-l,m+p),f.lineTo(g+l,m+p),v&&f.bezierCurveTo(g+b*l,m+p,g,m+p-b*d,g,m+p-d),f.lineTo(g,m+d),v&&f.bezierCurveTo(g,m+b*d,g+b*l,m,g+l,m),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,l=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',l,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),o.Rect.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),o.Rect.fromElement=function(f,l,d){if(!f)return l(null);d=d||{};var h=o.parseAttributes(f,o.Rect.ATTRIBUTE_NAMES);h.left=h.left||0,h.top=h.top||0,h.height=h.height||0,h.width=h.width||0;var p=new o.Rect(c(d?o.util.object.clone(d):{},h));p.visible=p.visible&&p.width>0&&p.height>0,l(p)},o.Rect.fromObject=function(f,l){return o.Object._fromObject("Rect",f,l)}}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.util.object.extend,f=o.util.array.min,l=o.util.array.max,d=o.util.toFixed,h=o.util.projectStrokeOnPoints;if(o.Polyline){o.warn("fabric.Polyline is already defined");return}o.Polyline=o.util.createClass(o.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:o.Object.prototype.cacheProperties.concat("points"),initialize:function(p,g){g=g||{},this.points=p||[],this.callSuper("initialize",g),this._setPositionDimensions(g)},_projectStrokeOnPoints:function(){return h(this.points,this,!0)},_setPositionDimensions:function(p){var g=this._calcDimensions(p),m,v=this.exactBoundingBox?this.strokeWidth:0;this.width=g.width-v,this.height=g.height-v,p.fromSVG||(m=this.translateToGivenOrigin({x:g.left-this.strokeWidth/2+v/2,y:g.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof p.left>"u"&&(this.left=p.fromSVG?g.left:m.x),typeof p.top>"u"&&(this.top=p.fromSVG?g.top:m.y),this.pathOffset={x:g.left+this.width/2+v/2,y:g.top+this.height/2+v/2}},_calcDimensions:function(){var p=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,g=f(p,"x")||0,m=f(p,"y")||0,v=l(p,"x")||0,b=l(p,"y")||0,_=v-g,S=b-m;return{left:g,top:m,width:_,height:S}},toObject:function(p){return c(this.callSuper("toObject",p),{points:this.points.concat()})},_toSVG:function(){for(var p=[],g=this.pathOffset.x,m=this.pathOffset.y,v=o.Object.NUM_FRACTION_DIGITS,b=0,_=this.points.length;b<_;b++)p.push(d(this.points[b].x-g,v),",",d(this.points[b].y-m,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',p.join(""),`" />
`]},commonRender:function(p){var g,m=this.points.length,v=this.pathOffset.x,b=this.pathOffset.y;if(!m||isNaN(this.points[m-1].y))return!1;p.beginPath(),p.moveTo(this.points[0].x-v,this.points[0].y-b);for(var _=0;_<m;_++)g=this.points[_],p.lineTo(g.x-v,g.y-b);return!0},_render:function(p){this.commonRender(p)&&this._renderPaintInOrder(p)},complexity:function(){return this.get("points").length}}),o.Polyline.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(),o.Polyline.fromElementGenerator=function(p){return function(g,m,v){if(!g)return m(null);v||(v={});var b=o.parsePointsAttribute(g.getAttribute("points")),_=o.parseAttributes(g,o[p].ATTRIBUTE_NAMES);_.fromSVG=!0,m(new o[p](b,c(_,v)))}},o.Polyline.fromElement=o.Polyline.fromElementGenerator("Polyline"),o.Polyline.fromObject=function(p,g){return o.Object._fromObject("Polyline",p,g,"points")}}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.util.projectStrokeOnPoints;if(o.Polygon){o.warn("fabric.Polygon is already defined");return}o.Polygon=o.util.createClass(o.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return c(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),o.Polygon.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(),o.Polygon.fromElement=o.Polyline.fromElementGenerator("Polygon"),o.Polygon.fromObject=function(f,l){o.Object._fromObject("Polygon",f,l,"points")}}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.util.array.min,f=o.util.array.max,l=o.util.object.extend,d=o.util.object.clone,h=o.util.toFixed;if(o.Path){o.warn("fabric.Path is already defined");return}o.Path=o.util.createClass(o.Object,{type:"path",path:null,cacheProperties:o.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:o.Object.prototype.stateProperties.concat("path"),initialize:function(p,g){g=d(g||{}),delete g.path,this.callSuper("initialize",g),this._setPath(p||[],g)},_setPath:function(p,g){this.path=o.util.makePathSimpler(Array.isArray(p)?p:o.util.parsePath(p)),o.Polyline.prototype._setPositionDimensions.call(this,g||{})},_renderPathCommands:function(p){var g,m=0,v=0,b=0,_=0,S=0,w=0,C=-this.pathOffset.x,x=-this.pathOffset.y;p.beginPath();for(var M=0,E=this.path.length;M<E;++M)switch(g=this.path[M],g[0]){case"L":b=g[1],_=g[2],p.lineTo(b+C,_+x);break;case"M":b=g[1],_=g[2],m=b,v=_,p.moveTo(b+C,_+x);break;case"C":b=g[5],_=g[6],S=g[3],w=g[4],p.bezierCurveTo(g[1]+C,g[2]+x,S+C,w+x,b+C,_+x);break;case"Q":p.quadraticCurveTo(g[1]+C,g[2]+x,g[3]+C,g[4]+x),b=g[3],_=g[4],S=g[1],w=g[2];break;case"z":case"Z":b=m,_=v,p.closePath();break}},_render:function(p){this._renderPathCommands(p),this._renderPaintInOrder(p)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(p){return l(this.callSuper("toObject",p),{path:this.path.map(function(g){return g.slice()})})},toDatalessObject:function(p){var g=this.toObject(["sourcePath"].concat(p));return g.sourcePath&&delete g.path,g},_toSVG:function(){var p=o.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',p,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var p=o.Object.NUM_FRACTION_DIGITS;return" translate("+h(-this.pathOffset.x,p)+", "+h(-this.pathOffset.y,p)+")"},toClipPathSVG:function(p){var g=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:g})},toSVG:function(p){var g=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:g})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var p=[],g=[],m,v=0,b=0,_=0,S=0,w,C=0,x=this.path.length;C<x;++C){switch(m=this.path[C],m[0]){case"L":_=m[1],S=m[2],w=[];break;case"M":_=m[1],S=m[2],v=_,b=S,w=[];break;case"C":w=o.util.getBoundsOfCurve(_,S,m[1],m[2],m[3],m[4],m[5],m[6]),_=m[5],S=m[6];break;case"Q":w=o.util.getBoundsOfCurve(_,S,m[1],m[2],m[1],m[2],m[3],m[4]),_=m[3],S=m[4];break;case"z":case"Z":_=v,S=b;break}w.forEach(function(H){p.push(H.x),g.push(H.y)}),p.push(_),g.push(S)}var M=c(p)||0,E=c(g)||0,A=f(p)||0,O=f(g)||0,I=A-M,$=O-E;return{left:M,top:E,width:I,height:$}}}),o.Path.fromObject=function(p,g){if(typeof p.sourcePath=="string"){var m=p.sourcePath;o.loadSVGFromURL(m,function(v){var b=v[0];b.setOptions(p),p.clipPath?o.util.enlivenObjects([p.clipPath],function(_){b.clipPath=_[0],g&&g(b)}):g&&g(b)})}else o.Object._fromObject("Path",p,g,"path")},o.Path.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(["d"]),o.Path.fromElement=function(p,g,m){var v=o.parseAttributes(p,o.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,g(new o.Path(v.d,l(v,m)))}}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.util.array.min,f=o.util.array.max;o.Group||(o.Group=o.util.createClass(o.Object,o.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(l,d,h){d=d||{},this._objects=[],h&&this.callSuper("initialize",d),this._objects=l||[];for(var p=this._objects.length;p--;)this._objects[p].group=this;if(h)this._updateObjectsACoords();else{var g=d&&d.centerPoint;d.originX!==void 0&&(this.originX=d.originX),d.originY!==void 0&&(this.originY=d.originY),g||this._calcBounds(),this._updateObjectsCoords(g),delete d.centerPoint,this.callSuper("initialize",d)}this.setCoords()},_updateObjectsACoords:function(){for(var l=!0,d=this._objects.length;d--;)this._objects[d].setCoords(l)},_updateObjectsCoords:function(d){for(var d=d||this.getCenterPoint(),h=this._objects.length;h--;)this._updateObjectCoords(this._objects[h],d)},_updateObjectCoords:function(l,d){var h=l.left,p=l.top,g=!0;l.set({left:h-d.x,top:p-d.y}),l.group=this,l.setCoords(g)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(l){var d=!!this.group;return this._restoreObjectsState(),o.util.resetObjectTransform(this),l&&(d&&o.util.removeTransformFromObject(l,this.group.calcTransformMatrix()),this._objects.push(l),l.group=this,l._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,d?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(l){return this._restoreObjectsState(),o.util.resetObjectTransform(this),this.remove(l),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(l){this.dirty=!0,l.group=this,l._set("canvas",this.canvas)},_onObjectRemoved:function(l){this.dirty=!0,delete l.group},_set:function(l,d){var h=this._objects.length;if(this.useSetOnGroup)for(;h--;)this._objects[h].setOnGroup(l,d);if(l==="canvas")for(;h--;)this._objects[h]._set(l,d);o.Object.prototype._set.call(this,l,d)},toObject:function(l){var d=this.includeDefaultValues,h=this._objects.filter(function(g){return!g.excludeFromExport}).map(function(g){var m=g.includeDefaultValues;g.includeDefaultValues=d;var v=g.toObject(l);return g.includeDefaultValues=m,v}),p=o.Object.prototype.toObject.call(this,l);return p.objects=h,p},toDatalessObject:function(l){var d,h=this.sourcePath;if(h)d=h;else{var p=this.includeDefaultValues;d=this._objects.map(function(m){var v=m.includeDefaultValues;m.includeDefaultValues=p;var b=m.toDatalessObject(l);return m.includeDefaultValues=v,b})}var g=o.Object.prototype.toDatalessObject.call(this,l);return g.objects=d,g},render:function(l){this._transformDone=!0,this.callSuper("render",l),this._transformDone=!1},shouldCache:function(){var l=o.Object.prototype.shouldCache.call(this);if(l){for(var d=0,h=this._objects.length;d<h;d++)if(this._objects[d].willDrawShadow())return this.ownCaching=!1,!1}return l},willDrawShadow:function(){if(o.Object.prototype.willDrawShadow.call(this))return!0;for(var l=0,d=this._objects.length;l<d;l++)if(this._objects[l].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(l){for(var d=0,h=this._objects.length;d<h;d++)this._objects[d].render(l);this._drawClipPath(l,this.clipPath)},isCacheDirty:function(l){if(this.callSuper("isCacheDirty",l))return!0;if(!this.statefullCache)return!1;for(var d=0,h=this._objects.length;d<h;d++)if(this._objects[d].isCacheDirty(!0)){if(this._cacheCanvas){var p=this.cacheWidth/this.zoomX,g=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-g/2,p,g)}return!0}return!1},_restoreObjectsState:function(){var l=this.calcOwnMatrix();return this._objects.forEach(function(d){o.util.addTransformToObject(d,l),delete d.group,d.setCoords()}),this},destroy:function(){return this._objects.forEach(function(l){l.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var l=this._objects,d=this.canvas;this._objects=[];var h=this.toObject();delete h.objects;var p=new o.ActiveSelection([]);return p.set(h),p.type="activeSelection",d.remove(this),l.forEach(function(g){g.group=p,g.dirty=!0,d.add(g)}),p.canvas=d,p._objects=l,d._activeObject=p,p.setCoords(),p}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var l=!0;return this.forEachObject(function(d){d.setCoords(l)}),this},_calcBounds:function(l){for(var d=[],h=[],p,g,m,v=["tr","br","bl","tl"],b=0,_=this._objects.length,S,w=v.length;b<_;++b){for(p=this._objects[b],m=p.calcACoords(),S=0;S<w;S++)g=v[S],d.push(m[g].x),h.push(m[g].y);p.aCoords=m}this._getBounds(d,h,l)},_getBounds:function(l,d,h){var p=new o.Point(c(l),c(d)),g=new o.Point(f(l),f(d)),m=p.y||0,v=p.x||0,b=g.x-p.x||0,_=g.y-p.y||0;this.width=b,this.height=_,h||this.setPositionByOrigin({x:v,y:m},"left","top")},_toSVG:function(l){for(var d=["<g ","COMMON_PARTS",` >
`],h=0,p=this._objects.length;h<p;h++)d.push("		",this._objects[h].toSVG(l));return d.push(`</g>
`),d},getSvgStyles:function(){var l=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",d=this.visible?"":" visibility: hidden;";return[l,this.getSvgFilter(),d].join("")},toClipPathSVG:function(l){for(var d=[],h=0,p=this._objects.length;h<p;h++)d.push("	",this._objects[h].toClipPathSVG(l));return this._createBaseClipPathSVGMarkup(d,{reviver:l})}}),o.Group.fromObject=function(l,d){var h=l.objects,p=o.util.object.clone(l,!0);if(delete p.objects,typeof h=="string"){o.loadSVGFromURL(h,function(g){var m=o.util.groupSVGElements(g,l,h),v=p.clipPath;delete p.clipPath,m.set(p),v?o.util.enlivenObjects([v],function(b){m.clipPath=b[0],d&&d(m)}):d&&d(m)});return}o.util.enlivenObjects(h,function(g){o.util.enlivenObjectEnlivables(l,p,function(){d&&d(new o.Group(g,p,!0))})})})}(t),function(s){var o=s.fabric||(s.fabric={});o.ActiveSelection||(o.ActiveSelection=o.util.createClass(o.Group,{type:"activeSelection",initialize:function(c,f){f=f||{},this._objects=c||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),o.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var c=this._objects.concat();this._objects=[];var f=o.Object.prototype.toObject.call(this),l=new o.Group([]);if(delete f.type,l.set(f),c.forEach(function(h){h.canvas.remove(h),h.group=l}),l._objects=c,!this.canvas)return l;var d=this.canvas;return d.add(l),d._activeObject=l,l.setCoords(),l},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(c,f,l){c.save(),c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",c,f),l=l||{},typeof l.hasControls>"u"&&(l.hasControls=!1),l.forActiveSelection=!0;for(var d=0,h=this._objects.length;d<h;d++)this._objects[d]._renderControls(c,l);c.restore()}}),o.ActiveSelection.fromObject=function(c,f){o.util.enlivenObjects(c.objects,function(l){delete c.objects,f&&f(new o.ActiveSelection(l,c,!0))})})}(t),function(s){var o=e.util.object.extend;if(s.fabric||(s.fabric={}),s.fabric.Image){e.warn("fabric.Image is already defined.");return}e.Image=e.util.createClass(e.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:e.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:e.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(c,f){f||(f={}),this.filters=[],this.cacheKey="texture"+e.Object.__uid++,this.callSuper("initialize",f),this._initElement(c,f)},getElement:function(){return this._element||{}},setElement:function(c,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=c,this._originalElement=c,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(c){var f=e.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(c)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(c){e.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var c=this.getElement();return{width:c.naturalWidth||c.width,height:c.naturalHeight||c.height}},_stroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,l=this.height/2;c.beginPath(),c.moveTo(-f,-l),c.lineTo(f,-l),c.lineTo(f,l),c.lineTo(-f,l),c.lineTo(-f,-l),c.closePath()}},toObject:function(c){var f=[];this.filters.forEach(function(d){d&&f.push(d.toObject())});var l=o(this.callSuper("toObject",["cropX","cropY"].concat(c)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(l.resizeFilter=this.resizeFilter.toObject()),l},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var c=[],f=[],l,d=this._element,h=-this.width/2,p=-this.height/2,g="",m="";if(!d)return[];if(this.hasCrop()){var v=e.Object.__uid++;c.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+h+'" y="'+p+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),g=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(m='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',h-this.cropX,'" y="',p-this.cropY,'" width="',d.width||d.naturalWidth,'" height="',d.height||d.height,m,'"',g,`></image>
`),this.stroke||this.strokeDashArray){var b=this.fill;this.fill=null,l=["	<rect ",'x="',h,'" y="',p,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=b}return this.paintFirst!=="fill"?c=c.concat(l,f):c=c.concat(f,l),c},getSrc:function(c){var f=c?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(c,f,l){return e.util.loadImage(c,function(d,h){this.setElement(d,l),this._setWidthHeight(),f&&f(this,h)},this,l&&l.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var c=this.resizeFilter,f=this.minimumScaleTrigger,l=this.getTotalObjectScaling(),d=l.scaleX,h=l.scaleY,p=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!c||d>f&&h>f){this._element=p,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=d,this._lastScaleY=h;return}e.filterBackend||(e.filterBackend=e.initFilterBackend());var g=e.util.createCanvasElement(),m=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=p.width,b=p.height;g.width=v,g.height=b,this._element=g,this._lastScaleX=c.scaleX=d,this._lastScaleY=c.scaleY=h,e.filterBackend.applyFilters([c],p,v,b,this._element,m),this._filterScalingX=g.width/this._originalElement.width,this._filterScalingY=g.height/this._originalElement.height},applyFilters:function(c){if(c=c||this.filters||[],c=c.filter(function(p){return p&&!p.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),c.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,l=f.naturalWidth||f.width,d=f.naturalHeight||f.height;if(this._element===this._originalElement){var h=e.util.createCanvasElement();h.width=l,h.height=d,this._element=h,this._filteredEl=h}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,l,d),this._lastScaleX=1,this._lastScaleY=1;return e.filterBackend||(e.filterBackend=e.initFilterBackend()),e.filterBackend.applyFilters(c,this._originalElement,l,d,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(c){e.util.setImageSmoothing(c,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(c),this._renderPaintInOrder(c)},drawCacheOnCanvas:function(c){e.util.setImageSmoothing(c,this.imageSmoothing),e.Object.prototype.drawCacheOnCanvas.call(this,c)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(c){var f=this._element;if(f){var l=this._filterScalingX,d=this._filterScalingY,h=this.width,p=this.height,g=Math.min,m=Math.max,v=m(this.cropX,0),b=m(this.cropY,0),_=f.naturalWidth||f.width,S=f.naturalHeight||f.height,w=v*l,C=b*d,x=g(h*l,_-w),M=g(p*d,S-C),E=-h/2,A=-p/2,O=g(h,_/l-v),I=g(p,S/d-b);f&&c.drawImage(f,w,C,x,M,E,A,O,I)}},_needsResize:function(){var c=this.getTotalObjectScaling();return c.scaleX!==this._lastScaleX||c.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(c,f){this.setElement(e.util.getById(c),f),e.util.addClass(this.getElement(),e.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={}),this.setOptions(c),this._setWidthHeight(c)},_initFilters:function(c,f){c&&c.length?e.util.enlivenObjects(c,function(l){f&&f(l)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(c){c||(c={});var f=this.getElement();this.width=c.width||f.naturalWidth||f.width||0,this.height=c.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var c=e.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,l=this._element.height,d=1,h=1,p=0,g=0,m=0,v=0,b,_=this.width,S=this.height,w={width:_,height:S};return c&&(c.alignX!=="none"||c.alignY!=="none")?(c.meetOrSlice==="meet"&&(d=h=e.util.findScaleToFit(this._element,w),b=(_-f*d)/2,c.alignX==="Min"&&(p=-b),c.alignX==="Max"&&(p=b),b=(S-l*h)/2,c.alignY==="Min"&&(g=-b),c.alignY==="Max"&&(g=b)),c.meetOrSlice==="slice"&&(d=h=e.util.findScaleToCover(this._element,w),b=f-_/d,c.alignX==="Mid"&&(m=b/2),c.alignX==="Max"&&(m=b),b=l-S/h,c.alignY==="Mid"&&(v=b/2),c.alignY==="Max"&&(v=b),f=_/d,l=S/h)):(d=_/f,h=S/l),{width:f,height:l,scaleX:d,scaleY:h,offsetLeft:p,offsetTop:g,cropX:m,cropY:v}}}),e.Image.CSS_CANVAS="canvas-img",e.Image.prototype.getSvgSrc=e.Image.prototype.getSrc,e.Image.fromObject=function(c,f){var l=e.util.object.clone(c);e.util.loadImage(l.src,function(d,h){if(h){f&&f(null,!0);return}e.Image.prototype._initFilters.call(l,l.filters,function(p){l.filters=p||[],e.Image.prototype._initFilters.call(l,[l.resizeFilter],function(g){l.resizeFilter=g[0],e.util.enlivenObjectEnlivables(l,l,function(){var m=new e.Image(d,l);f(m,!1)})})})},null,l.crossOrigin)},e.Image.fromURL=function(c,f,l){e.util.loadImage(c,function(d,h){f&&f(new e.Image(d,l),h)},null,l&&l.crossOrigin)},e.Image.ATTRIBUTE_NAMES=e.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),e.Image.fromElement=function(c,f,l){var d=e.parseAttributes(c,e.Image.ATTRIBUTE_NAMES);e.Image.fromURL(d["xlink:href"],f,o(l?e.util.object.clone(l):{},d))}}(t),e.util.object.extend(e.Object.prototype,{_getAngleValueForStraighten:function(){var s=this.angle%360;return s>0?Math.round((s-1)/90)*90:Math.round(s/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(s){s=s||{};var o=function(){},c=s.onComplete||o,f=s.onChange||o,l=this;return e.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(d){l.rotate(d),f()},onComplete:function(){l.setCoords(),c()}})}}),e.util.object.extend(e.StaticCanvas.prototype,{straightenObject:function(s){return s.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(s){return s.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function s(c,f){var l="precision "+f+` float;
void main(){}`,d=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(d,l),c.compileShader(d),!!c.getShaderParameter(d,c.COMPILE_STATUS)}e.isWebglSupported=function(c){if(e.isLikelyNode)return!1;c=c||e.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),l=f.getContext("webgl")||f.getContext("experimental-webgl"),d=!1;if(l){e.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),d=e.maxTextureSize>=c;for(var h=["highp","mediump","lowp"],p=0;p<3;p++)if(s(l,h[p])){e.webGlPrecision=h[p];break}}return this.isSupported=d,d},e.WebglFilterBackend=o;function o(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}o.prototype={tileSize:2048,resources:{},setupGLContext:function(c,f){this.dispose(),this.createWebGLCanvas(c,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(c,f)},chooseFastestCopyGLTo2DMethod:function(c,f){var l=typeof window.performance<"u",d;try{new ImageData(1,1),d=!0}catch{d=!1}var h=typeof ArrayBuffer<"u",p=typeof Uint8ClampedArray<"u";if(l&&d&&h&&p){var g=e.util.createCanvasElement(),m=new ArrayBuffer(c*f*4);if(e.forceGLPutImageData){this.imageBuffer=m,this.copyGLTo2D=u;return}var v={imageBuffer:m,destinationWidth:c,destinationHeight:f,targetCanvas:g},b,_,S;g.width=c,g.height=f,b=window.performance.now(),a.call(v,this.gl,v),_=window.performance.now()-b,b=window.performance.now(),u.call(v,this.gl,v),S=window.performance.now()-b,_>S?(this.imageBuffer=m,this.copyGLTo2D=u):this.copyGLTo2D=a}},createWebGLCanvas:function(c,f){var l=e.util.createCanvasElement();l.width=c,l.height=f;var d={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},h=l.getContext("webgl",d);h||(h=l.getContext("experimental-webgl",d)),h&&(h.clearColor(0,0,0,0),this.canvas=l,this.gl=h)},applyFilters:function(c,f,l,d,h,p){var g=this.gl,m;p&&(m=this.getCachedTexture(p,f));var v={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:l,sourceHeight:d,destinationWidth:l,destinationHeight:d,context:g,sourceTexture:this.createTexture(g,l,d,!m&&f),targetTexture:this.createTexture(g,l,d),originalTexture:m||this.createTexture(g,l,d,!m&&f),passes:c.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:h},b=g.createFramebuffer();return g.bindFramebuffer(g.FRAMEBUFFER,b),c.forEach(function(_){_&&_.applyTo(v)}),r(v),this.copyGLTo2D(g,v),g.bindTexture(g.TEXTURE_2D,null),g.deleteTexture(v.sourceTexture),g.deleteTexture(v.targetTexture),g.deleteFramebuffer(b),h.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(c,f,l,d,h){var p=c.createTexture();return c.bindTexture(c.TEXTURE_2D,p),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,h||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,h||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),d?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,d):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,f,l,0,c.RGBA,c.UNSIGNED_BYTE,null),p},getCachedTexture:function(c,f){if(this.textureCache[c])return this.textureCache[c];var l=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[c]=l,l},evictCachesForKey:function(c){this.textureCache[c]&&(this.gl.deleteTexture(this.textureCache[c]),delete this.textureCache[c])},copyGLTo2D:a,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var c=this.gl,f={renderer:"",vendor:""};if(!c)return f;var l=c.getExtension("WEBGL_debug_renderer_info");if(l){var d=c.getParameter(l.UNMASKED_RENDERER_WEBGL),h=c.getParameter(l.UNMASKED_VENDOR_WEBGL);d&&(f.renderer=d.toLowerCase()),h&&(f.vendor=h.toLowerCase())}return this.gpuInfo=f,f}}}();function r(s){var o=s.targetCanvas,c=o.width,f=o.height,l=s.destinationWidth,d=s.destinationHeight;(c!==l||f!==d)&&(o.width=l,o.height=d)}function a(s,o){var c=s.canvas,f=o.targetCanvas,l=f.getContext("2d");l.translate(0,f.height),l.scale(1,-1);var d=c.height-f.height;l.drawImage(c,0,d,f.width,f.height,0,0,f.width,f.height)}function u(s,o){var c=o.targetCanvas,f=c.getContext("2d"),l=o.destinationWidth,d=o.destinationHeight,h=l*d*4,p=new Uint8Array(this.imageBuffer,0,h),g=new Uint8ClampedArray(this.imageBuffer,0,h);s.readPixels(0,0,l,d,s.RGBA,s.UNSIGNED_BYTE,p);var m=new ImageData(g,l,d);f.putImageData(m,0,0)}(function(){var s=function(){};e.Canvas2dFilterBackend=o;function o(){}o.prototype={evictCachesForKey:s,dispose:s,clearWebGLCaches:s,resources:{},applyFilters:function(c,f,l,d,h){var p=h.getContext("2d");p.drawImage(f,0,0,l,d);var g=p.getImageData(0,0,l,d),m=p.getImageData(0,0,l,d),v={sourceWidth:l,sourceHeight:d,imageData:g,originalEl:f,originalImageData:m,canvasEl:h,ctx:p,filterBackend:this};return c.forEach(function(b){b.applyTo(v)}),(v.imageData.width!==l||v.imageData.height!==d)&&(h.width=v.imageData.width,h.height=v.imageData.height),p.putImageData(v.imageData,0,0),v}}})(),e.Image=e.Image||{},e.Image.filters=e.Image.filters||{},e.Image.filters.BaseFilter=e.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(s){s&&this.setOptions(s)},setOptions:function(s){for(var o in s)this[o]=s[o]},createProgram:function(s,o,c){o=o||this.fragmentSource,c=c||this.vertexSource,e.webGlPrecision!=="highp"&&(o=o.replace(/precision highp float/g,"precision "+e.webGlPrecision+" float"));var f=s.createShader(s.VERTEX_SHADER);if(s.shaderSource(f,c),s.compileShader(f),!s.getShaderParameter(f,s.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+s.getShaderInfoLog(f));var l=s.createShader(s.FRAGMENT_SHADER);if(s.shaderSource(l,o),s.compileShader(l),!s.getShaderParameter(l,s.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+s.getShaderInfoLog(l));var d=s.createProgram();if(s.attachShader(d,f),s.attachShader(d,l),s.linkProgram(d),!s.getProgramParameter(d,s.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+s.getProgramInfoLog(d));var h=this.getAttributeLocations(s,d),p=this.getUniformLocations(s,d)||{};return p.uStepW=s.getUniformLocation(d,"uStepW"),p.uStepH=s.getUniformLocation(d,"uStepH"),{program:d,attributeLocations:h,uniformLocations:p}},getAttributeLocations:function(s,o){return{aPosition:s.getAttribLocation(o,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(s,o,c){var f=o.aPosition,l=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,l),s.enableVertexAttribArray(f),s.vertexAttribPointer(f,2,s.FLOAT,!1,0,0),s.bufferData(s.ARRAY_BUFFER,c,s.STATIC_DRAW)},_setupFrameBuffer:function(s){var o=s.context,c,f;s.passes>1?(c=s.destinationWidth,f=s.destinationHeight,(s.sourceWidth!==c||s.sourceHeight!==f)&&(o.deleteTexture(s.targetTexture),s.targetTexture=s.filterBackend.createTexture(o,c,f)),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,s.targetTexture,0)):(o.bindFramebuffer(o.FRAMEBUFFER,null),o.finish())},_swapTextures:function(s){s.passes--,s.pass++;var o=s.targetTexture;s.targetTexture=s.sourceTexture,s.sourceTexture=o},isNeutralState:function(){var s=this.mainParameter,o=e.Image.filters[this.type].prototype;if(s)if(Array.isArray(o[s])){for(var c=o[s].length;c--;)if(this[s][c]!==o[s][c])return!1;return!0}else return o[s]===this[s];else return!1},applyTo:function(s){s.webgl?(this._setupFrameBuffer(s),this.applyToWebGL(s),this._swapTextures(s)):this.applyTo2d(s)},retrieveShader:function(s){return s.programCache.hasOwnProperty(this.type)||(s.programCache[this.type]=this.createProgram(s.context)),s.programCache[this.type]},applyToWebGL:function(s){var o=s.context,c=this.retrieveShader(s);s.pass===0&&s.originalTexture?o.bindTexture(o.TEXTURE_2D,s.originalTexture):o.bindTexture(o.TEXTURE_2D,s.sourceTexture),o.useProgram(c.program),this.sendAttributeData(o,c.attributeLocations,s.aPosition),o.uniform1f(c.uniformLocations.uStepW,1/s.sourceWidth),o.uniform1f(c.uniformLocations.uStepH,1/s.sourceHeight),this.sendUniformData(o,c.uniformLocations),o.viewport(0,0,s.destinationWidth,s.destinationHeight),o.drawArrays(o.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(s,o,c){s.activeTexture(c),s.bindTexture(s.TEXTURE_2D,o),s.activeTexture(s.TEXTURE0)},unbindAdditionalTexture:function(s,o){s.activeTexture(o),s.bindTexture(s.TEXTURE_2D,null),s.activeTexture(s.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(s){this[this.mainParameter]=s},sendUniformData:function(){},createHelpLayer:function(s){if(!s.helpLayer){var o=document.createElement("canvas");o.width=s.sourceWidth,o.height=s.sourceHeight,s.helpLayer=o}},toObject:function(){var s={type:this.type},o=this.mainParameter;return o&&(s[o]=this[o]),s},toJSON:function(){return this.toObject()}}),e.Image.filters.BaseFilter.fromObject=function(s,o){var c=new e.Image.filters[s.type](s);return o&&o(c),c},function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.ColorMatrix=f(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(l){this.callSuper("initialize",l),this.matrix=this.matrix.slice(0)},applyTo2d:function(l){var d=l.imageData,h=d.data,p=h.length,g=this.matrix,m,v,b,_,S,w=this.colorsOnly;for(S=0;S<p;S+=4)m=h[S],v=h[S+1],b=h[S+2],w?(h[S]=m*g[0]+v*g[1]+b*g[2]+g[4]*255,h[S+1]=m*g[5]+v*g[6]+b*g[7]+g[9]*255,h[S+2]=m*g[10]+v*g[11]+b*g[12]+g[14]*255):(_=h[S+3],h[S]=m*g[0]+v*g[1]+b*g[2]+_*g[3]+g[4]*255,h[S+1]=m*g[5]+v*g[6]+b*g[7]+_*g[8]+g[9]*255,h[S+2]=m*g[10]+v*g[11]+b*g[12]+_*g[13]+g[14]*255,h[S+3]=m*g[15]+v*g[16]+b*g[17]+_*g[18]+g[19]*255)},getUniformLocations:function(l,d){return{uColorMatrix:l.getUniformLocation(d,"uColorMatrix"),uConstants:l.getUniformLocation(d,"uConstants")}},sendUniformData:function(l,d){var h=this.matrix,p=[h[0],h[1],h[2],h[3],h[5],h[6],h[7],h[8],h[10],h[11],h[12],h[13],h[15],h[16],h[17],h[18]],g=[h[4],h[9],h[14],h[19]];l.uniformMatrix4fv(d.uColorMatrix,!1,p),l.uniform4fv(d.uConstants,g)}}),o.Image.filters.ColorMatrix.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.Brightness=f(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(l){if(this.brightness!==0){var d=l.imageData,h=d.data,p,g=h.length,m=Math.round(this.brightness*255);for(p=0;p<g;p+=4)h[p]=h[p]+m,h[p+1]=h[p+1]+m,h[p+2]=h[p+2]+m}},getUniformLocations:function(l,d){return{uBrightness:l.getUniformLocation(d,"uBrightness")}},sendUniformData:function(l,d){l.uniform1f(d.uBrightness,this.brightness)}}),o.Image.filters.Brightness.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.util.object.extend,f=o.Image.filters,l=o.util.createClass;f.Convolute=l(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(d){var h=Math.sqrt(this.matrix.length),p=this.type+"_"+h+"_"+(this.opaque?1:0),g=this.fragmentSource[p];return d.programCache.hasOwnProperty(p)||(d.programCache[p]=this.createProgram(d.context,g)),d.programCache[p]},applyTo2d:function(d){var h=d.imageData,p=h.data,g=this.matrix,m=Math.round(Math.sqrt(g.length)),v=Math.floor(m/2),b=h.width,_=h.height,S=d.ctx.createImageData(b,_),w=S.data,C=this.opaque?1:0,x,M,E,A,O,I,$,H,B,N,k,D,T;for(k=0;k<_;k++)for(N=0;N<b;N++){for(O=(k*b+N)*4,x=0,M=0,E=0,A=0,T=0;T<m;T++)for(D=0;D<m;D++)$=k+T-v,I=N+D-v,!($<0||$>=_||I<0||I>=b)&&(H=($*b+I)*4,B=g[T*m+D],x+=p[H]*B,M+=p[H+1]*B,E+=p[H+2]*B,C||(A+=p[H+3]*B));w[O]=x,w[O+1]=M,w[O+2]=E,C?w[O+3]=p[O+3]:w[O+3]=A}d.imageData=S},getUniformLocations:function(d,h){return{uMatrix:d.getUniformLocation(h,"uMatrix"),uOpaque:d.getUniformLocation(h,"uOpaque"),uHalfSize:d.getUniformLocation(h,"uHalfSize"),uSize:d.getUniformLocation(h,"uSize")}},sendUniformData:function(d,h){d.uniform1fv(h.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),o.Image.filters.Convolute.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.Grayscale=f(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(l){var d=l.imageData,h=d.data,p,g=h.length,m,v=this.mode;for(p=0;p<g;p+=4)v==="average"?m=(h[p]+h[p+1]+h[p+2])/3:v==="lightness"?m=(Math.min(h[p],h[p+1],h[p+2])+Math.max(h[p],h[p+1],h[p+2]))/2:v==="luminosity"&&(m=.21*h[p]+.72*h[p+1]+.07*h[p+2]),h[p]=m,h[p+1]=m,h[p+2]=m},retrieveShader:function(l){var d=this.type+"_"+this.mode;if(!l.programCache.hasOwnProperty(d)){var h=this.fragmentSource[this.mode];l.programCache[d]=this.createProgram(l.context,h)}return l.programCache[d]},getUniformLocations:function(l,d){return{uMode:l.getUniformLocation(d,"uMode")}},sendUniformData:function(l,d){var h=1;l.uniform1i(d.uMode,h)},isNeutralState:function(){return!1}}),o.Image.filters.Grayscale.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.Invert=f(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(l){var d=l.imageData,h=d.data,p,g=h.length;for(p=0;p<g;p+=4)h[p]=255-h[p],h[p+1]=255-h[p+1],h[p+2]=255-h[p+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(l,d){return{uInvert:l.getUniformLocation(d,"uInvert")}},sendUniformData:function(l,d){l.uniform1i(d.uInvert,this.invert)}}),o.Image.filters.Invert.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.util.object.extend,f=o.Image.filters,l=o.util.createClass;f.Noise=l(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(d){if(this.noise!==0){var h=d.imageData,p=h.data,g,m=p.length,v=this.noise,b;for(g=0,m=p.length;g<m;g+=4)b=(.5-Math.random())*v,p[g]+=b,p[g+1]+=b,p[g+2]+=b}},getUniformLocations:function(d,h){return{uNoise:d.getUniformLocation(h,"uNoise"),uSeed:d.getUniformLocation(h,"uSeed")}},sendUniformData:function(d,h){d.uniform1f(h.uNoise,this.noise/255),d.uniform1f(h.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),o.Image.filters.Noise.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.Pixelate=f(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(l){var d=l.imageData,h=d.data,p=d.height,g=d.width,m,v,b,_,S,w,C,x,M,E,A;for(v=0;v<p;v+=this.blocksize)for(b=0;b<g;b+=this.blocksize)for(m=v*4*g+b*4,_=h[m],S=h[m+1],w=h[m+2],C=h[m+3],E=Math.min(v+this.blocksize,p),A=Math.min(b+this.blocksize,g),x=v;x<E;x++)for(M=b;M<A;M++)m=x*4*g+M*4,h[m]=_,h[m+1]=S,h[m+2]=w,h[m+3]=C},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(l,d){return{uBlocksize:l.getUniformLocation(d,"uBlocksize"),uStepW:l.getUniformLocation(d,"uStepW"),uStepH:l.getUniformLocation(d,"uStepH")}},sendUniformData:function(l,d){l.uniform1f(d.uBlocksize,this.blocksize)}}),o.Image.filters.Pixelate.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.util.object.extend,f=o.Image.filters,l=o.util.createClass;f.RemoveColor=l(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(d){var h=d.imageData,p=h.data,g,m=this.distance*255,v,b,_,S=new o.Color(this.color).getSource(),w=[S[0]-m,S[1]-m,S[2]-m],C=[S[0]+m,S[1]+m,S[2]+m];for(g=0;g<p.length;g+=4)v=p[g],b=p[g+1],_=p[g+2],v>w[0]&&b>w[1]&&_>w[2]&&v<C[0]&&b<C[1]&&_<C[2]&&(p[g+3]=0)},getUniformLocations:function(d,h){return{uLow:d.getUniformLocation(h,"uLow"),uHigh:d.getUniformLocation(h,"uHigh")}},sendUniformData:function(d,h){var p=new o.Color(this.color).getSource(),g=parseFloat(this.distance),m=[0+p[0]/255-g,0+p[1]/255-g,0+p[2]/255-g,1],v=[p[0]/255+g,p[1]/255+g,p[2]/255+g,1];d.uniform4fv(h.uLow,m),d.uniform4fv(h.uHigh,v)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),o.Image.filters.RemoveColor.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass,l={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var d in l)c[d]=f(c.ColorMatrix,{type:d,matrix:l[d],mainParameter:!1,colorsOnly:!0}),o.Image.filters[d].fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric,c=o.Image.filters,f=o.util.createClass;c.BlendColor=f(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(l){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[l]+`}
}`},retrieveShader:function(l){var d=this.type+"_"+this.mode,h;return l.programCache.hasOwnProperty(d)||(h=this.buildSource(this.mode),l.programCache[d]=this.createProgram(l.context,h)),l.programCache[d]},applyTo2d:function(l){var d=l.imageData,h=d.data,p=h.length,g,m,v,b,_,S,w,C=1-this.alpha;w=new o.Color(this.color).getSource(),g=w[0]*this.alpha,m=w[1]*this.alpha,v=w[2]*this.alpha;for(var x=0;x<p;x+=4)switch(b=h[x],_=h[x+1],S=h[x+2],this.mode){case"multiply":h[x]=b*g/255,h[x+1]=_*m/255,h[x+2]=S*v/255;break;case"screen":h[x]=255-(255-b)*(255-g)/255,h[x+1]=255-(255-_)*(255-m)/255,h[x+2]=255-(255-S)*(255-v)/255;break;case"add":h[x]=b+g,h[x+1]=_+m,h[x+2]=S+v;break;case"diff":case"difference":h[x]=Math.abs(b-g),h[x+1]=Math.abs(_-m),h[x+2]=Math.abs(S-v);break;case"subtract":h[x]=b-g,h[x+1]=_-m,h[x+2]=S-v;break;case"darken":h[x]=Math.min(b,g),h[x+1]=Math.min(_,m),h[x+2]=Math.min(S,v);break;case"lighten":h[x]=Math.max(b,g),h[x+1]=Math.max(_,m),h[x+2]=Math.max(S,v);break;case"overlay":h[x]=g<128?2*b*g/255:255-2*(255-b)*(255-g)/255,h[x+1]=m<128?2*_*m/255:255-2*(255-_)*(255-m)/255,h[x+2]=v<128?2*S*v/255:255-2*(255-S)*(255-v)/255;break;case"exclusion":h[x]=g+b-2*g*b/255,h[x+1]=m+_-2*m*_/255,h[x+2]=v+S-2*v*S/255;break;case"tint":h[x]=g+b*C,h[x+1]=m+_*C,h[x+2]=v+S*C}},getUniformLocations:function(l,d){return{uColor:l.getUniformLocation(d,"uColor")}},sendUniformData:function(l,d){var h=new o.Color(this.color).getSource();h[0]=this.alpha*h[0]/255,h[1]=this.alpha*h[1]/255,h[2]=this.alpha*h[2]/255,h[3]=this.alpha,l.uniform4fv(d.uColor,h)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),o.Image.filters.BlendColor.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric,c=o.Image.filters,f=o.util.createClass;c.BlendImage=f(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(l){var d=this.type+"_"+this.mode,h=this.fragmentSource[this.mode];return l.programCache.hasOwnProperty(d)||(l.programCache[d]=this.createProgram(l.context,h)),l.programCache[d]},applyToWebGL:function(l){var d=l.context,h=this.createTexture(l.filterBackend,this.image);this.bindAdditionalTexture(d,h,d.TEXTURE1),this.callSuper("applyToWebGL",l),this.unbindAdditionalTexture(d,d.TEXTURE1)},createTexture:function(l,d){return l.getCachedTexture(d.cacheKey,d._element)},calculateMatrix:function(){var l=this.image,d=l._element.width,h=l._element.height;return[1/l.scaleX,0,0,0,1/l.scaleY,0,-l.left/d,-l.top/h,1]},applyTo2d:function(l){var d=l.imageData,h=l.filterBackend.resources,p=d.data,g=p.length,m=d.width,v=d.height,b,_,S,w,C,x,M,E,A,O,I=this.image,$;h.blendImage||(h.blendImage=o.util.createCanvasElement()),A=h.blendImage,O=A.getContext("2d"),A.width!==m||A.height!==v?(A.width=m,A.height=v):O.clearRect(0,0,m,v),O.setTransform(I.scaleX,0,0,I.scaleY,I.left,I.top),O.drawImage(I._element,0,0,m,v),$=O.getImageData(0,0,m,v).data;for(var H=0;H<g;H+=4)switch(C=p[H],x=p[H+1],M=p[H+2],E=p[H+3],b=$[H],_=$[H+1],S=$[H+2],w=$[H+3],this.mode){case"multiply":p[H]=C*b/255,p[H+1]=x*_/255,p[H+2]=M*S/255,p[H+3]=E*w/255;break;case"mask":p[H+3]=w;break}},getUniformLocations:function(l,d){return{uTransformMatrix:l.getUniformLocation(d,"uTransformMatrix"),uImage:l.getUniformLocation(d,"uImage")}},sendUniformData:function(l,d){var h=this.calculateMatrix();l.uniform1i(d.uImage,1),l.uniformMatrix3fv(d.uTransformMatrix,!1,h)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),o.Image.filters.BlendImage.fromObject=function(l,d){o.Image.fromObject(l.image,function(h){var p=o.util.object.clone(l);p.image=h,d(new o.Image.filters.BlendImage(p))})}}(t),function(s){var o=s.fabric||(s.fabric={}),c=Math.pow,f=Math.floor,l=Math.sqrt,d=Math.abs,h=Math.round,p=Math.sin,g=Math.ceil,m=o.Image.filters,v=o.util.createClass;m.Resize=v(m.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(b,_){return{uDelta:b.getUniformLocation(_,"uDelta"),uTaps:b.getUniformLocation(_,"uTaps")}},sendUniformData:function(b,_){b.uniform2fv(_.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),b.uniform1fv(_.uTaps,this.taps)},retrieveShader:function(b){var _=this.getFilterWindow(),S=this.type+"_"+_;if(!b.programCache.hasOwnProperty(S)){var w=this.generateShader(_);b.programCache[S]=this.createProgram(b.context,w)}return b.programCache[S]},getFilterWindow:function(){var b=this.tempScale;return Math.ceil(this.lanczosLobes/b)},getTaps:function(){for(var b=this.lanczosCreate(this.lanczosLobes),_=this.tempScale,S=this.getFilterWindow(),w=new Array(S),C=1;C<=S;C++)w[C-1]=b(C*_);return w},generateShader:function(w){for(var _=new Array(w),S=this.fragmentSourceTOP,w,C=1;C<=w;C++)_[C-1]=C+".0 * uDelta";return S+="uniform float uTaps["+w+`];
`,S+=`void main() {
`,S+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,S+=`  float sum = 1.0;
`,_.forEach(function(x,M){S+="  color += texture2D(uTexture, vTexCoord + "+x+") * uTaps["+M+`];
`,S+="  color += texture2D(uTexture, vTexCoord - "+x+") * uTaps["+M+`];
`,S+="  sum += 2.0 * uTaps["+M+`];
`}),S+=`  gl_FragColor = color / sum;
`,S+="}",S},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(b){b.webgl?(b.passes++,this.width=b.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=b.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),b.destinationWidth=this.dW,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceWidth=b.destinationWidth,this.height=b.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),b.destinationHeight=this.dH,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceHeight=b.destinationHeight):this.applyTo2d(b)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(b){return function(_){if(_>=b||_<=-b)return 0;if(_<11920929e-14&&_>-11920929e-14)return 1;_*=Math.PI;var S=_/b;return p(_)/_*p(S)/S}},applyTo2d:function(b){var _=b.imageData,S=this.scaleX,w=this.scaleY;this.rcpScaleX=1/S,this.rcpScaleY=1/w;var C=_.width,x=_.height,M=h(C*S),E=h(x*w),A;this.resizeType==="sliceHack"?A=this.sliceByTwo(b,C,x,M,E):this.resizeType==="hermite"?A=this.hermiteFastResize(b,C,x,M,E):this.resizeType==="bilinear"?A=this.bilinearFiltering(b,C,x,M,E):this.resizeType==="lanczos"&&(A=this.lanczosResize(b,C,x,M,E)),b.imageData=A},sliceByTwo:function(b,_,S,w,C){var x=b.imageData,M=.5,E=!1,A=!1,O=_*M,I=S*M,$=o.filterBackend.resources,H,B,N=0,k=0,D=_,T=0;for($.sliceByTwo||($.sliceByTwo=document.createElement("canvas")),H=$.sliceByTwo,(H.width<_*1.5||H.height<S)&&(H.width=_*1.5,H.height=S),B=H.getContext("2d"),B.clearRect(0,0,_*1.5,S),B.putImageData(x,0,0),w=f(w),C=f(C);!E||!A;)_=O,S=I,w<f(O*M)?O=f(O*M):(O=w,E=!0),C<f(I*M)?I=f(I*M):(I=C,A=!0),B.drawImage(H,N,k,_,S,D,T,O,I),N=D,k=T,T+=I;return B.getImageData(N,k,w,C)},lanczosResize:function(b,_,S,w,C){function x(V){var U,X,W,j,K,z,ee,ue,ne,le,Me;for(T.x=(V+.5)*I,R.x=f(T.x),U=0;U<C;U++){for(T.y=(U+.5)*$,R.y=f(T.y),K=0,z=0,ee=0,ue=0,ne=0,X=R.x-N;X<=R.x+N;X++)if(!(X<0||X>=_)){le=f(1e3*d(X-T.x)),D[le]||(D[le]={});for(var q=R.y-k;q<=R.y+k;q++)q<0||q>=S||(Me=f(1e3*d(q-T.y)),D[le][Me]||(D[le][Me]=O(l(c(le*H,2)+c(Me*B,2))/1e3)),W=D[le][Me],W>0&&(j=(q*_+X)*4,K+=W,z+=W*M[j],ee+=W*M[j+1],ue+=W*M[j+2],ne+=W*M[j+3]))}j=(U*w+V)*4,A[j]=z/K,A[j+1]=ee/K,A[j+2]=ue/K,A[j+3]=ne/K}return++V<w?x(V):E}var M=b.imageData.data,E=b.ctx.createImageData(w,C),A=E.data,O=this.lanczosCreate(this.lanczosLobes),I=this.rcpScaleX,$=this.rcpScaleY,H=2/this.rcpScaleX,B=2/this.rcpScaleY,N=g(I*this.lanczosLobes/2),k=g($*this.lanczosLobes/2),D={},T={},R={};return x(0)},bilinearFiltering:function(b,_,S,w,C){var x,M,E,A,O,I,$,H,B,N,k,D,T=0,R,V=this.rcpScaleX,U=this.rcpScaleY,X=4*(_-1),W=b.imageData,j=W.data,K=b.ctx.createImageData(w,C),z=K.data;for($=0;$<C;$++)for(H=0;H<w;H++)for(O=f(V*H),I=f(U*$),B=V*H-O,N=U*$-I,R=4*(I*_+O),k=0;k<4;k++)x=j[R+k],M=j[R+4+k],E=j[R+X+k],A=j[R+X+4+k],D=x*(1-B)*(1-N)+M*B*(1-N)+E*N*(1-B)+A*B*N,z[T++]=D;return K},hermiteFastResize:function(b,_,S,w,C){for(var x=this.rcpScaleX,M=this.rcpScaleY,E=g(x/2),A=g(M/2),O=b.imageData,I=O.data,$=b.ctx.createImageData(w,C),H=$.data,B=0;B<C;B++)for(var N=0;N<w;N++){for(var k=(N+B*w)*4,D=0,T=0,R=0,V=0,U=0,X=0,W=0,j=(B+.5)*M,K=f(B*M);K<(B+1)*M;K++)for(var z=d(j-(K+.5))/A,ee=(N+.5)*x,ue=z*z,ne=f(N*x);ne<(N+1)*x;ne++){var le=d(ee-(ne+.5))/E,Me=l(ue+le*le);Me>1&&Me<-1||(D=2*Me*Me*Me-3*Me*Me+1,D>0&&(le=4*(ne+K*_),W+=D*I[le+3],R+=D,I[le+3]<255&&(D=D*I[le+3]/250),V+=D*I[le],U+=D*I[le+1],X+=D*I[le+2],T+=D))}H[k]=V/T,H[k+1]=U/T,H[k+2]=X/T,H[k+3]=W/R}return $},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),o.Image.filters.Resize.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.Contrast=f(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(l){if(this.contrast!==0){var d=l.imageData,h,g,p=d.data,g=p.length,m=Math.floor(this.contrast*255),v=259*(m+255)/(255*(259-m));for(h=0;h<g;h+=4)p[h]=v*(p[h]-128)+128,p[h+1]=v*(p[h+1]-128)+128,p[h+2]=v*(p[h+2]-128)+128}},getUniformLocations:function(l,d){return{uContrast:l.getUniformLocation(d,"uContrast")}},sendUniformData:function(l,d){l.uniform1f(d.uContrast,this.contrast)}}),o.Image.filters.Contrast.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.Saturation=f(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(l){if(this.saturation!==0){var d=l.imageData,h=d.data,p=h.length,g=-this.saturation,m,v;for(m=0;m<p;m+=4)v=Math.max(h[m],h[m+1],h[m+2]),h[m]+=v!==h[m]?(v-h[m])*g:0,h[m+1]+=v!==h[m+1]?(v-h[m+1])*g:0,h[m+2]+=v!==h[m+2]?(v-h[m+2])*g:0}},getUniformLocations:function(l,d){return{uSaturation:l.getUniformLocation(d,"uSaturation")}},sendUniformData:function(l,d){l.uniform1f(d.uSaturation,-this.saturation)}}),o.Image.filters.Saturation.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.Vibrance=f(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(l){if(this.vibrance!==0){var d=l.imageData,h=d.data,p=h.length,g=-this.vibrance,m,v,b,_;for(m=0;m<p;m+=4)v=Math.max(h[m],h[m+1],h[m+2]),b=(h[m]+h[m+1]+h[m+2])/3,_=Math.abs(v-b)*2/255*g,h[m]+=v!==h[m]?(v-h[m])*_:0,h[m+1]+=v!==h[m+1]?(v-h[m+1])*_:0,h[m+2]+=v!==h[m+2]?(v-h[m+2])*_:0}},getUniformLocations:function(l,d){return{uVibrance:l.getUniformLocation(d,"uVibrance")}},sendUniformData:function(l,d){l.uniform1f(d.uVibrance,-this.vibrance)}}),o.Image.filters.Vibrance.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.Blur=f(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(l){l.webgl?(this.aspectRatio=l.sourceWidth/l.sourceHeight,l.passes++,this._setupFrameBuffer(l),this.horizontal=!0,this.applyToWebGL(l),this._swapTextures(l),this._setupFrameBuffer(l),this.horizontal=!1,this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},applyTo2d:function(l){l.imageData=this.simpleBlur(l)},simpleBlur:function(l){var d=l.filterBackend.resources,h,p,g=l.imageData.width,m=l.imageData.height;d.blurLayer1||(d.blurLayer1=o.util.createCanvasElement(),d.blurLayer2=o.util.createCanvasElement()),h=d.blurLayer1,p=d.blurLayer2,(h.width!==g||h.height!==m)&&(p.width=h.width=g,p.height=h.height=m);var v=h.getContext("2d"),b=p.getContext("2d"),_=15,S,w,C,x,M=this.blur*.06*.5;for(v.putImageData(l.imageData,0,0),b.clearRect(0,0,g,m),x=-_;x<=_;x++)S=(Math.random()-.5)/4,w=x/_,C=M*w*g+S,b.globalAlpha=1-Math.abs(w),b.drawImage(h,C,S),v.drawImage(p,0,0),b.globalAlpha=1,b.clearRect(0,0,p.width,p.height);for(x=-_;x<=_;x++)S=(Math.random()-.5)/4,w=x/_,C=M*w*m+S,b.globalAlpha=1-Math.abs(w),b.drawImage(h,S,C),v.drawImage(p,0,0),b.globalAlpha=1,b.clearRect(0,0,p.width,p.height);l.ctx.drawImage(h,0,0);var E=l.ctx.getImageData(0,0,h.width,h.height);return v.globalAlpha=1,v.clearRect(0,0,h.width,h.height),E},getUniformLocations:function(l,d){return{delta:l.getUniformLocation(d,"uDelta")}},sendUniformData:function(l,d){var h=this.chooseRightDelta();l.uniform2fv(d.delta,h)},chooseRightDelta:function(){var l=1,d=[0,0],h;return this.horizontal?this.aspectRatio>1&&(l=1/this.aspectRatio):this.aspectRatio<1&&(l=this.aspectRatio),h=l*this.blur*.12,this.horizontal?d[0]=h:d[1]=h,d}}),c.Blur.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.Gamma=f(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(l){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,l)},applyTo2d:function(l){var d=l.imageData,h=d.data,p=this.gamma,g=h.length,m=1/p[0],v=1/p[1],b=1/p[2],_;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),_=0,g=256;_<g;_++)this.rVals[_]=Math.pow(_/255,m)*255,this.gVals[_]=Math.pow(_/255,v)*255,this.bVals[_]=Math.pow(_/255,b)*255;for(_=0,g=h.length;_<g;_+=4)h[_]=this.rVals[h[_]],h[_+1]=this.gVals[h[_+1]],h[_+2]=this.bVals[h[_+2]]},getUniformLocations:function(l,d){return{uGamma:l.getUniformLocation(d,"uGamma")}},sendUniformData:function(l,d){l.uniform3fv(d.uGamma,this.gamma)}}),o.Image.filters.Gamma.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.Composed=f(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(l){this.callSuper("initialize",l),this.subFilters=this.subFilters.slice(0)},applyTo:function(l){l.passes+=this.subFilters.length-1,this.subFilters.forEach(function(d){d.applyTo(l)})},toObject:function(){return o.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(l){return l.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(l){return!l.isNeutralState()})}}),o.Image.filters.Composed.fromObject=function(l,d){var h=l.subFilters||[],p=h.map(function(m){return new o.Image.filters[m.type](m)}),g=new o.Image.filters.Composed({subFilters:p});return d&&d(g),g}}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.Image.filters,f=o.util.createClass;c.HueRotation=f(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var l=this.rotation*Math.PI,d=o.util.cos(l),h=o.util.sin(l),p=1/3,g=Math.sqrt(p)*h,m=1-d;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=d+m/3,this.matrix[1]=p*m-g,this.matrix[2]=p*m+g,this.matrix[5]=p*m+g,this.matrix[6]=d+p*m,this.matrix[7]=p*m-g,this.matrix[10]=p*m-g,this.matrix[11]=p*m+g,this.matrix[12]=d+p*m},isNeutralState:function(l){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,l)},applyTo:function(l){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,l)}}),o.Image.filters.HueRotation.fromObject=o.Image.filters.BaseFilter.fromObject}(t),function(s){var o=s.fabric||(s.fabric={}),c=o.util.object.clone;if(o.Text){o.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");o.Text=o.util.createClass(o.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:o.Object.prototype.stateProperties.concat(f),cacheProperties:o.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(l,d){this.styles=d?d.styles||{}:{},this.text=l,this.__skipDimension=!0,this.callSuper("initialize",d),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var l=this.path;l&&(l.segmentsInfo=o.util.getPathSegmentsInfo(l.path))},getMeasuringContext:function(){return o._measuringContext||(o._measuringContext=this.canvas&&this.canvas.contextCache||o.util.createCanvasElement().getContext("2d")),o._measuringContext},_splitText:function(){var l=this._splitTextIntoLines(this.text);return this.textLines=l.lines,this._textLines=l.graphemeLines,this._unwrappedTextLines=l._unwrappedLines,this._text=l.graphemeText,l},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var l,d,h,p,g,m,v,b=0,_=this._textLines.length;b<_;b++)if(!(this.textAlign!=="justify"&&(b===_-1||this.isEndOfWrapping(b)))&&(p=0,g=this._textLines[b],d=this.getLineWidth(b),d<this.width&&(v=this.textLines[b].match(this._reSpacesAndTabs)))){h=v.length,l=(this.width-d)/h;for(var S=0,w=g.length;S<=w;S++)m=this.__charBounds[b][S],this._reSpaceAndTab.test(g[S])?(m.width+=l,m.kernedWidth+=l,m.left+=p,p+=l):m.left+=p}},isEndOfWrapping:function(l){return l===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var l=this.callSuper("_getCacheCanvasDimensions"),d=this.fontSize;return l.width+=d*l.zoomX,l.height+=d*l.zoomY,l},_render:function(l){var d=this.path;d&&!d.isNotVisible()&&d._render(l),this._setTextStyles(l),this._renderTextLinesBackground(l),this._renderTextDecoration(l,"underline"),this._renderText(l),this._renderTextDecoration(l,"overline"),this._renderTextDecoration(l,"linethrough")},_renderText:function(l){this.paintFirst==="stroke"?(this._renderTextStroke(l),this._renderTextFill(l)):(this._renderTextFill(l),this._renderTextStroke(l))},_setTextStyles:function(l,d,h){if(l.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":l.textBaseline="middle";break;case"ascender":l.textBaseline="top";break;case"descender":l.textBaseline="bottom";break}l.font=this._getFontDeclaration(d,h)},calcTextWidth:function(){for(var l=this.getLineWidth(0),d=1,h=this._textLines.length;d<h;d++){var p=this.getLineWidth(d);p>l&&(l=p)}return l},_renderTextLine:function(l,d,h,p,g,m){this._renderChars(l,d,h,p,g,m)},_renderTextLinesBackground:function(l){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var d,h,p=l.fillStyle,g,m,v=this._getLeftOffset(),b=this._getTopOffset(),_=0,S=0,w,C,x=this.path,M,E=0,A=this._textLines.length;E<A;E++){if(d=this.getHeightOfLine(E),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",E)){b+=d;continue}g=this._textLines[E],h=this._getLineLeftOffset(E),S=0,_=0,m=this.getValueOfPropertyAt(E,0,"textBackgroundColor");for(var O=0,I=g.length;O<I;O++)w=this.__charBounds[E][O],C=this.getValueOfPropertyAt(E,O,"textBackgroundColor"),x?(l.save(),l.translate(w.renderLeft,w.renderTop),l.rotate(w.angle),l.fillStyle=C,C&&l.fillRect(-w.width/2,-d/this.lineHeight*(1-this._fontSizeFraction),w.width,d/this.lineHeight),l.restore()):C!==m?(M=v+h+_,this.direction==="rtl"&&(M=this.width-M-S),l.fillStyle=m,m&&l.fillRect(M,b,S,d/this.lineHeight),_=w.left,S=w.width,m=C):S+=w.kernedWidth;C&&!x&&(M=v+h+_,this.direction==="rtl"&&(M=this.width-M-S),l.fillStyle=C,l.fillRect(M,b,S,d/this.lineHeight)),b+=d}l.fillStyle=p,this._removeShadow(l)}},getFontCache:function(l){var d=l.fontFamily.toLowerCase();o.charWidthsCache[d]||(o.charWidthsCache[d]={});var h=o.charWidthsCache[d],p=l.fontStyle.toLowerCase()+"_"+(l.fontWeight+"").toLowerCase();return h[p]||(h[p]={}),h[p]},_measureChar:function(l,d,h,p){var g=this.getFontCache(d),m=this._getFontDeclaration(d),v=this._getFontDeclaration(p),b=h+l,_=m===v,S,w,C,x=d.fontSize/this.CACHE_FONT_SIZE,M;if(h&&g[h]!==void 0&&(C=g[h]),g[l]!==void 0&&(M=S=g[l]),_&&g[b]!==void 0&&(w=g[b],M=w-C),S===void 0||C===void 0||w===void 0){var E=this.getMeasuringContext();this._setTextStyles(E,d,!0)}return S===void 0&&(M=S=E.measureText(l).width,g[l]=S),C===void 0&&_&&h&&(C=E.measureText(h).width,g[h]=C),_&&w===void 0&&(w=E.measureText(b).width,g[b]=w,M=w-C),{width:S*x,kernedWidth:M*x}},getHeightOfChar:function(l,d){return this.getValueOfPropertyAt(l,d,"fontSize")},measureLine:function(l){var d=this._measureLine(l);return this.charSpacing!==0&&(d.width-=this._getWidthOfCharSpacing()),d.width<0&&(d.width=0),d},_measureLine:function(l){var d=0,h,p,g=this._textLines[l],m,v,b=0,_=new Array(g.length),S=0,w,C,x=this.path,M=this.pathSide==="right";for(this.__charBounds[l]=_,h=0;h<g.length;h++)p=g[h],v=this._getGraphemeBox(p,l,h,m),_[h]=v,d+=v.kernedWidth,m=p;if(_[h]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},x){switch(C=x.segmentsInfo[x.segmentsInfo.length-1].length,w=o.util.getPointOnPath(x.path,0,x.segmentsInfo),w.x+=x.pathOffset.x,w.y+=x.pathOffset.y,this.textAlign){case"left":S=M?C-d:0;break;case"center":S=(C-d)/2;break;case"right":S=M?0:C-d;break}for(S+=this.pathStartOffset*(M?-1:1),h=M?g.length-1:0;M?h>=0:h<g.length;M?h--:h++)v=_[h],S>C?S%=C:S<0&&(S+=C),this._setGraphemeOnPath(S,v,w),S+=v.kernedWidth}return{width:d,numOfSpaces:b}},_setGraphemeOnPath:function(l,d,h){var p=l+d.kernedWidth/2,g=this.path,m=o.util.getPointOnPath(g.path,p,g.segmentsInfo);d.renderLeft=m.x-h.x,d.renderTop=m.y-h.y,d.angle=m.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(l,d,h,p,g){var m=this.getCompleteStyleDeclaration(d,h),v=p?this.getCompleteStyleDeclaration(d,h-1):{},b=this._measureChar(l,m,p,v),_=b.kernedWidth,S=b.width,w;this.charSpacing!==0&&(w=this._getWidthOfCharSpacing(),S+=w,_+=w);var C={width:S,left:0,height:m.fontSize,kernedWidth:_,deltaY:m.deltaY};if(h>0&&!g){var x=this.__charBounds[d][h-1];C.left=x.left+x.width+b.kernedWidth-b.width}return C},getHeightOfLine:function(l){if(this.__lineHeights[l])return this.__lineHeights[l];for(var d=this._textLines[l],h=this.getHeightOfChar(l,0),p=1,g=d.length;p<g;p++)h=Math.max(this.getHeightOfChar(l,p),h);return this.__lineHeights[l]=h*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var l,d=0,h=0,p=this._textLines.length;h<p;h++)l=this.getHeightOfLine(h),d+=h===p-1?l/this.lineHeight:l;return d},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(l,d){l.save();for(var h=0,p=this._getLeftOffset(),g=this._getTopOffset(),m=0,v=this._textLines.length;m<v;m++){var b=this.getHeightOfLine(m),_=b/this.lineHeight,S=this._getLineLeftOffset(m);this._renderTextLine(d,l,this._textLines[m],p+S,g+h+_,m),h+=b}l.restore()},_renderTextFill:function(l){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(l,"fillText")},_renderTextStroke:function(l){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this._setLineDash(l,this.strokeDashArray),l.beginPath(),this._renderTextCommon(l,"strokeText"),l.closePath(),l.restore())},_renderChars:function(l,d,h,p,g,m){var v=this.getHeightOfLine(m),b=this.textAlign.indexOf("justify")!==-1,_,S,w="",C,x=0,M,E=this.path,A=!b&&this.charSpacing===0&&this.isEmptyStyles(m)&&!E,O=this.direction==="ltr",I=this.direction==="ltr"?1:-1,$,H=d.canvas.getAttribute("dir");if(d.save(),H!==this.direction&&(d.canvas.setAttribute("dir",O?"ltr":"rtl"),d.direction=O?"ltr":"rtl",d.textAlign=O?"left":"right"),g-=v*this._fontSizeFraction/this.lineHeight,A){this._renderChar(l,d,m,0,h.join(""),p,g,v),d.restore();return}for(var B=0,N=h.length-1;B<=N;B++)M=B===N||this.charSpacing||E,w+=h[B],C=this.__charBounds[m][B],x===0?(p+=I*(C.kernedWidth-C.width),x+=C.width):x+=C.kernedWidth,b&&!M&&this._reSpaceAndTab.test(h[B])&&(M=!0),M||(_=_||this.getCompleteStyleDeclaration(m,B),S=this.getCompleteStyleDeclaration(m,B+1),M=o.util.hasStyleChanged(_,S,!1)),M&&(E?(d.save(),d.translate(C.renderLeft,C.renderTop),d.rotate(C.angle),this._renderChar(l,d,m,B,w,-x/2,0,v),d.restore()):($=p,this._renderChar(l,d,m,B,w,$,g,v)),w="",_=S,p+=I*x,x=0);d.restore()},_applyPatternGradientTransformText:function(l){var d=o.util.createCanvasElement(),h,p=this.width+this.strokeWidth,g=this.height+this.strokeWidth;return d.width=p,d.height=g,h=d.getContext("2d"),h.beginPath(),h.moveTo(0,0),h.lineTo(p,0),h.lineTo(p,g),h.lineTo(0,g),h.closePath(),h.translate(p/2,g/2),h.fillStyle=l.toLive(h),this._applyPatternGradientTransform(h,l),h.fill(),h.createPattern(d,"no-repeat")},handleFiller:function(l,d,h){var p,g;return h.toLive?h.gradientUnits==="percentage"||h.gradientTransform||h.patternTransform?(p=-this.width/2,g=-this.height/2,l.translate(p,g),l[d]=this._applyPatternGradientTransformText(h),{offsetX:p,offsetY:g}):(l[d]=h.toLive(l,this),this._applyPatternGradientTransform(l,h)):(l[d]=h,{offsetX:0,offsetY:0})},_setStrokeStyles:function(l,d){return l.lineWidth=d.strokeWidth,l.lineCap=this.strokeLineCap,l.lineDashOffset=this.strokeDashOffset,l.lineJoin=this.strokeLineJoin,l.miterLimit=this.strokeMiterLimit,this.handleFiller(l,"strokeStyle",d.stroke)},_setFillStyles:function(l,d){return this.handleFiller(l,"fillStyle",d.fill)},_renderChar:function(l,d,h,p,g,m,v){var b=this._getStyleDeclaration(h,p),_=this.getCompleteStyleDeclaration(h,p),S=l==="fillText"&&_.fill,w=l==="strokeText"&&_.stroke&&_.strokeWidth,C,x;!w&&!S||(d.save(),S&&(C=this._setFillStyles(d,_)),w&&(x=this._setStrokeStyles(d,_)),d.font=this._getFontDeclaration(_),b&&b.textBackgroundColor&&this._removeShadow(d),b&&b.deltaY&&(v+=b.deltaY),S&&d.fillText(g,m-C.offsetX,v-C.offsetY),w&&d.strokeText(g,m-x.offsetX,v-x.offsetY),d.restore())},setSuperscript:function(l,d){return this._setScript(l,d,this.superscript)},setSubscript:function(l,d){return this._setScript(l,d,this.subscript)},_setScript:function(l,d,h){var p=this.get2DCursorLocation(l,!0),g=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"fontSize"),m=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"deltaY"),v={fontSize:g*h.size,deltaY:m+g*h.baseline};return this.setSelectionStyles(v,l,d),this},_getLineLeftOffset:function(l){var d=this.getLineWidth(l),h=this.width-d,p=this.textAlign,g=this.direction,v,m=0,v=this.isEndOfWrapping(l);return p==="justify"||p==="justify-center"&&!v||p==="justify-right"&&!v||p==="justify-left"&&!v?0:(p==="center"&&(m=h/2),p==="right"&&(m=h),p==="justify-center"&&(m=h/2),p==="justify-right"&&(m=h),g==="rtl"&&(m-=h),m)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var l=this._forceClearCache;return l||(l=this.hasStateChanged("_dimensionAffectingProps")),l&&(this.dirty=!0,this._forceClearCache=!1),l},getLineWidth:function(l){if(this.__lineWidths[l]!==void 0)return this.__lineWidths[l];var d=this.measureLine(l),h=d.width;return this.__lineWidths[l]=h,h},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(l,d,h){var p=this._getStyleDeclaration(l,d);return p&&typeof p[h]<"u"?p[h]:this[h]},_renderTextDecoration:function(l,d){if(!(!this[d]&&!this.styleHas(d))){for(var h,p,g,m,v,b,_,S,w=this._getLeftOffset(),C=this._getTopOffset(),x,M,E,A,O,I,$,H,B=this.path,N=this._getWidthOfCharSpacing(),k=this.offsets[d],D=0,T=this._textLines.length;D<T;D++){if(h=this.getHeightOfLine(D),!this[d]&&!this.styleHas(d,D)){C+=h;continue}_=this._textLines[D],I=h/this.lineHeight,m=this._getLineLeftOffset(D),M=0,E=0,S=this.getValueOfPropertyAt(D,0,d),H=this.getValueOfPropertyAt(D,0,"fill"),x=C+I*(1-this._fontSizeFraction),p=this.getHeightOfChar(D,0),v=this.getValueOfPropertyAt(D,0,"deltaY");for(var R=0,V=_.length;R<V;R++)if(A=this.__charBounds[D][R],O=this.getValueOfPropertyAt(D,R,d),$=this.getValueOfPropertyAt(D,R,"fill"),g=this.getHeightOfChar(D,R),b=this.getValueOfPropertyAt(D,R,"deltaY"),B&&O&&$)l.save(),l.fillStyle=H,l.translate(A.renderLeft,A.renderTop),l.rotate(A.angle),l.fillRect(-A.kernedWidth/2,k*g+b,A.kernedWidth,this.fontSize/15),l.restore();else if((O!==S||$!==H||g!==p||b!==v)&&E>0){var U=w+m+M;this.direction==="rtl"&&(U=this.width-U-E),S&&H&&(l.fillStyle=H,l.fillRect(U,x+k*p+v,E,this.fontSize/15)),M=A.left,E=A.width,S=O,H=$,p=g,v=b}else E+=A.kernedWidth;var U=w+m+M;this.direction==="rtl"&&(U=this.width-U-E),l.fillStyle=$,O&&$&&l.fillRect(U,x+k*p+v,E-N,this.fontSize/15),C+=h}this._removeShadow(l)}},_getFontDeclaration:function(l,d){var h=l||this,p=this.fontFamily,g=o.Text.genericFonts.indexOf(p.toLowerCase())>-1,m=p===void 0||p.indexOf("'")>-1||p.indexOf(",")>-1||p.indexOf('"')>-1||g?h.fontFamily:'"'+h.fontFamily+'"';return[o.isLikelyNode?h.fontWeight:h.fontStyle,o.isLikelyNode?h.fontStyle:h.fontWeight,d?this.CACHE_FONT_SIZE+"px":h.fontSize+"px",m].join(" ")},render:function(l){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",l)))},_splitTextIntoLines:function(l){for(var d=l.split(this._reNewline),h=new Array(d.length),p=[`
`],g=[],m=0;m<d.length;m++)h[m]=o.util.string.graphemeSplit(d[m]),g=g.concat(h[m],p);return g.pop(),{_unwrappedLines:h,lines:d,graphemeText:g,graphemeLines:h}},toObject:function(l){var d=f.concat(l),h=this.callSuper("toObject",d);return h.styles=o.util.stylesToArray(this.styles,this.text),h.path&&(h.path=this.path.toObject()),h},set:function(l,d){this.callSuper("set",l,d);var h=!1,p=!1;if(typeof l=="object")for(var g in l)g==="path"&&this.setPathInfo(),h=h||this._dimensionAffectingProps.indexOf(g)!==-1,p=p||g==="path";else h=this._dimensionAffectingProps.indexOf(l)!==-1,p=l==="path";return p&&this.setPathInfo(),h&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),o.Text.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),o.Text.DEFAULT_SVG_FONT_SIZE=16,o.Text.fromElement=function(l,d,h){if(!l)return d(null);var p=o.parseAttributes(l,o.Text.ATTRIBUTE_NAMES),g=p.textAnchor||"left";if(h=o.util.object.extend(h?c(h):{},p),h.top=h.top||0,h.left=h.left||0,p.textDecoration){var m=p.textDecoration;m.indexOf("underline")!==-1&&(h.underline=!0),m.indexOf("overline")!==-1&&(h.overline=!0),m.indexOf("line-through")!==-1&&(h.linethrough=!0),delete h.textDecoration}"dx"in p&&(h.left+=p.dx),"dy"in p&&(h.top+=p.dy),"fontSize"in h||(h.fontSize=o.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in l?v=l.textContent:"firstChild"in l&&l.firstChild!==null&&"data"in l.firstChild&&l.firstChild.data!==null&&(v=l.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var b=h.strokeWidth;h.strokeWidth=0;var _=new o.Text(v,h),S=_.getScaledHeight()/_.height,w=(_.height+_.strokeWidth)*_.lineHeight-_.height,C=w*S,x=_.getScaledHeight()+C,M=0;g==="center"&&(M=_.getScaledWidth()/2),g==="right"&&(M=_.getScaledWidth()),_.set({left:_.left-M,top:_.top-(x-_.fontSize*(.07+_._fontSizeFraction))/_.lineHeight,strokeWidth:typeof b<"u"?b:1}),d(_)},o.Text.fromObject=function(l,d){var h=c(l),p=l.path;return delete h.path,o.Object._fromObject("Text",h,function(g){g.styles=o.util.stylesFromArray(l.styles,l.text),p?o.Object._fromObject("Path",p,function(m){g.set("path",m),d(g)},"path"):d(g)},"text")},o.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],o.util.createAccessors&&o.util.createAccessors(o.Text)}(t),function(){e.util.object.extend(e.Text.prototype,{isEmptyStyles:function(s){if(!this.styles||typeof s<"u"&&!this.styles[s])return!0;var o=typeof s>"u"?this.styles:{line:this.styles[s]};for(var c in o)for(var f in o[c])for(var l in o[c][f])return!1;return!0},styleHas:function(s,o){if(!this.styles||!s||s===""||typeof o<"u"&&!this.styles[o])return!1;var c=typeof o>"u"?this.styles:{0:this.styles[o]};for(var f in c)for(var l in c[f])if(typeof c[f][l][s]<"u")return!0;return!1},cleanStyle:function(s){if(!this.styles||!s||s==="")return!1;var o=this.styles,c=0,f,l,d=!0,h=0,p;for(var g in o){f=0;for(var m in o[g]){var p=o[g][m],v=p.hasOwnProperty(s);c++,v?(l?p[s]!==l&&(d=!1):l=p[s],p[s]===this[s]&&delete p[s]):d=!1,Object.keys(p).length!==0?f++:delete o[g][m]}f===0&&delete o[g]}for(var b=0;b<this._textLines.length;b++)h+=this._textLines[b].length;d&&c===h&&(this[s]=l,this.removeStyle(s))},removeStyle:function(s){if(!(!this.styles||!s||s==="")){var o=this.styles,c,f,l;for(f in o){c=o[f];for(l in c)delete c[l][s],Object.keys(c[l]).length===0&&delete c[l];Object.keys(c).length===0&&delete o[f]}}},_extendStyles:function(s,o){var c=this.get2DCursorLocation(s);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex),this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{}),e.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),o)},get2DCursorLocation:function(s,o){typeof s>"u"&&(s=this.selectionStart);for(var c=o?this._unwrappedTextLines:this._textLines,f=c.length,l=0;l<f;l++){if(s<=c[l].length)return{lineIndex:l,charIndex:s};s-=c[l].length+this.missingNewlineOffset(l)}return{lineIndex:l-1,charIndex:c[l-1].length<s?c[l-1].length:s}},getSelectionStyles:function(s,o,c){typeof s>"u"&&(s=this.selectionStart||0),typeof o>"u"&&(o=this.selectionEnd||s);for(var f=[],l=s;l<o;l++)f.push(this.getStyleAtPosition(l,c));return f},getStyleAtPosition:function(s,o){var c=this.get2DCursorLocation(s),f=o?this.getCompleteStyleDeclaration(c.lineIndex,c.charIndex):this._getStyleDeclaration(c.lineIndex,c.charIndex);return f||{}},setSelectionStyles:function(s,o,c){typeof o>"u"&&(o=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||o);for(var f=o;f<c;f++)this._extendStyles(f,s);return this._forceClearCache=!0,this},_getStyleDeclaration:function(s,o){var c=this.styles&&this.styles[s];return c?c[o]:null},getCompleteStyleDeclaration:function(s,o){for(var c=this._getStyleDeclaration(s,o)||{},f={},l,d=0;d<this._styleProperties.length;d++)l=this._styleProperties[d],f[l]=typeof c[l]>"u"?this[l]:c[l];return f},_setStyleDeclaration:function(s,o,c){this.styles[s][o]=c},_deleteStyleDeclaration:function(s,o){delete this.styles[s][o]},_getLineStyle:function(s){return!!this.styles[s]},_setLineStyle:function(s){this.styles[s]={}},_deleteLineStyle:function(s){delete this.styles[s]}})}(),function(){function s(o){o.textDecoration&&(o.textDecoration.indexOf("underline")>-1&&(o.underline=!0),o.textDecoration.indexOf("line-through")>-1&&(o.linethrough=!0),o.textDecoration.indexOf("overline")>-1&&(o.overline=!0),delete o.textDecoration)}e.IText=e.util.createClass(e.Text,e.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(o,c){this.callSuper("initialize",o,c),this.initBehavior()},setSelectionStart:function(o){o=Math.max(o,0),this._updateAndFire("selectionStart",o)},setSelectionEnd:function(o){o=Math.min(o,this.text.length),this._updateAndFire("selectionEnd",o)},_updateAndFire:function(o,c){this[o]!==c&&(this._fireSelectionChanged(),this[o]=c),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(o){this.clearContextTop(),this.callSuper("render",o),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(o){this.callSuper("_render",o)},clearContextTop:function(o){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this.canvas.contextTop,f=this.canvas.viewportTransform;c.save(),c.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(c),this._clearTextArea(c),o||c.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var o=this._getCursorBoundaries(),c=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(o,c):this.renderSelection(o,c),c.restore()}},_clearTextArea:function(o){var c=this.width+4,f=this.height+4;o.clearRect(-c/2,-f/2,c,f)},_getCursorBoundaries:function(o){typeof o>"u"&&(o=this.selectionStart);var c=this._getLeftOffset(),f=this._getTopOffset(),l=this._getCursorBoundariesOffsets(o);return{left:c,top:f,leftOffset:l.left,topOffset:l.top}},_getCursorBoundariesOffsets:function(o){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var c,f,l,d=0,h=0,p,g=this.get2DCursorLocation(o);l=g.charIndex,f=g.lineIndex;for(var m=0;m<f;m++)d+=this.getHeightOfLine(m);c=this._getLineLeftOffset(f);var v=this.__charBounds[f][l];return v&&(h=v.left),this.charSpacing!==0&&l===this._textLines[f].length&&(h-=this._getWidthOfCharSpacing()),p={top:d,left:c+(h>0?h:0)},this.direction==="rtl"&&(p.left*=-1),this.cursorOffsetCache=p,this.cursorOffsetCache},renderCursor:function(o,c){var f=this.get2DCursorLocation(),l=f.lineIndex,d=f.charIndex>0?f.charIndex-1:0,h=this.getValueOfPropertyAt(l,d,"fontSize"),p=this.scaleX*this.canvas.getZoom(),g=this.cursorWidth/p,m=o.topOffset,v=this.getValueOfPropertyAt(l,d,"deltaY");m+=(1-this._fontSizeFraction)*this.getHeightOfLine(l)/this.lineHeight-h*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(o,c),c.fillStyle=this.cursorColor||this.getValueOfPropertyAt(l,d,"fill"),c.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,c.fillRect(o.left+o.leftOffset-g/2,m+o.top+v,g,h)},renderSelection:function(o,c){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,l=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,d=this.textAlign.indexOf("justify")!==-1,h=this.get2DCursorLocation(f),p=this.get2DCursorLocation(l),g=h.lineIndex,m=p.lineIndex,v=h.charIndex<0?0:h.charIndex,b=p.charIndex<0?0:p.charIndex,_=g;_<=m;_++){var S=this._getLineLeftOffset(_)||0,w=this.getHeightOfLine(_),C=0,x=0,M=0;if(_===g&&(x=this.__charBounds[g][v].left),_>=g&&_<m)M=d&&!this.isEndOfWrapping(_)?this.width:this.getLineWidth(_)||5;else if(_===m)if(b===0)M=this.__charBounds[m][b].left;else{var E=this._getWidthOfCharSpacing();M=this.__charBounds[m][b-1].left+this.__charBounds[m][b-1].width-E}C=w,(this.lineHeight<1||_===m&&this.lineHeight>1)&&(w/=this.lineHeight);var A=o.left+S+x,O=M-x,I=w,$=0;this.inCompositionMode?(c.fillStyle=this.compositionColor||"black",I=1,$=w):c.fillStyle=this.selectionColor,this.direction==="rtl"&&(A=this.width-A-O),c.fillRect(A,o.top+o.topOffset+$,O,I),o.topOffset+=C}},getCurrentCharFontSize:function(){var o=this._getCurrentCharIndex();return this.getValueOfPropertyAt(o.l,o.c,"fontSize")},getCurrentCharColor:function(){var o=this._getCurrentCharIndex();return this.getValueOfPropertyAt(o.l,o.c,"fill")},_getCurrentCharIndex:function(){var o=this.get2DCursorLocation(this.selectionStart,!0),c=o.charIndex>0?o.charIndex-1:0;return{l:o.lineIndex,c}}}),e.IText.fromObject=function(o,c){var f=e.util.stylesFromArray(o.styles,o.text),l=Object.assign({},o,{styles:f});if(s(l),l.styles)for(var d in l.styles)for(var h in l.styles[d])s(l.styles[d][h]);e.Object._fromObject("IText",l,c,"text")}}(),function(){var s=e.util.object.clone;e.util.object.extend(e.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var o=this;this.on("added",function(){var c=o.canvas;c&&(c._hasITextHandlers||(c._hasITextHandlers=!0,o._initCanvasHandlers(c)),c._iTextInstances=c._iTextInstances||[],c._iTextInstances.push(o))})},initRemovedHandler:function(){var o=this;this.on("removed",function(){var c=o.canvas;c&&(c._iTextInstances=c._iTextInstances||[],e.util.removeFromArray(c._iTextInstances,o),c._iTextInstances.length===0&&(c._hasITextHandlers=!1,o._removeCanvasHandlers(c)))})},_initCanvasHandlers:function(o){o._mouseUpITextHandler=function(){o._iTextInstances&&o._iTextInstances.forEach(function(c){c.__isMousedown=!1})},o.on("mouse:up",o._mouseUpITextHandler)},_removeCanvasHandlers:function(o){o.off("mouse:up",o._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(o,c,f,l){var d;return d={isAborted:!1,abort:function(){this.isAborted=!0}},o.animate("_currentCursorOpacity",c,{duration:f,onComplete:function(){d.isAborted||o[l]()},onChange:function(){o.canvas&&o.selectionStart===o.selectionEnd&&o.renderCursorOrSelection()},abort:function(){return d.isAborted}}),d},_onTickComplete:function(){var o=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){o._currentTickCompleteState=o._animateCursor(o,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(o){var c=this,f=o?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){c._tick()},f)},abortCursorAnimation:function(){var o=this._currentTickState||this._currentTickCompleteState,c=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,o&&c&&c.clearContext(c.contextTop||c.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(o){var c=0,f=o-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f--;for(;/\S/.test(this._text[f])&&f>-1;)c++,f--;return o-c},findWordBoundaryRight:function(o){var c=0,f=o;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)c++,f++;return o+c},findLineBoundaryLeft:function(o){for(var c=0,f=o-1;!/\n/.test(this._text[f])&&f>-1;)c++,f--;return o-c},findLineBoundaryRight:function(o){for(var c=0,f=o;!/\n/.test(this._text[f])&&f<this._text.length;)c++,f++;return o+c},searchWordBoundary:function(o,c){for(var f=this._text,l=this._reSpace.test(f[o])?o-1:o,d=f[l],h=e.reNonWord;!h.test(d)&&l>0&&l<f.length;)l+=c,d=f[l];return h.test(d)&&(l+=c===1?0:1),l},selectWord:function(o){o=o||this.selectionStart;var c=this.searchWordBoundary(o,-1),f=this.searchWordBoundary(o,1);this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(o){o=o||this.selectionStart;var c=this.findLineBoundaryLeft(o),f=this.findLineBoundaryRight(o);return this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(o){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(o),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(o){o._iTextInstances&&o._iTextInstances.forEach(function(c){c.selected=!1,c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(o){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var c=this.getSelectionStartFromPointer(o.e),f=this.selectionStart,l=this.selectionEnd;(c!==this.__selectionStartOnMouseDown||f===l)&&(f===c||l===c)||(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==l)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(o,c,f){var l=f.slice(0,o),d=e.util.string.graphemeSplit(l).length;if(o===c)return{selectionStart:d,selectionEnd:d};var h=f.slice(o,c),p=e.util.string.graphemeSplit(h).length;return{selectionStart:d,selectionEnd:d+p}},fromGraphemeToStringSelection:function(o,c,f){var l=f.slice(0,o),d=l.join("").length;if(o===c)return{selectionStart:d,selectionEnd:d};var h=f.slice(o,c),p=h.join("").length;return{selectionStart:d,selectionEnd:d+p}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var o=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=o.selectionStart,this.hiddenTextarea.selectionEnd=o.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var o=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=o.selectionEnd,this.inCompositionMode||(this.selectionStart=o.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var o=this._calcTextareaPosition();this.hiddenTextarea.style.left=o.left,this.hiddenTextarea.style.top=o.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var o=this.inCompositionMode?this.compositionStart:this.selectionStart,c=this._getCursorBoundaries(o),f=this.get2DCursorLocation(o),l=f.lineIndex,d=f.charIndex,h=this.getValueOfPropertyAt(l,d,"fontSize")*this.lineHeight,p=c.leftOffset,g=this.calcTransformMatrix(),m={x:c.left+p,y:c.top+c.topOffset+h},v=this.canvas.getRetinaScaling(),b=this.canvas.upperCanvasEl,_=b.width/v,S=b.height/v,w=_-h,C=S-h,x=b.clientWidth/_,M=b.clientHeight/S;return m=e.util.transformPoint(m,g),m=e.util.transformPoint(m,this.canvas.viewportTransform),m.x*=x,m.y*=M,m.x<0&&(m.x=0),m.x>w&&(m.x=w),m.y<0&&(m.y=0),m.y>C&&(m.y=C),m.x+=this.canvas._offset.left,m.y+=this.canvas._offset.top,{left:m.x+"px",top:m.y+"px",fontSize:h+"px",charHeight:h}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var o=this._textBeforeEdit!==this.text,c=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,c&&(c.blur&&c.blur(),c.parentNode&&c.parentNode.removeChild(c)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),o&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),o&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var o in this.styles)this._textLines[o]||delete this.styles[o]},removeStyleFromTo:function(o,c){var f=this.get2DCursorLocation(o,!0),l=this.get2DCursorLocation(c,!0),d=f.lineIndex,h=f.charIndex,p=l.lineIndex,g=l.charIndex,m,v;if(d!==p){if(this.styles[d])for(m=h;m<this._unwrappedTextLines[d].length;m++)delete this.styles[d][m];if(this.styles[p])for(m=g;m<this._unwrappedTextLines[p].length;m++)v=this.styles[p][m],v&&(this.styles[d]||(this.styles[d]={}),this.styles[d][h+m-g]=v);for(m=d+1;m<=p;m++)delete this.styles[m];this.shiftLineStyles(p,d-p)}else if(this.styles[d]){v=this.styles[d];var b=g-h,_,S;for(m=h;m<g;m++)delete v[m];for(S in this.styles[d])_=parseInt(S,10),_>=g&&(v[_-b]=v[S],delete v[S])}},shiftLineStyles:function(o,c){var f=s(this.styles);for(var l in this.styles){var d=parseInt(l,10);d>o&&(this.styles[d+c]=f[d],f[d-c]||delete this.styles[d])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(o,c,f,l){var d,h={},p=!1,g=this._unwrappedTextLines[o].length===c;f||(f=1),this.shiftLineStyles(o,f),this.styles[o]&&(d=this.styles[o][c===0?c:c-1]);for(var m in this.styles[o]){var v=parseInt(m,10);v>=c&&(p=!0,h[v-c]=this.styles[o][m],g&&c===0||delete this.styles[o][m])}var b=!1;for(p&&!g&&(this.styles[o+f]=h,b=!0),b&&f--;f>0;)l&&l[f-1]?this.styles[o+f]={0:s(l[f-1])}:d?this.styles[o+f]={0:s(d)}:delete this.styles[o+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(o,c,f,l){this.styles||(this.styles={});var d=this.styles[o],h=d?s(d):{};f||(f=1);for(var p in h){var g=parseInt(p,10);g>=c&&(d[g+f]=h[g],h[g-f]||delete d[g])}if(this._forceClearCache=!0,l){for(;f--;)Object.keys(l[f]).length&&(this.styles[o]||(this.styles[o]={}),this.styles[o][c+f]=s(l[f]));return}if(d)for(var m=d[c?c-1:1];m&&f--;)this.styles[o][c+f]=s(m)},insertNewStyleBlock:function(o,c,f){for(var l=this.get2DCursorLocation(c,!0),d=[0],h=0,p=0;p<o.length;p++)o[p]===`
`?(h++,d[h]=0):d[h]++;d[0]>0&&(this.insertCharStyleObject(l.lineIndex,l.charIndex,d[0],f),f=f&&f.slice(d[0]+1)),h&&this.insertNewlineStyleObject(l.lineIndex,l.charIndex+d[0],h);for(var p=1;p<h;p++)d[p]>0?this.insertCharStyleObject(l.lineIndex+p,0,d[p],f):f&&this.styles[l.lineIndex+p]&&f[0]&&(this.styles[l.lineIndex+p][0]=f[0]),f=f&&f.slice(d[p]+1);d[p]>0&&this.insertCharStyleObject(l.lineIndex+p,0,d[p],f)},setSelectionStartEndWithShift:function(o,c,f){f<=o?(c===o?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=o),this.selectionStart=f):f>o&&f<c?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(c===o?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=c),this.selectionEnd=f)},setSelectionInBoundaries:function(){var o=this.text.length;this.selectionStart>o?this.selectionStart=o:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>o?this.selectionEnd=o:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),e.util.object.extend(e.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(s){if(this.canvas){this.__newClickTime=+new Date;var o=s.pointer;this.isTripleClick(o)&&(this.fire("tripleclick",s),this._stopEvent(s.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=o,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(s){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===s.x&&this.__lastPointer.y===s.y},_stopEvent:function(s){s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(s){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(s.e))},tripleClickHandler:function(s){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(s.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(s){!this.canvas||!this.editable||s.e.button&&s.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(s.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(s){!this.canvas||!this.editable||s.e.button&&s.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(s){if(this.__isMousedown=!1,!(!this.editable||this.group||s.transform&&s.transform.actionPerformed||s.e.button&&s.e.button!==1)){if(this.canvas){var o=this.canvas._activeObject;if(o&&o!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(s.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(s){var o=this.getSelectionStartFromPointer(s),c=this.selectionStart,f=this.selectionEnd;s.shiftKey?this.setSelectionStartEndWithShift(c,f,o):(this.selectionStart=o,this.selectionEnd=o),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(s){for(var o=this.getLocalPointer(s),c=0,f=0,l=0,d=0,h=0,p,g,m=0,v=this._textLines.length;m<v&&l<=o.y;m++)l+=this.getHeightOfLine(m)*this.scaleY,h=m,m>0&&(d+=this._textLines[m-1].length+this.missingNewlineOffset(m-1));p=this._getLineLeftOffset(h),f=p*this.scaleX,g=this._textLines[h],this.direction==="rtl"&&(o.x=this.width*this.scaleX-o.x+f);for(var b=0,_=g.length;b<_&&(c=f,f+=this.__charBounds[h][b].kernedWidth*this.scaleX,f<=o.x);b++)d++;return this._getNewSelectionStartFromOffset(o,c,f,d,_)},_getNewSelectionStartFromOffset:function(s,o,c,f,l){var d=s.x-o,h=c-s.x,p=h>d||h<0?0:1,g=f+p;return this.flipX&&(g=l-g),g>this._text.length&&(g=this._text.length),g}}),e.util.object.extend(e.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=e.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var s=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+s.top+"; left: "+s.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+s.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):e.document.body.appendChild(this.hiddenTextarea),e.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),e.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),e.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),e.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),e.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),e.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(e.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(s){if(this.isEditing){var o=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(s.keyCode in o)this[o[s.keyCode]](s);else if(s.keyCode in this.ctrlKeysMapDown&&(s.ctrlKey||s.metaKey))this[this.ctrlKeysMapDown[s.keyCode]](s);else return;s.stopImmediatePropagation(),s.preventDefault(),s.keyCode>=33&&s.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(s){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(s.keyCode in this.ctrlKeysMapUp&&(s.ctrlKey||s.metaKey))this[this.ctrlKeysMapUp[s.keyCode]](s);else return;s.stopImmediatePropagation(),s.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(s){var o=this.fromPaste;if(this.fromPaste=!1,s&&s.stopPropagation(),!!this.isEditing){var c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,l=c.length,d,h,p=l-f,g=this.selectionStart,m=this.selectionEnd,v=g!==m,b,_,S;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var w=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),C=g>w.selectionStart;v?(d=this._text.slice(g,m),p+=m-g):l<f&&(C?d=this._text.slice(m+p,m):d=this._text.slice(g,g-p)),h=c.slice(w.selectionEnd-p,w.selectionEnd),d&&d.length&&(h.length&&(b=this.getSelectionStyles(g,g+1,!1),b=h.map(function(){return b[0]})),v?(_=g,S=m):C?(_=m-d.length,S=m):(_=m,S=m+d.length),this.removeStyleFromTo(_,S)),h.length&&(o&&h.join("")===e.copiedText&&!e.disableStyleCopyPaste&&(b=e.copiedTextStyle),this.insertNewStyleBlock(h,g,b)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(s){this.compositionStart=s.target.selectionStart,this.compositionEnd=s.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(e.copiedText=this.getSelectedText(),e.disableStyleCopyPaste?e.copiedTextStyle=null:e.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(s){return s&&s.clipboardData||e.window.clipboardData},_getWidthBeforeCursor:function(s,o){var c=this._getLineLeftOffset(s),f;return o>0&&(f=this.__charBounds[s][o-1],c+=f.left+f.width),c},getDownCursorOffset:function(s,o){var c=this._getSelectionForOffset(s,o),f=this.get2DCursorLocation(c),l=f.lineIndex;if(l===this._textLines.length-1||s.metaKey||s.keyCode===34)return this._text.length-c;var d=f.charIndex,h=this._getWidthBeforeCursor(l,d),p=this._getIndexOnLine(l+1,h),g=this._textLines[l].slice(d);return g.length+p+1+this.missingNewlineOffset(l)},_getSelectionForOffset:function(s,o){return s.shiftKey&&this.selectionStart!==this.selectionEnd&&o?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(s,o){var c=this._getSelectionForOffset(s,o),f=this.get2DCursorLocation(c),l=f.lineIndex;if(l===0||s.metaKey||s.keyCode===33)return-c;var d=f.charIndex,h=this._getWidthBeforeCursor(l,d),p=this._getIndexOnLine(l-1,h),g=this._textLines[l].slice(0,d),m=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+p-g.length+(1-m)},_getIndexOnLine:function(s,o){for(var c=this._textLines[s],f=this._getLineLeftOffset(s),l=f,d=0,h,p,g=0,m=c.length;g<m;g++)if(h=this.__charBounds[s][g].width,l+=h,l>o){p=!0;var v=l-h,b=l,_=Math.abs(v-o),S=Math.abs(b-o);d=S<_?g:g-1;break}return p||(d=c.length-1),d},moveCursorDown:function(s){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",s)},moveCursorUp:function(s){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",s)},_moveCursorUpOrDown:function(s,o){var c="get"+s+"CursorOffset",f=this[c](o,this._selectionDirection==="right");o.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(s){var o=this._selectionDirection==="left"?this.selectionStart+s:this.selectionEnd+s;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,o),s!==0},moveCursorWithoutShift:function(s){return s<0?(this.selectionStart+=s,this.selectionEnd=this.selectionStart):(this.selectionEnd+=s,this.selectionStart=this.selectionEnd),s!==0},moveCursorLeft:function(s){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",s)},_move:function(s,o,c){var f;if(s.altKey)f=this["findWordBoundary"+c](this[o]);else if(s.metaKey||s.keyCode===35||s.keyCode===36)f=this["findLineBoundary"+c](this[o]);else return this[o]+=c==="Left"?-1:1,!0;if(typeof f<"u"&&this[o]!==f)return this[o]=f,!0},_moveLeft:function(s,o){return this._move(s,o,"Left")},_moveRight:function(s,o){return this._move(s,o,"Right")},moveCursorLeftWithoutShift:function(s){var o=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(o=this._moveLeft(s,"selectionStart")),this.selectionEnd=this.selectionStart,o},moveCursorLeftWithShift:function(s){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(s,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(s,"selectionStart")},moveCursorRight:function(s){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",s)},_moveCursorLeftOrRight:function(s,o){var c="moveCursor"+s+"With";this._currentCursorOpacity=1,o.shiftKey?c+="Shift":c+="outShift",this[c](o)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(s){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(s,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(s,"selectionEnd")},moveCursorRightWithoutShift:function(s){var o=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(o=this._moveRight(s,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,o},removeChars:function(s,o){typeof o>"u"&&(o=s+1),this.removeStyleFromTo(s,o),this._text.splice(s,o-s),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(s,o,c,f){typeof f>"u"&&(f=c),f>c&&this.removeStyleFromTo(c,f);var l=e.util.string.graphemeSplit(s);this.insertNewStyleBlock(l,c,o),this._text=[].concat(this._text.slice(0,c),l,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var s=e.util.toFixed,o=/  +/g;e.util.object.extend(e.Text.prototype,{_toSVG:function(){var c=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(c.textTop,c.textLeft);return this._wrapSVGTextAndBg(f)},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(c){var f=!0,l=this.getSvgTextDecoration(this);return[c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",l?'text-decoration="'+l+'" ':"",'style="',this.getSvgStyles(f),'"',this.addPaintOrder()," >",c.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(c,f){var l=[],d=[],h=c,p;this._setSVGBg(d);for(var g=0,m=this._textLines.length;g<m;g++)p=this._getLineLeftOffset(g),(this.textBackgroundColor||this.styleHas("textBackgroundColor",g))&&this._setSVGTextLineBg(d,g,f+p,h),this._setSVGTextLineText(l,g,f+p,h),h+=this.getHeightOfLine(g);return{textSpans:l,textBgRects:d}},_createTextCharSpan:function(c,f,l,d){var h=c!==c.trim()||c.match(o),p=this.getSvgSpanStyles(f,h),g=p?'style="'+p+'"':"",m=f.deltaY,v="",b=e.Object.NUM_FRACTION_DIGITS;return m&&(v=' dy="'+s(m,b)+'" '),['<tspan x="',s(l,b),'" y="',s(d,b),'" ',v,g,">",e.util.string.escapeXml(c),"</tspan>"].join("")},_setSVGTextLineText:function(c,f,l,d){var h=this.getHeightOfLine(f),p=this.textAlign.indexOf("justify")!==-1,g,m,v="",b,_,S=0,w=this._textLines[f],C;d+=h*(1-this._fontSizeFraction)/this.lineHeight;for(var x=0,M=w.length-1;x<=M;x++)C=x===M||this.charSpacing,v+=w[x],b=this.__charBounds[f][x],S===0?(l+=b.kernedWidth-b.width,S+=b.width):S+=b.kernedWidth,p&&!C&&this._reSpaceAndTab.test(w[x])&&(C=!0),C||(g=g||this.getCompleteStyleDeclaration(f,x),m=this.getCompleteStyleDeclaration(f,x+1),C=e.util.hasStyleChanged(g,m,!0)),C&&(_=this._getStyleDeclaration(f,x)||{},c.push(this._createTextCharSpan(v,_,l,d)),v="",g=m,l+=S,S=0)},_pushTextBgRect:function(c,f,l,d,h,p){var g=e.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(f),' x="',s(l,g),'" y="',s(d,g),'" width="',s(h,g),'" height="',s(p,g),`"></rect>
`)},_setSVGTextLineBg:function(c,f,l,d){for(var h=this._textLines[f],p=this.getHeightOfLine(f)/this.lineHeight,g=0,m=0,v,b,_=this.getValueOfPropertyAt(f,0,"textBackgroundColor"),S=0,w=h.length;S<w;S++)v=this.__charBounds[f][S],b=this.getValueOfPropertyAt(f,S,"textBackgroundColor"),b!==_?(_&&this._pushTextBgRect(c,_,l+m,d,g,p),m=v.left,g=v.width,_=b):g+=v.kernedWidth;b&&this._pushTextBgRect(c,b,l+m,d,g,p)},_getFillAttributes:function(c){var f=c&&typeof c=="string"?new e.Color(c):"";return!f||!f.getSource()||f.getAlpha()===1?'fill="'+c+'"':'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(c){for(var f=0,l=0,d=0;d<c;d++)f+=this.getHeightOfLine(d);return l=this.getHeightOfLine(d),{lineTop:f,offset:(this._fontSizeMult-this._fontSizeFraction)*l/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(c){var f=e.Object.prototype.getSvgStyles.call(this,c);return f+" white-space: pre;"}})}(),function(s){var o=s.fabric||(s.fabric={});o.Textbox=o.util.createClass(o.IText,o.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:o.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(c){for(var f=0,l=0,d=0,h={},p=0;p<c.graphemeLines.length;p++)c.graphemeText[d]===`
`&&p>0?(l=0,d++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(c.graphemeText[d])&&p>0&&(l++,d++),h[p]={line:f,offset:l},d+=c.graphemeLines[p].length,l+=c.graphemeLines[p].length;return h},styleHas:function(c,f){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[f];l&&(f=l.line)}return o.Text.prototype.styleHas.call(this,c,f)},isEmptyStyles:function(c){if(!this.styles)return!0;var f=0,l=c+1,d,h,p=!1,g=this._styleMap[c],m=this._styleMap[c+1];g&&(c=g.line,f=g.offset),m&&(l=m.line,p=l===c,d=m.offset),h=typeof c>"u"?this.styles:{line:this.styles[c]};for(var v in h)for(var b in h[v])if(b>=f&&(!p||b<d))for(var _ in h[v][b])return!1;return!0},_getStyleDeclaration:function(c,f){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[c];if(!l)return null;c=l.line,f=l.offset+f}return this.callSuper("_getStyleDeclaration",c,f)},_setStyleDeclaration:function(c,f,l){var d=this._styleMap[c];c=d.line,f=d.offset+f,this.styles[c][f]=l},_deleteStyleDeclaration:function(c,f){var l=this._styleMap[c];c=l.line,f=l.offset+f,delete this.styles[c][f]},_getLineStyle:function(c){var f=this._styleMap[c];return!!this.styles[f.line]},_setLineStyle:function(c){var f=this._styleMap[c];this.styles[f.line]={}},_wrapText:function(c,f){var l=[],d;for(this.isWrapping=!0,d=0;d<c.length;d++)l=l.concat(this._wrapLine(c[d],d,f));return this.isWrapping=!1,l},_measureWord:function(c,f,l){var d=0,h,p=!0;l=l||0;for(var g=0,m=c.length;g<m;g++){var v=this._getGraphemeBox(c[g],f,g+l,h,p);d+=v.kernedWidth,h=c[g]}return d},_wrapLine:function(c,f,l,A){var h=0,p=this.splitByGrapheme,g=[],m=[],v=p?o.util.string.graphemeSplit(c):c.split(this._wordJoiners),b="",_=0,S=p?"":" ",w=0,C=0,x=0,M=!0,E=this._getWidthOfCharSpacing(),A=A||0;v.length===0&&v.push([]),l-=A;for(var O=0;O<v.length;O++)b=p?v[O]:o.util.string.graphemeSplit(v[O]),w=this._measureWord(b,f,_),_+=b.length,h+=C+w-E,h>l&&!M?(g.push(m),m=[],h=w,M=!0):h+=E,!M&&!p&&m.push(S),m=m.concat(b),C=p?0:this._measureWord([S],f,_),_++,M=!1,w>x&&(x=w);return O&&g.push(m),x+A>this.dynamicMinWidth&&(this.dynamicMinWidth=x-E+A),g},isEndOfWrapping:function(c){return!this._styleMap[c+1]||this._styleMap[c+1].line!==this._styleMap[c].line},missingNewlineOffset:function(c){return this.splitByGrapheme?this.isEndOfWrapping(c)?1:0:1},_splitTextIntoLines:function(c){for(var f=o.Text.prototype._splitTextIntoLines.call(this,c),l=this._wrapText(f.lines,this.width),d=new Array(l.length),h=0;h<l.length;h++)d[h]=l[h].join("");return f.lines=d,f.graphemeLines=l,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var c={};for(var f in this._styleMap)this._textLines[f]&&(c[this._styleMap[f].line]=1);for(var f in this.styles)c[f]||delete this.styles[f]},toObject:function(c){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(c))}}),o.Textbox.fromObject=function(c,f){var l=o.util.stylesFromArray(c.styles,c.text),d=Object.assign({},c,{styles:l});return o.Object._fromObject("Textbox",d,f,"text")}}(t),function(){var s=e.controlsUtils,o=s.scaleSkewCursorStyleHandler,c=s.scaleCursorStyleHandler,f=s.scalingEqually,l=s.scalingYOrSkewingX,d=s.scalingXOrSkewingY,h=s.scaleOrSkewActionName,p=e.Object.prototype.controls;if(p.ml=new e.Control({x:-.5,y:0,cursorStyleHandler:o,actionHandler:d,getActionName:h}),p.mr=new e.Control({x:.5,y:0,cursorStyleHandler:o,actionHandler:d,getActionName:h}),p.mb=new e.Control({x:0,y:.5,cursorStyleHandler:o,actionHandler:l,getActionName:h}),p.mt=new e.Control({x:0,y:-.5,cursorStyleHandler:o,actionHandler:l,getActionName:h}),p.tl=new e.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),p.tr=new e.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),p.bl=new e.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:f}),p.br=new e.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:f}),p.mtr=new e.Control({x:0,y:-.5,actionHandler:s.rotationWithSnapping,cursorStyleHandler:s.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),e.Textbox){var g=e.Textbox.prototype.controls={};g.mtr=p.mtr,g.tr=p.tr,g.br=p.br,g.tl=p.tl,g.bl=p.bl,g.mt=p.mt,g.mb=p.mb,g.mr=new e.Control({x:.5,y:0,actionHandler:s.changeWidth,cursorStyleHandler:o,actionName:"resizing"}),g.ml=new e.Control({x:-.5,y:0,actionHandler:s.changeWidth,cursorStyleHandler:o,actionName:"resizing"})}}()})(wn);const GC={type:"change"},xm={type:"start"},jC={type:"end"};class zue extends Ma{constructor(e,n){super(),this.object=e,this.domElement=n,this.domElement.style.touchAction="none",this.enabled=!0,this.target=new $e,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.05,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.panSpeed=1,this.screenSpacePanning=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.keys={LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"},this.mouseButtons={LEFT:Ia.ROTATE,MIDDLE:Ia.DOLLY,RIGHT:Ia.PAN},this.touches={ONE:Da.ROTATE,TWO:Da.DOLLY_PAN},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this._domElementKeyEvents=null,this.getPolarAngle=function(){return s.phi},this.getAzimuthalAngle=function(){return s.theta},this.getDistance=function(){return this.object.position.distanceTo(this.target)},this.listenToKeyEvents=function(ye){ye.addEventListener("keydown",Oe),this._domElementKeyEvents=ye},this.stopListenToKeyEvents=function(){this._domElementKeyEvents.removeEventListener("keydown",Oe),this._domElementKeyEvents=null},this.saveState=function(){i.target0.copy(i.target),i.position0.copy(i.object.position),i.zoom0=i.object.zoom},this.reset=function(){i.target.copy(i.target0),i.object.position.copy(i.position0),i.object.zoom=i.zoom0,i.object.updateProjectionMatrix(),i.dispatchEvent(GC),i.update(),a=r.NONE},this.update=function(){const ye=new $e,Ne=new Hr().setFromUnitVectors(e.up,new $e(0,1,0)),Ae=Ne.clone().invert(),Te=new $e,ae=new Hr,fe=2*Math.PI;return function(){const ge=i.object.position;ye.copy(ge).sub(i.target),ye.applyQuaternion(Ne),s.setFromVector3(ye),i.autoRotate&&a===r.NONE&&E(x()),i.enableDamping?(s.theta+=o.theta*i.dampingFactor,s.phi+=o.phi*i.dampingFactor):(s.theta+=o.theta,s.phi+=o.phi);let De=i.minAzimuthAngle,me=i.maxAzimuthAngle;return isFinite(De)&&isFinite(me)&&(De<-Math.PI?De+=fe:De>Math.PI&&(De-=fe),me<-Math.PI?me+=fe:me>Math.PI&&(me-=fe),De<=me?s.theta=Math.max(De,Math.min(me,s.theta)):s.theta=s.theta>(De+me)/2?Math.max(De,s.theta):Math.min(me,s.theta)),s.phi=Math.max(i.minPolarAngle,Math.min(i.maxPolarAngle,s.phi)),s.makeSafe(),s.radius*=c,s.radius=Math.max(i.minDistance,Math.min(i.maxDistance,s.radius)),i.enableDamping===!0?i.target.addScaledVector(f,i.dampingFactor):i.target.add(f),ye.setFromSpherical(s),ye.applyQuaternion(Ae),ge.copy(i.target).add(ye),i.object.lookAt(i.target),i.enableDamping===!0?(o.theta*=1-i.dampingFactor,o.phi*=1-i.dampingFactor,f.multiplyScalar(1-i.dampingFactor)):(o.set(0,0,0),f.set(0,0,0)),c=1,l||Te.distanceToSquared(i.object.position)>u||8*(1-ae.dot(i.object.quaternion))>u?(i.dispatchEvent(GC),Te.copy(i.object.position),ae.copy(i.object.quaternion),l=!1,!0):!1}}(),this.dispose=function(){i.domElement.removeEventListener("contextmenu",Z),i.domElement.removeEventListener("pointerdown",J),i.domElement.removeEventListener("pointercancel",pe),i.domElement.removeEventListener("wheel",Ce),i.domElement.removeEventListener("pointermove",ce),i.domElement.removeEventListener("pointerup",pe),i._domElementKeyEvents!==null&&(i._domElementKeyEvents.removeEventListener("keydown",Oe),i._domElementKeyEvents=null)};const i=this,r={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let a=r.NONE;const u=1e-6,s=new WC,o=new WC;let c=1;const f=new $e;let l=!1;const d=new Ut,h=new Ut,p=new Ut,g=new Ut,m=new Ut,v=new Ut,b=new Ut,_=new Ut,S=new Ut,w=[],C={};function x(){return 2*Math.PI/60/60*i.autoRotateSpeed}function M(){return Math.pow(.95,i.zoomSpeed)}function E(ye){o.theta-=ye}function A(ye){o.phi-=ye}const O=function(){const ye=new $e;return function(Ae,Te){ye.setFromMatrixColumn(Te,0),ye.multiplyScalar(-Ae),f.add(ye)}}(),I=function(){const ye=new $e;return function(Ae,Te){i.screenSpacePanning===!0?ye.setFromMatrixColumn(Te,1):(ye.setFromMatrixColumn(Te,0),ye.crossVectors(i.object.up,ye)),ye.multiplyScalar(Ae),f.add(ye)}}(),$=function(){const ye=new $e;return function(Ae,Te){const ae=i.domElement;if(i.object.isPerspectiveCamera){const fe=i.object.position;ye.copy(fe).sub(i.target);let ie=ye.length();ie*=Math.tan(i.object.fov/2*Math.PI/180),O(2*Ae*ie/ae.clientHeight,i.object.matrix),I(2*Te*ie/ae.clientHeight,i.object.matrix)}else i.object.isOrthographicCamera?(O(Ae*(i.object.right-i.object.left)/i.object.zoom/ae.clientWidth,i.object.matrix),I(Te*(i.object.top-i.object.bottom)/i.object.zoom/ae.clientHeight,i.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),i.enablePan=!1)}}();function H(ye){i.object.isPerspectiveCamera?c/=ye:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom*ye)),i.object.updateProjectionMatrix(),l=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function B(ye){i.object.isPerspectiveCamera?c*=ye:i.object.isOrthographicCamera?(i.object.zoom=Math.max(i.minZoom,Math.min(i.maxZoom,i.object.zoom/ye)),i.object.updateProjectionMatrix(),l=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),i.enableZoom=!1)}function N(ye){d.set(ye.clientX,ye.clientY)}function k(ye){b.set(ye.clientX,ye.clientY)}function D(ye){g.set(ye.clientX,ye.clientY)}function T(ye){h.set(ye.clientX,ye.clientY),p.subVectors(h,d).multiplyScalar(i.rotateSpeed);const Ne=i.domElement;E(2*Math.PI*p.x/Ne.clientHeight),A(2*Math.PI*p.y/Ne.clientHeight),d.copy(h),i.update()}function R(ye){_.set(ye.clientX,ye.clientY),S.subVectors(_,b),S.y>0?H(M()):S.y<0&&B(M()),b.copy(_),i.update()}function V(ye){m.set(ye.clientX,ye.clientY),v.subVectors(m,g).multiplyScalar(i.panSpeed),$(v.x,v.y),g.copy(m),i.update()}function U(ye){ye.deltaY<0?B(M()):ye.deltaY>0&&H(M()),i.update()}function X(ye){let Ne=!1;switch(ye.code){case i.keys.UP:ye.ctrlKey||ye.metaKey||ye.shiftKey?A(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):$(0,i.keyPanSpeed),Ne=!0;break;case i.keys.BOTTOM:ye.ctrlKey||ye.metaKey||ye.shiftKey?A(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):$(0,-i.keyPanSpeed),Ne=!0;break;case i.keys.LEFT:ye.ctrlKey||ye.metaKey||ye.shiftKey?E(2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):$(i.keyPanSpeed,0),Ne=!0;break;case i.keys.RIGHT:ye.ctrlKey||ye.metaKey||ye.shiftKey?E(-2*Math.PI*i.rotateSpeed/i.domElement.clientHeight):$(-i.keyPanSpeed,0),Ne=!0;break}Ne&&(ye.preventDefault(),i.update())}function W(){if(w.length===1)d.set(w[0].pageX,w[0].pageY);else{const ye=.5*(w[0].pageX+w[1].pageX),Ne=.5*(w[0].pageY+w[1].pageY);d.set(ye,Ne)}}function j(){if(w.length===1)g.set(w[0].pageX,w[0].pageY);else{const ye=.5*(w[0].pageX+w[1].pageX),Ne=.5*(w[0].pageY+w[1].pageY);g.set(ye,Ne)}}function K(){const ye=w[0].pageX-w[1].pageX,Ne=w[0].pageY-w[1].pageY,Ae=Math.sqrt(ye*ye+Ne*Ne);b.set(0,Ae)}function z(){i.enableZoom&&K(),i.enablePan&&j()}function ee(){i.enableZoom&&K(),i.enableRotate&&W()}function ue(ye){if(w.length==1)h.set(ye.pageX,ye.pageY);else{const Ae=Fe(ye),Te=.5*(ye.pageX+Ae.x),ae=.5*(ye.pageY+Ae.y);h.set(Te,ae)}p.subVectors(h,d).multiplyScalar(i.rotateSpeed);const Ne=i.domElement;E(2*Math.PI*p.x/Ne.clientHeight),A(2*Math.PI*p.y/Ne.clientHeight),d.copy(h)}function ne(ye){if(w.length===1)m.set(ye.pageX,ye.pageY);else{const Ne=Fe(ye),Ae=.5*(ye.pageX+Ne.x),Te=.5*(ye.pageY+Ne.y);m.set(Ae,Te)}v.subVectors(m,g).multiplyScalar(i.panSpeed),$(v.x,v.y),g.copy(m)}function le(ye){const Ne=Fe(ye),Ae=ye.pageX-Ne.x,Te=ye.pageY-Ne.y,ae=Math.sqrt(Ae*Ae+Te*Te);_.set(0,ae),S.set(0,Math.pow(_.y/b.y,i.zoomSpeed)),H(S.y),b.copy(_)}function Me(ye){i.enableZoom&&le(ye),i.enablePan&&ne(ye)}function q(ye){i.enableZoom&&le(ye),i.enableRotate&&ue(ye)}function J(ye){i.enabled!==!1&&(w.length===0&&(i.domElement.setPointerCapture(ye.pointerId),i.domElement.addEventListener("pointermove",ce),i.domElement.addEventListener("pointerup",pe)),_e(ye),ye.pointerType==="touch"?ke(ye):re(ye))}function ce(ye){i.enabled!==!1&&(ye.pointerType==="touch"?G(ye):he(ye))}function pe(ye){de(ye),w.length===0&&(i.domElement.releasePointerCapture(ye.pointerId),i.domElement.removeEventListener("pointermove",ce),i.domElement.removeEventListener("pointerup",pe)),i.dispatchEvent(jC),a=r.NONE}function re(ye){let Ne;switch(ye.button){case 0:Ne=i.mouseButtons.LEFT;break;case 1:Ne=i.mouseButtons.MIDDLE;break;case 2:Ne=i.mouseButtons.RIGHT;break;default:Ne=-1}switch(Ne){case Ia.DOLLY:if(i.enableZoom===!1)return;k(ye),a=r.DOLLY;break;case Ia.ROTATE:if(ye.ctrlKey||ye.metaKey||ye.shiftKey){if(i.enablePan===!1)return;D(ye),a=r.PAN}else{if(i.enableRotate===!1)return;N(ye),a=r.ROTATE}break;case Ia.PAN:if(ye.ctrlKey||ye.metaKey||ye.shiftKey){if(i.enableRotate===!1)return;N(ye),a=r.ROTATE}else{if(i.enablePan===!1)return;D(ye),a=r.PAN}break;default:a=r.NONE}a!==r.NONE&&i.dispatchEvent(xm)}function he(ye){switch(a){case r.ROTATE:if(i.enableRotate===!1)return;T(ye);break;case r.DOLLY:if(i.enableZoom===!1)return;R(ye);break;case r.PAN:if(i.enablePan===!1)return;V(ye);break}}function Ce(ye){i.enabled===!1||i.enableZoom===!1||a!==r.NONE||(ye.preventDefault(),i.dispatchEvent(xm),U(ye),i.dispatchEvent(jC))}function Oe(ye){i.enabled===!1||i.enablePan===!1||X(ye)}function ke(ye){switch(Re(ye),w.length){case 1:switch(i.touches.ONE){case Da.ROTATE:if(i.enableRotate===!1)return;W(),a=r.TOUCH_ROTATE;break;case Da.PAN:if(i.enablePan===!1)return;j(),a=r.TOUCH_PAN;break;default:a=r.NONE}break;case 2:switch(i.touches.TWO){case Da.DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;z(),a=r.TOUCH_DOLLY_PAN;break;case Da.DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;ee(),a=r.TOUCH_DOLLY_ROTATE;break;default:a=r.NONE}break;default:a=r.NONE}a!==r.NONE&&i.dispatchEvent(xm)}function G(ye){switch(Re(ye),a){case r.TOUCH_ROTATE:if(i.enableRotate===!1)return;ue(ye),i.update();break;case r.TOUCH_PAN:if(i.enablePan===!1)return;ne(ye),i.update();break;case r.TOUCH_DOLLY_PAN:if(i.enableZoom===!1&&i.enablePan===!1)return;Me(ye),i.update();break;case r.TOUCH_DOLLY_ROTATE:if(i.enableZoom===!1&&i.enableRotate===!1)return;q(ye),i.update();break;default:a=r.NONE}}function Z(ye){i.enabled!==!1&&ye.preventDefault()}function _e(ye){w.push(ye)}function de(ye){delete C[ye.pointerId];for(let Ne=0;Ne<w.length;Ne++)if(w[Ne].pointerId==ye.pointerId){w.splice(Ne,1);return}}function Re(ye){let Ne=C[ye.pointerId];Ne===void 0&&(Ne=new Ut,C[ye.pointerId]=Ne),Ne.set(ye.pageX,ye.pageY)}function Fe(ye){const Ne=ye.pointerId===w[0].pointerId?w[1]:w[0];return C[Ne.pointerId]}i.domElement.addEventListener("contextmenu",Z),i.domElement.addEventListener("pointerdown",J),i.domElement.addEventListener("pointercancel",pe),i.domElement.addEventListener("wheel",Ce,{passive:!1}),this.update()}}function XC(t,e){if(e===Dre)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),t;if(e===ev||e===CA){let n=t.getIndex();if(n===null){const u=[],s=t.getAttribute("position");if(s!==void 0){for(let o=0;o<s.count;o++)u.push(o);t.setIndex(u),n=t.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),t}const i=n.count-2,r=[];if(e===ev)for(let u=1;u<=i;u++)r.push(n.getX(0)),r.push(n.getX(u)),r.push(n.getX(u+1));else for(let u=0;u<i;u++)u%2===0?(r.push(n.getX(u)),r.push(n.getX(u+1)),r.push(n.getX(u+2))):(r.push(n.getX(u+2)),r.push(n.getX(u+1)),r.push(n.getX(u)));r.length/3!==i&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const a=t.clone();return a.setIndex(r),a.clearGroups(),a}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",e),t}class Wue extends ld{constructor(e){super(e),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(n){return new Yue(n)}),this.register(function(n){return new nde(n)}),this.register(function(n){return new ide(n)}),this.register(function(n){return new rde(n)}),this.register(function(n){return new Zue(n)}),this.register(function(n){return new Jue(n)}),this.register(function(n){return new Que(n)}),this.register(function(n){return new ede(n)}),this.register(function(n){return new Kue(n)}),this.register(function(n){return new tde(n)}),this.register(function(n){return new que(n)}),this.register(function(n){return new jue(n)}),this.register(function(n){return new sde(n)}),this.register(function(n){return new ode(n)})}load(e,n,i,r){const a=this;let u;this.resourcePath!==""?u=this.resourcePath:this.path!==""?u=this.path:u=ov.extractUrlBase(e),this.manager.itemStart(e);const s=function(c){r?r(c):console.error(c),a.manager.itemError(e),a.manager.itemEnd(e)},o=new JA(this.manager);o.setPath(this.path),o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(c){try{a.parse(c,u,function(f){n(f),a.manager.itemEnd(e)},s)}catch(f){s(f)}},i,s)}setDRACOLoader(e){return this.dracoLoader=e,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(e){return this.ktx2Loader=e,this}setMeshoptDecoder(e){return this.meshoptDecoder=e,this}register(e){return this.pluginCallbacks.indexOf(e)===-1&&this.pluginCallbacks.push(e),this}unregister(e){return this.pluginCallbacks.indexOf(e)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(e),1),this}parse(e,n,i,r){let a;const u={},s={},o=new TextDecoder;if(typeof e=="string")a=JSON.parse(e);else if(e instanceof ArrayBuffer)if(o.decode(new Uint8Array(e,0,4))===tR){try{u[Qt.KHR_BINARY_GLTF]=new ade(e)}catch(l){r&&r(l);return}a=JSON.parse(u[Qt.KHR_BINARY_GLTF].content)}else a=JSON.parse(o.decode(e));else a=e;if(a.asset===void 0||a.asset.version[0]<2){r&&r(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const c=new _de(a,{path:n||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});c.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const l=this.pluginCallbacks[f](c);s[l.name]=l,u[l.name]=!0}if(a.extensionsUsed)for(let f=0;f<a.extensionsUsed.length;++f){const l=a.extensionsUsed[f],d=a.extensionsRequired||[];switch(l){case Qt.KHR_MATERIALS_UNLIT:u[l]=new Xue;break;case Qt.KHR_DRACO_MESH_COMPRESSION:u[l]=new lde(a,this.dracoLoader);break;case Qt.KHR_TEXTURE_TRANSFORM:u[l]=new cde;break;case Qt.KHR_MESH_QUANTIZATION:u[l]=new ude;break;default:d.indexOf(l)>=0&&s[l]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+l+'".')}}c.setExtensions(u),c.setPlugins(s),c.parse(i,r)}parseAsync(e,n){const i=this;return new Promise(function(r,a){i.parse(e,n,r,a)})}}function Gue(){let t={};return{get:function(e){return t[e]},add:function(e,n){t[e]=n},remove:function(e){delete t[e]},removeAll:function(){t={}}}}const Qt={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class jue{constructor(e){this.parser=e,this.name=Qt.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const e=this.parser,n=this.parser.json.nodes||[];for(let i=0,r=n.length;i<r;i++){const a=n[i];a.extensions&&a.extensions[this.name]&&a.extensions[this.name].light!==void 0&&e._addNodeRef(this.cache,a.extensions[this.name].light)}}_loadLight(e){const n=this.parser,i="light:"+e;let r=n.cache.get(i);if(r)return r;const a=n.json,o=((a.extensions&&a.extensions[this.name]||{}).lights||[])[e];let c;const f=new Vt(16777215);o.color!==void 0&&f.fromArray(o.color);const l=o.range!==void 0?o.range:0;switch(o.type){case"directional":c=new eR(f),c.target.position.set(0,0,-1),c.add(c.target);break;case"point":c=new Rue(f),c.distance=l;break;case"spot":c=new Mue(f),c.distance=l,o.spot=o.spot||{},o.spot.innerConeAngle=o.spot.innerConeAngle!==void 0?o.spot.innerConeAngle:0,o.spot.outerConeAngle=o.spot.outerConeAngle!==void 0?o.spot.outerConeAngle:Math.PI/4,c.angle=o.spot.outerConeAngle,c.penumbra=1-o.spot.innerConeAngle/o.spot.outerConeAngle,c.target.position.set(0,0,-1),c.add(c.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+o.type)}return c.position.set(0,0,0),c.decay=2,Ys(c,o),o.intensity!==void 0&&(c.intensity=o.intensity),c.name=n.createUniqueName(o.name||"light_"+e),r=Promise.resolve(c),n.cache.add(i,r),r}getDependency(e,n){if(e==="light")return this._loadLight(n)}createNodeAttachment(e){const n=this,i=this.parser,a=i.json.nodes[e],s=(a.extensions&&a.extensions[this.name]||{}).light;return s===void 0?null:this._loadLight(s).then(function(o){return i._getNodeRef(n.cache,s,o)})}}class Xue{constructor(){this.name=Qt.KHR_MATERIALS_UNLIT}getMaterialType(){return Yo}extendParams(e,n,i){const r=[];e.color=new Vt(1,1,1),e.opacity=1;const a=n.pbrMetallicRoughness;if(a){if(Array.isArray(a.baseColorFactor)){const u=a.baseColorFactor;e.color.fromArray(u),e.opacity=u[3]}a.baseColorTexture!==void 0&&r.push(i.assignTexture(e,"map",a.baseColorTexture,Ft))}return Promise.all(r)}}class Kue{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name].emissiveStrength;return a!==void 0&&(n.emissiveIntensity=a),Promise.resolve()}}class Yue{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_CLEARCOAT}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Aa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],u=r.extensions[this.name];if(u.clearcoatFactor!==void 0&&(n.clearcoat=u.clearcoatFactor),u.clearcoatTexture!==void 0&&a.push(i.assignTexture(n,"clearcoatMap",u.clearcoatTexture)),u.clearcoatRoughnessFactor!==void 0&&(n.clearcoatRoughness=u.clearcoatRoughnessFactor),u.clearcoatRoughnessTexture!==void 0&&a.push(i.assignTexture(n,"clearcoatRoughnessMap",u.clearcoatRoughnessTexture)),u.clearcoatNormalTexture!==void 0&&(a.push(i.assignTexture(n,"clearcoatNormalMap",u.clearcoatNormalTexture)),u.clearcoatNormalTexture.scale!==void 0)){const s=u.clearcoatNormalTexture.scale;n.clearcoatNormalScale=new Ut(s,s)}return Promise.all(a)}}class que{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_IRIDESCENCE}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Aa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],u=r.extensions[this.name];return u.iridescenceFactor!==void 0&&(n.iridescence=u.iridescenceFactor),u.iridescenceTexture!==void 0&&a.push(i.assignTexture(n,"iridescenceMap",u.iridescenceTexture)),u.iridescenceIor!==void 0&&(n.iridescenceIOR=u.iridescenceIor),n.iridescenceThicknessRange===void 0&&(n.iridescenceThicknessRange=[100,400]),u.iridescenceThicknessMinimum!==void 0&&(n.iridescenceThicknessRange[0]=u.iridescenceThicknessMinimum),u.iridescenceThicknessMaximum!==void 0&&(n.iridescenceThicknessRange[1]=u.iridescenceThicknessMaximum),u.iridescenceThicknessTexture!==void 0&&a.push(i.assignTexture(n,"iridescenceThicknessMap",u.iridescenceThicknessTexture)),Promise.all(a)}}class Zue{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_SHEEN}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Aa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[];n.sheenColor=new Vt(0,0,0),n.sheenRoughness=0,n.sheen=1;const u=r.extensions[this.name];return u.sheenColorFactor!==void 0&&n.sheenColor.fromArray(u.sheenColorFactor),u.sheenRoughnessFactor!==void 0&&(n.sheenRoughness=u.sheenRoughnessFactor),u.sheenColorTexture!==void 0&&a.push(i.assignTexture(n,"sheenColorMap",u.sheenColorTexture,Ft)),u.sheenRoughnessTexture!==void 0&&a.push(i.assignTexture(n,"sheenRoughnessMap",u.sheenRoughnessTexture)),Promise.all(a)}}class Jue{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_TRANSMISSION}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Aa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],u=r.extensions[this.name];return u.transmissionFactor!==void 0&&(n.transmission=u.transmissionFactor),u.transmissionTexture!==void 0&&a.push(i.assignTexture(n,"transmissionMap",u.transmissionTexture)),Promise.all(a)}}class Que{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_VOLUME}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Aa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],u=r.extensions[this.name];n.thickness=u.thicknessFactor!==void 0?u.thicknessFactor:0,u.thicknessTexture!==void 0&&a.push(i.assignTexture(n,"thicknessMap",u.thicknessTexture)),n.attenuationDistance=u.attenuationDistance||1/0;const s=u.attenuationColor||[1,1,1];return n.attenuationColor=new Vt(s[0],s[1],s[2]),Promise.all(a)}}class ede{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_IOR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Aa}extendMaterialParams(e,n){const r=this.parser.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=r.extensions[this.name];return n.ior=a.ior!==void 0?a.ior:1.5,Promise.resolve()}}class tde{constructor(e){this.parser=e,this.name=Qt.KHR_MATERIALS_SPECULAR}getMaterialType(e){const i=this.parser.json.materials[e];return!i.extensions||!i.extensions[this.name]?null:Aa}extendMaterialParams(e,n){const i=this.parser,r=i.json.materials[e];if(!r.extensions||!r.extensions[this.name])return Promise.resolve();const a=[],u=r.extensions[this.name];n.specularIntensity=u.specularFactor!==void 0?u.specularFactor:1,u.specularTexture!==void 0&&a.push(i.assignTexture(n,"specularIntensityMap",u.specularTexture));const s=u.specularColorFactor||[1,1,1];return n.specularColor=new Vt(s[0],s[1],s[2]),u.specularColorTexture!==void 0&&a.push(i.assignTexture(n,"specularColorMap",u.specularColorTexture,Ft)),Promise.all(a)}}class nde{constructor(e){this.parser=e,this.name=Qt.KHR_TEXTURE_BASISU}loadTexture(e){const n=this.parser,i=n.json,r=i.textures[e];if(!r.extensions||!r.extensions[this.name])return null;const a=r.extensions[this.name],u=n.options.ktx2Loader;if(!u){if(i.extensionsRequired&&i.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return n.loadTextureImage(e,a.source,u)}}class ide{constructor(e){this.parser=e,this.name=Qt.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[n])return null;const u=a.extensions[n],s=r.images[u.source];let o=i.textureLoader;if(s.uri){const c=i.options.manager.getHandler(s.uri);c!==null&&(o=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,u.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class rde{constructor(e){this.parser=e,this.name=Qt.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(e){const n=this.name,i=this.parser,r=i.json,a=r.textures[e];if(!a.extensions||!a.extensions[n])return null;const u=a.extensions[n],s=r.images[u.source];let o=i.textureLoader;if(s.uri){const c=i.options.manager.getHandler(s.uri);c!==null&&(o=c)}return this.detectSupport().then(function(c){if(c)return i.loadTextureImage(e,u.source,o);if(r.extensionsRequired&&r.extensionsRequired.indexOf(n)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return i.loadTexture(e)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(e){const n=new Image;n.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",n.onload=n.onerror=function(){e(n.height===1)}})),this.isSupported}}class sde{constructor(e){this.name=Qt.EXT_MESHOPT_COMPRESSION,this.parser=e}loadBufferView(e){const n=this.parser.json,i=n.bufferViews[e];if(i.extensions&&i.extensions[this.name]){const r=i.extensions[this.name],a=this.parser.getDependency("buffer",r.buffer),u=this.parser.options.meshoptDecoder;if(!u||!u.supported){if(n.extensionsRequired&&n.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return a.then(function(s){const o=r.byteOffset||0,c=r.byteLength||0,f=r.count,l=r.byteStride,d=new Uint8Array(s,o,c);return u.decodeGltfBufferAsync?u.decodeGltfBufferAsync(f,l,d,r.mode,r.filter).then(function(h){return h.buffer}):u.ready.then(function(){const h=new ArrayBuffer(f*l);return u.decodeGltfBuffer(new Uint8Array(h),f,l,d,r.mode,r.filter),h})})}else return null}}class ode{constructor(e){this.name=Qt.EXT_MESH_GPU_INSTANCING,this.parser=e}createNodeMesh(e){const n=this.parser.json,i=n.nodes[e];if(!i.extensions||!i.extensions[this.name]||i.mesh===void 0)return null;const r=n.meshes[i.mesh];for(const c of r.primitives)if(c.mode!==ji.TRIANGLES&&c.mode!==ji.TRIANGLE_STRIP&&c.mode!==ji.TRIANGLE_FAN&&c.mode!==void 0)return null;const u=i.extensions[this.name].attributes,s=[],o={};for(const c in u)s.push(this.parser.getDependency("accessor",u[c]).then(f=>(o[c]=f,o[c])));return s.length<1?null:(s.push(this.parser.createNodeMesh(e)),Promise.all(s).then(c=>{const f=c.pop(),l=f.isGroup?f.children:[f],d=c[0].count,h=[];for(const p of l){const g=new Yt,m=new $e,v=new Hr,b=new $e(1,1,1),_=new cue(p.geometry,p.material,d);for(let S=0;S<d;S++)o.TRANSLATION&&m.fromBufferAttribute(o.TRANSLATION,S),o.ROTATION&&v.fromBufferAttribute(o.ROTATION,S),o.SCALE&&b.fromBufferAttribute(o.SCALE,S),_.setMatrixAt(S,g.compose(m,v,b));for(const S in o)S!=="TRANSLATION"&&S!=="ROTATION"&&S!=="SCALE"&&p.geometry.setAttribute(S,o[S]);Cn.prototype.copy.call(_,p),this.parser.assignFinalMaterial(_),h.push(_)}return f.isGroup?(f.clear(),f.add(...h),f):h[0]}))}}const tR="glTF",kc=12,KC={JSON:1313821514,BIN:5130562};class ade{constructor(e){this.name=Qt.KHR_BINARY_GLTF,this.content=null,this.body=null;const n=new DataView(e,0,kc),i=new TextDecoder;if(this.header={magic:i.decode(new Uint8Array(e.slice(0,4))),version:n.getUint32(4,!0),length:n.getUint32(8,!0)},this.header.magic!==tR)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const r=this.header.length-kc,a=new DataView(e,kc);let u=0;for(;u<r;){const s=a.getUint32(u,!0);u+=4;const o=a.getUint32(u,!0);if(u+=4,o===KC.JSON){const c=new Uint8Array(e,kc+u,s);this.content=i.decode(c)}else if(o===KC.BIN){const c=kc+u;this.body=e.slice(c,c+s)}u+=s}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class lde{constructor(e,n){if(!n)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=Qt.KHR_DRACO_MESH_COMPRESSION,this.json=e,this.dracoLoader=n,this.dracoLoader.preload()}decodePrimitive(e,n){const i=this.json,r=this.dracoLoader,a=e.extensions[this.name].bufferView,u=e.extensions[this.name].attributes,s={},o={},c={};for(const f in u){const l=av[f]||f.toLowerCase();s[l]=u[f]}for(const f in e.attributes){const l=av[f]||f.toLowerCase();if(u[f]!==void 0){const d=i.accessors[e.attributes[f]],h=Cl[d.componentType];c[l]=h.name,o[l]=d.normalized===!0}}return n.getDependency("bufferView",a).then(function(f){return new Promise(function(l){r.decodeDracoFile(f,function(d){for(const h in d.attributes){const p=d.attributes[h],g=o[h];g!==void 0&&(p.normalized=g)}l(d)},s,c)})})}}class cde{constructor(){this.name=Qt.KHR_TEXTURE_TRANSFORM}extendTexture(e,n){return(n.texCoord===void 0||n.texCoord===e.channel)&&n.offset===void 0&&n.rotation===void 0&&n.scale===void 0||(e=e.clone(),n.texCoord!==void 0&&(e.channel=n.texCoord),n.offset!==void 0&&e.offset.fromArray(n.offset),n.rotation!==void 0&&(e.rotation=n.rotation),n.scale!==void 0&&e.repeat.fromArray(n.scale),e.needsUpdate=!0),e}}class ude{constructor(){this.name=Qt.KHR_MESH_QUANTIZATION}}class nR extends ad{constructor(e,n,i,r){super(e,n,i,r)}copySampleValue_(e){const n=this.resultBuffer,i=this.sampleValues,r=this.valueSize,a=e*r*3+r;for(let u=0;u!==r;u++)n[u]=i[a+u];return n}interpolate_(e,n,i,r){const a=this.resultBuffer,u=this.sampleValues,s=this.valueSize,o=s*2,c=s*3,f=r-n,l=(i-n)/f,d=l*l,h=d*l,p=e*c,g=p-c,m=-2*h+3*d,v=h-d,b=1-m,_=v-d+l;for(let S=0;S!==s;S++){const w=u[g+S+s],C=u[g+S+o]*f,x=u[p+S+s],M=u[p+S]*f;a[S]=b*w+_*C+m*x+v*M}return a}}const dde=new Hr;class fde extends nR{interpolate_(e,n,i,r){const a=super.interpolate_(e,n,i,r);return dde.fromArray(a).normalize().toArray(a),a}}const ji={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Cl={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},YC={9728:zn,9729:ni,9984:Qg,9985:SA,9986:Ff,9987:ga},qC={33071:Yi,33648:Xl,10497:jl},Tm={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},av={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},Vs={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},hde={CUBICSPLINE:void 0,LINEAR:Yl,STEP:Nu},Em={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function pde(t){return t.DefaultMaterial===void 0&&(t.DefaultMaterial=new Ey({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:bs})),t.DefaultMaterial}function Lc(t,e,n){for(const i in n.extensions)t[i]===void 0&&(e.userData.gltfExtensions=e.userData.gltfExtensions||{},e.userData.gltfExtensions[i]=n.extensions[i])}function Ys(t,e){e.extras!==void 0&&(typeof e.extras=="object"?Object.assign(t.userData,e.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+e.extras))}function mde(t,e,n){let i=!1,r=!1,a=!1;for(let c=0,f=e.length;c<f;c++){const l=e[c];if(l.POSITION!==void 0&&(i=!0),l.NORMAL!==void 0&&(r=!0),l.COLOR_0!==void 0&&(a=!0),i&&r&&a)break}if(!i&&!r&&!a)return Promise.resolve(t);const u=[],s=[],o=[];for(let c=0,f=e.length;c<f;c++){const l=e[c];if(i){const d=l.POSITION!==void 0?n.getDependency("accessor",l.POSITION):t.attributes.position;u.push(d)}if(r){const d=l.NORMAL!==void 0?n.getDependency("accessor",l.NORMAL):t.attributes.normal;s.push(d)}if(a){const d=l.COLOR_0!==void 0?n.getDependency("accessor",l.COLOR_0):t.attributes.color;o.push(d)}}return Promise.all([Promise.all(u),Promise.all(s),Promise.all(o)]).then(function(c){const f=c[0],l=c[1],d=c[2];return i&&(t.morphAttributes.position=f),r&&(t.morphAttributes.normal=l),a&&(t.morphAttributes.color=d),t.morphTargetsRelative=!0,t})}function gde(t,e){if(t.updateMorphTargets(),e.weights!==void 0)for(let n=0,i=e.weights.length;n<i;n++)t.morphTargetInfluences[n]=e.weights[n];if(e.extras&&Array.isArray(e.extras.targetNames)){const n=e.extras.targetNames;if(t.morphTargetInfluences.length===n.length){t.morphTargetDictionary={};for(let i=0,r=n.length;i<r;i++)t.morphTargetDictionary[n[i]]=i}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function vde(t){const e=t.extensions&&t.extensions[Qt.KHR_DRACO_MESH_COMPRESSION];let n;return e?n="draco:"+e.bufferView+":"+e.indices+":"+ZC(e.attributes):n=t.indices+":"+ZC(t.attributes)+":"+t.mode,n}function ZC(t){let e="";const n=Object.keys(t).sort();for(let i=0,r=n.length;i<r;i++)e+=n[i]+":"+t[n[i]]+";";return e}function lv(t){switch(t){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function yde(t){return t.search(/\.jpe?g($|\?)/i)>0||t.search(/^data\:image\/jpeg/)===0?"image/jpeg":t.search(/\.webp($|\?)/i)>0||t.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const bde=new Yt;class _de{constructor(e={},n={}){this.json=e,this.extensions={},this.plugins={},this.options=n,this.cache=new Gue,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let i=!1,r=!1,a=-1;typeof navigator<"u"&&(i=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,r=navigator.userAgent.indexOf("Firefox")>-1,a=r?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||i||r&&a<98?this.textureLoader=new QA(this.options.manager):this.textureLoader=new Oue(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new JA(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(e){this.extensions=e}setPlugins(e){this.plugins=e}parse(e,n){const i=this,r=this.json,a=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(u){return u._markDefs&&u._markDefs()}),Promise.all(this._invokeAll(function(u){return u.beforeRoot&&u.beforeRoot()})).then(function(){return Promise.all([i.getDependencies("scene"),i.getDependencies("animation"),i.getDependencies("camera")])}).then(function(u){const s={scene:u[0][r.scene||0],scenes:u[0],animations:u[1],cameras:u[2],asset:r.asset,parser:i,userData:{}};Lc(a,s,r),Ys(s,r),Promise.all(i._invokeAll(function(o){return o.afterRoot&&o.afterRoot(s)})).then(function(){e(s)})}).catch(n)}_markDefs(){const e=this.json.nodes||[],n=this.json.skins||[],i=this.json.meshes||[];for(let r=0,a=n.length;r<a;r++){const u=n[r].joints;for(let s=0,o=u.length;s<o;s++)e[u[s]].isBone=!0}for(let r=0,a=e.length;r<a;r++){const u=e[r];u.mesh!==void 0&&(this._addNodeRef(this.meshCache,u.mesh),u.skin!==void 0&&(i[u.mesh].isSkinnedMesh=!0)),u.camera!==void 0&&this._addNodeRef(this.cameraCache,u.camera)}}_addNodeRef(e,n){n!==void 0&&(e.refs[n]===void 0&&(e.refs[n]=e.uses[n]=0),e.refs[n]++)}_getNodeRef(e,n,i){if(e.refs[n]<=1)return i;const r=i.clone(),a=(u,s)=>{const o=this.associations.get(u);o!=null&&this.associations.set(s,o);for(const[c,f]of u.children.entries())a(f,s.children[c])};return a(i,r),r.name+="_instance_"+e.uses[n]++,r}_invokeOne(e){const n=Object.values(this.plugins);n.push(this);for(let i=0;i<n.length;i++){const r=e(n[i]);if(r)return r}return null}_invokeAll(e){const n=Object.values(this.plugins);n.unshift(this);const i=[];for(let r=0;r<n.length;r++){const a=e(n[r]);a&&i.push(a)}return i}getDependency(e,n){const i=e+":"+n;let r=this.cache.get(i);if(!r){switch(e){case"scene":r=this.loadScene(n);break;case"node":r=this._invokeOne(function(a){return a.loadNode&&a.loadNode(n)});break;case"mesh":r=this._invokeOne(function(a){return a.loadMesh&&a.loadMesh(n)});break;case"accessor":r=this.loadAccessor(n);break;case"bufferView":r=this._invokeOne(function(a){return a.loadBufferView&&a.loadBufferView(n)});break;case"buffer":r=this.loadBuffer(n);break;case"material":r=this._invokeOne(function(a){return a.loadMaterial&&a.loadMaterial(n)});break;case"texture":r=this._invokeOne(function(a){return a.loadTexture&&a.loadTexture(n)});break;case"skin":r=this.loadSkin(n);break;case"animation":r=this._invokeOne(function(a){return a.loadAnimation&&a.loadAnimation(n)});break;case"camera":r=this.loadCamera(n);break;default:if(r=this._invokeOne(function(a){return a!=this&&a.getDependency&&a.getDependency(e,n)}),!r)throw new Error("Unknown type: "+e);break}this.cache.add(i,r)}return r}getDependencies(e){let n=this.cache.get(e);if(!n){const i=this,r=this.json[e+(e==="mesh"?"es":"s")]||[];n=Promise.all(r.map(function(a,u){return i.getDependency(e,u)})),this.cache.add(e,n)}return n}loadBuffer(e){const n=this.json.buffers[e],i=this.fileLoader;if(n.type&&n.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+n.type+" buffer type is not supported.");if(n.uri===void 0&&e===0)return Promise.resolve(this.extensions[Qt.KHR_BINARY_GLTF].body);const r=this.options;return new Promise(function(a,u){i.load(ov.resolveURL(n.uri,r.path),a,void 0,function(){u(new Error('THREE.GLTFLoader: Failed to load buffer "'+n.uri+'".'))})})}loadBufferView(e){const n=this.json.bufferViews[e];return this.getDependency("buffer",n.buffer).then(function(i){const r=n.byteLength||0,a=n.byteOffset||0;return i.slice(a,a+r)})}loadAccessor(e){const n=this,i=this.json,r=this.json.accessors[e];if(r.bufferView===void 0&&r.sparse===void 0){const u=Tm[r.type],s=Cl[r.componentType],o=r.normalized===!0,c=new s(r.count*u);return Promise.resolve(new bi(c,u,o))}const a=[];return r.bufferView!==void 0?a.push(this.getDependency("bufferView",r.bufferView)):a.push(null),r.sparse!==void 0&&(a.push(this.getDependency("bufferView",r.sparse.indices.bufferView)),a.push(this.getDependency("bufferView",r.sparse.values.bufferView))),Promise.all(a).then(function(u){const s=u[0],o=Tm[r.type],c=Cl[r.componentType],f=c.BYTES_PER_ELEMENT,l=f*o,d=r.byteOffset||0,h=r.bufferView!==void 0?i.bufferViews[r.bufferView].byteStride:void 0,p=r.normalized===!0;let g,m;if(h&&h!==l){const v=Math.floor(d/h),b="InterleavedBuffer:"+r.bufferView+":"+r.componentType+":"+v+":"+r.count;let _=n.cache.get(b);_||(g=new c(s,v*h,r.count*h/f),_=new iue(g,h/f),n.cache.add(b,_)),m=new Cy(_,o,d%h/f,p)}else s===null?g=new c(r.count*o):g=new c(s,d,r.count*o),m=new bi(g,o,p);if(r.sparse!==void 0){const v=Tm.SCALAR,b=Cl[r.sparse.indices.componentType],_=r.sparse.indices.byteOffset||0,S=r.sparse.values.byteOffset||0,w=new b(u[1],_,r.sparse.count*v),C=new c(u[2],S,r.sparse.count*o);s!==null&&(m=new bi(m.array.slice(),m.itemSize,m.normalized));for(let x=0,M=w.length;x<M;x++){const E=w[x];if(m.setX(E,C[x*o]),o>=2&&m.setY(E,C[x*o+1]),o>=3&&m.setZ(E,C[x*o+2]),o>=4&&m.setW(E,C[x*o+3]),o>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return m})}loadTexture(e){const n=this.json,i=this.options,a=n.textures[e].source,u=n.images[a];let s=this.textureLoader;if(u.uri){const o=i.manager.getHandler(u.uri);o!==null&&(s=o)}return this.loadTextureImage(e,a,s)}loadTextureImage(e,n,i){const r=this,a=this.json,u=a.textures[e],s=a.images[n],o=(s.uri||s.bufferView)+":"+u.sampler;if(this.textureCache[o])return this.textureCache[o];const c=this.loadImageSource(n,i).then(function(f){f.flipY=!1,f.name=u.name||s.name||"",f.name===""&&typeof s.uri=="string"&&s.uri.startsWith("data:image/")===!1&&(f.name=s.uri);const d=(a.samplers||{})[u.sampler]||{};return f.magFilter=YC[d.magFilter]||ni,f.minFilter=YC[d.minFilter]||ga,f.wrapS=qC[d.wrapS]||jl,f.wrapT=qC[d.wrapT]||jl,r.associations.set(f,{textures:e}),f}).catch(function(){return null});return this.textureCache[o]=c,c}loadImageSource(e,n){const i=this,r=this.json,a=this.options;if(this.sourceCache[e]!==void 0)return this.sourceCache[e].then(l=>l.clone());const u=r.images[e],s=self.URL||self.webkitURL;let o=u.uri||"",c=!1;if(u.bufferView!==void 0)o=i.getDependency("bufferView",u.bufferView).then(function(l){c=!0;const d=new Blob([l],{type:u.mimeType});return o=s.createObjectURL(d),o});else if(u.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+e+" is missing URI and bufferView");const f=Promise.resolve(o).then(function(l){return new Promise(function(d,h){let p=d;n.isImageBitmapLoader===!0&&(p=function(g){const m=new Zn(g);m.needsUpdate=!0,d(m)}),n.load(ov.resolveURL(l,a.path),p,void 0,h)})}).then(function(l){return c===!0&&s.revokeObjectURL(o),l.userData.mimeType=u.mimeType||yde(u.uri),l}).catch(function(l){throw console.error("THREE.GLTFLoader: Couldn't load texture",o),l});return this.sourceCache[e]=f,f}assignTexture(e,n,i,r){const a=this;return this.getDependency("texture",i.index).then(function(u){if(!u)return null;if(i.texCoord!==void 0&&i.texCoord>0&&(u=u.clone(),u.channel=i.texCoord),a.extensions[Qt.KHR_TEXTURE_TRANSFORM]){const s=i.extensions!==void 0?i.extensions[Qt.KHR_TEXTURE_TRANSFORM]:void 0;if(s){const o=a.associations.get(u);u=a.extensions[Qt.KHR_TEXTURE_TRANSFORM].extendTexture(u,s),a.associations.set(u,o)}}return r!==void 0&&(u.colorSpace=r),e[n]=u,u})}assignFinalMaterial(e){const n=e.geometry;let i=e.material;const r=n.attributes.tangent===void 0,a=n.attributes.color!==void 0,u=n.attributes.normal===void 0;if(e.isPoints){const s="PointsMaterial:"+i.uuid;let o=this.cache.get(s);o||(o=new XA,wr.prototype.copy.call(o,i),o.color.copy(i.color),o.map=i.map,o.sizeAttenuation=!1,this.cache.add(s,o)),i=o}else if(e.isLine){const s="LineBasicMaterial:"+i.uuid;let o=this.cache.get(s);o||(o=new jA,wr.prototype.copy.call(o,i),o.color.copy(i.color),o.map=i.map,this.cache.add(s,o)),i=o}if(r||a||u){let s="ClonedMaterial:"+i.uuid+":";r&&(s+="derivative-tangents:"),a&&(s+="vertex-colors:"),u&&(s+="flat-shading:");let o=this.cache.get(s);o||(o=i.clone(),a&&(o.vertexColors=!0),u&&(o.flatShading=!0),r&&(o.normalScale&&(o.normalScale.y*=-1),o.clearcoatNormalScale&&(o.clearcoatNormalScale.y*=-1)),this.cache.add(s,o),this.associations.set(o,this.associations.get(i))),i=o}e.material=i}getMaterialType(){return Ey}loadMaterial(e){const n=this,i=this.json,r=this.extensions,a=i.materials[e];let u;const s={},o=a.extensions||{},c=[];if(o[Qt.KHR_MATERIALS_UNLIT]){const l=r[Qt.KHR_MATERIALS_UNLIT];u=l.getMaterialType(),c.push(l.extendParams(s,a,n))}else{const l=a.pbrMetallicRoughness||{};if(s.color=new Vt(1,1,1),s.opacity=1,Array.isArray(l.baseColorFactor)){const d=l.baseColorFactor;s.color.fromArray(d),s.opacity=d[3]}l.baseColorTexture!==void 0&&c.push(n.assignTexture(s,"map",l.baseColorTexture,Ft)),s.metalness=l.metallicFactor!==void 0?l.metallicFactor:1,s.roughness=l.roughnessFactor!==void 0?l.roughnessFactor:1,l.metallicRoughnessTexture!==void 0&&(c.push(n.assignTexture(s,"metalnessMap",l.metallicRoughnessTexture)),c.push(n.assignTexture(s,"roughnessMap",l.metallicRoughnessTexture))),u=this._invokeOne(function(d){return d.getMaterialType&&d.getMaterialType(e)}),c.push(Promise.all(this._invokeAll(function(d){return d.extendMaterialParams&&d.extendMaterialParams(e,s)})))}a.doubleSided===!0&&(s.side=vr);const f=a.alphaMode||Em.OPAQUE;if(f===Em.BLEND?(s.transparent=!0,s.depthWrite=!1):(s.transparent=!1,f===Em.MASK&&(s.alphaTest=a.alphaCutoff!==void 0?a.alphaCutoff:.5)),a.normalTexture!==void 0&&u!==Yo&&(c.push(n.assignTexture(s,"normalMap",a.normalTexture)),s.normalScale=new Ut(1,1),a.normalTexture.scale!==void 0)){const l=a.normalTexture.scale;s.normalScale.set(l,l)}return a.occlusionTexture!==void 0&&u!==Yo&&(c.push(n.assignTexture(s,"aoMap",a.occlusionTexture)),a.occlusionTexture.strength!==void 0&&(s.aoMapIntensity=a.occlusionTexture.strength)),a.emissiveFactor!==void 0&&u!==Yo&&(s.emissive=new Vt().fromArray(a.emissiveFactor)),a.emissiveTexture!==void 0&&u!==Yo&&c.push(n.assignTexture(s,"emissiveMap",a.emissiveTexture,Ft)),Promise.all(c).then(function(){const l=new u(s);return a.name&&(l.name=a.name),Ys(l,a),n.associations.set(l,{materials:e}),a.extensions&&Lc(r,l,a),l})}createUniqueName(e){const n=cn.sanitizeNodeName(e||"");let i=n;for(let r=1;this.nodeNamesUsed[i];++r)i=n+"_"+r;return this.nodeNamesUsed[i]=!0,i}loadGeometries(e){const n=this,i=this.extensions,r=this.primitiveCache;function a(s){return i[Qt.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(s,n).then(function(o){return JC(o,s,n)})}const u=[];for(let s=0,o=e.length;s<o;s++){const c=e[s],f=vde(c),l=r[f];if(l)u.push(l.promise);else{let d;c.extensions&&c.extensions[Qt.KHR_DRACO_MESH_COMPRESSION]?d=a(c):d=JC(new Gr,c,n),r[f]={primitive:c,promise:d},u.push(d)}}return Promise.all(u)}loadMesh(e){const n=this,i=this.json,r=this.extensions,a=i.meshes[e],u=a.primitives,s=[];for(let o=0,c=u.length;o<c;o++){const f=u[o].material===void 0?pde(this.cache):this.getDependency("material",u[o].material);s.push(f)}return s.push(n.loadGeometries(u)),Promise.all(s).then(function(o){const c=o.slice(0,o.length-1),f=o[o.length-1],l=[];for(let h=0,p=f.length;h<p;h++){const g=f[h],m=u[h];let v;const b=c[h];if(m.mode===ji.TRIANGLES||m.mode===ji.TRIANGLE_STRIP||m.mode===ji.TRIANGLE_FAN||m.mode===void 0)v=a.isSkinnedMesh===!0?new sue(g,b):new Ei(g,b),v.isSkinnedMesh===!0&&v.normalizeSkinWeights(),m.mode===ji.TRIANGLE_STRIP?v.geometry=XC(v.geometry,CA):m.mode===ji.TRIANGLE_FAN&&(v.geometry=XC(v.geometry,ev));else if(m.mode===ji.LINES)v=new uue(g,b);else if(m.mode===ji.LINE_STRIP)v=new Ty(g,b);else if(m.mode===ji.LINE_LOOP)v=new due(g,b);else if(m.mode===ji.POINTS)v=new fue(g,b);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+m.mode);Object.keys(v.geometry.morphAttributes).length>0&&gde(v,a),v.name=n.createUniqueName(a.name||"mesh_"+e),Ys(v,a),m.extensions&&Lc(r,v,m),n.assignFinalMaterial(v),l.push(v)}for(let h=0,p=l.length;h<p;h++)n.associations.set(l[h],{meshes:e,primitives:h});if(l.length===1)return l[0];const d=new qo;n.associations.set(d,{meshes:e});for(let h=0,p=l.length;h<p;h++)d.add(l[h]);return d})}loadCamera(e){let n;const i=this.json.cameras[e],r=i[i.type];if(!r){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return i.type==="perspective"?n=new mi(Qre.radToDeg(r.yfov),r.aspectRatio||1,r.znear||1,r.zfar||2e6):i.type==="orthographic"&&(n=new Sy(-r.xmag,r.xmag,r.ymag,-r.ymag,r.znear,r.zfar)),i.name&&(n.name=this.createUniqueName(i.name)),Ys(n,i),Promise.resolve(n)}loadSkin(e){const n=this.json.skins[e],i=[];for(let r=0,a=n.joints.length;r<a;r++)i.push(this._loadNodeShallow(n.joints[r]));return n.inverseBindMatrices!==void 0?i.push(this.getDependency("accessor",n.inverseBindMatrices)):i.push(null),Promise.all(i).then(function(r){const a=r.pop(),u=r,s=[],o=[];for(let c=0,f=u.length;c<f;c++){const l=u[c];if(l){s.push(l);const d=new Yt;a!==null&&d.fromArray(a.array,c*16),o.push(d)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',n.joints[c])}return new xy(s,o)})}loadAnimation(e){const i=this.json.animations[e],r=i.name?i.name:"animation_"+e,a=[],u=[],s=[],o=[],c=[];for(let f=0,l=i.channels.length;f<l;f++){const d=i.channels[f],h=i.samplers[d.sampler],p=d.target,g=p.node,m=i.parameters!==void 0?i.parameters[h.input]:h.input,v=i.parameters!==void 0?i.parameters[h.output]:h.output;p.node!==void 0&&(a.push(this.getDependency("node",g)),u.push(this.getDependency("accessor",m)),s.push(this.getDependency("accessor",v)),o.push(h),c.push(p))}return Promise.all([Promise.all(a),Promise.all(u),Promise.all(s),Promise.all(o),Promise.all(c)]).then(function(f){const l=f[0],d=f[1],h=f[2],p=f[3],g=f[4],m=[];for(let v=0,b=l.length;v<b;v++){const _=l[v],S=d[v],w=h[v],C=p[v],x=g[v];if(_===void 0)continue;_.updateMatrix();let M;switch(Vs[x.path]){case Vs.weights:M=Bu;break;case Vs.rotation:M=_a;break;case Vs.position:case Vs.scale:default:M=Uu;break}const E=_.name?_.name:_.uuid,A=C.interpolation!==void 0?hde[C.interpolation]:Yl,O=[];Vs[x.path]===Vs.weights?_.traverse(function($){$.morphTargetInfluences&&O.push($.name?$.name:$.uuid)}):O.push(E);let I=w.array;if(w.normalized){const $=lv(I.constructor),H=new Float32Array(I.length);for(let B=0,N=I.length;B<N;B++)H[B]=I[B]*$;I=H}for(let $=0,H=O.length;$<H;$++){const B=new M(O[$]+"."+Vs[x.path],S.array,I,A);C.interpolation==="CUBICSPLINE"&&(B.createInterpolant=function(k){const D=this instanceof _a?fde:nR;return new D(this.times,this.values,this.getValueSize()/3,k)},B.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),m.push(B)}}return new bue(r,void 0,m)})}createNodeMesh(e){const n=this.json,i=this,r=n.nodes[e];return r.mesh===void 0?null:i.getDependency("mesh",r.mesh).then(function(a){const u=i._getNodeRef(i.meshCache,r.mesh,a);return r.weights!==void 0&&u.traverse(function(s){if(s.isMesh)for(let o=0,c=r.weights.length;o<c;o++)s.morphTargetInfluences[o]=r.weights[o]}),u})}loadNode(e){const n=this.json,i=this,r=n.nodes[e],a=i._loadNodeShallow(e),u=[],s=r.children||[];for(let c=0,f=s.length;c<f;c++)u.push(i.getDependency("node",s[c]));const o=r.skin===void 0?Promise.resolve(null):i.getDependency("skin",r.skin);return Promise.all([a,Promise.all(u),o]).then(function(c){const f=c[0],l=c[1],d=c[2];d!==null&&f.traverse(function(h){h.isSkinnedMesh&&h.bind(d,bde)});for(let h=0,p=l.length;h<p;h++)f.add(l[h]);return f})}_loadNodeShallow(e){const n=this.json,i=this.extensions,r=this;if(this.nodeCache[e]!==void 0)return this.nodeCache[e];const a=n.nodes[e],u=a.name?r.createUniqueName(a.name):"",s=[],o=r._invokeOne(function(c){return c.createNodeMesh&&c.createNodeMesh(e)});return o&&s.push(o),a.camera!==void 0&&s.push(r.getDependency("camera",a.camera).then(function(c){return r._getNodeRef(r.cameraCache,a.camera,c)})),r._invokeAll(function(c){return c.createNodeAttachment&&c.createNodeAttachment(e)}).forEach(function(c){s.push(c)}),this.nodeCache[e]=Promise.all(s).then(function(c){let f;if(a.isBone===!0?f=new GA:c.length>1?f=new qo:c.length===1?f=c[0]:f=new Cn,f!==c[0])for(let l=0,d=c.length;l<d;l++)f.add(c[l]);if(a.name&&(f.userData.name=a.name,f.name=u),Ys(f,a),a.extensions&&Lc(i,f,a),a.matrix!==void 0){const l=new Yt;l.fromArray(a.matrix),f.applyMatrix4(l)}else a.translation!==void 0&&f.position.fromArray(a.translation),a.rotation!==void 0&&f.quaternion.fromArray(a.rotation),a.scale!==void 0&&f.scale.fromArray(a.scale);return r.associations.has(f)||r.associations.set(f,{}),r.associations.get(f).nodes=e,f}),this.nodeCache[e]}loadScene(e){const n=this.extensions,i=this.json.scenes[e],r=this,a=new qo;i.name&&(a.name=r.createUniqueName(i.name)),Ys(a,i),i.extensions&&Lc(n,a,i);const u=i.nodes||[],s=[];for(let o=0,c=u.length;o<c;o++)s.push(r.getDependency("node",u[o]));return Promise.all(s).then(function(o){for(let f=0,l=o.length;f<l;f++)a.add(o[f]);const c=f=>{const l=new Map;for(const[d,h]of r.associations)(d instanceof wr||d instanceof Zn)&&l.set(d,h);return f.traverse(d=>{const h=r.associations.get(d);h!=null&&l.set(d,h)}),l};return r.associations=c(a),a})}}function Sde(t,e,n){const i=e.attributes,r=new Rs;if(i.POSITION!==void 0){const s=n.json.accessors[i.POSITION],o=s.min,c=s.max;if(o!==void 0&&c!==void 0){if(r.set(new $e(o[0],o[1],o[2]),new $e(c[0],c[1],c[2])),s.normalized){const f=lv(Cl[s.componentType]);r.min.multiplyScalar(f),r.max.multiplyScalar(f)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const a=e.targets;if(a!==void 0){const s=new $e,o=new $e;for(let c=0,f=a.length;c<f;c++){const l=a[c];if(l.POSITION!==void 0){const d=n.json.accessors[l.POSITION],h=d.min,p=d.max;if(h!==void 0&&p!==void 0){if(o.setX(Math.max(Math.abs(h[0]),Math.abs(p[0]))),o.setY(Math.max(Math.abs(h[1]),Math.abs(p[1]))),o.setZ(Math.max(Math.abs(h[2]),Math.abs(p[2]))),d.normalized){const g=lv(Cl[d.componentType]);o.multiplyScalar(g)}s.max(o)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}r.expandByVector(s)}t.boundingBox=r;const u=new Ps;r.getCenter(u.center),u.radius=r.min.distanceTo(r.max)/2,t.boundingSphere=u}function JC(t,e,n){const i=e.attributes,r=[];function a(u,s){return n.getDependency("accessor",u).then(function(o){t.setAttribute(s,o)})}for(const u in i){const s=av[u]||u.toLowerCase();s in t.attributes||r.push(a(i[u],s))}if(e.indices!==void 0&&!t.index){const u=n.getDependency("accessor",e.indices).then(function(s){t.setIndex(s)});r.push(u)}return Ys(t,e),Sde(t,e,n),Promise.all(r).then(function(){return e.targets!==void 0?mde(t,e.targets,n):t})}const Ic=t=>typeof t.id=="string",Dc=t=>typeof t.uuid=="number",wde=t=>typeof t.isMirror=="boolean",Cde=t=>typeof t.mirrorId=="number",QC={imageOptions:{crossOrigin:"anonymous"},async repeat(t,e,n){if(!e.clipPath)return;let i=e.imgUrl,r={left:e.left,top:e.top,scaleX:e.scaleX,scaleY:e.scaleY,flipX:e.flipX,flipY:e.flipY},a=new wn.fabric.Point(e.getCenterPoint().x,e.getCenterPoint().y),u=a.x-e.width*e.scaleX/2,s=a.y-e.height*e.scaleX/2,o=e.clipPath.left+e.clipPath.width-(u+e.width*e.scaleX),c=e.clipPath.top+e.clipPath.height-(s+e.height*e.scaleX);if(n.getObjects())for(let v=0;v<n.getObjects().length;v++)e.isMirror&&n.getObjects()[v].mirrorId==e.uuid&&n.remove(n.getObjects()[v]);let f=t.getObjects();if(f)for(let v=0;v<f.length;v++)t.remove(f[v]);let l=0;for(l=0;l<=Math.floor(o/(e.width*e.scaleY));l++)await this.doX(t,i,l,r,null,null,!0,void 0,void 0,u,s);let d=0;for(d=0;d<=Math.floor((e.left-e.clipPath.left)/(e.width*e.scaleY));d++)await this.doX(t,i,d,r,null,null,!1,void 0,void 0,u,s);let h=!0;(e.flipX&&!e.flipY||!e.flipX&&!e.flipY)&&(h=!1);for(let v=0;v<=Math.floor(c/(e.height*e.scaleX));v++)r.left=e.left,await this.doY(t,i,v,r,!0,h,u,s).then(async b=>{for(let _=0;_<l;_++)await this.doX(t,i,_,r,!0,b,!0,v,!0,u,s);for(let _=0;_<d;_++)await this.doX(t,i,_,r,!0,b,!1,v,!0,u,s)});for(let v=0;v<=Math.floor((e.top-e.clipPath.top)/(e.height*e.scaleX));v++)r.left=e.left,await this.doY(t,i,v,r,!1,h,u,s).then(async b=>{for(let _=0;_<l;_++)await this.doX(t,i,_,r,!0,b,!0,v,!1,u,s);for(let _=0;_<d;_++)await this.doX(t,i,_,r,!0,b,!1,v,!1,u,s)});let p=t.getObjects(),g=new wn.fabric.Group(p);g.mirrorId=e.uuid,this.doRotate(e,g,n),n.add(g);let m=n.getObjects().findIndex(v=>v.uuid==e.uuid);return g.moveTo(m),g.selectable=!1,g.hoverCursor="default",n.requestRenderAll(),g},doX(t,e,n,i,r,a,u,s,o,c,f){return new Promise(l=>{console.log(r,a),wn.fabric!=null&&wn.fabric.Image.fromURL(e,d=>{d.set({scaleX:i.scaleX,scaleY:i.scaleY,flipX:i.flipX,flipY:i.flipY,crossOrigin:"anonymous"}).setCoords();let h=n%2===0;i.flipX&&(h=n%2!==0),u?d.left=+(d.width*d.scaleX*(n+1)+c)-1:d.left=c-d.width*d.scaleX*(n+1)+1,typeof s<"u"?o?d.top=d.height*d.scaleY*(s+1)+f-1:d.top=f-d.height*d.scaleY*(s+1)+1:d.top=f,t.active=!1,t.add(d),l&&l(h)},this.imageOptions)})},doY(t,e,n,i,r,a,u,s){return new Promise(o=>{wn.fabric!=null&&wn.fabric.Image.fromURL(e,c=>{c.set({scaleX:i.scaleX,scaleY:i.scaleY,flipX:i.flipX,flipY:i.flipY,crossOrigin:"anonymous"}).setCoords();let f=n%2!==0;a===!1&&(f=n%2===0),r?(c.left=u,c.top=c.height*c.scaleY*(n+1)+s-1):(c.left=u,c.top=s-c.height*c.scaleY*(n+1)+1),t.active=!1,t.add(c),o&&o(f)},this.imageOptions)})},doRotate(t,e,n){let i=new wn.fabric.Point(t.getCenterPoint().x,t.getCenterPoint().y),r=wn.fabric.util.degreesToRadians(t.angle),a=new wn.fabric.Point(e.left,e.top),u=wn.fabric.util.rotatePoint(a,i,r);e.top=u.y,e.left=u.x,e.angle=t.angle,e.setCoords(),n.renderAll()}},iR=t=>(eP("data-v-428412f6"),t=t(),tP(),t),xde={class:"container-wrap"},Tde={id:"model-wrap",class:"model-wrap"},Ede={class:"progress-wrap"},Mde={class:"text"},Ade={class:"canvas-wrap"},Rde={class:"canvas-container-opera"},Pde={class:"overlay-wrap"},Ode=iR(()=>te("span",{class:"text"},"",-1)),kde=iR(()=>te("div",{class:"canvas-container-outer"},[te("canvas",{id:"canvas"})],-1)),Lde={class:"canvas-container-texture"},Ide={class:"texture-left"},Dde=["onClick"],Nde={class:"texture-right"},Fde=["onClick"],Bde={class:"sketch-wrap"},Ude={class:"sketch-name"},Vde={class:"sketch-image"},$de=["onClick"],el="https://testingcf.jsdelivr.net/gh/douzi0123/3DdesignerDemo@3.0.0/source/",Hde=se({__name:"HelloWorld",setup(t){const e=Y(0),n=P(()=>Math.floor(e.value/10));let i,r,a,u,s,o=45,c,f;const l=new ZA,d=new Wue(l),h=new QA(l),p=new hue({opacity:1,transparent:!0,shininess:30,side:vr}),g=el+"vs/vsModels.svg",m=el+"vs/vsModels.glb";let v=$t([]);const b=$t({});let _,S=2048,w,C=800,x,M,E=null,A=!1;const O=Y("blue");let I,$,H;const B=[el+"texture/.png",el+"texture/.png"],N=["#f27a9c","#bf8fc0","#fc1944","#264B4F","#FFFFFF","#000000"],k=[{value:"blue",label:""},{value:"green",label:""}];ht(()=>{j(),K()}),it(()=>{c=document.getElementById("model-wrap"),f=document.querySelector(".canvas-container-outer"),x=new wn.fabric.Canvas("canvas"),M=new wn.fabric.Canvas(null),D(),T(c.clientWidth,c.clientHeight),R(c.clientWidth,c.clientHeight),V(),W(),U(),X(),x.on("mouse:down",_e),x.on("mouse:move",de),x.on("mouse:up",Re),x.on("mouse:wheel",Fe),x.on("object:modified",ye),window.addEventListener("resize",Ne,!1)});const D=()=>{u=new nue,u.background=new Vt(16777215)},T=(ae,fe)=>{i=new mi(o,ae/fe,.1,1e3),i.position.set(0,0,3.5),i.updateProjectionMatrix(),u.add(i)},R=(ae,fe)=>{r=new WA({antialias:!0}),r.setPixelRatio(window.devicePixelRatio),r.setSize(ae,fe),r.outputEncoding=ds,c.appendChild(r.domElement),r.render(u,i)},V=()=>{a=new zue(i,r.domElement),a.enabled=!0,a.screenSpacePanning=!0,a.enableDamping=!0,a.enableZoom=!0,a.autoRotate=!1,a.autoRotateSpeed=.1,a.enablePan=!0,a.zoomSpeed=1},U=()=>{const ae=new Tue(16777215,16777215,.61);ae.position.set(0,50,0);const fe=new eR(16777215,.54);fe.position.set(-8,12,8),fe.castShadow=!0,fe.shadow.mapSize=new Ut(1024,1024),u.add(fe,ae)},X=()=>{d.load(m,ae=>{s=ae.scene,s.position.set(0,0,0),s.rotation.y=Math.PI*2,s.position.y=-1,s.traverse(fe=>{fe instanceof Ei&&(fe.castShadow=!0,fe.receiveShadow=!0,v.forEach(ie=>{ie.id==fe.name&&(fe.renderOrder=ie.renderOrder)}))}),le(),u.add(s)},ae=>{e.value=ae.loaded/ae.total*100,console.log(""+e.value)})},W=()=>{a.update(),r.render(u,i),requestAnimationFrame(W)},j=()=>{wn.fabric.loadSVGFromURL(g,async(ae,fe)=>{_=fe.width,w=C/_,x.setZoom(w),x.setWidth(C),x.setHeight(C),x.renderAll();let ie=await z(g);const ge=new wn.fabric.Group(ae);v=ge.getObjects(),v.forEach(me=>{let Xe=me.id;b[Xe]=[],ie.forEach(be=>{Xe==be.id&&(me.renderOrder=parseInt(be.renderOrder))})}),ge.getObjects().forEach(me=>{me.selectable=!1,me.hoverCursor="default"}),x.add(ge),x.setActiveObject(ge);const De=x.getActiveObject();De!==null&&De.toActiveSelection(),x.discardActiveObject(),x.renderAll()})},K=()=>{wn.fabric.Image.fromURL(`${el}vs/line-${O.value}.png`,function(ae){I=ae.set({originX:"left",originY:"top"})},{crossOrigin:"Anonymous"})},z=ae=>new Promise(fe=>{let ie=new XMLHttpRequest;ie.open("GET",ae,!0),ie.onreadystatechange=function(){if(ie.readyState===4&&ie.status===200){let ge=[],De=ie.responseText,be=new DOMParser().parseFromString(De,"image/svg+xml").getElementsByTagName("path");for(let He=0;He<be.length;He++){let Ye=be[He],st=Ye.getAttribute("id"),Ze=Ye.getAttribute("renderOrder");ge.push({id:st,renderOrder:Ze})}fe(ge)}},ie.send()}),ee=ae=>{wn.fabric.Image.fromURL(ae,function(fe){fe.set({left:50,top:50,imgUrl:ae,isMirror:!1,uuid:Math.random(),show:!0,selected:!1}),Ce(fe),x.add(fe)},{crossOrigin:"Anonymous"})},ue=ae=>{E=ae,v.forEach(fe=>{fe.set({strokeWidth:.1,stroke:ae=="transparent"?"#000000":ae,fill:ae})}),x.renderAll()},ne=(ae,fe)=>{h.load(fe.toDataURL(),function(ie){ie.magFilter=ni,ie.minFilter=ni,ie.encoding=ds,ie.needsUpdate=!0,ie.wrapS=Xl,ie.wrapT=Xl,ie.anisotropy=r.capabilities.getMaxAnisotropy(),p.map=ie,ae.traverse(ge=>{ge instanceof Ei&&v.forEach(De=>{De.id==ge.name&&(ge.material=p)})})})},le=()=>{$=f.scrollTop,H=f.scrollLeft,x.setOverlayImage(I,x.renderAll.bind(x)),Me(S),ne(s,x),x.setOverlayImage(null,x.renderAll.bind(x)),Me(_*w),_*w>=S&&(f.scrollTop=$,f.scrollLeft=H)},Me=ae=>{x.setZoom(ae/_),x.setWidth(ae),x.setHeight(ae),x.renderAll()},q=async()=>{let ae=x.getActiveObject();if(ae&&wde(ae))if(ae.isMirror=!ae.isMirror,ae.isMirror){Oe(ae);let fe=await QC.repeat(M,ae,x);J(fe,ae.clipPath)}else Ce(ae),x.getObjects().forEach(fe=>{Dc(ae)&&fe.mirrorId==ae.uuid&&x.remove(fe)});else Kg({message:"",type:"warning"})},J=(ae,fe)=>{let ie,ge;Ic(fe)&&(ge=fe.id),fe.set({left:fe.left,top:fe.top}),fe.clone(De=>{ie=De,ie&&(ie.absolutePositioned=!0),ae.set({clipPath:ie,clipPathTarget:ge})})},ce=()=>{w=C/_,x.setZoom(w),x.setWidth(C),x.setHeight(C),x.renderAll()},pe=()=>{wn.fabric.Image.fromURL(`${el}vs/line-${O.value}.png`,function(ae){I=ae.set({originX:"left",originY:"top"}),le()},{crossOrigin:"Anonymous"})},re=ae=>{let fe=x.getObjects();ae.show=!ae.show,console.log(ae.show),ae.set("visible",ae.show).setCoords(),ae.show||(ae.selected=!1),ae.selectable=ae.show,ae.hoverCursor=ae.show?"move":"default",x.discardActiveObject(ae),ae.isMirror&&fe.forEach(ie=>{ie.mirrorId==ae.uuid&&ie.set("visible",ae.show).setCoords()}),x.renderAll()},he=ae=>{x.getObjects().forEach(fe=>{Dc(fe)&&ae.uuid==fe.uuid&&(ae.show?(ae.selected=!0,x.setActiveObject(fe),Oe(fe)):Kg({message:",",type:"warning"}))}),x.renderAll()},Ce=ae=>{ae.setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1,tl:!0,tr:!0,bl:!0,br:!0})},Oe=ae=>{ae.setControlsVisibility({mt:!1,mb:!1,ml:!1,mr:!1,tl:!1,tr:!1,bl:!1,br:!1})},ke=()=>{let ae=[],fe=[];Object.keys(b).forEach(ie=>{const ge=b[ie];ge.length>0&&ge.forEach(De=>{ae.push(De)})}),ae.forEach(ie=>{fe.push({scaleX:ie.scaleX,scaleY:ie.scaleY,left:ie.left,top:ie.top,imgUrl:ie.imgUrl,angle:ie.angle,clipPathTarget:ie.clipPathTarget?ie.clipPathTarget:"",isMirror:ie.isMirror,uuid:ie.uuid,show:ie.show})}),console.log(E),localStorage.setItem("canvas",JSON.stringify(fe)),localStorage.setItem("color",E),localStorage.setItem("overlay",O.value)},G=ae=>new Promise(fe=>{wn.fabric.Image.fromURL(ae.imgUrl,function(ie){ie.set({left:ae.left,top:ae.top,scaleX:ae.scaleX,scaleY:ae.scaleY,imgUrl:ae.imgUrl,angle:ae.angle,clipPathTarget:ae.clipPathTarget?ae.clipPathTarget:"",isMirror:ae.isMirror,uuid:ae.uuid,show:ae.show,visible:ae.show}),x.add(ie),x.getObjects().forEach(De=>{ae.clipPathTarget&&Ic(De)&&De.id==ae.clipPathTarget&&J(ie,De)}),fe(ie)},{crossOrigin:"Anonymous"})}),Z=async()=>{const ae=localStorage.getItem("canvas")||"";O.value=localStorage.getItem("overlay")||"";const fe=JSON.parse(ae);for(let ie=0;ie<fe.length;ie++){let ge=fe[ie],De=await G(ge);if(De.isMirror){let me=await QC.repeat(M,De,x);J(me,De.clipPath),me.visible=De.show}b[ge.clipPathTarget].push(De)}localStorage.getItem("color")&&x.getObjects().forEach(ie=>{ie.id&&(localStorage.getItem("color")=="transparent"?ie.set({strokeWidth:.1,stroke:"#000000",fill:"transparent"}):localStorage.getItem("color")!="null"&&ie.set("fill",localStorage.getItem("color")))}),pe()},_e=ae=>{A=!0,ae.target&&(ae.target.oldLeft=ae.target.left,ae.target.oldTop=ae.target.top,ae.target.oldAngle=ae.target.angle,ae.target.oldScaleX=ae.target.ScaleX,ae.target.oldScaleY=ae.target.ScaleY);let fe=x.getActiveObject();if(fe)if(fe!==null&&Dc(fe)){const ie=fe.uuid;Object.keys(b).forEach(ge=>{const De=b[ge];De.length>0&&De.forEach(me=>me.selected=me.uuid===ie)})}else Object.keys(b).forEach(ie=>{const ge=b[ie];ge.length>0&&ge.forEach(De=>{De.selected=!1})})},de=ae=>{if(A){let fe=x.getActiveObject();if(!fe)return;let ie=x.getPointer(ae.e,!0),ge=x.getObjects(),De=null,me;if(ge.forEach(Xe=>{Xe.containsPoint(ie)&&Ic(Xe)&&(De=Xe)}),De&&v.some(Xe=>Xe===De)){let Xe,be=De;Ic(be)&&(me=be.id),be.set({left:be.left,top:be.top}),be.clone(He=>{Xe=He,Xe&&(Xe.absolutePositioned=!0),fe.set({clipPath:Xe,clipPathTarget:me})})}if(me!==void 0&&fe!==null&&Dc(fe)){const Xe=fe.uuid;Object.keys(b).forEach(be=>{const He=b[be],Ye=He.findIndex(st=>st.uuid===Xe);Ye!==-1&&He.splice(Ye,1)}),b[me].push(fe)}}},Re=()=>{s&&(A=!1,le())},Fe=ae=>{var fe=ae.e.deltaY;w*=.9999**fe,w>2&&(w=2),w<.01&&(w=.01),x.setZoom(w),x.setWidth(w*_),x.setHeight(w*_),x.renderAll(),ae.e.preventDefault(),ae.e.stopPropagation()},ye=ae=>{let fe=x.getObjects(),ie=null;if(fe.forEach(ge=>{Cde(ge)&&ge.mirrorId==ae.target.uuid&&(ie=ge)}),ie!==null){let ge=ie,De=ae.target.clipPathTarget,me=De?fe.find(Xe=>Ic(Xe)&&Xe.id==De):null;if(ae.target.oldAngle!=ae.target.angle){let Xe=ae.target.angle-ae.target.oldAngle,be=new wn.fabric.Point(ae.target.getCenterPoint().x,ae.target.getCenterPoint().y),He=wn.fabric.util.degreesToRadians(Xe),Ye=new wn.fabric.Point(ge.left,ge.top),st=wn.fabric.util.rotatePoint(Ye,be,He);ge.top=st.y,ge.left=st.x,ge.angle=ae.target.angle,console.log("")}else ge.left=ge.left+ae.target.left-ae.target.oldLeft,ge.top=ge.top+ae.target.top-ae.target.oldTop;ae.target.isMirror&&me&&J(ge,me),ge.setCoords(),x.renderAll()}},Ne=()=>{r.setSize(c.clientWidth,c.clientHeight),i.aspect=c.clientWidth/c.clientHeight,i.updateProjectionMatrix(),r.render(u,i)},Ae=()=>{let ae=x.getActiveObject();x.remove(ae),x.renderAll();let fe;Dc(ae)&&(fe=ae.uuid),x.getObjects().forEach(ie=>{ie.mirrorId==fe&&x.remove(ie)}),Object.keys(b).forEach(ie=>{const ge=b[ie],De=ge.findIndex(me=>me.uuid===fe);De!==-1&&ge.splice(De,1)})},Te=ae=>{const fe=new FileReader;fe.readAsDataURL(ae.raw),fe.onload=function(){var ie=fe.result,ge=new Image;ge.onload=function(){wn.fabric.Image.fromURL(ge.src,function(De){De.set({left:100,top:100,imgUrl:ge.src,isMirror:!1,uuid:Math.random(),show:!0,selected:!1}),Ce(De),x.add(De)},{crossOrigin:"Anonymous"})},ge.src=ie}};return(ae,fe)=>{const ie=pt("el-progress"),ge=pt("el-option"),De=pt("el-select"),me=pt("el-button"),Xe=pt("el-upload");return L(),Q("div",xde,[te("div",Tde,[ft(te("div",Ede,[te("div",Mde,je(e.value)+"%",1),oe(ie,{percentage:e.value,"stroke-width":30,status:"success",striped:"","striped-flow":"",duration:n.value},null,8,["percentage","duration"])],512),[[Nt,e.value!==100]])]),te("div",Ade,[te("div",Rde,[te("div",Pde,[Ode,oe(De,{modelValue:O.value,"onUpdate:modelValue":fe[0]||(fe[0]=be=>O.value=be),size:"small",style:{"margin-left":"12px"},onChange:pe},{default:ve(()=>[(L(),Q(tt,null,Tt(k,be=>oe(ge,{key:be.value,label:be.label,value:be.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),oe(me,{size:"small",onClick:ke},{default:ve(()=>[Et("")]),_:1}),oe(me,{size:"small",onClick:Z},{default:ve(()=>[Et("")]),_:1}),oe(me,{size:"small",onClick:Ae},{default:ve(()=>[Et("")]),_:1}),oe(me,{size:"small",onClick:q},{default:ve(()=>[Et("")]),_:1}),Ee("",!0),oe(me,{size:"small",onClick:ce},{default:ve(()=>[Et("")]),_:1}),oe(Xe,{style:{"margin-left":"12px"},action:"","on-change":Te,"auto-upload":!1,"show-file-list":!1},{default:ve(()=>[oe(me,{size:"small",type:"primary"},{default:ve(()=>[Et("")]),_:1})]),_:1})]),kde,te("div",Lde,[te("div",Ide,[(L(),Q(tt,null,Tt(B,be=>te("div",{key:be,class:"texture-item",style:Qe({backgroundImage:"url("+be+")"}),onClick:He=>ee(be)},null,12,Dde)),64))]),te("div",Nde,[(L(),Q(tt,null,Tt(N,be=>te("div",{key:be,class:"texture-item",style:Qe({background:be}),onClick:He=>ue(be)},null,12,Fde)),64)),te("div",{class:"texture-item trans",onClick:fe[1]||(fe[1]=be=>ue("transparent"))})])])]),te("div",Bde,[(L(!0),Q(tt,null,Tt(b,(be,He)=>(L(),Q("div",{key:He,class:"sketch-item"},[te("div",Ude,je(He),1),te("div",Vde,[(L(!0),Q(tt,null,Tt(be,(Ye,st)=>(L(),Q("div",{key:st},[te("div",{class:F(["sketch-image-wrap",{"sketch-image-active":Ye.selected}]),style:Qe({backgroundImage:"url("+Ye.imgUrl+")"}),onClick:Ze=>he(Ye)},null,14,$de),oe(me,{size:"small",onClick:Ze=>re(Ye)},{default:ve(()=>[Et(je(Ye.show?"":""),1)]),_:2},1032,["onClick"])]))),128))])]))),128))])])}}}),rR=(t,e)=>{const n=t.__vccOpts||t;for(const[i,r]of e)n[i]=r;return n},zde=rR(Hde,[["__scopeId","data-v-428412f6"]]),Wde=se({__name:"App",setup(t){return(e,n)=>(L(),Pe(zde,{msg:"DEMO"}))}}),Gde=rR(Wde,[["__scopeId","data-v-ef005e52"]]),sR=gx(Gde);sR.use(zie);sR.mount("#app")});export default jde();
